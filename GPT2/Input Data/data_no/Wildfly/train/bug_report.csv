bug_report_id,bug_report_desc,bug_report_time
WFLY-2057,"As the description says, org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor's compareTo is wrong.",2013/09/12 3:51 PM
WFLY-2830,"The module is missing a bunch of dependencies,
proper module.xml looks like this: https://gist.github.com/alesj/8688428",2014/01/29 9:06 AM
WFLY-2855,"It should be ee-annotation-property-replacement, as it refers to all EE annotations, not just EJB ones. ",2014/02/03 4:46 AM
WFLY-1873,"16:45:28,305 ERROR [org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler] (MSC service thread 1-2) Error [MEM: MEM: Can't read node: {4}] sending command DISABLE-APP to proxy localhost/127.0.0.1:6666, configuration will be reset
16:45:28,315 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017521: Undertow AJP listener ajp suspending
16:45:28,319 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017520: Undertow AJP listener ajp stopped, was bound to /127.0.0.1:8009
16:45:28,336 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) JBAS010418: Stopped Driver service with driver-name = h2
16:45:28,344 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017521: Undertow HTTP listener default suspending
16:45:28,349 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017520: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080
16:45:38,307 WARN  [org.jboss.modcluster.ModClusterService] (MSC service thread 1-2) Failed to drain pending requests from context [org.wildfly.mod_cluster.undertow.UndertowContext@1906d941] within specified timeout: 10 seconds
16:45:38,308 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000004: Failure during stop of service jboss.undertow.deployment.default-host./clusterbench-ee6-web: java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapter.onDeploymentStop(UndertowEventHandlerAdapter.java:137)
	at org.wildfly.extension.undertow.Host$2.invoke(Host.java:138)
	at org.wildfly.extension.undertow.UndertowService.fireEvent(UndertowService.java:168)
	at org.wildfly.extension.undertow.Host.unregisterDeployment(Host.java:135)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:104)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stop(UndertowDeploymentService.java:94)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2052) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2013) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
",2013/08/13 4:01 PM
WFLY-2496,"[ModuleSpecification|https://github.com/wildfly/wildfly/blob/master/server/src/main/java/org/jboss/as/server/deployment/module/ModuleSpecification.java] does not use any form of synchronization to protect its mutable state yet may be used from multiple threads in multi-module deployment when a DeploymentUnitProcessor touches ModuleSpecification of a different deployment unit which is processed at that moment.

Here is an example of such access: https://github.com/wildfly/wildfly/blob/master/jsf/subsystem/src/main/java/org/jboss/as/jsf/deployment/JSFDependencyProcessor.java#L93

Here's how I think this problem manifests:

{noformat}
Caused by: java.lang.NullPointerException
        at org.jboss.as.server.deployment.module.ModuleSpecProcessor.createDependencies(ModuleSpecProcessor.java:284) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
        at org.jboss.as.server.deployment.module.ModuleSpecProcessor.createModuleService(ModuleSpecProcessor.java:220) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
        at org.jboss.as.server.deployment.module.ModuleSpecProcessor.deployModuleSpec(ModuleSpecProcessor.java:125) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
        at org.jboss.as.server.deployment.module.ModuleSpecProcessor.deploy(ModuleSpecProcessor.java:88) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
        ... 5 more
{noformat}

and here's my attempt to verify concurrent access by changing the code slightly to deadlock on concurrent access: 
{noformat}
""MSC service thread 1-6"":
        at sun.misc.Unsafe.park(Native Method)
        - parking to wait for  <0x00000000f742ba28> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
        at org.jboss.as.server.deployment.module.ModuleSpecification.foo(ModuleSpecification.java:170)
        at org.jboss.as.server.deployment.module.ModuleSpecification.addSystemDependency(ModuleSpecification.java:121)
        at org.jboss.as.jsf.deployment.JSFDependencyProcessor.addJSFAPI(JSFDependencyProcessor.java:115)
        at org.jboss.as.jsf.deployment.JSFDependencyProcessor.deploy(JSFDependencyProcessor.java:93)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159)
        - locked <0x00000000f69a8e88> (a org.jboss.as.server.deployment.DeploymentUnitPhaseService)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:744)
""MSC service thread 1-3"":
        at sun.misc.Unsafe.park(Native Method)
        - parking to wait for  <0x00000000f742ba58> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
        at org.jboss.as.server.deployment.module.ModuleSpecification.foo(ModuleSpecification.java:175)
        at org.jboss.as.server.deployment.module.ModuleSpecification.addSystemDependency(ModuleSpecification.java:121)
        at org.jboss.as.jsf.deployment.JSFDependencyProcessor.addJSFAPI(JSFDependencyProcessor.java:115)
        at org.jboss.as.jsf.deployment.JSFDependencyProcessor.deploy(JSFDependencyProcessor.java:93)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159)
        - locked <0x00000000f6782960> (a org.jboss.as.server.deployment.DeploymentUnitPhaseService)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:744)
{noformat}",2013/11/12 3:44 PM
WFLY-2346,"Add support for the 1.4 XML namespace in the messaging subsystem that added the max-saved-replicated-journal-size attribute to the hornetq-server resource (compared to the 1.3 namespace)
Same attribute should be also available in 2.0 xml namespace.",2013/10/21 5:42 AM
WFLY-2853,"Since upgrade to Undertow CR2 which contains https://github.com/undertow-io/undertow/pull/164
JSFFailoverTestCase is failing.

example of failure: http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=9076&buildTypeId=WFPR

{noformat}
org.junit.ComparisonFailure: expected:<...COz6P7qxwwkkxE.node-[0]> but was:<...COz6P7qxwwkkxE.node-[1]>
    at org.junit.Assert.assertEquals(Assert.java:115)
    at org.junit.Assert.assertEquals(Assert.java:144)
    at org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.testGracefulSimpleFailover(JSFFailoverTestCase.java:268)
{noformat}",2014/01/31 3:14 PM
WFLY-2895,"An NPE occurs when a void async method returns.

{noformat}
04:02:04,686 INFO  [org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccessBean] (EJB default - 1) action 'fireAndForget' finished
04:02:04,687 ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014249: Error invoking method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname : java.lang.NullPointerException
    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:322)
    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70)
    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
04:02:04,689 ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014250: Could not write method invocation failure for method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname  due to: java.io.IOException: JBAS014560: Could not open message outputstream for writing to Channel
    at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:102)
    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$400(MethodInvocationMessageHandler.java:70)
    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:213)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
Caused by: org.jboss.remoting3.NotOpenException: Writes closed
    at org.jboss.remoting3.remote.RemoteConnectionChannel.openOutboundMessage(RemoteConnectionChannel.java:112)
    at org.jboss.remoting3.remote.RemoteConnectionChannel.writeMessage(RemoteConnectionChannel.java:301)
    at org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation.acquireChannelMessageOutputStream(ChannelAssociation.java:68)
    at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:100)
    ... 8 more
{noformat}",2014/02/10 1:11 PM
WFLY-2829,"Without this, the user cannot configure OPTIMISTIC locking.",2014/01/29 8:44 AM
WFLY-2645,See JBPAPP6-1762 for details.,2013/01/24 10:12 PM
WFLY-3112,"

I'm under an ugly impression that one can't actually change {{history}} and {{decay}} attributes of *DynamicLoadBalanceFactorProvider*.

I was trying to figure out why the new test suite of CustomLoadMetric tests does not pass. In order to get load figures without history and decay manipulation, I set the following:

{code}
<subsystem xmlns=""urn:jboss:domain:modcluster:1.2"">
    <mod-cluster-config advertise-socket=""modcluster"" connector=""ajp"">
    <dynamic-load-provider history=""0"">
        <custom-load-metric class=""biz.karms.modcluster.CustomLoadMetric"" weight=""1"">
            <property name=""capacity"" value=""1000""/>
            <property name=""loadfile"" value=""/tmp/mod_cluster-eapx/loadfileA""/>
            <property name=""parseexpression"" value=""^LOAD: ([0-9]*)$""/>
        </custom-load-metric>
    </dynamic-load-provider>
    </mod-cluster-config>
</subsystem>
{code}

The aforementioned {{history=0}} effectively means that there is just 1 ""slot"" for a one historical value on which decay function should work.

If you take a look at the code in [DynamicLoadBalanceFactorProvider|https://github.com/modcluster/mod_cluster/blob/master/core/src/main/java/org/jboss/modcluster/load/impl/DynamicLoadBalanceFactorProvider.java#L54] constructor, it is apparent
that the size of the List that later serves for storing the historical values is set sooner than the actual [setHistory(int history)|https://github.com/modcluster/mod_cluster/blob/master/core/src/main/java/org/jboss/modcluster/load/impl/DynamicLoadBalanceFactorProvider.java#L177] method is called.
The actual size of that List collection wouldn't do any harm by itself but it is being used in the aforementioned class with {{.size()}} to control cycles.
The same IMHO holds for the decay attribute.

Anyhow, I put some additional logging to the [DynamicLoadBalanceFactorProvider.java|https://github.com/modcluster/mod_cluster/blob/master/core/src/main/java/org/jboss/modcluster/load/impl/DynamicLoadBalanceFactorProvider.java]:

{code}
// Historical value contribute an exponentially decayed factor
for (int i = 0; i < queue.size(); ++i) {
    double decay = 1 / Math.pow(decayFactor, i);
    totalDecay += decay;
    this.log.info(""KTAG: totalLoad:""+totalLoad+"", with decay:""+(totalLoad+queue.get(i).doubleValue() * decay));
    totalLoad += queue.get(i).doubleValue() * decay;
}
{code}

and

{code}
try {
    // Normalize load with respect to capacity
    this.recordLoad(metricLoadHistory, metric.getLoad(engine) / metric.getCapacity());
    this.log.info(""KTAG metricLoadHistory:""+metricLoadHistory.toString());
    totalWeight += weight;
    totalWeightedLoad += this.average(metricLoadHistory) * weight;
} catch (Exception e) {
    this.log.error(e.getLocalizedMessage(), e);
}
{code}

with the following being the output: [^redacted_log].

So, despite having {{history=0}}, which should force the system to keep just 1, the current value, {{metricLoadHistory}} grew from
{noformat}
KTAG metricLoadHistory:[0.8]
{noformat}
to
{noformat}
KTAG metricLoadHistory:[0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.8]
{noformat}
which is exactly [9|https://github.com/modcluster/mod_cluster/blob/master/core/src/main/java/org/jboss/modcluster/load/impl/DynamicLoadBalanceFactorProvider.java#L50] + [1|https://github.com/modcluster/mod_cluster/blob/master/core/src/main/java/org/jboss/modcluster/load/impl/DynamicLoadBalanceFactorProvider.java#L54] in size :-)

WDYT?
",2014/03/11 1:57 PM
WFLY-2730,"The http-acceptors are multiplexed over the HTTP port.
If there are multiple http-acceptors registered, a http-connector that uses the HTTP upgrade mechanism will use the first whose handshake is successful and can not chose a given http-acceptor.
With native messaging ports, the solution was to use different ports for different acceptors but with HTTP upgrade, everything goes through the HTTP port.

HornetQ connectors must pass ""http-upgrade-endpoint"" when the HTTP upgrade is initiated so that we ensure the handshake is successful only for the matching acceptor corresponding to the ""http-upgrade-endpoint"" value.",2014/01/09 9:47 AM
WFLY-2595,"When a new {{LogContext}} is created for per-deployment logging the class loader is registered as the key. On undeploy the {{LogContext}} should be removed, but the wrong {{LogContext}}t is retrieved due to the caller class loader being used rather than the TCCL.

The use of the caller class loader is for filtering out system dependencies from the deployment so the correct {{LogContext}} is retrieved from the selector.",2013/12/02 1:44 PM
WFLY-3069,"Enable RBAC in an Wilfly domain setup. ""reload --host=master"" and the slaves will no longer be connected to the master


",2014/03/05 6:54 AM
WFLY-3095,"module org.jboss.as.weld should not be added as dependency to user deployment.
It has way too much dependencies and some of them export their dependencies which than end up in user deployment.

We should probably have extra module for stuff that is exposed to deployment.
Also lots of dependencies that weld subsystem has should be optional as we shouldn't be required to have dependency to almost every single subsystem we have as required.",2014/03/10 9:50 AM
WFLY-2774,"In AS7, one could configure a load balancer with sticky sessions to support load balancing for non-distributed web applications.
While the distributed session manager supports parsing and formatting of the instance-id from/to the session id, the in-memory session manager does not.
The use case for this are stateful web applications that do not require high-availability of state (e.g. a stateless web-app that uses container managed authentication), but would also like to scale beyond the capacity of a single server.",2014/01/17 1:06 PM
WFLY-2387,"When trying to use CDI injection in JPA entity listeners, deployment fails with the following exception:
{code}
16:16:37,448 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 15) MSC000001: Failed to start service jboss.persistenceunit.""inject-ear.ear#primary"": org.jboss.msc.service.StartException in service jboss.persistenceunit.""inject-ear.ear#primary"": java.lang.IllegalStateException: JBAS016071: Singleton not set for org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader@4eeb95dc. This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:169)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:117)
	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:463) [wildfly-security-manager-1.0.0.Beta3.jar:1.0.0.Beta3]
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:178)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
Caused by: java.lang.IllegalStateException: JBAS016071: Singleton not set for org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader@4eeb95dc. This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.
	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:75)
	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:128)
	at org.jboss.weld.Container.instance(Container.java:65)
	at org.jboss.weld.manager.BeanManagerImpl.getBeans(BeanManagerImpl.java:563)
	at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:90)
	at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:358)
	at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:369)
	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:72)
	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:60)
	at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66)
	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)
	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:90)
	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory$BeanMetaData.<init>(BeanManagerListenerFactory.java:82)
	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory$BeanMetaData.<init>(BeanManagerListenerFactory.java:71)
	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory.buildListener(BeanManagerListenerFactory.java:57)
	at org.hibernate.jpa.event.internal.jpa.LegacyCallbackProcessor.resolveCallbacks(LegacyCallbackProcessor.java:168)
	at org.hibernate.jpa.event.internal.jpa.LegacyCallbackProcessor.processCallbacksForEntity(LegacyCallbackProcessor.java:71)
	at org.hibernate.jpa.event.spi.JpaIntegrator.integrate(JpaIntegrator.java:150)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1837)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:854)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:847)
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:396)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:846)
	at org.jboss.as.jpa.hibernate4.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:44)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:151)
	... 8 more
{code}

I've created a small showcase of the problem: https://github.com/papegaaij/listener-injection",2013/10/25 10:29 AM
WFLY-951,"It should be possible to add AtomicActionExpiryScanner to the EAP 6 configuration as outline below:

{noformat} 
<system-properties>
    	<property name=""RecoveryEnvironmentBean.expiryScannerClassNames"" value=""com.arjuna.ats.internal.arjuna.recovery.ExpiredTransactionStatusManagerScanner\\s+com.arjuna.ats.internal.arjuna.recovery.AtomicActionExpiryScanner""/>
    </system-properties>
{noformat} 
Unfortunately the value of the RecoveryEnvironmentBean.expiryScannerClassNames seems to be overwritten in the ArjunaRecoveryManagerService class. As a result there is no easy way of removing transaction manager debris from object store. ",2013/01/04 3:58 AM
WFLY-1946,"Deploy of test.ear shows a severe error:
00:23:21,917 INFO  [org.jboss.as.server.deployment#start] JBAS015876: Starting deployment of ""test.ear"" (runtime-name: ""test.ear"")
00:23:21,941 INFO  [org.jboss.as.server.deployment#start] JBAS015876: Starting deployment of ""null"" (runtime-name: ""web.war"")
00:23:21,942 INFO  [org.jboss.as.server.deployment#start] JBAS015876: Starting deployment of ""null"" (runtime-name: ""ejb.jar"")
00:23:22,080 INFO  [org.jboss.weld.deployer#deploy] JBAS016002: Processing weld deployment test.ear
00:23:22,121 INFO  [org.jboss.weld.deployer#deploy] JBAS016002: Processing weld deployment ejb.jar
00:23:22,141 INFO  [org.jboss.weld.deployer#deploy] JBAS016002: Processing weld deployment web.war
00:23:22,157 INFO  [org.jboss.weld.deployer#deploy] JBAS016005: Starting Services for CDI deployment: test.ear
00:23:22,192 INFO  [org.jboss.weld.deployer#start] JBAS016008: Starting weld service for deployment test.ear
00:23:22,734 SEVERE [javax.enterprise.resource.webcontainer.jsf.flow#afterBeanDiscovery] Unable to obtain CDI 1.1 utilities for Mojarra
00:23:22,753 SEVERE [javax.enterprise.resource.webcontainer.jsf.application.view#afterBeanDiscovery] Unable to obtain CDI 1.1 utilities for Mojarra
00:23:23,099 INFO  [test.web.Startup#contextInitialized] contextInitialized
00:23:23,405 INFO  [org.wildfly.extension.undertow#registerDeployment] JBAS018210: Register web context: /intern/web
00:23:23,465 INFO  [org.jboss.as.server#handleResult] JBAS018559: Deployed ""test.ear"" (runtime-name : ""test.ear"")

Although everything seems to be fine. App works without errors.",2013/08/24 6:32 PM
WFLY-2789,"The EJB3 interceptor is not using client values for timeouts,  this is a problem for users trying to use EJB for transaction propagation.


Refer to the code in https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/remote/EJBRemoteTransactionPropagatingInterceptor.java:
    private void createOrResumeXidTransaction(final XidTransactionID xidTransactionID) throws Exception {
        final TransactionManager transactionManager = this.ejbRemoteTransactionsRepository.getTransactionManager();
        final Transaction alreadyCreatedTx = this.ejbRemoteTransactionsRepository.getImportedTransaction(xidTransactionID);
        if (alreadyCreatedTx != null) {
            // resume the already created tx
            transactionManager.resume(alreadyCreatedTx);
        } else {
            // begin a new tx and add it to the tx repository
            // TODO: Fix the tx timeout (which currently is passed as 300 seconds)
            final Transaction newSubOrdinateTx = this.ejbRemoteTransactionsRepository.importTransaction(xidTransactionID, 300);
            // associate this tx with the thread
            transactionManager.resume(newSubOrdinateTx);
        }
    }",2014/01/22 8:59 AM
WFLY-878,"I get this warning on AS7.1.1 console, seems that ActivationConfigProperty DeliveryActive is not implemented by hornetq-ra, could we please have it as earlier JMS implementation of JMS had it & application that were using it will fail with AS7 now..?

16:04:30,794 WARN  [org.jboss.ejb3] (MSC service thread 1-16) JBAS014105: ActivationConfigProperty DeliveryActive will be ignored since it is not allowed by resource adapter: hornetq-ra

Thanks,
Prasad",2012/05/21 3:48 AM
WFLY-794,"When trying to create a MBeanServerConnection to a NON-JBoss application from within an EJB a ""javax.naming.NameNotFoundException"" is thrown. 

Steps to reproduce:

Set up a stand-alone application that exposes an MBean. (ActiveMQ will work in this case.)
Modify the attached JMXConnectionBean.java to connect to the ActiveMQ instance.
Deploy the bean. A NameNotFoundException will be thrown.

I've seen this behavior in 7.1.1.Final, 7.1.2.Final (EAP), 7.1.3.Final (EAP), EAP 6.1.0.Alpha (7.2.0.Final). 

Note that this behavior is NOT seen when connecting to another JBoss server. 

Full stack trace:

{code} 
Caused by: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.NameNotFoundException: rmi://127.0.0.1:1090/jmxrmi -- service jboss.naming.context.java.rmi:.""127.0.0.1:1090"".jmxrmi
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:340) [:1.6.0_26]
	at javax.management.remote.JMXConnectorFactory.connect(JMXConnectorFactory.java:248) [:1.6.0_26]
	at com.example.JMXConnectionBean.init(JMXConnectionBean.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_26]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_26]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_26]
	at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_26]
	at org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:70)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ee.component.ManagedReferenceInterceptor.processInvocation(ManagedReferenceInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ejb3.component.session.SessionInvocationContextInterceptor$CustomSessionInvocationContext.proceed(SessionInvocationContextInterceptor.java:126)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:211)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:313)
	at org.jboss.as.ejb3.tx.SingletonLifecycleCMTTxInterceptor.processInvocation(SingletonLifecycleCMTTxInterceptor.java:56)
	at org.jboss.as.ejb3.tx.SingletonLifecycleCMTTxInterceptor.processInvocation(SingletonLifecycleCMTTxInterceptor.java:42)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ejb3.component.session.SessionInvocationContextInterceptor.processInvocation(SessionInvocationContextInterceptor.java:71)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:287) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:152)
	... 9 more
Caused by: javax.naming.NameNotFoundException: rmi://127.0.0.1:1090/jmxrmi -- service jboss.naming.context.java.rmi:.""127.0.0.1:1090"".jmxrmi
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:87)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:173)
	at org.jboss.as.naming.InitialContext.lookup(InitialContext.java:47)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:209)
	at javax.naming.InitialContext.lookup(InitialContext.java:392) [:1.6.0_26]
	at javax.management.remote.rmi.RMIConnector.findRMIServerJNDI(RMIConnector.java:1888) [:1.6.0_26]
	at javax.management.remote.rmi.RMIConnector.findRMIServer(RMIConnector.java:1858) [:1.6.0_26]
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:257) [:1.6.0_26]
	... 37 more
{code}",2013/04/08 12:19 PM
WFLY-12,"In case that a sfsb nested bean (a stateful bean which is injected into other bean in this case into a clustered bean) changes its attribute (member variable) in @PrePassivate method then the new state is not replicated to other nodes.
You can check my testcase:
https://github.com/ochaloup/jboss-as/blob/67f992608bacc2bce95b0d7655083a83e70367e0/testsuite/integration/clust/src/test/java/org/jboss/as/test/clustering/cluster/ejb3/stateful/passivation/ClusterPassivationTestCase.java

The steps done in tests are following:
1) Search for stateful bean (a ""parent"" bean for the nested one, bean where the nested one is injected to)
2) Let the stateful bean be passivated (in this time the nested bean is passivated as well, the @PrePassivate method is called)
3) A variable of the nested bean is changed in the @PrePassivate method
4) Do a call on second node - changed state isn't on the other node

You can check it in the linked test. When no method on nested been is called (the call is commented now):
https://github.com/ochaloup/jboss-as/blob/67f992608bacc2bce95b0d7655083a83e70367e0/testsuite/integration/clust/src/test/java/org/jboss/as/test/clustering/cluster/ejb3/stateful/passivation/ClusterPassivationTestCase.java#L305
Then the test on the changed attribute fails on the other server:
https://github.com/ochaloup/jboss-as/blob/67f992608bacc2bce95b0d7655083a83e70367e0/testsuite/integration/clust/src/test/java/org/jboss/as/test/clustering/cluster/ejb3/stateful/passivation/ClusterPassivationTestCase.java#L318

",2012/03/22 1:04 PM
WFLY-2521,"EJB backing cache's frequently cancel remove and passivation tasks with each access and replace them with new ones.  Per http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html cancelled tasks are not removed from queue until their scheduled delay passes.

So due to the java ScheduledThreadPoolExecutor's lazy cancelled task removal, this scheduled task cancellation and recreation model can potentially churn up quite a number of queued cancelled tasks sitting in the executor's DelayedWorkQueue.  With longer timeouts and frequent ejb access, this can generate substantial heap overhead.

It should be pretty easy to help limit any such build up by calling purge() [1] on the scheduled executor.  Likely don't want to purge with each cancel, so perhaps a purge() could be called on a configurable time delay or after a configurable amount of cancels?

[1] http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#purge%28%29",2013/11/15 4:31 PM
WFLY-1730,"Here https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/beanvalidation/ValidatorJndiInjectable.java#L52

the TCCL is set to the classloader of the ValidatorFactory. If the ValidatorFactory is LazyValidatorFactory which delegates to a client proxy obtained from Weld, this call fails with

{noformat}
Caused by: java.lang.IllegalStateException: JBAS016071: Singleton not set for ModuleClassLoader for Module ""org.jboss.as.ee:main"" from local module loader @76724357 (finder: local module finder @47a34181 (r$
        at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:75) [wildfly-weld-8.0.0.Alpha4-SNAPSHOT.jar:8.0.0.Alpha4-SNAPSHOT]
        at org.jboss.weld.Container.instance(Container.java:54) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]
        at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:70) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]
        at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]
        at org.jboss.weld.proxies.ValidatorFactory$618047133$Proxy$_$$_WeldClientProxy.getValidator(Unknown Source) [weld-core-impl-2.0.2.Final.jar:]
        at org.jboss.as.ee.beanvalidation.LazyValidatorFactory.getValidator(LazyValidatorFactory.java:83)
        at org.jboss.as.ee.beanvalidation.ValidatorJndiInjectable.getInstanceSafely(ValidatorJndiInjectable.java:53)
        at org.jboss.as.ee.beanvalidation.ValidatorJndiInjectable.getInstanceClassName(ValidatorJndiInjectable.java:61)
        at org.jboss.as.naming.ServiceBasedNamingStore.list(ServiceBasedNamingStore.java:176)
        at org.jboss.as.naming.NamingContext.list(NamingContext.java:323)
        at org.jboss.as.naming.InitialContext.list(InitialContext.java:140)
        at org.jboss.as.naming.NamingContext.list(NamingContext.java:339)
        at javax.naming.InitialContext.list(InitialContext.java:455) [rt.jar:1.7.0_25]
        at org.jboss.as.test.integration.web.injection.SimpleServlet.testAS7_5347(SimpleServlet.java:59) [classes:]
        ... 29 more
{noformat}

My assumption is that setting the TCCL is not necessary here at all though I may be wrong.",2013/07/22 7:54 AM
WFLY-943,"When attempting to write a (seemingly) valid jboss-deployment-structure.xml using the schema in ./docs, my document fails to validate.

This is because of the settings used in the XSD. Have these XSDs been used to validate actual documents? By setting unqualified to 'qualified' then the documents will probably validate.

$ git grep elementFormDefault..unqualified
jboss-deployment-dependencies-1_0.xsd:            elementFormDefault=""unqualified""
jboss-deployment-structure-1_0.xsd:            elementFormDefault=""unqualified""
jboss-deployment-structure-1_1.xsd:            elementFormDefault=""unqualified""
jboss-deployment-structure-1_2.xsd:            elementFormDefault=""unqualified""
jboss-ejb-client_1_0.xsd:            elementFormDefault=""unqualified""
jboss-ejb-client_1_1.xsd:            elementFormDefault=""unqualified""
jboss-ejb-client_1_2.xsd:            elementFormDefault=""unqualified""
jboss-jpa_1_0.xsd:  elementFormDefault=""unqualified"" 
",2012/09/07 1:29 AM
WFLY-2869,"RunAsMDBUnitTestCase and GetCallerPrincipalTestCase call stop() to close a JMS connection, which is wrong, it should use close(). This causes the later running AuthenticationTestCase.testAuthentication_ReAuth_ViaServlet (or potentially other tests) to fail due to a timeout, having this in the log:

{noformat}
0m19:53:28,973 INFO [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-1-thread-1) BeanManager not found.
�[0m�[33m19:53:29,218 WARN [org.hornetq.core.client] (Finalizer) HQ212016: I am closing a core ClientSession you left open. Please make sure you close all ClientSessions explicitly before letting them go out of scope! 28,182,273: java.lang.Exception
at org.hornetq.core.client.impl.DelegatingSession.<init>(DelegatingSession.java:91)
at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSessionInternal(ClientSessionFactoryImpl.java:912)
at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSession(ClientSessionFactoryImpl.java:317)
at org.hornetq.jms.client.HornetQConnection.authorize(HornetQConnection.java:648)
at org.hornetq.jms.client.HornetQConnectionFactory.createConnectionInternal(HornetQConnectionFactory.java:676)
at org.hornetq.jms.client.HornetQConnectionFactory.createQueueConnection(HornetQConnectionFactory.java:119)
at org.jboss.as.test.integration.ejb.security.callerprincipal.GetCallerPrincipalTestCase.testMDBLifecycle(GetCallerPrincipalTestCase.java:300)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_45]
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)
at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
at sun.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)
at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
at sun.reflect.GeneratedMethodAccessor32.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)
at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)
at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)
at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)
at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)
at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)
at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)
at org.junit.runner.JUnitCore.run(JUnitCore.java:160)
at org.junit.runner.JUnitCore.run(JUnitCore.java:138)
at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:65)
at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:128)
at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:107)
at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:214)
at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:75) [:1.7.0_45]
at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) [:1.7.0_45]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]
at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]
at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:279) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) [rt.jar:1.7.0_45]
at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [rt.jar:1.7.0_45]
at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [rt.jar:1.7.0_45]
at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1469)
at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:730)
at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:952)
at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:75)
at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:70)
at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_45]
at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_45]
at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94)
at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:70)
at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
{noformat}",2014/02/05 7:02 AM
WFLY-8,"Going through the server logs from clustering testsuite suspicious NPE on INFO caught my eye. Seems like an edge case not being covered.

Affected version: master 8a6aac3c8eb6bc94b7eddfa4d090c9ac05c7e37b

{code}
15:10:57,385 INFO  [org.jboss.as.ejb3.cache.spi.impl.PassivateTask] (pool-17-thread-1) null: java.lang.NullPointerException
        at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.prePassivate(StatefulSessionComponent.java:157) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.prePassivate(StatefulSessionComponent.java:73) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberContainer.prePassivate(SerializationGroupMemberContainer.java:165) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberContainer.prePassivate(SerializationGroupMemberContainer.java:51) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.cache.impl.backing.PassivatingBackingCacheImpl.passivate(PassivatingBackingCacheImpl.java:189) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.cache.impl.backing.PassivatingBackingCacheImpl.passivate(PassivatingBackingCacheImpl.java:60) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.cache.spi.impl.PassivateTask.run(PassivateTask.java:46) [jboss-as-ejb3-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_17]
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_17]
        at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_17]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [rt.jar:1.7.0_17]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [rt.jar:1.7.0_17]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]
        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]
{code}",2013/03/18 4:48 PM
WFLY-2005,"Although the operation permissions for add() are given, a host scoped fails to create a new JVM on a specific the role is scoped to:

{noformat}

[domain@localhost:9990 /] /core-service=management/access=authorization/host-scoped-role=stage_hosts:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""base-role"" => ""maintainer"",
        ""hosts"" => [""slave""]
    }
}


[domain@localhost:9990 /] /host=slave/jvm=small:add(){roles=STAGE_HOSTS}
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => {""host-failure-descriptions"" => [(""slave"" => ""JBAS013456: Unauthorized to execute operation 'add' for resource '[
    (\""host\"" => \""slave\""),
    (\""jvm\"" => \""small\"")
]' -- \""Permission denied\"""")]},
    ""rolled-back"" => true
}
{noformat}",2013/09/05 4:06 AM
WFLY-821,see forum discussion please.,2012/10/30 10:15 AM
WFLY-69,"Using an extended persistence context in a stateless session bean should not initiate. It should throw an exception to notify the user of incorrect use.

See JPA 2.0 spec, section 7.6.2:

""A container-managed extended persistence context can only be initiated within the scope of a stateful session bean.""",2012/03/08 6:18 AM
WFLY-1460,"In case that you configure transactions subsystem for running with JDBCObject store the app server fails to start because of (it seems so) a circular dependency.

You can expect the exception like:
{code}
ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 52) JBAS014612: Operation (""add"") failed - address: ([(""subsystem"" => ""transactions"")]): org.jboss.msc.service.CircularDependencyException: Container jboss-as has a circular dependency: [service jboss.txn.ArjunaObjectStoreEnvironment, service jboss.txn.ArjunaRecoveryManager, service jboss.connector.transactionintegration, service jboss.cached-connection-manager, service jboss.data-source.java:jboss/datasources/JDBCObjectDS] 
{code}

My assumption came from the configuration similar to this:
{code}
<datasource jta=""false"" jndi-name=""java:jboss/datasources/JDBCObjectDS"" pool-name=""JDBCObjectDS"" enabled=""true"" use-ccm=""false""> 
<connection-url>jdbc:postgresql://postgresserver.com:5432/user1</connection-url>
  <driver-class>org.postgresql.Driver</driver-class>
  <driver>postgresql-9.2-1002.jdbc4.jar</driver>
  <security>
    <user-name>user1</user-name>
    <password>user1</password>
  </security>
</datasource> 
{code}

and the transaction config looks like this
{code}
<jdbc-store datasource-jndi-name=""java:jboss/datasources/JDBCObjectDS"" />
{code}",2013/06/06 5:04 AM
WFLY-1513,"The remove (management) operation on a JMS queue merely unbinds the queue from JNDI instead of destroying the queue. It appears that the change was done as part of https://issues.jboss.org/browse/AS7-1899 (the PR is here https://github.com/wildfly/wildfly/pull/398). The change done in that PR to address the original issue reported in that other JIRA doesn't look right.

So the original issue reported in that thread is that a server has a queue with messages and the server is stopped. Upon restart the messages have disappeared because upon stop, the JMSQueueService's stop() method used to destroy the queue. The real fix would have been to differentiate the ""remove()"" operation from a mere service stop. The explicit remove (handler) would then be responsible for destroying the queue (which even means a JNDI unbind) and not that service's stop method.

All of this even applies to the JMS topic which has a similar problem.

On a related note, the add() operation too seems suspicious because it ends up calling a createXXX on the JMSServer API which says:

{code}
/**
    * Creates a JMS Queue.
    *
    * @param queueName
    *           The name of the queue to create
    * @param selectorString
    * @param durable
    * @return true if the queue is created or if it existed and was added to
    *         JNDI
    * @throws Exception
    *            if problems were encountered creating the queue.
    */
   boolean createQueue(boolean storeConfig, String queueName, String selectorString, boolean durable, String ...bindings) throws Exception;
{code}

Notice the ""if the queue is created or if it existed and was added to JNDI"" part. So it appears that the management ""add"" operation can end up behaving like an update (write-attribute) kind of operation in some cases. I'm not sure if that's good thing.
",2013/06/13 2:09 AM
WFLY-1752,"{noformat}
org.jboss.arquillian.test.spi.ArquillianProxyException: org.jboss.wsf.spi.WSFException : Cannot create service [Proxied because : Original exception not deserilizable, ClassNotFoundException]
        at org.jboss.wsf.spi.WSFException.rethrow(WSFException.java:55)
        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.getObjectInstance(AbstractServiceObjectFactoryJAXWS.java:90)
        at org.jboss.wsf.stack.cxf.client.serviceref.CXFServiceRefFactoryImpl.newServiceRef(CXFServiceRefFactoryImpl.java:38)
        at org.jboss.as.webservices.webserviceref.WebServiceManagedReferenceFactory.getReference(WebServiceManagedReferenceFactory.java:37)
        at org.jboss.as.weld.services.bootstrap.ManagedReferenceFactoryToResourceReferenceFactoryAdapter.createResource(ManagedReferenceFactoryToResourceReferenceFactoryAdapter.java:41)
        at org.jboss.weld.injection.AbstractResourceInjection.getResourceReference(AbstractResourceInjection.java:44)
        at org.jboss.weld.injection.AbstractResourceInjection.injectResourceReference(AbstractResourceInjection.java:53)
        at org.jboss.weld.util.Beans.injectEEFields(Beans.java:348)
        at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:59)
        at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66)
        at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)
        at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64)
        at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:91)
        at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:158)
        at org.jboss.weld.context.unbound.DependentContextImpl.get(DependentContextImpl.java:69)
        at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:738)
        at org.jboss.weld.injection.producer.AbstractMemberProducer.getReceiver(AbstractMemberProducer.java:110)
        at org.jboss.weld.injection.producer.AbstractMemberProducer.produce(AbstractMemberProducer.java:129)
        at org.jboss.weld.bean.AbstractProducerBean.create(AbstractProducerBean.java:189)
        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField.createUnderlying(EEResourceProducerField.java:149)
        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField.access$000(EEResourceProducerField.java:53)
        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField$EEResourceCallable.call(EEResourceProducerField.java:73)
        at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:45)
        at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
        at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:101)
        at org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.SheepWS$-1409013730$Proxy$_$$_Weld$Proxy$.isSheepInjected(Unknown Source)
        at org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.WebServiceResourceTest.testResourceInvocation(WebServiceResourceTest.java:86)
Caused by: java.lang.InstantiationException: org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.SheepWSEndPointService
        at java.lang.Class.newInstance(Class.java:359)
        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.instantiateService(AbstractServiceObjectFactoryJAXWS.java:241)
        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.getObjectInstance(AbstractServiceObjectFactoryJAXWS.java:68)
        ... 128 more

{noformat}

The affected CDI TCK tests:

org.jboss.cdi.tck.tests.implementation.simple.resource.broken.type.ws.ResourceDefinitionWithDifferentTypeTest
org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.WebServiceResourceTest",2013/07/24 4:26 AM
WFLY-2409,"&amp;#27;[0m&amp;#27;[31m08:43:00,006 ERROR [org.infinispan.persistence.jdbc.binary.JdbcBinaryStore] (default task-7) ISPN008012: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=35 bytes, valueBytes=270 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value={test=1}, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe0302000103ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d30630369036a230301fe03ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d3063036a8e020301fe040a000000396f72672e6a626f73732e61732e636c7573746572696e672e6d61727368616c6c696e672e53696d706c654d61727368616c6c656456616c756585255d4116f244c83e1e6f72672e6a626f73732e61732e636c7573746572696e672e636f6d6d6f6e3e046d61696e329b0000009700000001035301643e047465737404380000003d6f72672e6a626f73732e61732e746573742e636c7573746572696e672e73696e676c652e7765622e53696d706c65536572766c6574244d757461626c65b8d0b5a62b7773dd3e216465706c6f796d656e742e73657373696f6e2d64622d636c75737465722e7761723e046d61696e000000010000000576616c7565230016000000013535036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]

&amp;#27;[0m&amp;#27;[31m08:43:00,018 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-7) ISPN000136: Execution error: org.infinispan.persistence.CacheLoaderException: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=35 bytes, valueBytes=270 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value={test=1}, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:411)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe0302000103ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d30630369036a230301fe03ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d3063036a8e020301fe040a000000396f72672e6a626f73732e61732e636c7573746572696e672e6d61727368616c6c696e672e53696d706c654d61727368616c6c656456616c756585255d4116f244c83e1e6f72672e6a626f73732e61732e636c7573746572696e672e636f6d6d6f6e3e046d61696e329b0000009700000001035301643e047465737404380000003d6f72672e6a626f73732e61732e746573742e636c7573746572696e672e73696e676c652e7765622e53696d706c65536572766c6574244d757461626c65b8d0b5a62b7773dd3e216465706c6f796d656e742e73657373696f6e2d64622d636c75737465722e7761723e046d61696e000000010000000576616c7565230016000000013535036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	... 77 more

&amp;#27;[0m&amp;#27;[31m08:43:00,023 ERROR [org.infinispan.transaction.TransactionCoordinator] (default task-7) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.persistence.CacheLoaderException: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=35 bytes, valueBytes=270 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value={test=1}, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:411)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe0302000103ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d30630369036a230301fe03ff810200000018374b4d465247426b6c6c335f6e3542594f305533552d3063036a8e020301fe040a000000396f72672e6a626f73732e61732e636c7573746572696e672e6d61727368616c6c696e672e53696d706c654d61727368616c6c656456616c756585255d4116f244c83e1e6f72672e6a626f73732e61732e636c7573746572696e672e636f6d6d6f6e3e046d61696e329b0000009700000001035301643e047465737404380000003d6f72672e6a626f73732e61732e746573742e636c7573746572696e672e73696e676c652e7765622e53696d706c65536572766c6574244d757461626c65b8d0b5a62b7773dd3e216465706c6f796d656e742e73657373696f6e2d64622d636c75737465722e7761723e046d61696e000000010000000576616c7565230016000000013535036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	... 77 more

&amp;#27;[0m&amp;#27;[31m08:43:00,028 ERROR [org.infinispan.transaction.tm.DummyTransaction] (default task-7) ISPN000111: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=null, isMarkedForRollback=false, lockedKeys=null, backupKeyLocks=null, topologyId=2, isFromStateTransfer=false} org.infinispan.transaction.synchronization.SyncLocalTransaction@13} org.infinispan.transaction.synchronization.SynchronizationAdapter@32: org.infinispan.commons.CacheException: Could not commit.
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:60) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: javax.transaction.xa.XAException
	at org.infinispan.transaction.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:204) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:156) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	... 23 more

&amp;#27;[0m08:43:00,032 INFO  [org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase] (main) Requested http://127.0.0.1:8080/session-db-cluster/simple, got 1.
&amp;#27;[31m08:43:00,038 ERROR [org.infinispan.persistence.jdbc.binary.JdbcBinaryStore] (default task-8) ISPN008012: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=29 bytes, valueBytes=27 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value=org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionCacheEntry@415e75b5, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe030200013e18374b4d465247426b6c6c335f6e3542594f305533552d30630369036a1d0301fe3e18374b4d465247426b6c6c335f6e3542594f305533552d3063036a1b0301fe03ff80020000014209636c440000014209636c4500000708036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]

&amp;#27;[0m&amp;#27;[31m08:43:00,043 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-8) ISPN000136: Execution error: org.infinispan.persistence.CacheLoaderException: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=29 bytes, valueBytes=27 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value=org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionCacheEntry@415e75b5, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:411)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe030200013e18374b4d465247426b6c6c335f6e3542594f305533552d30630369036a1d0301fe3e18374b4d465247426b6c6c335f6e3542594f305533552d3063036a1b0301fe03ff80020000014209636c440000014209636c4500000708036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	... 77 more

&amp;#27;[0m&amp;#27;[31m08:43:00,067 ERROR [org.infinispan.transaction.TransactionCoordinator] (default task-8) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.persistence.CacheLoaderException: Sql failure while inserting bucket: Bucket{entries={7KMFRGBkll3_n5BYO0U3U-0c=MarshalledEntryImpl{keyBytes=29 bytes, valueBytes=27 bytes, metadataBytes=25 bytes, key=7KMFRGBkll3_n5BYO0U3U-0c, value=org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionCacheEntry@415e75b5, metadata=InternalMetadataImpl{actual=EmbeddedMetadata{version=null}, created=-1, lastUsed=-1}, marshaller=org.infinispan.marshall.core.CacheMarshaller@5b081828}}, bucketId=&apos;865627136&apos;}
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:411)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.storeInBucket(JdbcBinaryStore.java:519)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.write(JdbcBinaryStore.java:122)
	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:432) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitSingleStore(CacheWriterInterceptor.java:306) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor$Updater.visitPutKeyValueCommand(CacheWriterInterceptor.java:250) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:62) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.store(CacheWriterInterceptor.java:212) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:115) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:93) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:114) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:253) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:184) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:89) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:70) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:96) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:125) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:154) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: &quot;PRIMARY_KEY_A ON PUBLIC.&quot;&quot;binarybased_default_host_session_db_cluster&quot;&quot;(ID) VALUES ( /* key:2 */ &apos;865627136&apos;, X&apos;0301fe030200013e18374b4d465247426b6c6c335f6e3542594f305533552d30630369036a1d0301fe3e18374b4d465247426b6c6c335f6e3542594f305533552d3063036a1b0301fe03ff80020000014209636c440000014209636c4500000708036a190301fe0368ffffffffffffffffffffffffffffffff03620001&apos;, -1)&quot;; SQL statement:
INSERT INTO &quot;binarybased_default_host_session_db_cluster&quot; (datum, version, id) VALUES(?,?,?) [23505-173]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:331)
	at org.h2.message.DbException.get(DbException.java:171)
	at org.h2.message.DbException.get(DbException.java:148)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.index.TreeIndex.add(TreeIndex.java:68)
	at org.h2.table.RegularTable.addRow(RegularTable.java:125)
	at org.h2.command.dml.Insert.insertRows(Insert.java:127)
	at org.h2.command.dml.Insert.update(Insert.java:86)
	at org.h2.command.CommandContainer.update(CommandContainer.java:79)
	at org.h2.command.Command.executeUpdate(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:154)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:140)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)
	at org.infinispan.persistence.jdbc.binary.JdbcBinaryStore.insertBucket(JdbcBinaryStore.java:405)
	... 77 more

&amp;#27;[0m&amp;#27;[31m08:43:00,072 ERROR [org.infinispan.transaction.tm.DummyTransaction] (default task-8) ISPN000111: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=null, isMarkedForRollback=false, lockedKeys=null, backupKeyLocks=null, topologyId=2, isFromStateTransfer=false} org.infinispan.transaction.synchronization.SyncLocalTransaction@16} org.infinispan.transaction.synchronization.SynchronizationAdapter@35: org.infinispan.commons.CacheException: Could not commit.
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:60) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:263) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:312) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:69) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:80) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:101) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:83) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:64) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:768) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:53) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.end(InfinispanSessionManager.java:151)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.close(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:69)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:708) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:501) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:258) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:205) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:134) [undertow-servlet-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:138) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:622) [undertow-core-1.0.0.Beta20.jar:1.0.0.Beta20]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: javax.transaction.xa.XAException
	at org.infinispan.transaction.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:204) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:156) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:58) [infinispan-core-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]
	... 23 more
",2013/10/30 8:57 AM
WFLY-2600,"We should deprecate the per-deployment logging sys prop, which never should have been exposed to users. They instead need a proper configuration mechanism to do this. Perhaps log a warning when it is specified?
",2013/12/03 3:32 PM
WFLY-3091,"When an op is cancelled on a managed domain after the domain rollout has begun, the server update tasks are not properly cancelled / cleaned up.",2014/03/08 6:54 PM
WFLY-3090,"Administrative cancellation of management ops is implemented by the thread that is handling the cancellation interrupting the thread that is executing the op. This works, but the thread executing the op can't readily distinguish between interruption do to admin action and cancellation for other reasons such as server shutdown. The OperationContext code detects interruption but restores the interrupted state to the thread, which is valid for the shutdown case. For the administrative cancellation case, it has the negative side effect of producing InterruptedExceptions later on; e.g. when the thread attempts to send data to the remote caller.

This is particularly an issue in domain mode where the ""caller"" is a controlling process (HC). The InterruptedException has the effect of terminating the connection from the callee to the controlling process.

The operation execution code needs to be able to distinguish between administrative cancellation and other causes of interruption.",2014/03/07 6:53 PM
WFLY-2569,"See also EE.8.3 Class Loading Requirements.

In the mentioned Arquillian test (servlet protocol) if a class from an EJB module tries to access a class from an RAR you get a NoClassDefFoundError. I also tried to place the class in the WAR with the same result.",2013/11/25 9:37 AM
WFLY-2515,"If an ejb method 
@Asynchronous void fireAndForget(...)
is called remote and the client disconnect an Exception JBAS014249 will be thrown if the async method return.

{noformat}
ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014249: Error invoking method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname : java.lang.NullPointerException
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:322)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_25]
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_25]
	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)

11:30:20,242 ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014250: Could not write method invocation failure for method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname  due to: java.io.IOException: JBAS014560: Could not open message outputstream for writing to Channel
	at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:102)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$400(MethodInvocationMessageHandler.java:70)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:213)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_25]
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_25]
	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)
Caused by: org.jboss.remoting3.NotOpenException: Writes closed
	at org.jboss.remoting3.remote.RemoteConnectionChannel.openOutboundMessage(RemoteConnectionChannel.java:112)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.writeMessage(RemoteConnectionChannel.java:301)
	at org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation.acquireChannelMessageOutputStream(ChannelAssociation.java:68)
	at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:100)
	... 9 more
{noformat}
",2013/11/15 6:09 AM
WFLY-3166,"Create a MySQL datasource via CLI:
/profile=front-ha/subsystem=datasources/data-source=testmysql:add(driver-name=com.mysql,jndi-name=java:jboss/datasources/mysql,connection-url=jdbc:mysql://192.168.1.100:3306/udmp,max-pool-size=100,min-pool-size=10,user-name=aaaa,password=bbbb,enabled=false)

And then enable it via console,but the lable of enabled didn't turn to √(enabled).
Check the domain.xml,the value of enabled is still false.

Enable it again whether via CLI or console,error log print:
Response

Internal Server Error
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => ""JBAS010839: Operation failed or was rolled back on all servers."",
    ""rolled-back"" => true,
    ""server-groups"" => {""front-group1"" => {""host"" => {""master"" => {""fserver1"" => {""response"" => {
        ""outcome"" => ""failed"",
        ""failure-description"" => ""JBAS014749: Operation handler failed: Service jboss.data-source-config.testmysql is already registered"",
        ""rolled-back"" => true
    }}}}}}
}



[Server:fserver1] 16:45:48,888 ERROR [org.jboss.as.controller.management-operation] (host-controller-connection-threads - 10) JBAS014612: Operation (""enable"") failed - address: ([
[Server:fserver1]     (""subsystem"" => ""datasources""),
[Server:fserver1]     (""data-source"" => ""testmysql"")
[Server:fserver1] ]): org.jboss.msc.service.DuplicateServiceException: Service jboss.data-source-config.testmysql is already registered
[Server:fserver1] 	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:767) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:1418) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.connector.subsystems.datasources.DataSourceEnable.addServices(DataSourceEnable.java:188)
[Server:fserver1] 	at org.jboss.as.connector.subsystems.datasources.DataSourceEnable$1.execute(DataSourceEnable.java:84)
[Server:fserver1] 	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.internalExecute(TransactionalProtocolOperationHandler.java:179) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:149) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:113) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:109) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]
[Server:fserver1] 	at javax.security.auth.Subject.doAs(Subject.java:356) [rt.jar:1.7.0_25]
[Server:fserver1] 	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:83) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:129) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:125) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]
[Server:fserver1] 	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2.execute(TransactionalProtocolOperationHandler.java:125) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [wildfly-protocol-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [wildfly-protocol-8.0.0.Final.jar:8.0.0.Final]
[Server:fserver1] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
[Server:fserver1] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
[Server:fserver1] 	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
[Server:fserver1] 	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
[Server:fserver1]

I tried in the standalone mode,it worked.
",2014/03/26 4:50 AM
WFLY-1739,"FindBugs found 2 instances of such recursive calls:
{code:title=org.jboss.as.clustering.msc.DelegatingServiceTarget}
@Override
    public Set<ServiceListener<Object>> getListeners() {
        return this.getListeners();
    }
{code}

{code:title=org.wildfly.clustering.web.catalina.session.SessionFacade}
@Override
    public boolean isValidInternal() {
        return this.isValidInternal();
    }
{code}",2013/07/22 4:36 PM
WFLY-2640,"{{<cached-connection-manager>}} is enabled in jca subsystem by default:

{code:xml}
    <subsystem xmlns=""urn:jboss:domain:jca:1.1"">
        ...
        <cached-connection-manager />
    </subsystem> 
{code}

However, it is unable to re-enable {{<cached-connection-manager>}} once it is disabled. CLI command fails to add it due to duplicate resource.

{code}
[standalone@localhost:9990 /] /subsystem=jca/cached-connection-manager=cached-connection-manager:remove
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
[standalone@localhost:9990 /] :reload
{
    ""outcome"" => ""success"",
    ""result"" => undefined
}
[standalone@localhost:9990 /] /subsystem=jca/cached-connection-manager=cached-connection-manager:add
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS014803: Duplicate resource [
    (\""subsystem\"" => \""jca\""),
    (\""cached-connection-manager\"" => \""cached-connection-manager\"")
]"",
    ""rolled-back"" => true
}
{code}",2013/12/11 7:05 PM
WFLY-1401,"The JVM is much more lenient than java as far as class names are concerned, we should probably just get rid of this message altogether. ",2013/05/28 1:36 AM
WFLY-886,"I'm using EAP 6.1 ER5, and trying to execute the following using CLI:
 
/profile=ha/subsystem=security/security-domain=teiid-security:add(cache-type=default)
/profile=ha/subsystem=security/security-domain=teiid-security/authentication=classic/:add(login-modules=[{""code""=>""org.jboss.security.auth.spi.UsersRolesLoginModule"", ""flag""=>""required"", ""module-options""=>[(""usersProperties""=>""${jboss.domain.config.dir}/teiid-security-users.properties""), (""rolesProperties""=>""${jboss.domain.config.dir}/teiid-security-roles.properties"")]}])

but I get the message: 
 …
""failure-description"" => ""JBAS014884: No operation named 'composite' exists at address [
…

(see forum for full discussion)",2013/04/23 8:47 AM
WFLY-1308,"Consider the following case:

1) Same bean deployed on a server A and server B
2) Remote EJB client which is aware of both server A and server B, in its EJBClientContext, invokes on the bean
3) EJB client API selects server A as the target node and lets it handle it.
4) In the meantime, after the request has been sent, but before it has been handled on the server A, the deployment on server A is triggered for undeployment.
5) This causes the EJB component on server A to throw an exception telling the client that the bean is in shutdown mode and no more invocations are accepted.

The exception thrown in #5 should really trigger a retry of the invocation, from the client side, on other eligible nodes (in this case Server B), because this failure is as good as the bean not being available in first place on Server A. 

Currently, the client isn't retrying the invocation on a different node, because it has no idea that this specific exception is no different than other potential exceptions that can be thrown by the server for a EJB invocation. To fix this, the method invocation handler on the server side should send back a ""no such bean"" message to the client, when the server sees that the bean is in shutdown mode.
",2013/05/02 7:53 AM
WFLY-1459,NoData,2013/06/05 2:59 PM
WFLY-1488,"copy-paste error
{code}
 246                    if(cookieConfig.getDomain() != null) {
 247                        config.setComment(cookieConfig.getComment());
 248                    }
{code}",2013/06/10 5:17 AM
WFLY-1487,"Unable to retrieve resources which are nested in additional directory in META-INF. The same works for JAR, only for WAR archive it doesn't.

Example:
If in WAR archive I have a resource in META-INF/properties/nested.properties, I am unable to access it using
{code}
classLoader.getResource(""META-INF/properties/nested.properties"");
{code}",2013/06/10 3:36 AM
WFLY-2467,CacheConfigurationService should be installed using AsynchronousService wrapper.,2013/11/07 3:14 PM
WFLY-1786,"One of todays commits broke the Webservice usage for me.
Version c76e3615464ed8d616ba3b84eea0c31185d07a0f was OK.
Version 101d67aa894bca663464c67988a6889496a47158 is broken.

I start wildfly with a port-offset of 700, so http-port is 8780.

But looking at the console app under localhost:10690 - Runtime - Subsystems - Webservices all WSDL url are now http://server:8080/....
port-offset not used here.

So the consequence is
23:02:45,038 FATAL [javax.enterprise.resource.webcontainer.jsf.context#log] /Template.xhtml: Could not send Message.: javax.el.ELException: /Template.xhtml: Could not send Message.
    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:96) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:207) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1899) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:451) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:82) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:54) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:186) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:130) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:140) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletFormAuthenticationMechanism.servePage(ServletFormAuthenticationMechanism.java:39) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.FormAuthenticationMechanism.sendChallenge(FormAuthenticationMechanism.java:156) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.transition(SecurityContextImpl.java:328) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.transition(SecurityContextImpl.java:347) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.access$300(SecurityContextImpl.java:312) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.sendChallenges(SecurityContextImpl.java:135) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:109) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:114) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:99) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:50) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:55) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:65) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:70) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:54)
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:197) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:184) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:59) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:119) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:629) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40-ea]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40-ea]
    at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40-ea]

Caused by: javax.xml.ws.WebServiceException: Could not send Message.
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)
    at com.sun.proxy.$Proxy287.getTranslation(Unknown Source)
    at biz.mbisoftware.web.model.common.SynonymMap.getTranslation(SynonymMap.java:49) [classes:]
    at biz.mbisoftware.web.model.common.SynonymMap.getTranslation(SynonymMap.java:66) [classes:]
    at biz.mbisoftware.web.model.common.TranslationMap.get(TranslationMap.java:90) [classes:]
    at biz.mbisoftware.web.utility.LocaleHelper.getTranslation(LocaleHelper.java:243) [classes:]
    at biz.mbisoftware.web.model.core.SettingsModel.<init>(SettingsModel.java:88) [classes:]
    at biz.mbisoftware.web.model.core.SettingsModel$Proxy$_$$_WeldClientProxy.<init>(Unknown Source) [classes:]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_40-ea]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_40-ea]
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_40-ea]
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526) [rt.jar:1.7.0_40-ea]
    at java.lang.Class.newInstance(Class.java:374) [rt.jar:1.7.0_40-ea]
    at org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_40-ea]
    at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:274) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:110) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:165) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:155) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.access$000(ClientProxyProvider.java:49) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider$1.load(ClientProxyProvider.java:57) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider$1.load(ClientProxyProvider.java:53) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache.get(LocalCache.java:3990) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878) [guava-13.0.1.jar:]
    at org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:54) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:82) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:171) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.AbstractWeldELResolver.lookup(AbstractWeldELResolver.java:115) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.AbstractWeldELResolver.getValue(AbstractWeldELResolver.java:96) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.as.jsf.injection.weld.ForwardingELResolver.getValue(ForwardingELResolver.java:46) [wildfly-jsf-injection-8.0.0.Alpha4-SNAPSHOT.jar:8.0.0.Alpha4-SNAPSHOT]
    at javax.el.CompositeELResolver.getValue(CompositeELResolver.java:188) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.el.parser.AstIdentifier.getValue(AstIdentifier.java:116) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.parser.AstValue.getBase(AstValue.java:151) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.parser.AstValue.getValue(AstValue.java:200) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226) [javax.el-3.0-b07.jar:3.0-b07]
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:50) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:50) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:217) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:89) [jsf-impl-2.2.1-jbossorg-1.jar:]
    ... 50 more

Caused by: java.net.ConnectException: ConnectException invoking http://sb2000:8080/mbi-ws/maj2e-langfr-dev/common/TranslationWS: Connection refused
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_40-ea]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_40-ea]
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_40-ea]
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526) [rt.jar:1.7.0_40-ea]
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1334)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1318)
    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)
    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:541)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
    ... 95 more

Caused by: java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) [rt.jar:1.7.0_40-ea]
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) [rt.jar:1.7.0_40-ea]
    at java.net.Socket.connect(Socket.java:579) [rt.jar:1.7.0_40-ea]
    at sun.net.NetworkClient.doConnect(NetworkClient.java:175) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:432) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:527) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.<init>(HttpClient.java:211) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.New(HttpClient.java:308) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.New(HttpClient.java:326) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1091) [rt.jar:1.7.0_40-ea]
    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.setupWrappedStream(URLConnectionHTTPConduit.java:168)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1278)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1234)
    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.onFirstWrite(URLConnectionHTTPConduit.java:195)
    at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)
    at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1291)
    ... 105 more",2013/07/30 5:33 PM
WFLY-1734,"CoarseSSOCacheEntry class has a field self-assignment, which could be a typo:
{code}
    @Override
    public void setAuthenticationType(AuthenticationType type) {
        this.authType = authType;
    }
{code}",2013/07/22 3:51 PM
WFLY-2661,"ServiceMBeanSupport logs a number of messages at WARN and throws IAE, without proper i18n support for the messages.",2013/12/16 9:47 PM
WFLY-2191,"org.jboss.as.test.integration.security.loginmodules.negotiation.AdvancedLdapLoginModuleTestCase and
org.jboss.as.test.integration.security.loginmodules.negotiation.SPNEGOLoginModuleTestCase 
fail intermittently after java.nio.BufferOverflowException in Apache directory server. ",2013/10/01 9:09 AM
WFLY-2584,"RunAsRoleMapper.mapRoles(Caller caller, Set<String> currentRoles, Set<String> runAsRoles, boolean sanitized) ignores false results from realRoleMapper.canRunAs(currentRoles, requestedRole) and just leaves the user running in their regular roles. Some sort of failure condition seems more appropriate.

I noticed this when I was investigating WFLY-2318 caused by WFLY-2583. The improperly parsed role list was resulting in realRoleMapper.canRunAs(currentRoles, requestedRole) returning false so the call would just execute as SuperUser.

Same thing would happen with a simple typo like {roles=Mnitor}.",2013/11/26 7:38 PM
WFLY-2589,"This needs further investigation, but it seems to mean that we have a lot of ModelFixers used in the wrong situation. i.e. the when transforming resources, attributes that should be undefined reach the transformers as defined with the default value set instead.

This needs a bit of thinking about [~jmesnil1@redhat.com] mentioned this a few weeks ago as well. I'd like to see if he remembers before fixing",2013/11/28 12:40 PM
WFLY-2120,"This exception occurs during deployment:

""17:07:33,154 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.undertow.deployment.default-host./jboss-as-kitchensink: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./jboss-as-kitchensink: Failed to start service
at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1900) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: org.jboss.weld.exceptions.IllegalArgumentException: JBAS016071: Singleton not set for ModuleClassLoader for Module ""org.wildfly.extension.undertow:main"" from local module loader @21d1cd0d (finder: local module finder @54ed21d3 (roots: /Users/max/code/wildfly/build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules,/Users/max/code/wildfly/build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules/system/layers/base)). This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.
at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)
at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:69)
""

full details at https://gist.github.com/maxandersen/798e6f9eb9c23285df5d

When I have this annotation on a class:

@javax.websocket.server.ServerEndpoint(
        value = ""/registration"", 
        encoders = {MemberEncoder.class})

Without it things deploy but of course the websocket does not work.

Full example:
https://github.com/pjiricka/jboss-as-quickstart/commit/7484d494ea294034aded6a28b80a5c754053bc03

/kitchensink in this repo fails with this commit.",2013/09/20 12:15 PM
WFLY-2633,"The check for duplicate runtime-name in a server group on startup is too aggressive.  It is incorrectly throwing an error on startup if there are any duplicate runtime-names in the whole domain, instead of just in a single server group.


Steps to Reproduce:

1.  Start a single HC/DC
2.  deploy --name=foo1 --runtime-name=bar --disabled testfile
3.  deploy --name=foo2 --runtime-name=bar --disabled testfile
4.  restart the DC/HC

Actual results:

JBAS010932: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration
...
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1348,9]
...
Message: JBAS014664: An element of this type named 'bar' has already been declared


Expected results:

No errors",2013/12/10 7:06 PM
WFLY-2866,"When PersistentResourceXMLDescription marshals a resource's attributes, it will not marshal a value stored in the model if it matches the attribute's default value.

We should marshal the value provided by the user. Otherwise we will change the config file from what the user provided for reasons unrelated to management actions initiated by the user.

DefaultAttributeMarshaller marshals default values.",2014/02/04 11:17 PM
WFLY-2650,"The following EE7-defines scope annotations:

ViewScoped
FlowScoped
TransactionScoped

are packaged within WildFly and therefore not found in the Jandex index.",2013/12/13 4:58 AM
WFLY-160,Since JavaMail implemented on Jboss AS7 we can't reconfigure JavaMail service on-the-fly. We always should reload the server to apply new configuration.,2012/09/24 7:24 AM
WFLY-1469,"I'm finding that the mail service is not honoring the association with a specific outbound socket binding.

Configuration of Mail Session and Socket Binding:
{code}[standalone@localhost:9990 /] /subsystem=mail/mail-session=java\:jboss\/mail\/ALR/server=smtp:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""outbound-socket-binding-ref"" => ""mail-smtp-25000"",
        ""password"" => undefined,
        ""ssl"" => false,
        ""tls"" => false,
        ""username"" => undefined
    }
}
[standalone@localhost:9990 /] /socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=mail-smtp-25000:read-resource(recursive=""true"")
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""fixed-source-port"" => false,
        ""host"" => ""localhost"",
        ""port"" => 25000,
        ""source-interface"" => undefined,
        ""source-port"" => undefined
    }
}{code}

Code to inject the Mail Session:

{code}@Resource(lookup = ""java:jboss/mail/ALR"")
    private Session mailSession;{code}

This injection succeeds, as I'd expect based on the tests: 
https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/mail/annotation/StatelessMail.java#L46

However, when using this to send mail, getting the default port of ""25"", not ""25000"" as I've specified in the config:

{code}�[0m�[0m23:54:17,102 INFO  [stdout] (default task-1) DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]
�[0m�[0m23:54:17,103 INFO  [stdout] (default task-1) DEBUG SMTP: useEhlo true, useAuth false
�[0m�[0m23:54:17,103 INFO  [stdout] (default task-1) DEBUG SMTP: trying to connect to host ""localhost"", port 25, isSSL false{code}

I don't see anything in the testsuite attempting to broker mail through a non-default configuration.
",2013/06/07 2:55 AM
WFLY-2834,The class 'org.jboss.as.domain.management.security.util.MSCTestRunner' was never actually used so should not have been committed.,2014/01/29 1:06 PM
WFLY-2888,"Ajp Listener configuration not loaded.

I set like this '<ajp-listener name=""ajp"" socket-binding=""ajp"" max-parameters=""5000""/>'.

But this value not applied.",2014/02/10 4:15 AM
WFLY-2573,"If the batch subsystem is created, i.e. a new domain profile, the configuration is not applied correct.
It look like that it is partially applied 'in memory' but not persisted.

The used commands are:
/profile=default-web/subsystem=batch:add()
/profile=default-web/subsystem=batch/thread-pool=batch:add(keepalive-time={time=100,unit=milliseconds}, 
max-threads=10)

The commands are running without messages, but the domain.xml looks like this
            <subsystem xmlns=""urn:jboss:domain:batch:1.0"">
                 <job-repository>
                     <in-memory/>
                 </job-repository>
             </subsystem>

",2013/11/26 5:30 AM
WFLY-11,"Error is:
{code}  io.escalante.test.artifact.ArtifactInstallTest: bundlesDir not a directory{code}

The problem is that the check is done in an 'assert' block and that only happens when assertions have been enabled by the user :(

The problem comes cos bundlesDir is set to ""null/bundles"", even if I have not set any bundlesDir.

Seems like bundlesDir is pre-computed too early in EmbeddedContainerConfiguration where it expects a system property, but that might not be set, it might come from arquillian.xml. So better delay until EmbeddedServerFactory.create.",2013/02/07 3:54 AM
WFLY-2743,"This enables a deployment to get access to the MSC ServiceRegistry, and from there change internal server state without any security manager checks. ",2014/01/11 3:19 AM
WFLY-2313,"I'm getting FileNotFoundException (File name too long) when running AuditJoinTableoverOnetoManyJoinColumnTest. We should refactor the too long test names.

{code}
Running org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest
Exception in thread ""ThreadedStreamConsumer"" org.apache.maven.surefire.util.NestedRuntimeException: null; nested exception is java.io.FileNotFoundException: /home/jcacek/Java/Projects/wildfly/testsuite/integration/basic/target/surefire-reports/org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest-output.txt (File name too long)
java.io.FileNotFoundException: /home/jcacek/Java/Projects/wildfly/testsuite/integration/basic/target/surefire-reports/org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest-output.txt (File name too long)
	at java.io.FileOutputStream.open(Native Method)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:212)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:165)
	at java.io.FileWriter.<init>(FileWriter.java:90)
	at org.apache.maven.surefire.report.ConsoleOutputFileReporter.writeMessage(ConsoleOutputFileReporter.java:89)
	at org.apache.maven.surefire.report.MulticastingReporter.writeMessage(MulticastingReporter.java:101)
	at org.apache.maven.surefire.report.TestSetRunListener.writeTestOutput(TestSetRunListener.java:105)
	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:132)
	at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:67)
	at java.lang.Thread.run(Thread.java:724)
{code}",2013/10/16 2:52 AM
WFLY-2784,"I can see one major issue, when running JSF TCK against MyFaces (2.1.14, 2.2.0-beta) configured as default JSF slot in WildFly. The problem is described here https://community.jboss.org/message/853890 - basically ResourceHandlerImpl is not able to create ""jsf.js"" resource file, which is avaliable in MyFaces api jar. This results to:

{noformat}
Caused by: java.lang.NullPointerException
	at org.apache.myfaces.shared.renderkit.html.util.ResourceUtils.renderDefaultJsfJsInlineIfNecessary(ResourceUtils.java:231) [myfaces-impl-2.1.13.jar:2.1.13]
	at org.apache.myfaces.shared.renderkit.html.HtmlButtonRendererBase.encodeEnd(HtmlButtonRendererBase.java:138) [myfaces-impl-2.1.13.jar:2.1.13]
	at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:665) [myfaces-api-2.1.13.jar:2.1.13]
	at javax.faces.component.UIComponentBase.encodeAll(UIComponentBase.java:545) [myfaces-api-2.1.13.jar:2.1.13]
	at javax.faces.component.UIComponentBase.encodeAll(UIComponentBase.java:541) [myfaces-api-2.1.13.jar:2.1.13]
	at javax.faces.component.UIComponentBase.encodeAll(UIComponentBase.java:541) [myfaces-api-2.1.13.jar:2.1.13]
	at javax.faces.component.UIComponentBase.encodeAll(UIComponentBase.java:541) [myfaces-api-2.1.13.jar:2.1.13]
	at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.renderView(FaceletViewDeclarationLanguage.java:1981) [myfaces-impl-2.1.13.jar:2.1.13]
	at org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:305) [myfaces-impl-2.1.13.jar:2.1.13]
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59) [myfaces-api-2.1.13.jar:2.1.13]
	at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:116) [myfaces-impl-2.1.13.jar:2.1.13]
	at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:241) [myfaces-impl-2.1.13.jar:2.1.13]
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:199) [myfaces-api-2.1.13.jar:2.1.13]
	... 24 more

{noformat}

",2014/01/21 8:40 AM
WFLY-2014,"This pops up quite frequently for a long time now (weeks or months):

https://github.com/wildfly/wildfly/pull/5009#issuecomment-23898664

I'm going to send a PR to @Ignore the test.

Also, IMHO this test method doesn't belong in smoke.",2013/09/05 4:32 PM
WFLY-2596,"I have found several problems in the current (master, trunk) Wildfly JASPI Web layer implementation

Undertow related:
----------------------

 * It does not support pre-emptive authentication: 
When the ServerAuthenticationModule returns AUTH_SUCCESS and null userPrincipal, it should let the request fall through unathenticated, instead it is rejected.

 * It does not call secureResponse when the authentication was unsuccessful

 * It does not populate the org.jboss.security.SecurityContext, only the undertow Account structure.

 * It does not support the wrapper feature (Spec 3.8.3.5 and B.9)

The attached pull request aims to fix the first three issues.

Credits: This patch is based on Arjan Tijms' analysis, and suggested patches for the Jboss 7.X valve based authentitactor.",2013/12/02 4:10 PM
WFLY-2468,"MappingModuleDefinition.registerAttribute is creating a write-attribute handler but is not passing in the correct list of AttributeDefinitions to its constructor.

See https://github.com/wildfly/wildfly/blob/master/security/src/main/java/org/jboss/as/security/MappingModuleDefinition.java#L85 -- it should be using the ADs returned by getAttributes(), same as L86.",2013/11/07 8:04 PM
WFLY-2527,"the infinispan cache description are not provided for wildcards. Hence it's not possible to query  rrd() _before_ adding a resource:

{code}
[domain@localhost:9990 /] /profile=default/subsystem=infinispan/cache-container=web/local-cache=local-web/eviction=*:read-resource-description()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS014883: No resource definition is registered for address [
    (\""profile\"" => \""default\""),
    (\""subsystem\"" => \""infinispan\""),
    (\""cache-container\"" => \""web\""),
    (\""local-cache\"" => \""local-web\""),
    (\""eviction\"" => \""*\"")
]"",
    ""rolled-back"" => true
}
{code}

Same for the other cache subresources. Please add the wildcard handlers.",2013/11/18 6:42 AM
WFLY-2668,"WildFly keep grabing a terminal after executing ""ssh $USER@$HOST service wildfly-init-redhat.sh restart"" in domain mode.

How reproducible: 100%",2013/12/18 7:23 PM
WFLY-2587,"When ManagedServerBootCmdFactory iterates through system properties to use in the server launch command it adds a value of ""true"" for any properties that have no value. This is incorrect. In particular it breaks SecurityManager usage as -Djava.security.manager is a valid setting while -Djava.security.manager=true will result in

[Host Controller] 15:09:01,758 INFO  [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010922: Starting server server-one
15:10:55,691 INFO  [org.jboss.as.process.Server:server-one.status] (ProcessController-threads - 3) JBAS012017: Starting process 'Server:server-one'
[Server:server-one] Error occurred during initialization of VM
[Server:server-one] java.lang.InternalError: Could not create SecurityManager: true
[Server:server-one] 	at sun.misc.Launcher.<init>(Launcher.java:106)
[Server:server-one] 	at sun.misc.Launcher.<clinit>(Launcher.java:57)
[Server:server-one] 	at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1486)
[Server:server-one] 	at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1468)
[Server:server-one] ",2013/11/27 6:29 PM
WFLY-2609,"The intended behavior where any modification to the ManagementResourceRegistration tree rooted in deployment=* also gets written to to the deployment=*/subdeployment=* tree is not being consistently applied.

This behavior is implemented by using an MRR implementation class called DeploymentManagementResourceRegistration for the tree rooted in deployment=*. But there are two problems with this:

1) DMRR is only used as a wrapper exposed to callers of Extension.initiatilize(). However, that isn't the only place extensions register deployment MRRs. Some also do it inside DeploymentUnitProcessors or DUP initialized services. These callers are not getting a DMRR, so their modifications are not applied to both trees.

2) DeploymentManagementResourceRegistration.getSubModel() and getOverrideModel() are not returning another DeploymentManagementResourceRegistration. Instead they are returning the normal ManagementResourceRegistration in the ""deployments"" tree. So, if a caller invokes those methods and then makes modifications, the modifications are not applied to both trees.

This is showing up as an issue in the JPA subsystem, which defers registration of part of its model to DUPs.",2013/12/04 9:41 PM
WFLY-2702,"The referred test in the ejb module fails on end and begin of months, due to different timezones. ",2014/01/02 6:34 AM
WFLY-2666,"{noformat}
10:16:26,510 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.""jaxws-jbws1357.war"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""jaxws-jbws1357.war"".PARSE: JBAS018733: Failed to process phase PARSE of deployment ""jaxws-jbws1357.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]
Caused by: java.lang.NullPointerException
	at org.jboss.as.jsf.deployment.JSFMetadataProcessor.deploy(JSFMetadataProcessor.java:27)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	... 5 more

10:16:26,513 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) JBAS014613: Operation (""full-replace-deployment"") failed - address: ([]) - failure description: {""JBAS014671: Failed services"" => {""jboss.deployment.unit.\""jaxws-jbws1357.war\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""jaxws-jbws1357.war\"".PARSE: JBAS018733: Failed to process phase PARSE of deployment \""jaxws-jbws1357.war\""
    Caused by: java.lang.NullPointerException""}}
{noformat}

The web.xml has something like:

{noformat}
<web-app xmlns=""http://java.sun.com/xml/ns/j2ee""
  xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
  xsi:schemaLocation=""http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd""
  version=""2.4"">

  <servlet>
    <servlet-name>JBWS1357Service</servlet-name>
    <servlet-class>org.jboss.test.ws.jaxws.jbws1357.JBWS1357Impl</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>hello_jsp</servlet-name>
    <jsp-file>/hello.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>JBWS1357Service</servlet-name>
    <url-pattern>/JBWS1357Service</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>hello_jsp</servlet-name>
    <url-pattern>/hello.jsp</url-pattern>
  </servlet-mapping>

</web-app>
{noformat}",2013/12/18 4:21 AM
WFLY-2865,"Imagine a scenario like the following:

```
parent.addChildResource(RemotingEndpointResource.ENDPOINT_PATH)
                .getAttributeBuilder()
                    .setDiscard(DiscardAttributeChecker.UNDEFINED, RemotingEndpointResource.ATTRIBUTES)
                    .addRejectCheck(RejectAttributeChecker.DEFINED, RemotingEndpointResource.ATTRIBUTES.toArray(new AttributeDefinition[RemotingEndpointResource.ATTRIBUTES.size()]))
                    .end()                .addOperationTransformationOverride(ModelDescriptionConstants.ADD)
                    .inheritResourceAttributeDefinitions()                    .setCustomOperationTransformer(OperationTransformer.DISCARD)
                    .end()
```

The idea is to discard ""add"" if any parameter is defined, reject otherwise. The legacy slave can ignore the whole resource if it isn't really configured by the user, but any detail config by the user must result in failure.

Problem is AttributeTransformationRule will do a ""reject"" when it gets a prepared response from the slave, but using setCustomOperationTransformer(OperationTransformer.DISCARD) means the op will be discarded, so there will be no prepared response and thus no rejection.

Solution is to have AttributeTransformationRule register a OperationResultTransformer that deals with this situation.",2014/02/04 3:42 PM
WFLY-1901,"It's currently not possible by default to grant the javax.xml.ws.WebServicePermission ""publish"" permission to a user deployment by adding the proper entry in standalone.xml:

{noformat}
        <subsystem xmlns=""urn:jboss:domain:security-manager:1.0"">
            <deployment-permissions>
                <minimum-set>
                    ...
                    <permission class=""javax.xml.ws.WebServicePermission"" name=""publishEndpoint""/>
                </minimum-set>
            </deployment-permissions>
        </subsystem>
{noformat}",2013/08/19 12:27 PM
WFLY-2823,Hibernate Validator should be upgraded to avoid memory leak during re-deployments. ,2014/01/28 6:12 AM
WFLY-1573,"An extension observer method with meta-annotations given as a filter via @WithAnnotations only gets invoked if the annotation classes that contain the meta-annotations are added to the deployment. The problem is that if an annotation isn't part of the deployment, it's not part of the deployment Jandex index.
",2013/06/21 11:22 AM
WFLY-2599,"The logging API imports are currently globally added, which prevents subsystem exclusion from automatically exclude them (The user most manually exclude each dep).

We need to move the imports into the logging DUP",2013/12/03 3:26 PM
WFLY-2735,"CLI command> /core-service=*/:read-operation-names

08:27:16,461 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014612: Operation (""read-operation-names"") failed - address: ([(""cor
e-service"" => ""*"")]): java.lang.NullPointerException
        at org.jboss.as.controller.operations.global.ReadOperationNamesHandler.execute(ReadOperationNamesHandler.java:78) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0
.0.Final-SNAPSHOT]
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSH
OT]
        at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNA
PSHOT]
        at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Fin
al-SNAPSHOT]
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-S
NAPSHOT]
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:174) [wildfly-c
ontroller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:105) [wildfly-
controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:125) [wildfly-con
troller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:121) [wildfly-con
troller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_15]
        at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_15]
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:121) [wildfly-c
ontroller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [wildfly-protocol-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHO
T]
        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [wildfly-protocol-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-S
NAPSHOT]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_15]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_15]
        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_15]
        at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]

",2014/01/10 8:33 AM
WFLY-2598,"When scheduling a Timer for immediate (or close) timeout, the related timer task execution may start and check if the timer is active, before the timer is added to the timer service's scheduledTimerFutures map, and in such case the timer task will consider that the Timer is not active and skip the execution.",2013/12/03 12:02 PM
WFLY-6680,"When the modcluster subsystem is unable to connect to a proxy, the jboss-cli commands :read-proxies-configuration and :read-proxies-info fail with an unhelpful error.

On both the domain controller and application host, :read-proxies-info and :read-proxies-configuration fail with the same error.  This is the output from the application host:

{noformat}
[domain@localhost:9999 subsystem=modcluster] pwd
/host=localhost/server=cluster2/subsystem=modcluster

[domain@localhost:9999 subsystem=modcluster] :list-proxies
{
    ""outcome"" => ""success"",
    ""result"" => [
        ""web02:8009"",
        ""web01:8009""
    ]
}

[domain@localhost:9999 subsystem=modcluster] :read-proxies-configuration
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => ""JBAS014749: Operation handler failed: newValue is null"",
    ""rolled-back"" => true
}

[domain@localhost:9999 subsystem=modcluster] :read-proxies-info
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => ""JBAS014749: Operation handler failed: newValue is null"",
    ""rolled-back"" => true
}
{noformat}

In the above example, modcluster was not able to connect to the proxies due to an ssl misconfiguration in the modcluster subsystem in domain.xml.",2013/06/28 12:53 PM
WFLY-3108,"The prescribed mechanism for converting a slave HC to master is to:

1) Start the slave with --backup so a local copy of the domain config is maintained (in file domain.cached-remote.xml).

2) Stop the existing master.

3) Use the cli to connect to the slave and

/host=<slavename>:write-local-domain-controller

4) Then, in the CLI

reload --host=<slavename>

Problem is this fails because the HC expects to have a domain config file ""domain.xml"".

2014-03-13 09:54:04,829 ERROR [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010932: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:112) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at org.jboss.as.host.controller.DomainModelControllerService.boot(DomainModelControllerService.java:514) [wildfly-host-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:256) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
Caused by: java.io.FileNotFoundException: /Users/bstansberry/tmp/WF801/slave/domain/configuration/domain.xml (No such file or directory)
	at java.io.FileInputStream.open(Native Method) [rt.jar:1.7.0_45]
	at java.io.FileInputStream.<init>(FileInputStream.java:146) [rt.jar:1.7.0_45]
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:100) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	... 3 more

Or, MUCH WORSE, there happens to be a random domain.xml in the filesystem, which has content that is out of sync with the correct domain config. This domain.xml config will be used.

",2014/03/13 7:46 AM
WFLY-3047,"This field should be part of an op's operation-headers map, but these classes place it or look for it in the root of the op.",2014/02/28 1:19 PM
WFLY-2551,"If you just create a basic datasource under AS 7.2 the you can view the current statistics about the pool under

jboss.as:subsystem=datasources,data-source=mySQL,statistics=pool

However, if you add the following then sometimes the statistics=pool and statistics=jdbc entries disspaear

<validation><check-valid-connection-sql>select 1</check-valid-connection-sql></validation>


",2013/11/22 7:05 AM
WFLY-958,When AS7 starts org.jboss.as.messaging.jms.JMSService sets up a default security override for in-vm connections.  There is no way to disable this override and there should be.,2012/05/29 3:46 PM
WFLY-3194,"With the java services approach it is possible to add a client side interceptor by adding the services file META-INF/services/org.jboss.ejb.client.EJBClientInterceptor to activate the interceptor if the class is accessable.
The file must be added to the client.jar in case of a simple standalone client.
And to the ejb.jar if the interceptor is used inside a server application.

For the appclient I expect that add this file to 
  EAR/client.jar/META-INF/services
will do the same.
Nevertheless adding the file to ear/META_INF ear/ejb.jar/META-INF do not woth either.
Also adding the class to the client.jar, as ear module or as server module with dependency did not work.

All theses Interceptors can be used if the client Main method add this with the JBoss API.

A working example can be found here 
  https://github.com/wfink/jboss-eap-quickstarts/tree/application-client/app-client
For the example with the services approach try
  https://github.com/wfink/jboss-eap-quickstarts/tree/application-client-withServices/app-client",2014/03/31 10:00 AM
WFLY-3004,"When using cli for batch files using --file and --properties arguments, any property is resolved but for those defined in the connect command line.

The properties file contains (among the others):
server.bind.addr = xxxxx
server.management.port = 9990

Having:
connect ${server.bind.addr}
in the batch file gets
ERROR [org.jboss.as.cli.CommandContext] Failed to resolve host '${server.bind.addr}': Failed to create URI: Illegal character in authority at index 16: http-remoting://${server.bind.addr}:9990

Having:
connect ${server.bind.addr}:${server.management.port}
gets:
ERROR [org.jboss.as.cli.CommandContext] The port must be a valid non-negative integer: '${server.bind.addr}:${server.management.

If i use literal values for the connect command, any other property in the batch is correctly resolved (but that's exactly what i was trying to avoid)",2014/02/24 8:16 AM
WFLY-3020,"LogStoreProbeHandler replaces the 'delegate' held by LogStoreResource. Doing this removes any data from the existing delegate's 'model' field, i.e. the ""type"" attribute.",2014/02/25 9:12 PM
WFLY-3106,"The Infinispan subsystem allows enabling and disabling the collection of statistics for cache managers and caches via the ""statistics-enabled"" management API attribute.

It is possible to set statistics-enabled attributes independently for cache managers and caches in the management API, but when checking the Infinispan MBeans, we see that statistics are either enabled for cache managers and their caches, or disabled for cache managers and caches.  

",2014/03/12 4:25 PM
WFLY-1948,"Test org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase fails on Solaris, because environment variable USER is not set.
From the source:
USER_SYS_PROP = System.getProperty(""os.name"",""linux"").contains(""indows"")?""USERNAME"":""USER"";
So there is already a differentiation between Windows and others.
For Solaris LOGNAME is the variable to use. And os.name is SunOS.",2013/08/25 12:09 PM
WFLY-2205,"The following is printed during a shutdown of an .ear

{noformat}
11:21:52,260 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015877: Stopped deployment null (runtime-name: msginflow1_mdb_msginflow_ejb.jar) in 16ms
11:21:52,260 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) JBAS015877: Stopped deployment null (runtime-name: msginflow_mdb_msginflow_ejb.jar) in 16ms
11:21:52,262 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) JBAS015877: Stopped deployment msginflow_mdb.ear (runtime-name: msginflow_mdb.ear) in 18ms
11:21:52,387 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018558: Undeployed ""msginflow_mdb.ear"" (runtime-name: ""msginflow_mdb.ear"")
{noformat}

The 'null' part of the .jar undeployment doesn't look nice.",2013/10/02 11:35 AM
WFLY-2964,"system-jmx/src/main/java/org/jboss/system/ServiceMBeanSupport.java
379   log.error(e);

patching/src/main/java/org/jboss/as/patching/validation/PatchArtifact.java
102   ctx.getErrorHandler().error(""Failed to load identity info for patch "" + patch.getPatchId(), e);
116   ctx.getErrorHandler().error(""Failed to load previous patch"", e);

patching/src/main/java/org/jboss/as/patching/validation/XmlFileState.java
51   ctx.getErrorHandler().error(""File doesn't exist: "" + file.getAbsolutePath());
56   ctx.getErrorHandler().error(""Failed to parse file: "" + file.getAbsolutePath(), e);

patching/src/main/java/org/jboss/as/patching/validation/PatchElementProviderArtifact.java
84   ctx.getErrorHandler().error(""Layer not found: "" + metadata.getName());

patching/src/main/java/org/jboss/as/patching/runner/IdentityPatchContext.java
435   PatchLogger.ROOT_LOGGER.warnf(e, ""failed to undo change (%s)"", modification);

ejb3/src/main/java/org/jboss/as/ejb3/tx/CMTTxInterceptor.java
169   EjbLogger.ROOT_LOGGER.error(t);",2014/02/19 9:39 AM
WFLY-2081,"Recent wildfly-8.0.0.Beta1-SNAPSHOT (IronJacamar 1.1.0.Final) throws following error intermittently when there are multiple RARs in an EAR:
13:12:34,710 ERROR [org.jboss.msc.service] (MSC service thread 1-10) MSC000002: Invocation of listener ""org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1@e7b3aee"" failed: java.util.ConcurrentModificationException
at java.util.HashMap$HashIterator.nextEntry(HashMap.java:894) [rt.jar:1.7.0_25]
at java.util.HashMap$KeyIterator.next(HashMap.java:928) [rt.jar:1.7.0_25]
at org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.getIronJacamarResource(IronJacamarResourceCreator.java:335) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.execute(IronJacamarResourceCreator.java:350) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1.registerIronjacamar(ParsedRaDeploymentProcessor.java:145) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.transition(AbstractResourceAdapterDeploymentServiceListener.java:244) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:51) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2095) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]

Older versions had a similar problem as detailed in JBJCA-933 (which also shows interleaving example with 3 RARs).",2013/09/16 9:24 AM
WFLY-3092,"The domain op rollout logic's AbstractServerUpdateTask.ServerUpdateResultHandler interface is serving no purpose and should be removed. It's cruft left from earlier implementations.

The only impl stores data in a map that never gets read. ",2014/03/08 6:56 PM
WFLY-1527,"It's not possible to include root of a war in the classpath (using resource-root in jboss-deployment-structure.xml). None of ""/"", ""."", """" values used as resource-root works to solve this.

{code:xml}
<jboss-deployment-structure>
     <deployment>
         <resources>
             <resource-root path=""/""/>
         </resources>
     </deployment>
</jboss-deployment-structure>
{code}",2013/06/14 4:22 AM
WFLY-3123,There were a few bug fix releases of the JBoss Java EE API projects to include in WildFly.,2014/03/17 10:30 AM
WFLY-3040,"I listed modules with links to missing ones :

|| module || missing module ||
| org.infinispan.client.hotrod | com.google.protobuf |
| org.jboss.as.aggregate | org.jboss.as.managed-beans |
| org.jboss.genericjms | org.jboss.genericjms.provider |
",2014/02/28 6:04 AM
WFLY-3109,"The onClose method of the websocket endpoints does not receive valid CloseReason, it is always null.

With GlassFish 4.0, the CloseReason is not null and correctly reflects the code and message used to close the wensocket from the client side.

Simplified code sample of the endpoint:

@ServerEndpoint(value = ""/test"", configurator = MyConfigurator.class)
public class MyEndpoint {
   // onOpen, onMessage and onError, LOGGER are omitted

    @OnClose
    public void onClose(Session session, CloseReason reason) {
        LOGGER.debug(""onClose(sessionId={}, reason={})"", session.getId(), reason);
    }
}",2014/03/13 7:47 AM
WFLY-3022,See parent issue.,2014/02/25 9:18 PM
WFLY-2423,"LookupInjectionSource assumes the source jndi name has scheme java:, which results in no support for other schemes such as ldap:.",2013/10/31 8:27 AM
WFLY-3073,"The MBeanServer.createMBean methods that take an ""ObjectName loaderName"" argument are completely broken in EAP 6.

These methods call findDelegate to make sure there is already an existing MBean registered with the given name passed in for the new MBean, or else it throws an exception.
This is obviously wrong, as there'd be no point in calling createMBean if it already existed.

javax.management.InstanceNotFoundException: test:service=Test
at org.jboss.as.jmx.PluggableMBeanServerImpl.findDelegate(PluggableMBeanServerImpl.java:1083)
at org.jboss.as.jmx.PluggableMBeanServerImpl.createMBean(PluggableMBeanServerImpl.java:253)",2014/03/05 3:28 PM
WFLY-3163,"EAP audit log should display the EAP version instead of the AS version

Currently the audit log shows the AS version number instead of the EAP version. Example:

Feb 13 07:55:43 efjkffglk000000719 syslogappname[553]: 2014-02-13 07:55:43 - {""type"" : ""core"", ""r/o"" : false, ""booting"" : false, ""version"" : ""7.3.0.Final-redhat-14"", ""user"" : ""$local"", ""domainUUID"" : null, ""access"" : ""NATIVE"", ""remote-address"" : ""10.10.10.250/10.10.10.250"", ""success"" : true, ""ops"" : [{""address"" : [{ ""host"" : ""master"" },{ ""core-service"" : ""management"" },{ ""access"" : ""audit"" },{ ""logger"" : ""audit-log"" }], ""operation"" : ""write-attribute"", ""name"" : ""enabled"", ""value"" : false, ""operation-headers"" : {""caller-type"" : ""user"", ""access-mechanism"" : ""NATIVE"", ""domain-uuid"" : ""fead80e4-690d-4bcf-af71-ecaf30f98381"", ""push-to-servers"" : null}}]}

""version"" : ""7.3.0.Final-redhat-14""

This should show:

""version"" : ""6.2.1.GA"" 


There's a request that it show something like ""6.2 CP01"" but that is a patch file name, not a software version, and is unknown to the software.",2014/02/19 10:15 AM
WFLY-3103,"Using PrimitiveListAttributeDefinition.Builder#Builder(PrimitiveListAttributeDefinition)
to build an new attribute definition from a basis does not preserve the basis' elementValidator and the valid operation can not be validated against the copied definition.
",2014/03/12 10:40 AM
WFLY-3151,"The CLI startup script needs to be modified to process arguments like standalone.sh and friends to, to be tolerant of spaces in the original arg list.

Original report:

Sent email to wildfly-dev:

{noformat}
Java EE 7 CI job on WildFly trunk is failing:

https://arungupta.ci.cloudbees.com/job/Java%20EE%207%20Samples%20on%20WildFly-cb/155/console

Here is the error message:

Started 45 of 56 services (22 services are lazy, passive or on-demand)
 [0m+ wildfly-8.0.1.Final-SNAPSHOT/bin/jboss-cli.sh --connect
'--commands=/subsystem=messaging/hornetq-server=default:write-attribute(name=journal-type,value=NIO),:reload(admin-only=false)'
Error: Could not find or load main class EE
Process leaked file descriptors. See
http://wiki.jenkins-ci.org/display/JENKINS/Spawning+processes+from+build
for more information
Build step 'Execute shell' marked build as failure
{noformat}

David responded:

{noformat}
Looks like a possible regression in standalone.sh due to there being a
space in the startup path.

As a workaround you could change your workspace name from ""Java EE 7
Samples on WildFly-cb"" to e.g. ""java-ee-7-samples-on-wildfly-cb"" or
similar (with no spaces).
{noformat}",2014/03/21 3:04 PM
WFLY-3076,ModelControllerMBeanHelper is invoking a read-attribute management op in its constructor to find out of the process is a standalone server. This is not necessary -- JmxSubsystemAdd can find this out from the OperationContext and pass this information through to the ModelControllerMBeanHelper it indirectly creates.,2014/03/06 6:13 PM
WFLY-829,"When deploying an ear file that contains an Entity bean with an inappropriate @PersistenceContext annotation, the following stacktrace is generated, and the deployment fails:


15:36:16,322 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-9) MSC00001: Failed to start service jboss.deployment.subunit.""xxx.xxxxxx.xxxxx.deploy.ear"".""xxx.xxxxxx.xxxxx.ejb-0.0.1-SNAPSHOT.jar"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""xxx.xxxxxx.xxxxx.deploy.ear"".""xxx.xxxxxx.xxxxx.ejb-0.0.1-SNAPSHOT.jar"".PARSE: Failed to process phase PARSE of subdeployment ""xxx.xxxxxx.xxxxx.ejb-0.0.1-SNAPSHOT.jar"" of deployment ""xxx.xxxxxx.xxxxx.deploy.ear""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:121) [jboss-as-server-7.0.2.Final.jar:7.0.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1824) [jboss-msc-1.0.1.GA.jar:1.0.1.GA]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1759) [jboss-msc-1.0.1.GA.jar:1.0.1.GA]
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [:1.6.0_29]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [:1.6.0_29]
	at java.lang.Thread.run(Thread.java:680) [:1.6.0_29]
Caused by: java.lang.IllegalArgumentException: Class level annotations must provide a name.
	at org.jboss.as.jpa.processor.JPAAnnotationParseProcessor.processClass(JPAAnnotationParseProcessor.java:233)
	at org.jboss.as.jpa.processor.JPAAnnotationParseProcessor.processPersistenceAnnotations(JPAAnnotationParseProcessor.java:127)
	at org.jboss.as.jpa.processor.JPAAnnotationParseProcessor.deploy(JPAAnnotationParseProcessor.java:90)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:115) [jboss-as-server-7.0.2.Final.jar:7.0.2.Final]
	... 5 more


The IllegalArgumentException gives no data for the annotation, the class, or any relevant data to the cause.  I built JBoss debug from source to discover that the culprit in my case was a misplaced PersistenceContext annotation in an entity bean.  The offending annotation had actually existed in a version of our code running in JBoss 4 without error.",2011/12/19 3:16 AM
WFLY-2923,This class should be re-done to not use weak and soft references. As the values in the weak map hold a reference to the key the values will never be released until the soft references expire. ,2014/02/13 4:56 AM
WFLY-2891,"This is because audit logging uses the controller lock to find out if the model was a write operation. If rbac is enabled and an operation is not authorised, the error happens before the controller lock is taken. So if audit log log-read-only=""false"" the failed operation does not get logged.",2014/02/10 7:43 AM
WFLY-3180,"Currently, the owner of a web session or SFSB is responsible for schedule passivation.  Unfortunately, much to my surprise, infinispan eviction commands are not broadcasted to the cluster, but are local-only.  Consequently, the number of cache entries stored in memory can grow beyond the configured passivation limits, since remote copies of old cache entries are never evicted.
To fix this, we can use the CommandDispatcher to manually broadcast eviction commands to the cluster.",2014/03/27 11:38 AM
WFLY-2995,Currently the {{OptionHandler.activateOptions}} is only invoked during construction of a log4j appender. This invocation should happen if any property is updated or added. The invocation of this method should also only happen once. Multiple invocation could result in errors or leave the appender in an invalid state.,2014/02/11 6:56 PM
WFLY-29,"I have an ear file names migrate.ear which contains one ejb jar (ejb.jar) and one war file (war.war), if I put the ejb jar to a ejb folder and war file to war folder, the ear can not be depoyed.

If I move the ejb jar and war file out, it can be deployed. 
Below  structuer can be deployed:
ejb.jar
lib/
lib/util-1.0-SNAPSHOT.jar
lib/version.jar
META-INF/
META-INF/application.xml
META-INF/MANIFEST.MF
war.war
 

Below structure can not be deployed:
ejb/
ejb/ejb.jar
lib/
lib/util-1.0-SNAPSHOT.jar
lib/version.jar
META-INF/
META-INF/application.xml
META-INF/MANIFEST.MF
war/
war/war.war

Below is the error:
http://community.jboss.org/message/630869#630869",2011/10/11 2:57 AM
WFLY-3011,"OperationContextImpl caches operation ModelNodes for later logging, but it does not clone them first. As a result, the ModelNodes get mutated during op execution (e.g. headers can be added) and the log record shows that mutated state instead of the original user input. That can be misleading.",2014/02/24 6:03 PM
WFLY-2480,"So one or the other should to change.

cvc-complex-type.2.4.a: Invalid content was found starting with element 'store'. One of '{""urn:jboss:domain:infinispan:2.0"":backups, ""urn:jboss:domain:infinispan:2.0"":backup-for}' is expected.

cvc-complex-type.2.4.a: Invalid content was found starting with element 'mixed-keyed-jdbc-store'. One of '{""urn:jboss:domain:infinispan:2.0"":backups, ""urn:jboss:domain:infinispan:2.0"":backup-for}' is expected.

cvc-complex-type.2.4.d: Invalid content was found starting with element 'binary-keyed-table'. No child element is expected at this point.",2013/11/08 3:08 PM
WFLY-3017,"The readResourceForUpdate impl makes a few assumptions regarding the fact that a given Resource represents persistent config (i.e. Resource.isRuntime() == true):

1) It calls rejectUserDomainServerUpdates() which means an OSH running on a server could not call this.

2) It calls authorize(false, READ_WRITE_CONFIG) which means an OSH for an op available to the RBAC Operator role could not call this.

Places this impacts include LogStoreProbeHandler and LogStoreTransactionDeleteHandler which should be calling readResourceForUpdate but aren't -- and can't because of this bug.",2014/02/25 4:42 PM
WFLY-3099,management authorization throws an exception when an LDAP group contains a slash/backslash character,2014/03/11 7:42 AM
WFLY-2912,"When trying to use generic resource adapter with third part JMS providers like TIBCO it is necessary to use generic RA provided in JBoss EAP 6.2. Unfortunately it would appear that when trying to use in domain mode the RA does not get deployed full, though it works perfectly in standalone mode.",2014/02/12 5:59 AM
WFLY-977,"The PostConstruct method of an AsyncListener is called, but the PreDestroy method is not called. 

For example, the listener is created and registered as follows:

{code:java}
AsyncContext ac = request.startAsync();
     
ac.addListener(ac.createListener(MyAsyncListener.class));
{code}

AsyncListener is considered a web event listener and Java EE component, and its PreDestroy method should be called when the current request terminates. ",2012/10/25 10:38 PM
WFLY-915,"The welcome content in the community repository does contain a RedHat logo. It actually even contains the text ""by redhat"" which is according to the license guidelines reserved for the EAP version. I think the branding should be removed since otherwise it makes even forking/repackaing for the JBoss AS hard: 

https://github.com/jbossas/jboss-as/blob/master/build/src/main/resources/welcome-content/jboss_community.png

(also note that the file name is pretty missleading to, as it is not the community logo (alone)).",2012/10/31 2:06 PM
WFLY-2997,"org.jboss.as.domain.controller.operations.coordination.PrepareStepHandler creates a UUID and sets ""operations-headers"" => ""domain-uuid"" on the op, but it does not pass the same UUID to AccessAuditContext. The result is the  log record has null in the domainUUID field but the operation headers part of the ""ops"" field shows the uuid. Confusing.",2014/02/21 5:38 PM
WFLY-2807,"The runtime-queue resource only exists at runtime but isn't registered as such. I noticed this as ManagementClient does a recursive read-resource of the entire tree, but with include-runtime=false, but a CI run showed a failure reading one of these resources anyway:

```
21:01:01,754 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""messaging""),
    (""hornetq-server"" => ""default""),
    (""runtime-queue"" => ""jms.tempqueue.661a6b15-7863-4d6c-b4b1-f8d62d294ea5"")
]) - failure description: ""JBAS011676: No resource exists at address [
    (\""subsystem\"" => \""messaging\""),
    (\""hornetq-server\"" => \""default\""),
    (\""runtime-queue\"" => \""jms.tempqueue.661a6b15-7863-4d6c-b4b1-f8d62d294ea5\"")
]""
```

Doing read-resource with these is a bit problematic in any case, since a bunch of read-attribute calls get executed as steps (that's what the above was) but the resource can disappear in the middle. But that's a separate problem. ",2014/01/23 4:24 PM
WFLY-2885,"HttpListenerService.prestart() does some registration stuff that doesn't get cleaned up if start() fails later on.

I noticed this in the logs while debugging RolloutPlanTestCase failures on JDK8. Probably unrelated to those failures; just an FYI to give context.

What happens in the test is it does an http-listener=xxx:add that is deliberately meant to fail in Stage.RUNTIME (due to a port conflict.) Later on the test does the same thing again. It's meant to fail there too, but I noticed in the logs that it failed for the *wrong reason*, before the port conflict:

{code}
[Server:main-one] 10:13:44,128 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.undertow.listener.maxFailOnePlan: org.jboss.msc.service.StartException in service jboss.undertow.listener.maxFailOnePlan: Failed to start service
[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:main-one]       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]
[Server:main-one]       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]
[Server:main-one]       at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]
[Server:main-one] Caused by: java.lang.IllegalArgumentException: UT000053: Listener maxFailOnePlan already registered
[Server:main-one]       at io.undertow.server.ListenerRegistry.addListener(ListenerRegistry.java:32) [undertow-core-1.0.0.CR5.jar:1.0.0.CR5]
[Server:main-one]       at org.wildfly.extension.undertow.HttpListenerService.preStart(HttpListenerService.java:107)
[Server:main-one]       at org.wildfly.extension.undertow.ListenerService.start(ListenerService.java:121)
[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
[Server:main-one]       ... 3 more
{code}

The error ^^^ will continue to happen until the server is restarted, even if the port conflict situation was fixed. It's because the ListenerRegistry.addListener call from the first attempt was never cleaned up.

Cleaning up would have to be done in a catch block in ListenerService.start(). The code in stop() that normally does the cleanup does not get called if service start has failed.

I expect we have this kind of problem in many places in the WF code.",2014/02/09 11:34 AM
WFLY-2137,"When launching the app server in domain mode when there is a transaction subsystem active with jts set to true, server shows an error that there's a circular dependency between services.
I don't have any log to show this but it is easily reproducible.",2013/09/23 3:16 PM
WFLY-2031,"look at existing use of AbstractEntityManager.detachTypedQueryNonTxInvocation() and also catch queries that need this.  For example, createQuery(CriteriaUpdate criteriaUpdate) is in need of this.",2013/09/09 2:32 PM
WFLY-2782,"Whereever JMXConnectorFactory.connect() is called, the resulting JMXConnector should be closed",2014/01/20 2:23 PM
WFLY-2851,"The following deployment structure cannot be validated against the XML schema:

{code:xml}
<jboss-deployment-structure  xmlns=""urn:jboss:deployment-structure:1.2"">

    <deployment>
        <dependencies>
            <module name=""foo""/>
        </dependencies>
    </deployment>

</jboss-deployment-structure>
{code}

This looks like a glitch in the schema where the {{module-alias}} element in {{deploymentType}} is missing a {{minOccurs=""0""}}.

The same holds for the {{filter}} element of {{resource-root}}, which should be optional according to the schema documentation.",2014/01/31 9:21 AM
WFLY-2901,"<simple-load-provider factor=""0""/> isn't accepted by the parser.",2014/02/11 2:55 AM
WFLY-2182,"I am observing a significant slow down when running the Weld integration testsuite. I tracked this down to this commit:

https://github.com/wildfly/wildfly/commit/13f09525717a089f8a524d086fd865798410f368

Here are the observed execution times of the Weld integration testsuite:
Before: Total time: 4:30.357s
After: Total time: 11:05.547s

I also tried running the WildFly's integration testsuite (testsuite/integration/basic) with and without the 13f09525717a089f8a524d086fd865798410f368 commit:

Before: Total time: 13:04.412s
After: Total time: 21:33.089s

Note that the difference is not observed when using the arquillian servlet protocol",2013/09/30 6:57 AM
WFLY-2588,"-Djava.security.policy==/Users/kabir/tmp/permit.policy (note the extra '=') is a valid setting to just use that policy file (unlike -Djava.security.policy=/Users/kabir/tmp/permit.policy which adds it to the system wide and user policies)

Main.getHostSystemProperties() currently handles this in a way that the value becomes null, while it should be '=/Users/kabir/tmp/permit.policy' which causes this problem when starting up the servers 
{code}
[Server:server-one] Exception in thread ""main"" java.security.AccessControlException: access denied (java.util.PropertyPermission module.path write)
[Server:server-one]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:376)
[Server:server-one]     at java.security.AccessController.checkPermission(AccessController.java:549)
[Server:server-one]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)
[Server:server-one]     at java.lang.System.setProperty(System.java:741)
[Server:server-one]     at org.jboss.modules.Main.main(Main.java:148)
{code}",2013/11/28 6:52 AM
WFLY-2136,currently users migrating from earlier app server versions will get http://pastebin.com/4tRk75vh,2013/09/23 12:41 PM
WFLY-1636,"The problem is in OverrideDescriptionCombiner adding the overridden children to the attributes rather than to the children. For background, this was my initial mail on the subject.
-------
I found this when trying to read the role based access control settings for the whole of WIldFly. I have worked around this with a hack on my https://github.com/kabir/wildfly/commits/rbac-play branch, which is called ""Temp commit, work around problems in /subsystem=datasources/data-source=* definition of statistics"". The underlying problem seems to be that there is a problem with the resource definition for this attribute/child type. Apart from this there are no other problems when running with standalone-full-ha.xml.

The 'statistics' appears as an attribute when doing a read-resource-description
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-resource-description                     
{
   ""outcome"" => ""success"",
   ""result"" => {
       ""description"" => ""A JDBC data-source configuration"",
       ""attributes"" => {
           ""share-prepared-statements"" => {
               ""type"" => BOOLEAN,
               ""description"" => ""Whether to share prepared statements, i.e. whether asking for same statement twice without closing uses the same underlying prepared statement"",
               ""expressions-allowed"" => true,
               ""nillable"" => true,
               ""default"" => false,
               ""access-type"" => ""read-write"",
               ""storage"" => ""configuration"",
               ""restart-required"" => ""no-services""
           },
-- SNIP

           ""statistics"" => {
               ""description"" => ""Runtime statistics provided by the resource adapter."",
               ""access-type"" => ""read-only"",
               ""storage"" => ""configuration""
           }
       },
       ""operations"" => undefined,
       ""children"" => {""connection-properties"" => {
           ""description"" => ""The connection-properties element allows you to pass in arbitrary connection properties to the Driver.connect(url, props) method"",
           ""model-description"" => undefined
       }}
   }
}

However, it does not appears as a child but not as an attribute:

[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-children-names(child-type=statistics)
{
   ""outcome"" => ""success"",
   ""result"" => [
       ""jdbc"",
       ""pool""
   ]
}[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-attribute(name=statistics)
{
   ""outcome"" => ""failed"",
   ""failure-description"" => ""JBAS014640: 'statistics' is a registered child of resource ([
   (\""subsystem\"" => \""datasources\""),
   (\""data-source\"" => \""ExampleDS\"")
])"",
   ""rolled-back"" => true
}

In read-resource it appears as a child:
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-resource(recursive=true, include-runtime=true)
{
   ""outcome"" => ""success"",
   ""result"" => {
---- SNIP ----
       ""statistics"" => {
           ""jdbc"" => {
               ""PreparedStatementCacheAccessCount"" => ""0"",
               ""PreparedStatementCacheAddCount"" => ""0"",
               ""PreparedStatementCacheCurrentSize"" => ""0"",
               ""PreparedStatementCacheDeleteCount"" => ""0"",
               ""PreparedStatementCacheHitCount"" => ""0"",
               ""PreparedStatementCacheMissCount"" => ""0""
           },
           ""pool"" => {
               ""ActiveCount"" => ""0"",
               ""AvailableCount"" => ""20"",
               ""AverageBlockingTime"" => ""0"",
               ""AverageCreationTime"" => ""0"",
               ""CreatedCount"" => ""0"",
               ""DestroyedCount"" => ""0"",
               ""InUseCount"" => ""0"",
               ""MaxCreationTime"" => ""0"",
               ""MaxUsedCount"" => ""0"",
               ""MaxWaitCount"" => ""0"",
               ""MaxWaitTime"" => ""0"",
               ""TimedOut"" => ""0"",
               ""TotalBlockingTime"" => ""0"",
               ""TotalCreationTime"" => ""0""
           }
       }
   }
}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS/statistics=jdbc:read-resource(include-runtime=true)
{
   ""outcome"" => ""success"",
   ""result"" => {
       ""PreparedStatementCacheAccessCount"" => ""0"",
       ""PreparedStatementCacheAddCount"" => ""0"",
       ""PreparedStatementCacheCurrentSize"" => ""0"",
       ""PreparedStatementCacheDeleteCount"" => ""0"",
       ""PreparedStatementCacheHitCount"" => ""0"",
       ""PreparedStatementCacheMissCount"" => ""0""
   }
}
",2013/07/04 8:50 AM
WFLY-1447,"Attempting to connect remotly results in a NoClassDefFound for org.wildfly.security.manager.WildFlySecurityManager, which is needed by the CLI plugin. ",2013/06/03 5:50 PM
WFLY-1292,"The ""Using Eclipse"" instructions refer to the obsolete Sonatype m2Eclipse plugin, which has been replaced by the Eclipse m2e plugin.

Also, there's no way the WildFly project can be loaded in a 512m heap.
",2013/04/28 4:14 AM
WFLY-934,test.log should be placed to target directory instead of target/workdir/target/,2012/03/14 8:42 AM
WFLY-2203,"Our individual *-ds.xml datasources were all deploying fine in Alpha4 but in the Beta1 nightlies this error appears on startup:

{noformat}
15:07:52,111 ERROR [org.jboss.msc.service] (MSC service thread 1-4) MSC000002: Invocation of listener ""org.jboss.as.connector.subsystems.datasources.D
ataSourceStatisticsListener@7d18ac99"" failed: java.lang.IllegalArgumentException: JBAS014742: A node is already registered at '(deployment => *)(subsy
stem => datasources)(data-source => *)(statistics => jdbc)'
        at org.jboss.as.controller.registry.NodeSubregistry.register(NodeSubregistry.java:86) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1
-SNAPSHOT]
        at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:149) [wildfly-controller-8
.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
        at org.jboss.as.controller.registry.AbstractResourceRegistration.registerSubModel(AbstractResourceRegistration.java:90) [wildfly-controller-8.
0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
        at org.jboss.as.connector.subsystems.datasources.DataSourceStatisticsListener.transition(DataSourceStatisticsListener.java:72) [wildfly-connec
tor-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
{noformat}

Our datasource files look like this. I haven't tried putting all the datasource elements into one file.

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<datasources>
  <datasource jndi-name=""java:/AlphaDS"" enabled=""true"" use-java-context=""true"" pool-name=""AlphaDS"">
    <connection-url>jdbc:oracle:thin://@db-host:1666/dev-db</connection-url> 
    <driver>oracle</driver>
    <security>
      <user-name>XXX</user-name>
      <password>YYY</password>
    </security>
    <connection-property name=""defaultNChar"">true</connection-property>
  </datasource>
</datasources>
{code}

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<datasources>
  <datasource jndi-name=""java:/BetaDS"" enabled=""true"" use-java-context=""true"" pool-name=""BetaDS"">
    <connection-url>jdbc:oracle:thin://@db-host:1666/dev-db</connection-url> 
    <driver>oracle</driver>
    <security>
      <user-name>XXX</user-name>
      <password>YYY</password>
    </security>
    <connection-property name=""defaultNChar"">true</connection-property>
  </datasource>
</datasources>
{code}",2013/10/02 10:18 AM
WFLY-2781,The javadoc and management API text description implies that these attributes relate to communication with servers. They don't. They relate to the client-side of the HC/PC communication.,2014/01/20 2:11 PM
WFLY-2618,"http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF&testNameId=-3843551226685549253&tab=testDetails

The issue is due to the fact that the jvm is reusing the same connection because it has a keep-alive set to true with a timeout of 5 s.
",2013/12/06 10:13 AM
WFLY-2877,"This logic was not in place when the initial implementation was done, so needs to be adjusted to take that overridden value into consideration.",2014/02/06 1:57 PM
WFLY-2836,"Using a http-listener without the redirect-socket attribute requires the configuration to define a socket-binding with name ""https"".

The following error is produced attempting to configure wildfly without https:
{code}
ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (""add"") failed - address: ([
    (""subsystem"" => ""undertow""),
    (""server"" => ""default-server""),
    (""http-listener"" => ""default"")
]) - failure description: {""JBAS014771: Services with missing/unavailable dependencies"" => [""jboss.undertow.listener.default is missing [jboss.binding.https]""]}
{code}

I believe this constant is defined in ListenerResourceDefinition on line 80.

If this is the desired behavior, the undertow schema should probably be updated to make redirect-socket required or at least document the dependency.
",2014/01/29 1:56 PM
WFLY-2170,Intermittent failure reconnecting to the server after it is restarted.,2013/09/27 2:44 AM
WFLY-2886,"RolloutPlanTestCase.testMaxFailServersRolloutPlan() assumes that the final op it sends (to remove the http-listener) will be executed on servers main-two and main-three. This is invalid, because if main-one executes before either main-two or main-three, there will be two failed servers in the rollout and the 3rd server will never get called.

This is why the test fails on JDK 8. There is some impl difference (probably in some collection class) that causes the server ops to be executed in different order.

This is just a matter of correcting some test assertions.",2014/02/09 2:06 PM
WFLY-2197,"ClientCompatibilityUnitTestCase has ""localhost"" hard coded as the address it tries to connect to. This fails when IPv6 is configured for testsuite runs, as the server is not listening on 127.0.0.1 but rather ::1.",2013/10/01 4:14 PM
WFLY-1583,The logging subsystem ({{org.jboss.as.logging}}) had it's own {{org.jboss.logmanager.Configurator}} which requires the {{org.jboss.logmanager}} to have a dependency on the subsystem. The log manager module should not have a dependency on anything except {{org.jboss.modules}}.,2013/06/24 12:07 PM
WFLY-1791,NoData,2013/07/31 12:58 PM
WFLY-3183,"When using an EL Expression that involve getHeader() exception is thrown : 
{noformat}
13:05:35,866 SEVERE [javax.enterprise.resource.webcontainer.jsf.application] (default task-1) Error Rendering View[/index.xhtml]: javax.el.ELException: /index.xhtml @9,63 value=""#{request.getHeader('user-agent')}"": java.lang.IllegalArgumentException: Cannot convert user-agent of type class java.lang.String to class io.undertow.util.HttpString
	at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:114) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:194) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:182) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at javax.faces.component.UIOutput.getValue(UIOutput.java:174) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at com.sun.faces.renderkit.html_basic.HtmlBasicInputRenderer.getValue(HtmlBasicInputRenderer.java:205) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.getCurrentValue(HtmlBasicRenderer.java:355) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeEnd(HtmlBasicRenderer.java:164) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:919) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1863) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:461) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219) [jsf-impl-2.2.5-jbossorg-3.jar:]
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647) [jboss-jsf-api_2.2_spec-2.2.5.jar:2.2.5]
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]
Caused by: javax.el.ELException: java.lang.IllegalArgumentException: Cannot convert user-agent of type class java.lang.String to class io.undertow.util.HttpString
	at com.sun.el.ExpressionFactoryImpl.coerceToType(ExpressionFactoryImpl.java:79) [javax.el-3.0.0.jar:3.0.0]
	at javax.el.ELContext.convertToType(ELContext.java:473) [javax.el-3.0.0.jar:3.0.0]
	at com.sun.el.lang.EvaluationContext.convertToType(EvaluationContext.java:166) [javax.el-3.0.0.jar:3.0.0]
	at javax.el.ELUtil.invokeMethod(ELUtil.java:320) [javax.el-3.0.0.jar:3.0.0]
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:536) [javax.el-3.0.0.jar:3.0.0]
	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:256) [javax.el-3.0.0.jar:3.0.0]
	at com.sun.el.parser.AstValue.getValue(AstValue.java:136) [javax.el-3.0.0.jar:3.0.0]
	at com.sun.el.parser.AstValue.getValue(AstValue.java:204) [javax.el-3.0.0.jar:3.0.0]
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226) [javax.el-3.0.0.jar:3.0.0]
	at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:109) [jsf-impl-2.2.5-jbossorg-3.jar:]
{noformat}
Here is the jsf page : 

{code:xml}
<html xmlns=""http://www.w3.org/1999/xhtml""
      xmlns:h=""http://java.sun.com/jsf/html""
      xmlns:f=""http://java.sun.com/jsf/core""
      xmlns:ui=""http://java.sun.com/jsf/facelets"">  
    <h:head>
    </h:head>  
    <h:body>  
    
    <h:outputText value=""#{request.getHeader('user-agent')}""/>
    
    </h:body>  
</html>
{code}

Web.xml

{code:xml}
<?xml version=""1.0"" encoding=""UTF-8""?>
<web-app xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
	xmlns=""http://java.sun.com/xml/ns/javaee""
	xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd""
	version=""3.0"">
	<servlet>
		<servlet-name>Faces Servlet</servlet-name>
		<servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
		<load-on-startup>1</load-on-startup>
	</servlet>
	<servlet-mapping>
		<servlet-name>Faces Servlet</servlet-name>
		<url-pattern>*.xhtml</url-pattern>
	</servlet-mapping>
</web-app>
{code}",2014/03/25 9:11 AM
WFLY-838,"The following exception are thrown when asking the MBean server for the classname implementing ""jboss.jsr77:j2eeType=WebModule,name=MyWar.war,J2EEServer=default"".

It should be a legal call. Why are the code clearly states it's illegal?

 
java.lang.IllegalStateException: JBAS019905: Should not get called

    at org.jboss.as.jsr77.managedobject.J2EEDeployedObjectHandlers$J2EEModuleHandler.queryObjectNames(J2EEDeployedObjectHandlers.java:245)

    at org.jboss.as.jsr77.managedobject.BaseHandler.getMBeanInfo(BaseHandler.java:64)

    at org.jboss.as.jsr77.managedobject.J2EEDeployedObjectHandlers.getMBeanInfo(J2EEDeployedObjectHandlers.java:147)

    at org.jboss.as.jsr77.managedobject.ManagedObjectHandlerRegistry.getMBeanInfo(ManagedObjectHandlerRegistry.java:112)

    at org.jboss.as.jsr77.subsystem.JSR77ManagementMBeanServer.getMBeanInfo(JSR77ManagementMBeanServer.java:179)

    at org.jboss.as.jmx.PluggableMBeanServerImpl.getMBeanInfo(PluggableMBeanServerImpl.java:212)

 
The error can easily be triggered by using JConsole to browse the same MBean.",2012/12/04 3:33 AM
WFLY-1749,"The commons-beanutils jar includes classes from commons-collections which are not shaded, and should not be used, in any case.

The dependency can be switched from commons-beanutils:commons-beanutils to commons-beanutils:commons-beanutils-core which does not contain the classes.

Any module that actually needs the commons-collections classes should ensure that org.apache.commons.collections is also included as an import.
",2013/07/23 9:40 PM
WFLY-2745,"jboss-cli -h shows the following help message for --controller.

The default controller host is localhost and the port is 9999.

The port number should be 9990 instead of 9999.",2014/01/12 4:49 PM
WFLY-3331,"I tried the latest snapshot with Undertow 1.0.9 and get the stacktrace below after a search request over https. This issue didn't exist with the snapshot from April/24 with Undertow 1.0.6. Also Bouncycastle was upgraded from 1.46 to 1.50. My OS is Windows 7 Enterprise SP1.

{code}
SEVERE [javax.enterprise.resource.webcontainer.jsf.application] Error Rendering View[/rf/artikelverwaltung/listArtikel.xhtml]: java.lang.ArrayIndexOutOfBoundsException
	at java.lang.System.arraycopy(Native Method) [rt.jar:1.8.0_05]
	at org.bouncycastle.crypto.modes.GCMBlockCipher.doFinal(Unknown Source)
	at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(Unknown Source)
	at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)
	at javax.crypto.CipherSpi.bufferCrypt(CipherSpi.java:830) [jce.jar:1.8.0]
	at javax.crypto.CipherSpi.engineDoFinal(CipherSpi.java:730) [jce.jar:1.8.0]
	at javax.crypto.Cipher.doFinal(Cipher.java:2416) [jce.jar:1.8.0]
	at sun.security.ssl.CipherBox.encrypt(CipherBox.java:396) [jsse.jar:1.8.0_05]
	at sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:300) [jsse.jar:1.8.0_05]
	at sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:225) [jsse.jar:1.8.0_05]
	at sun.security.ssl.EngineWriter.writeRecord(EngineWriter.java:186) [jsse.jar:1.8.0_05]
	at sun.security.ssl.SSLEngineImpl.writeRecord(SSLEngineImpl.java:1280) [jsse.jar:1.8.0_05]
	at sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1251) [jsse.jar:1.8.0_05]
	at sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1166) [jsse.jar:1.8.0_05]
	at org.xnio.ssl.JsseSslConduitEngine.engineWrap(JsseSslConduitEngine.java:312)
	at org.xnio.ssl.JsseSslConduitEngine.wrap(JsseSslConduitEngine.java:237)
	at org.xnio.ssl.JsseSslStreamSinkConduit.write(JsseSslStreamSinkConduit.java:113)
	at org.xnio.ssl.JsseSslStreamSinkConduit.write(JsseSslStreamSinkConduit.java:77)
	at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:559) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:164) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:127) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)
	at io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:217) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:585) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:498) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.spec.ServletPrintWriter.write(ServletPrintWriter.java:157) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.spec.ServletPrintWriter.write(ServletPrintWriter.java:201) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.spec.ServletPrintWriterDelegate.write(ServletPrintWriterDelegate.java:101) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:240) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:478) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219) [jsf-impl-2.2.6-jbossorg-4.jar:]
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.9.Final.jar:1.0.9.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_05]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_05]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_05]
{code}",2014/05/09 11:14 AM
WFLY-5449,"Wildfly's JChannelFactory tries to set a custom socket factory on the JGroups transport.

This is not the correct API to use, and it gets overwritten when the JGroups channel starts.
A custom socket factory should be set on the JChannel.

The only time the custom socket factory is currently used is if there's a race condition where two channels are started at the same time, and the custom factory is set just before the other channel uses it.",2015/10/01 11:22 PM
WFLY-5426,"This seems to work okay with the h2 driver, but adding a postgres driver add operations fail.

The driver is deployed and is on the {{main-server-group}} which defaults to the {{full}} profile.
{code}
[domain@localhost:9990 /] /server-group=main-server-group:read-children-resources(child-type=deployment,recursive=true,include-runtime=true)
{
    ""outcome"" => ""success"",
    ""result"" => {""postgresql-9.4-1201.jdbc41.jar"" => {
        ""enabled"" => true,
        ""name"" => ""postgresql-9.4-1201.jdbc41.jar"",
        ""runtime-name"" => ""postgresql-9.4-1201.jdbc41.jar""
    }}
}
{code}

Attempting to add the data source results in the following error:
{code}
[domain@localhost:9990 /] /profile=full/subsystem=datasources/data-source=test-pg:add(driver-name=postgresql-9.4-1201.jdbc41.jar, connection-url=jdbc:postgresql://localhost:test,user-name=user,password=password, jndi-name=java:jboss/datasources/test-pg)
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => {""WFLYDC0074: Operation failed or was rolled back on all servers. Server failures:"" => {""server-group"" => {""main-server-group"" => {""host"" => {""master"" => {
        ""server-one"" => {""WFLYCTL0080: Failed services"" => {""jboss.data-source.java:jboss/datasources/test-pg"" => ""org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg
    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf""}},
        ""server-two"" => {""WFLYCTL0080: Failed services"" => {""jboss.data-source.java:jboss/datasources/test-pg"" => ""org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg
    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf""}}
    }}}}}},
    ""rolled-back"" => true,
    ""server-groups"" => {""main-server-group"" => {""host"" => {""master"" => {
        ""server-one"" => {""response"" => {
            ""outcome"" => ""failed"",
            ""failure-description"" => {""WFLYCTL0080: Failed services"" => {""jboss.data-source.java:jboss/datasources/test-pg"" => ""org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg
    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf""}},
            ""rolled-back"" => true
        }},
        ""server-two"" => {""response"" => {
            ""outcome"" => ""failed"",
            ""failure-description"" => {""WFLYCTL0080: Failed services"" => {""jboss.data-source.java:jboss/datasources/test-pg"" => ""org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg
    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf""}},
            ""rolled-back"" => true
        }}
    }}}}
}
{code}",2015/09/29 1:48 PM
WFLY-5584,"The datasource subsystem was given the concept of domain profiles in WFLY-3634. This doesn't appear to have been fully implemented as {{-ds.xml}} deployments in domain mode don't work. During the deploy process the profile is passed as {{null}} which results in the profile named {{default}} being used. Essentially this means that {{-ds.xml}} domain deployments would only ever work on a profile named {{default}}.

While debugging the issue it doesn't seem as if the profile concept is even needed for data sources. The subsystem is only registered on servers and a server shouldn't need to know about profiles.

In short the profile concept needs to be removed and the {{profile}} attribute on the result of the {{installed-drivers-list}} operation as well as the {{installed-drivers}} complex attribute needs to be deprecated. The attribute was added for the web console and per https://developer.jboss.org/message/941413#941413 it is not used.",2015/10/26 6:12 PM
WFLY-5473,"See ""Steps to Reproduce"" for detailed description.

According to my limited knowledge, this was also the core issue in https://bugzilla.redhat.com/show_bug.cgi?id=924456 which has been dispatched as a one-off to a customer. Thus, I'm setting the priority to blocker as this is a regression against 6.4.x. No exceptions have been observed in the server output however.

Adding Clustering component as I've been trying this with standalone-ha.xml and BZ 924456 relates to clustering.",2015/10/05 6:50 AM
WFLY-5198,"Our clustering stress tests show huge performance drop of 7.0.0.DR8 bits compared to 6.4.0 bits.

Compare these results:

stress-heavyread-session-repl-sync
7.0.0.DR8: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-heavyread-session-repl-sync_noperf21/2/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-heavyread-session-repl-sync_noperf21/2/artifact/report/graph-reponse-times.png]
6.4.0.GA:  [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-heavyread-session-repl-sync_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-heavyread-session-repl-sync_noperf21/1/artifact/report/graph-reponse-times.png]

Jenkins runs (server configs + logs can be found here):
7.0.0.DR8: http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-heavyread-session-repl-sync_noperf21/2/
6.4.0.GA: http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-heavyread-session-repl-sync_noperf21/1/

One can observe that when using 7.0.0.DR8 bits, throughput reaches a threshold of approximately 6000 TPS. This happens in each test using *REPL-SYNC* cache, for example:

stress-session-repl-sync
7.0.0.DR8: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-repl-sync_noperf21/2/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-repl-sync_noperf21/2/artifact/report/graph-reponse-times.png]
6.4.0.GA:  [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-repl-sync_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-repl-sync_noperf21/1/artifact/report/graph-reponse-times.png]

All tests use a 4-node EAP cluster and 5 nodes that generate load. Adding another node to the EAP cluster, the threshold is lowered to 5200 TPS and the max. response time raises, see:

stress-heavyread-session-repl-sync with 5-node cluster
7.0.0.DR8: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-stress-heavyread-session-repl-sync_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-stress-heavyread-session-repl-sync_noperf21/1/artifact/report/graph-reponse-times.png]


*Most of the other scenarios indicate performance regression as well*.

stress-session-dist-sync
7.0.0.DR8: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-dist-sync_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-dist-sync_noperf21/1/artifact/report/graph-reponse-times.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-dist-sync_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-dist-sync_noperf21/1/artifact/report/graph-reponse-times.png]

stress-session-repl-async
7.0.0.DR8: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-repl-async_noperf21/2/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-repl-async_noperf21/2/artifact/report/graph-reponse-times.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-repl-async_noperf21/1/artifact/report/graph-throughput.png] + [response times|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-repl-async_noperf21/1/artifact/report/graph-reponse-times.png]

This issue is related to https://issues.jboss.org/browse/JBEAP-768",2015/08/25 7:19 AM
WFLY-5020,"When you configure transactions subsystem for running with JDBCObject store, the app server fails to start because of a error below.

Error message:
{code}
ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 60) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""transactions"")]): org.jboss.msc.service.CircularDependencyException: Container jboss-as has a circular dependency: [service jboss.txn.ArjunaObjectStoreEnvironment, service jboss.txn.ArjunaRecoveryManager, service jboss.connector.transactionintegration, service jboss.rarepository, service jboss.data-source.java:jboss/datasources/jdbc-store, service jboss.data-source.reference-factory.JDBCPool, service jboss.naming.context.java.jboss.datasources.jdbc-store]
{code}

Datasource configuration is:
{code}
<datasource jta=""false"" jndi-name=""java:jboss/datasources/jdbc-store"" pool-name=""JDBCPool"" enabled=""true"" use-java-context=""true"">
<connection-url>jdbc:sqlserver://mssql2014server:1433;DatabaseName=database1</connection-url>
<driver>sqljdbc4.jar</driver>
<security>
  <user-name>username1</user-name>
  <password>password1</password>
</security>
</datasource>
{code}

and the transaction config looks like this
{code}
<jdbc-store datasource-jndi-name=""java:jboss/datasources/jdbc-store""/>
{code}",2015/07/28 4:26 AM
WFLY-5484,"See ""Steps to Reproduce"". Logging out from an application only works every second time, e.g. HttpRequestServlet.logout() has to be called twice in order to have any effect

This doesn't occur without <single-sign-on/> enabled - logout() has the expected effect. The issue is security related, thus I'm adding our security team members as watchers.",2015/10/07 8:53 AM
WFLY-4880,"Permission names used in the {{security-manager}} subsystem model are not persisted. It can simply lead to non-bootable server configuration.

Expected behavior:
The names used for permission model nodes are persisted in the model (e.g. in an {{alias}} attribute).
",2015/07/07 8:43 AM
WFLY-3619,"While trying to port an EE application from JBoss5 to WF8 the following problem occurred:

EJBs (@Required) using JPA to do some data changes.
Some changes get already written to the database, others reside in the session cache.

After the top EJB call returns, a Hibernate Session flush is triggered in beforeCompletion.

Then more changes are flushed to the database, but I run in a reproduceable database locking problem.

After some time an update of a row fails with lock wait timeout. This row has been inserted prior during the EJB call.

There should be exactly one xa transaction active processing all data changes.
But the database shows two active session, one is an xa transaction with sessionId -2 (orphaned), the other session is a local transaction.

After analyzing all database communication with the help of the JDBC driver logging I found the following behaviour:

- a connection is enlisted and xa start called
- the same connection is used for several select / insert / update statements
- after return of the top EJB call on the same connection xa end and connection un-enlist is called
- the same connection is used for session flush (beforeCompletion) but with local transaction because the connection is no longer associated with the xa transaction, so locks can be expected.

Shouldn't xa end be called AFTER beforeCompletion / session flush!?!",2014/07/14 4:48 AM
WFLY-5617,"Introduced by

fc4c9b37391ac3eec51420b38b5f2a479d3a6a1e",2015/11/03 9:59 AM
WFLY-5100,"Currently when object store is configured to use journal to save the txn log the server won't start.

For WFLY 10.Beta1 there is trouble of attributes naming - see WFLY-5078. But either when used old naming [1] (hornetq instead of activemq) the server fails to start [2].
For WFLY 10.CR1 the naming works fine and {{use-journal-store}} works when used via jboss-cli.sh but the server starts still with the errors.

[1]
{code}
/subsystem=transactions:write-attribute(name=use-journal-store, value=true)
{code}
[2]
{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.txn.ArjunaRecoveryManager: org.jboss.msc.service.StartException in service jboss.txn.ArjunaRecoveryManager: Failed to start service
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
 at java.lang.Thread.run(Thread.java:745)
Caused by: com.arjuna.ats.arjuna.exceptions.FatalError: ARJUNA012135: Could not create Store type: com.arjuna.ats.internal.arjuna.objectstore.hornetq.HornetqObjectStoreAdaptor
 at com.arjuna.ats.arjuna.objectstore.StoreManager.initStore(StoreManager.java:155)
 at com.arjuna.ats.arjuna.objectstore.StoreManager.getActionStore(StoreManager.java:110)
 at com.arjuna.ats.arjuna.objectstore.StoreManager.getRecoveryStore(StoreManager.java:67)
 at com.arjuna.ats.internal.jta.recovery.arjunacore.CommitMarkableResourceRecordRecoveryModule.<init>(CommitMarkableResourceRecordRecoveryModule.java:156)
 at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
 at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
 at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
 at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
 at java.lang.Class.newInstance(Class.java:442)
 at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClass(ClassloadingUtility.java:135)
 at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClassesWithInit(ClassloadingUtility.java:192)
 at com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.getRecoveryModules(RecoveryEnvironmentBean.java:444)
 at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.loadModules(PeriodicRecovery.java:865)
 at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.<init>(PeriodicRecovery.java:121)
 at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.<init>(RecoveryManagerImple.java:107)
 at com.arjuna.ats.arjuna.recovery.RecoveryManager.<init>(RecoveryManager.java:477)
 at com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:132)
 at com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:112)
 at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.create(RecoveryManagerService.java:54)
 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:119)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
 ... 3 more
Caused by: java.lang.NoClassDefFoundError: org/apache/activemq/artemis/core/journal/SequentialFileFactory
 at com.arjuna.ats.internal.arjuna.objectstore.hornetq.HornetqObjectStoreAdaptor.<init>(HornetqObjectStoreAdaptor.java:78)
 at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
 at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
 at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
 at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
 at java.lang.Class.newInstance(Class.java:442)
 at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClass(ClassloadingUtility.java:135)
 at com.arjuna.ats.arjuna.objectstore.StoreManager.initStore(StoreManager.java:151)
 ... 24 more
Caused by: java.lang.ClassNotFoundException: org.apache.activemq.artemis.core.journal.SequentialFileFactory from [Module ""org.jboss.jts:main"" from local module loader @707f7052 (finder: local module finder @11028347 (roots: /home/ochaloup/jboss/jboss-eap-7.0.0.DR8/modules,/home/ochaloup/jboss/jboss-eap-7.0.0.DR8/modules/system/layers/base))]
 at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)
 at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)
 ... 32 more

 ...

ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""transactions"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.txn.ArjunaRecoveryManager"" => ""org.jboss.msc.service.StartException in service jboss.txn.ArjunaRecoveryManager: Failed to start service
    Caused by: com.arjuna.ats.arjuna.exceptions.FatalError: ARJUNA012135: Could not create Store type: com.arjuna.ats.internal.arjuna.objectstore.hornetq.HornetqObjectStoreAdaptor
    Caused by: java.lang.NoClassDefFoundError: org/apache/activemq/artemis/core/journal/SequentialFileFactory
    Caused by: java.lang.ClassNotFoundException: org.apache.activemq.artemis.core.journal.SequentialFileFactory from [Module \""org.jboss.jts:main\"" from local module loader @707f7052 (finder: local module finder @11028347 (roots: /home/ochaloup/jboss/jboss-eap-7.0.0.DR8/modules,/home/ochaloup/jboss/jboss-eap-7.0.0.DR8/modules/system/layers/base))]""}}
INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.txn.ArjunaRecoveryManager: org.jboss.msc.service.StartException in service jboss.txn.ArjunaRecoveryManager: Failed to start service
{code}

The reason is explained in comment
https://issues.jboss.org/browse/WFLY-5078?focusedCommentId=13098047#comment-13098047",2015/08/13 10:00 AM
WFLY-5752,"When I rename the {{ejb}} cache container, deploying a simple app that contains an EJB ends with a horrible error message. This is a blocker, because renaming a cache container is required for a 2clusters scenario (standalone client invoking a remote EJB in cluster A, that EJB in turns invokes a remote EJB in cluster B, and forwards the response to the original client).

More details:

1. build current WildFly master and {{unzip .../wildfly/build/target/wildfly-10.0.0.CR5-SNAPSHOT.zip}}
2. {{cp tinyRemoteEjb-server-ee7.jar wildfly-10.0.0.CR5-SNAPSHOT/standalone/deployments/}} # the JAR is attached
3. change the {{wildfly-10.0.0.CR5-SNAPSHOT/standalone/configuration/standalone-full-ha.xml}} file like this:
    {code}
<!-- in the ""ejb3"" subsystem -->
<passivation-store name=""infinispan"" cache-container=""ejb2"" max-size=""10000""/>
<remote cluster=""ejb2"" connector-ref=""http-remoting-connector"" thread-pool-name=""default""/>
<!-- in the ""infinispan"" subsystem -->
<cache-container name=""ejb2"" ...>
{code}
4. {{./wildfly-10.0.0.CR5-SNAPSHOT/bin/standalone.sh -c standalone-full-ha.xml}}

This leads to:

{code}
14:11:22,473 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""tinyRemoteEjb-server-ee7.jar"")]) - failure description: {""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
    ""Services that were unable to start:"" => [
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".CdiValidatorFactoryService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".WeldStartService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.CREATE"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.JndiBindingsService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.START"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.VIEW.\""cz.ladicek.tinyRemoteEjb.server.MyBean\"".REMOTE"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.WeldInstantiator"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".component.MyBeanImpl.WeldInterceptorBindingsService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".deploymentCompleteService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".jndiDependencyService"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".moduleDeploymentRuntimeInformation"",
        ""jboss.deployment.unit.\""tinyRemoteEjb-server-ee7.jar\"".moduleDeploymentRuntimeInformationStart"",
        ""jboss.naming.context.java.app.tinyRemoteEjb-server-ee7.tinyRemoteEjb-server-ee7.MyBeanImpl"",
        ""jboss.naming.context.java.app.tinyRemoteEjb-server-ee7.tinyRemoteEjb-server-ee7.\""MyBeanImpl!cz.ladicek.tinyRemoteEjb.server.MyBean\"""",
        ""jboss.naming.context.java.global.tinyRemoteEjb-server-ee7.MyBeanImpl"",
        ""jboss.naming.context.java.global.tinyRemoteEjb-server-ee7.\""MyBeanImpl!cz.ladicek.tinyRemoteEjb.server.MyBean\"""",
        ""jboss.naming.context.java.module.tinyRemoteEjb-server-ee7.tinyRemoteEjb-server-ee7.MyBeanImpl"",
        ""jboss.naming.context.java.module.tinyRemoteEjb-server-ee7.tinyRemoteEjb-server-ee7.\""MyBeanImpl!cz.ladicek.tinyRemoteEjb.server.MyBean\""""
    ],
    ""Services that may be the cause:"" => [""jboss.clustering.registry.ejb2.client-mappings""]
}}
14:11:22,476 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""ejb3""),
    (""service"" => ""remote"")
]) - failure description: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.ejb.remoting.connector.client-mappings.installer is missing [jboss.clustering.registry.ejb2.client-mappings]""]}
{code}

This works perfectly fine in 10.0.0.CR4, so I did a {{git bisect}} and traced the problem to this commit: https://github.com/wildfly/wildfly/commit/232dff042f The error message mentions that an {{...ejb2.client-mappings}} service is missing, which is consistent with the commit message (also mentions client mappings).",2015/12/01 8:21 AM
WFLY-5800,A very minor issue but raising as blocker as once capability names reach releases they are a part of the API and inherit all other backwards compatibility requirements.,2015/12/07 10:15 AM
WFLY-5513,"It is required for EAP7 to contain all features from EAP6.
Per https://issues.jboss.org/browse/ANDIAMO-7, in EAP6 every serious log message (warn, error, fatal) should have a unique code that can be used to identify it.

However, we found 160 serious log messages in EAP7.0.0.DR11 without id.
List of serious log messages without id from a smoke test (link to Jenkins run will be provided when the automated test case is finished):

{code}
        /jboss-eap-7.0-src/ejb3/src/main/java/org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver.java:318 EjbLogger.REMOTE_LOGGER.warn(""Could not send a cluster removal message for cluster: "" + registry.getGroup() + "" to the client on channel "" + channelAssociation.getChannel(), ioe);
        /jboss-eap-7.0-src/jpa/eclipselink/src/main/java/org/jipijapa/eclipselink/JBossLogger.java:86 getLoggerForCategory(""logging"").warnv(""Received message for log level {0}, but no such level is defined in SessionLog! Logging at INFO level..."", level);
        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/services/resourceadapters/deployment/AbstractResourceAdapterDeploymentService.java:178 DEPLOYMENT_CONNECTOR_LOGGER.error(""Error during recovery shutdown"", e);
        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/services/resourceadapters/deployment/AbstractResourceAdapterDeploymentService.java:199 DEPLOYMENT_CONNECTOR_LOGGER.warn(""Exception during stopping resource adapter"", nfe);
        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XaDataSourceService.java:64 ConnectorLogger.SUBSYSTEM_DATASOURCES_LOGGER.error(""Error during recovery shutdown"", e);
{code}

Giving blocker priority as this issue blocks RFE verification.",2015/10/12 9:08 AM
WFLY-5678,"If configuration for jgroups stack in discovery group contains expression:
{code}
            <discovery-group name=""groupU"">
                <jgroups-stack>${jgroups.stack:udp}</jgroups-stack>
                <jgroups-channel>${jgroups.channel:udp}</jgroups-channel>
            </discovery-group>
{code}

 then :migrate operation has {{outcome => failed}}:
{code}
[standalone@127.0.0.1:9999 /] /subsystem=messaging:migrate
{
    ""outcome"" => ""failed"",
    ""result"" => {
        ""migration-warnings"" => [],
        ""migration-error"" => {
            ""operation"" => {
                ""jgroups-stack"" => expression ""${jgroups.stack:udp}"",
                ""jgroups-channel"" => expression ""${jgroups.channel:udp}"",
                ""operation"" => ""add"",
                ""address"" => [
                    (""subsystem"" => ""messaging-activemq""),
                    (""server"" => ""default""),
                    (""discovery-group"" => ""groupU"")
                ],
                ""operation-headers"" => {
                    ""caller-type"" => ""user"",
                    ""access-mechanism"" => ""NATIVE""
                }
            },
            ""result"" => {
                ""outcome"" => ""failed"",
                ""failure-description"" => ""WFLYCTL0264: jgroups-stack may not be ModelType.EXPRESSION"",
                ""rolled-back"" => true
            }
        }
    },
    ""failure-description"" => ""WFLYMSG0081: Migration failed, see results for more details."",
    ""rolled-back"" => true
}
{code}

Based on my understanding there should be outcome success with warning.",2015/11/13 10:52 AM
WFLY-3803,"After the recent changes to have feature-packs, the build is not creating {noformat}-jandex.jar{noformat} libs anymore. We used to have two of them in the org.apache.cxf.impl module. Those are strictly required for WS-* functionalities.",2014/09/02 5:05 AM
WFLY-3703,"Trying to use Arquillian with remote multi-host domain. 

Now see the code snippet below:

* readRootNode calls readResource with includeRuntime set to true.
* readResource also sets recursive to true.

However due to this behavior of read-resource *no hosts other than domain controller's are visible to Arquillian*: 

[proxies – (boolean, default is false) – whether to include remote resources in a recursive query (i.e. host level resources from slave Host Controllers in a query of the Domain Controller; running server resources in a query of a host).|https://docs.jboss.org/author/display/WFLY8/Global+operations]

+As a result if I have a DC on localhost with no servers and Host1 with Node1 on 127.0.0.2 and Host2 with Node2 on 127.0.0.3, Arquillian will not find ANY servers to deploy to - no proxies (remote hosts) will be enumerated.+

{noformat}
    private void readRootNode() throws Exception {
        rootNode = readResource(new ModelNode());
    }

    private ModelNode readResource(ModelNode address) throws Exception {
        return readResource(address, true);
    }

   private ModelNode readResource(ModelNode address, boolean includeRuntime) throws Exception {
        final ModelNode operation = new ModelNode();
        operation.get(OP).set(READ_RESOURCE_OPERATION);
        operation.get(RECURSIVE).set(""true"");
        operation.get(INCLUDE_RUNTIME).set(includeRuntime);
        operation.get(OP_ADDR).set(address);

        return executeForResult(operation);
    }
{noformat}",2014/08/01 5:18 PM
WFLY-4220,NoData,2015/01/04 10:55 PM
WFLY-4547,"The following commit was applied to WildFly 8 and is missing from WildFly 9: -

https://github.com/wildfly/wildfly/commit/676a8c1d0ec15bba3ebd54f44517548defdfeab8#diff-9e93e2ec05c225f1862ed049feb9abb7

Probably happened during the re-factoring.

Should also double check this attribute has not been dropped from the next version of the schema (unless of course that is intentional).",2015/04/22 5:21 AM
WFLY-5017,"Thanks to a good foundation established in JBEAP-215, there is an elementary information about registered worker nodes available, e.g.
{noformat}
/subsystem=undertow/configuration=filter/mod-cluster=modcluster:read-children-resources(child-type=balancer,recursive=true)
{
    ""outcome"" => ""success"",
    ""result"" => {""mycluster"" => {""node"" => {
        ""worker-2"" => {""context"" => {""/clusterbench"" => {}}},
        ""worker-1"" => {""context"" => {""/clusterbench"" => {}}}
    }}}
}
{noformat}

One of the information that is missing is *Load Balancing Group*. This is a {color:red}Blocker{color} issue, because absence of Load Balancing Group display and control capabilities blocks:
* customer scenarios with rolling upgrades
* customer scenarios with heterogeneous deployments
* customer scenarios with clustering migration
* all test cases linked to Load Balancing Group functionality

The Load Balancing Group functionality appears to be present, so this issue might be resolved with adding CLI operations.
{noformat}
UT005054: MCMP processing, key: JVMRoute, value: worker-2
UT005054: MCMP processing, key: Domain, value: LB-GROUP-1
UT005054: MCMP processing, key: Host, value: karm.brq.redhat.com
UT005054: MCMP processing, key: Maxattempts, value: 1
UT005054: MCMP processing, key: Port, value: 8029
UT005054: MCMP processing, key: StickySessionForce, value: No
UT005054: MCMP processing, key: Type, value: ajp
UT005054: MCMP processing, key: ping, value: 10
{noformat}
Note that the attribute ""Domain"" actually stands for  ""Load Balancing Group"" and it is not related to ""WildFly Domain"".",2015/07/20 12:28 PM
WFLY-5221,"According to the spec [1] the getTimers() method must only return timers associated to the current EJB.
This is a huge issue if timers are cancled by this collection as it will remove all timers!

[1] https://docs.oracle.com/javaee/6/api/javax/ejb/TimerService.html#getTimers%28%29",2015/08/27 8:44 AM
WFLY-4730,"Undertow mod_cluster proxy acts both as a *server* and as a *client* in relation to its workers.

While the *server* configuration is quite straightforward:
{code:xml}
+++
<system-properties>
    <property name=""javax.net.ssl.trustStore"" value=""/vault/ca-cert.jks""/>
    <property name=""javax.net.ssl.trustStorePassword"" value=""tomcat""/>
</system-properties>
+++
<security-realm name=""UndertowRealm"">
    <server-identities>
        <ssl>
            <keystore path=""/vault/server-cert-key.jks""  keystore-password=""tomcat"" alias=""javaserver"" key-password=""tomcat""/>
        </ssl>
    </server-identities>
</security-realm>
+++
<https-listener name=""https"" socket-binding=""https"" security-realm=""UndertowRealm""/>
+++
{code}
with having {{management-socket-binding=""https""}} and {{advertise-protocol=""https""}} set; it seems there is no way to configure certs and keys for the *client* role of the Undertow mod_cluster proxy implementation.

With the current implementation, *worker* can connect to the Undertow mod_cluster proxy, i.e. it can send {{CONFIG}} and {{STATUS}} MCMP messages, but when the Undertow mod_cluster proxy needs to act as a *client*, sending {{STATUS-RSP}} message to the *worker*, it does not have the necessary HTTPS setup:
{noformat}
DEBUG [io.undertow] (default I/O-5) UT005055: HttpClientPingTask run for connection: https://192.168.0.122:8544/?#
DEBUG [io.undertow.server.handlers.proxy.ProxyHandler] (default I/O-5) No proxy target for request to https://192.168.0.122:8443/
DEBUG [io.undertow] (default task-7) UT005056: Received node load in STATUS message, node jvmRoute: worker-1, load: 80
DEBUG [io.undertow.request] (default I/O-5) Failed to connect: java.io.IOException: UT000065: SSL must be specified to connect to a https URL
    at io.undertow.client.http.HttpClientProvider.connect(HttpClientProvider.java:93)
    at io.undertow.client.UndertowClient.connect(UndertowClient.java:158)
    at io.undertow.server.handlers.proxy.ProxyConnectionPool.openConnection(ProxyConnectionPool.java:233)
    at io.undertow.server.handlers.proxy.ProxyConnectionPool.connect(ProxyConnectionPool.java:446)
    at io.undertow.server.handlers.proxy.mod_cluster.NodePingUtil$1.run(NodePingUtil.java:140)
    at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:560)
    at org.xnio.nio.WorkerThread.run(WorkerThread.java:462)
{noformat}

The HTTPS communication between Undertow mod_cluster proxy and its workers needs to be bidirectional.

If I'm just missing any obvious configuration option, please, shout, throw rocks and close this JIRA :)

Thank you for your time looking into it.
",2015/05/30 11:51 AM
WFLY-5045,"*Undertow 1.3.0.Beta3*, *EAP 7.0.0.DR6* worked perfectly with {{modcluster:read-resource}} recursive operations:

h3. Setup
# Add socker binding: {{/socket-binding-group=standard-sockets/socket-binding=mod-cluster-adv:add(multicast-address=224.0.1.105,port=65530)}}
# Configure mod_cluster proxy: {{/subsystem=undertow/configuration=filter/mod-cluster=modcluster:add(advertise-frequency=10000,advertise-path=/,advertise-protocol=http,advertise-socket-binding=mod-cluster-adv,management-socket-binding=http,management-access-predicate=undefined,broken-node-timeout=10,cached-connections-per-thread=5,connection-idle-timeout=60,connections-per-thread=10,health-check-interval=10000,max-request-time=-1,request-queue-size=10,security-key=undefined,security-realm=undefined,worker=default)}}
# Add mod_cluster filter: {{/subsystem=undertow/server=default-server/host=default-host/filter-ref=modcluster:add()}}
# As soon as worker connects: {noformat}UT005053: Registering node localhost, connection: ajp://karm.brq.redhat.com:8019/?#
UT005045: Registering context /clusterbench, for node localhost{noformat}, we try to list the configuration:
# List configuration including runtime recursively: {{/subsystem=undertow/configuration=filter/mod-cluster=modcluster:read-resource(include-runtime=true, recursive=true, recursive-depth=100)}}


h3. Error
The output of the last aforementioned command with *EAP 7.0.0.DR6, Undertow 1.3.0.Beta3* is:{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""advertise-frequency"" => 10000,
        ""advertise-path"" => ""/"",
        ""advertise-protocol"" => ""http"",
        ""advertise-socket-binding"" => ""mod-cluster-adv"",
        ""broken-node-timeout"" => 10,
        ""cached-connections-per-thread"" => 5,
        ""connection-idle-timeout"" => 60,
        ""connections-per-thread"" => 10,
        ""health-check-interval"" => 10000,
        ""management-access-predicate"" => undefined,
        ""management-socket-binding"" => ""http"",
        ""max-request-time"" => -1,
        ""request-queue-size"" => 10,
        ""security-key"" => undefined,
        ""security-realm"" => undefined,
        ""worker"" => ""default"",
        ""balancer"" => {""mycluster"" => {""node"" => {""localhost"" => {
            ""load"" => 81,
            ""status"" => ""NODE_UP"",
            ""context"" => {""/clusterbench"" => {
                ""requests"" => 0,
                ""status"" => ""enabled""
            }}
        }}}}
    }
}{noformat} whereas with *EAP 7.0.0.DR7, Undertow 1.3.0.Beta4*; it is: {noformat}ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 6) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""undertow""),
    (""configuration"" => ""filter""),
    (""mod-cluster"" => ""modcluster""),
    (""balancer"" => ""mycluster"")
]): java.lang.IllegalArgumentException: value is null
    at org.jboss.dmr.ModelNode.<init>(ModelNode.java:162)
    at org.wildfly.extension.undertow.filters.ModClusterBalancerDefinition$3.handleNode(ModClusterBalancerDefinition.java:117)
    at org.wildfly.extension.undertow.filters.ModClusterBalancerDefinition$AbstractBalancerOperation.execute(ModClusterBalancerDefinition.java:173)
    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)
    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)
    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:248)
    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:701)
    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:841)
    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:632)
    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:357)
    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1235)
    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)
    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:223)
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:207)
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:129)
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:151)
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:147)
    at java.security.AccessController.doPrivileged(Native Method)
    at javax.security.auth.Subject.doAs(Subject.java:422)
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:147)
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298)
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
    at org.jboss.threads.JBossThread.run(JBossThread.java:320){noformat}It is noteworthy that *until* any worker joins the balancer, the operation works just fine (DR7, Beta4): {noformat}{
    ""outcome"" => ""success"",
    ""result"" => {
        ""advertise-frequency"" => 10000,
        ""advertise-path"" => ""/"",
        ""advertise-protocol"" => ""http"",
        ""advertise-socket-binding"" => ""mod-cluster-adv"",
        ""broken-node-timeout"" => 10,
        ""cached-connections-per-thread"" => 5,
        ""connection-idle-timeout"" => 60,
        ""connections-per-thread"" => 10,
        ""health-check-interval"" => 10000,
        ""management-access-predicate"" => undefined,
        ""management-socket-binding"" => ""http"",
        ""max-request-time"" => -1,
        ""request-queue-size"" => 10,
        ""security-key"" => undefined,
        ""security-realm"" => undefined,
        ""use-alias"" => true,
        ""worker"" => ""default"",
        ""balancer"" => undefined
    }
}{noformat}

I see this issue as a {color:red}Blocker{color}, because it not only breaks all current test automation but also renders the Undertow mod_cluster proxy CLI hardly usable for any administration.",2015/08/03 2:44 AM
WFLY-4983,"As a follow up to JBEAP-215, this bug report is a member of a series addressing crucial CLI management capabilities.
h3. Display node's protocol://hostname:port
At the moment, this is all there is to see:
{noformat}
""balancer"" => {
    ""qa_balancer"" => {""node"" => {""worker-2"" => {
        ""load"" => 89,
        ""status"" => ""NODE_UP"",
        ""context"" => {""/clusterbench"" => {
            ""requests"" => 0,
            ""status"" => ""enabled""
        }}
    }}},
...
{noformat}
h3. Call to action
We need to display node's connection details, e.g. {{ajp://karm.brq.redhat.com:8019}} or {{https://192.168.1.100:8009}}.

I set {color:red}Blocker{color} priority, because without this information available, it is impossible to test anything more than rudimentary smoke-test scenarios. From the user's perspective, inability to identify JVMRoutes (node names) with their connection strings renders any larger enterprise setup very hard to manage and maintain.",2015/07/21 7:59 AM
WFLY-4757,"If one takes a vanilla EAP 7 DR build and starts it with {{./standalone.sh -c standalone.ha}}, i.e. with mod_cluster subsystem loaded, but without any static proxies configuration directives, the server registers with mod_cluster load balancers and accepts hot deployments without any error.

If one sets a static proxy configuration, e.g.:
{code:xml}
+++
<mod-cluster-config advertise-socket=""modcluster"" connector=""ajp"" proxies=""my-proxy-one"">
+++
<outbound-socket-binding name=""my-proxy-one"">
    <remote-destination host=""10.40.4.50"" port=""6666""/>
</outbound-socket-binding>
+++
{code}

then the server processes hot deployments only as long as it's not registered with any mod_cluster load balancer. As soon as it registers with a load balancer, any hot deployment causes the following exception:
{noformat}
14:39:13,475 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found simplecontext.war in deployment directory. To trigger deployment create a file called simplecontext.war.dodeploy
14:39:13,520 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of ""simplecontext.war"" (runtime-name: ""simplecontext.war"")
14:39:14,028 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0021: Registered web context: /simplecontext
14:39:14,080 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0008: Failed to persist configuration change: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0084: Failed to marshal configuration
    at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.<init>(AbstractFilePersistenceResource.java:49)
    at org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource.<init>(ConfigurationFilePersistenceResource.java:45)
    at org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.store(BackupXmlConfigurationPersister.java:109)
    at org.jboss.as.controller.ModelControllerImpl.writeModel(ModelControllerImpl.java:738)
    at org.jboss.as.controller.OperationContextImpl.createPersistenceResource(OperationContextImpl.java:403)
    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:643)
    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:354)
    at org.jboss.as.controller.AbstractOperationContext.finishStep(AbstractOperationContext.java:918)
    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:885)
    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:601)
    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:354)
    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:330)
    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1170)
    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:363)
    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)
    at org.jboss.as.controller.ModelControllerImpl$3$1$1.run(ModelControllerImpl.java:716)
    at org.jboss.as.controller.ModelControllerImpl$3$1$1.run(ModelControllerImpl.java:710)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.jboss.as.controller.ModelControllerImpl$3$1.run(ModelControllerImpl.java:710)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
    at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0089: Failed to write configuration
    at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:100)
    at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.<init>(AbstractFilePersistenceResource.java:42)
    ... 26 more
Caused by: java.lang.reflect.UndeclaredThrowableException
    at org.jboss.staxmapper.FormattingXMLStreamWriter$4.run(FormattingXMLStreamWriter.java:249)
    at org.jboss.staxmapper.FormattingXMLStreamWriter.runAttrQueue(FormattingXMLStreamWriter.java:221)
    at org.jboss.staxmapper.FormattingXMLStreamWriter.writeStartElement(FormattingXMLStreamWriter.java:96)
    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeDynamicLoadProvider(ModClusterSubsystemXMLWriter.java:104)
    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeModClusterConfig(ModClusterSubsystemXMLWriter.java:69)
    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeContent(ModClusterSubsystemXMLWriter.java:51)
    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeContent(ModClusterSubsystemXMLWriter.java:42)
    at org.jboss.as.server.parsing.StandaloneXml_4.writeServerProfile(StandaloneXml_4.java:695)
    at org.jboss.as.server.parsing.StandaloneXml_4.writeContent(StandaloneXml_4.java:613)
    at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:77)
    at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:47)
    at org.jboss.staxmapper.XMLMapperImpl.doDeparse(XMLMapperImpl.java:88)
    at org.jboss.staxmapper.XMLMapperImpl.deparseDocument(XMLMapperImpl.java:83)
    at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:94)
    ... 27 more
Caused by: javax.xml.stream.XMLStreamException: Trying to write an attribute when there is no open start element.
    at com.ctc.wstx.sw.BaseStreamWriter.throwOutputError(BaseStreamWriter.java:1537)
    at com.ctc.wstx.sw.BaseStreamWriter.reportNwfStructure(BaseStreamWriter.java:1566)
    at com.ctc.wstx.sw.BaseNsStreamWriter.writeAttribute(BaseNsStreamWriter.java:226)
    at org.jboss.staxmapper.FormattingXMLStreamWriter$4.run(FormattingXMLStreamWriter.java:247)
    ... 40 more

14:39:14,085 ERROR [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0021: Deploy of deployment ""simplecontext.war"" was rolled back with the following failure message: ""WFLYCTL0086: Failed to persist configuration change: WFLYCTL0084: Failed to marshal configuration""
14:39:14,095 INFO  [org.jboss.modcluster] (MSC service thread 1-3) MODCLUSTER000021: All pending requests drained from default-host:/simplecontext in 0.0 seconds
14:39:14,098 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0022: Unregistered web context: /simplecontext
14:39:14,142 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-8) HV000001: Hibernate Validator 5.1.3.Final
14:39:14,177 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment simplecontext.war (runtime-name: simplecontext.war) in 92ms
{noformat}

The problem is IMHO related to the new configuration attribute WFLY-457.
 
Note that this issue affects *hot deployments only*. If the server starts with deployments already present, no exception is thrown and everything works as expected. I find this issue being of {color:red}critical{color} severity, because it breaks core functionality of the application server -- hot deployments.",2015/06/08 9:11 AM
WFLY-5011,"Seen in our HTTP-based failover tests (no matter what failover type: jvmkill/shutdown/undeploy), with *distributed* cache used. 
Does not occur when replicated cache is used.

Setup: 4 node cluster, one node at time is shutdown, while standalone clients keep calling the application.
After failing one node(failover type: jvmkill/shutdown/undeploy) - perf18 for example, perf19,20,21 log the following error message many times (seems like one error per each session)

{code}
[JBossINF] [0m[31m05:48:40,646 ERROR [io.undertow.request] (default task-110) UT005023: Exception handling request to /clusterbench/session: org.infinispan.statetransfer.OutdatedTopologyException: Cache not running on node perf18
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:274)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitLockControlCommand(TxDistributionInterceptor.java:186)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.acquireRemoteIfNeeded(PessimisticLockingInterceptor.java:238)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataReadCommand(PessimisticLockingInterceptor.java:66)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitGetKeyValueCommand(AbstractLockingInterceptor.java:70)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:346)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:318)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:364)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:349)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitDataReadCommand(CacheMgmtInterceptor.java:103)
[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitGetKeyValueCommand(CacheMgmtInterceptor.java:91)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:430)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:427)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:287)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:120)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:232)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:116)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:725)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:367)
[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)
[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)
[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)
[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:216)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:281)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code} 

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-jvmkill-dist-async/3/console-perf19/",2015/07/27 8:07 AM
WFLY-5290,Adding new JGroups stack with randomly chosen (non existing) socket binding name results in web console freeze.,2015/08/26 8:12 AM
WFLY-5520,"If you try (curated) EAP 6 standalone-ha.xml configuration on WildFly the server will fail to boot due to an EJB3 subsystem attribute.

Server boot console log:

mbp:migration-tests emmartins$ ./default-config-manual-copy/wildfly-10.0.0.CR3-SNAPSHOT/bin/standalone.sh -c standalone-ha.xml
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /Users/emmartins/wildfly/migration-tests/default-config-manual-copy/wildfly-10.0.0.CR3-SNAPSHOT

  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true

=========================================================================

11:37:25,583 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.4.Final
11:37:25,896 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
11:37:25,985 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0049: WildFly Full 10.0.0.CR3-SNAPSHOT (WildFly Core 2.0.0.CR6) starting
11:37:27,307 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 7) WFLYCTL0028: Attribute 'default-stack' in the resource at address '/subsystem=jgroups' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:37:27,307 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 15) WFLYCTL0028: Attribute 'default-clustered-sfsb-cache' in the resource at address '/subsystem=ejb3' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:37:27,385 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 15) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""ejb3"")]) - failure description: ""WFLYEJB0451: Attribute 'default-clustered-sfsb-cache' is not supported on current version servers; it is only allowed if its value matches 'default-sfsb-cache'""
11:37:27,586 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) ""WFLYCTL0193: Failed executing subsystem ejb3 boot operations""
11:37:27,588 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""parallel-subsystem-boot"") failed - address: ([]) - failure description: ""\""WFLYCTL0193: Failed executing subsystem ejb3 boot operations\""""
11:37:27,591 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
11:37:27,594 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested.
11:37:27,603 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0050: WildFly Full 10.0.0.CR3-SNAPSHOT (WildFly Core 2.0.0.CR6) stopped in 6ms

Attached is the standalone-ha.xml config, with just threads subsystem removed, and web subsystem migrated to undertow, that should be able to boot the server.",2015/10/13 5:51 AM
WFLY-5810,At the moment {{JndiPermission}} is based in {{org.jboss.as.naming}} module which is private. Because of this it effectively cannot be used by deployments.,2015/12/08 8:22 AM
WFLY-4308,"Setting priority to critical since, I believe, this is a matter of compliance with the concurrency utilities specification.

Section 3.3.4 of the specification states that:
""All invocation handlers for the contextual proxy implementation must implement java.io.Serializable.""

While the invocation handler of the generated proxy does indeed implement Serializable, it contains a reference to org.jboss.as.server.moduleservice.ServiceModuleLoader (among others), which is not serializable, thus attempts to serialize the proxies generated via ContextService.createContextualProxy(...) via JBoss Marshalling throw a org.infinispan.commons.marshall.NotSerializableException: org.jboss.as.server.moduleservice.ServiceModuleLoader",2015/02/03 8:56 AM
WFLY-4554,"The JMX connection doesn't even seem to be opened.
The JMX implementation isn't called.",2015/04/23 1:53 PM
WFLY-4508,"{code}
08:28:21,470 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 9.0.0.Alpha2-SNAPSHOT (WildFly Core 1.0.0.Beta1) started (with errors) in 3771ms - Started 201 of 381 services (1 services failed or missing dependencies, 210 services are lazy, passive or on-demand)
08:28:50,778 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""undertow""),
    (""server"" => ""default-server""),
    (""https-listener"" => ""https"")
]): java.lang.NullPointerException
	at org.wildfly.extension.undertow.ListenerResourceDefinition$ReadStatisticHandler.execute(ListenerResourceDefinition.java:224)
	at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:212)
	at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:141)
	at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:220)
	at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:487)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:795)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:601)
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:354)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:330)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1183)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:362)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:218)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:201)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:128)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:150)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:146)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:146)
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298)
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)

{code}",2015/04/13 2:30 AM
WFLY-5384,"Artemis changed the naming convention to use CamelCase for its acceptor and connector parameters keys.
Validation of the parameters was discarded when the messaging-activemq subsystem was created.
This means that the current template for the messaging-activemq subsystem is not correct (the parameters will not be taken into account by Artemis).
The server-id parameter for in-vm connector has also be renamed to serverId. ",2015/09/22 10:15 AM
WFLY-3993,NoData,2014/10/17 10:41 AM
WFLY-3290,"When deploying a clustered session bean the cluster will form only if the cluster name is ""ejb"".   If the standalone-ha.xml is modified to use a different cluster name then the cluster will not form.",2014/04/25 1:13 PM
WFLY-5081,"If WebSphere MQ 8 resource adapter is configured as default resource adapter for MDB in ejb subsystem and MDB is trying to deploy its connection factory like:
{code}
@JMSConnectionFactoryDefinition(
        description=""Define TopicConnectionFactory AppClientMyTestTopicConnectionFactory"",
        interfaceName=""javax.jms.TopicConnectionFactory"",
        name=""java:module/AppClientMyTestTopicConnectionFactory"",
        user = ""j2ee"",
        password = ""j2ee"",
)
{code}

then deployment fails with:
{code}
11:18:37,471 INFO  [org.jboss.as.repository] (DeploymentScanner-threads - 2) WFLYDR0001: Content added at location /home/mnovak/mnovak_home/tmp/tck7/work/jboss-eap-7.0/standalone/data/content/1d/4fbecb4dd1e3a9c03b791cd64c21cd6b7f49de/content
11:18:37,475 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of ""mdb-1.0-SNAPSHOT.jar"" (runtime-name: ""mdb-1.0-SNAPSHOT.jar"")
11:18:37,499 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0042: Started message driven bean 'SampleMdb' with 'wmq.jmsra' resource adapter
11:18:37,501 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""mdb-1.0-SNAPSHOT.jar"")]) - failure description: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.app.\""mdb-1.0-SNAPSHOT\"".AppClientMyTestQueueConnectionFactory is missing [jboss.connection-factory.reference-factory.jboss.naming.context.java.app.\""mdb-1.0-SNAPSHOT\"".AppClientMyTestQueueConnectionFactory]""]}
11:18:37,616 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed ""mdb-1.0-SNAPSHOT.jar"" (runtime-name : ""mdb-1.0-SNAPSHOT.jar"")
11:18:37,616 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) WFLYCTL0183: Service status report
WFLYCTL0185:    Newly corrected services:
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".component.SampleMdb.CREATE (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".component.SampleMdb.JndiBindingsService (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".component.SampleMdb.START (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".component.SampleMdb.VIEW.SampleMdb.MESSAGE_ENDPOINT (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".component.SampleMdb.ejb.non-functional-timerservice (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".jndiDependencyService (new available)
      service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".moduleDeploymentRuntimeInformation (new available)
      service jboss.naming.context.java.app.""mdb-1.0-SNAPSHOT"".AppClientMyTestQueueConnectionFactory (new available)
      service jboss.naming.context.java.app.""mdb-1.0-SNAPSHOT"".env (new available)
      service jboss.naming.context.java.comp.""mdb-1.0-SNAPSHOT"".""mdb-1.0-SNAPSHOT"".SampleMdb (new available)
      service jboss.naming.context.java.comp.""mdb-1.0-SNAPSHOT"".""mdb-1.0-SNAPSHOT"".SampleMdb.TransactionSynchronizationRegistry (new available)
      service jboss.naming.context.java.comp.""mdb-1.0-SNAPSHOT"".""mdb-1.0-SNAPSHOT"".SampleMdb.UserTransaction (new available)
      service jboss.naming.context.java.module.""mdb-1.0-SNAPSHOT"".""mdb-1.0-SNAPSHOT"".env (new available)
{code}

Customer impact:
Any deployment which needs to define its connection factory in deployment will fail. Customer cannot use @JMSConnectionFactoryDefinition to deploy connection factory.


Debugging showed that deployment of connection factory defined in @JMSConnectionFactoryDefinition is using messaging activemq extension integration. WebSphereMQ's managed connection factory cannot be added as pooled-connection-factory to messaging-activemq subsystem.
We need to provide a way 3rd party JMS managed connection factory will be created and registered to JNDI.


Failing TCK tests failing because of this issue:
{code}
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#checkClientIDOnDurableConnFactoryTest 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromAppClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromEjbClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromJspClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromServletClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromAppClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromEjbClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromJspClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromServletClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#verifyLookupWithRAElementSpecifiedTest
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_appclient 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_appclient 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_appclient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_appclient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_servlet
{cdde}",2015/08/12 6:38 AM
WFLY-4882,"Configuration of {{maximum-permissions}} attribute in {{/subsystem=security-manager/deployment-permissions=default}} doesn't work so the permissions for deployments can't be restricted. 
(The ""_policy of the product installation_"" in the words of EE specification is not enforced).


If administrator specifies {{maximum-permissions}} in server configuration and also {{permissions.xml}} in the deployment, all permissions from the {{permissions.xml}} are granted even if the policies are in conflict.

The {{maximum-permissions}} configuration has following meaning: 
_A set containing the maximum permission scope that can be granted to deployments or jars_

The Java EE 7 platform specification (JSR 342) says in section EE.6.2.2.1:
_If security permissions are declared that conflict with the policy of the product installation, the Java EE product must fail deployment of the application module._

*Expected behavior:*
* based on EE spec the deployment should fail
* deployed application should not get more permissions than specified in the {{maximum-permissions}}",2015/07/07 10:22 AM
WFLY-5436,"EmbeddedCacheManager has defineConfiguration(...) methods for defining a new cache configuration, but has no equivalent ""undefine"" method.  Consequently, once defined, a cache manager will retains a reference to the cache configuration object for the lifetime of the cache manager.  While this is normally not a big deal, the configuration objects generated by WildFly contain references to the classloaders of foreign modules.",2015/09/30 3:53 PM
WFLY-5527,"Steps to reproduce, same fro WF 9.0.1.Final and 10.0.0.CR2:

(1) create an XA Datasource:
{code}
{
    ""operation"" => ""composite"",
    ""address"" => [],
    ""steps"" => [
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs"")
            ],
            ""jndi-name"" => ""java:/testXaDs"",
            ""driver-name"" => ""h2"",
            ""xa-datasource-class"" => ""org.h2.jdbcx.JdbcDataSource"",
            ""user-name"" => ""sa"",
            ""password"" => ""sa"",
            ""new-connection-sql"" => undefined,
            ""url-delimiter"" => undefined,
            ""url-selector-strategy-class-name"" => undefined,
            ""use-java-context"" => undefined,
            ""max-pool-size"" => undefined,
            ""min-pool-size"" => undefined,
            ""initial-pool-size"" => undefined,
            ""pool-prefill"" => undefined,
            ""pool-use-strict-min"" => undefined,
            ""interleaving"" => undefined,
            ""capacity-incrementer-class"" => undefined,
            ""capacity-decrementer-class"" => undefined,
            ""no-tx-separate-pool"" => undefined,
            ""pad-xid"" => undefined,
            ""same-rm-override"" => undefined,
            ""wrap-xa-resource"" => undefined,
            ""security-domain"" => undefined,
            ""reauth-plugin-class-name"" => undefined,
            ""flush-strategy"" => undefined,
            ""allow-multiple-users"" => undefined,
            ""connection-listener-class"" => undefined,
            ""prepared-statements-cache-size"" => undefined,
            ""share-prepared-statements"" => undefined,
            ""track-statements"" => undefined,
            ""allocation-retry"" => undefined,
            ""allocation-retry-wait-millis"" => undefined,
            ""blocking-timeout-wait-millis"" => undefined,
            ""idle-timeout-minutes"" => undefined,
            ""query-timeout"" => undefined,
            ""use-try-lock"" => undefined,
            ""set-tx-query-timeout"" => undefined,
            ""transaction-isolation"" => undefined,
            ""check-valid-connection-sql"" => undefined,
            ""exception-sorter-class-name"" => undefined,
            ""stale-connection-checker-class-name"" => undefined,
            ""valid-connection-checker-class-name"" => undefined,
            ""background-validation-millis"" => undefined,
            ""background-validation"" => undefined,
            ""use-fast-fail"" => undefined,
            ""validate-on-match"" => undefined,
            ""xa-resource-timeout"" => undefined,
            ""spy"" => undefined,
            ""use-ccm"" => undefined,
            ""enabled"" => undefined,
            ""connectable"" => undefined,
            ""statistics-enabled"" => undefined,
            ""tracking"" => undefined,
            ""recovery-username"" => undefined,
            ""recovery-password"" => undefined,
            ""recovery-security-domain"" => undefined,
            ""recovery-plugin-class-name"" => undefined,
            ""no-recovery"" => undefined,
            ""url-property"" => undefined,
            ""reauth-plugin-properties"" => undefined,
            ""exception-sorter-properties"" => undefined,
            ""stale-connection-checker-properties"" => undefined,
            ""valid-connection-checker-properties"" => undefined,
            ""recovery-plugin-properties"" => undefined,
            ""connection-listener-property"" => undefined,
            ""capacity-incrementer-properties"" => undefined,
            ""capacity-decrementer-properties"" => undefined
        },
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""URL"")
            ],
            ""value"" => ""jdbc:h2:mem:test""
        },
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""xaProp2"")
            ],
            ""value"" => ""xaVal2""
        }
    ]
}
{code}

(2) Update or remove any of the {{xa-datasource-properties}}:
{code}
{
    ""operation"" => ""composite"",
    ""address"" => [],
    ""steps"" => [
        {
            ""operation"" => ""remove"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""URL"")
            ]
        },
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""URL"")
            ],
            ""value"" => ""jdbc:h2:mem:test;DB_CLOSE_DELAY=5000""
        },
        {
            ""operation"" => ""remove"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""xaProp2"")
            ]
        },
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""xaProp3"")
            ],
            ""value"" => ""xaVal3""
        }
    ]
}
{code}

(3) NOT OK: the composite operation fails

{code}
{
    ""outcome"" => ""failed"",
    ""result"" => {
        ""step-1"" => {
            ""outcome"" => ""failed"",
            ""failure-description"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.URL was depended upon by service jboss.xa-data-source-config.testXaDs"",
            ""rolled-back"" => true
        },
        ""step-2"" => {
            ""outcome"" => ""failed"",
            ""response-headers"" => {""operation-requires-reload"" => true},
            ""rolled-back"" => true
        },
        ""step-3"" => {
            ""outcome"" => ""failed"",
            ""failure-description"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.xaProp2 was depended upon by service jboss.xa-data-source-config.testXaDs"",
            ""rolled-back"" => true
        },
        ""step-4"" => {
            ""outcome"" => ""failed"",
            ""response-headers"" => {""operation-requires-reload"" => true},
            ""rolled-back"" => true
        }
    },
    ""failure-description"" => {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {
        ""Operation step-7"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.URL was depended upon by service jboss.xa-data-source-config.testXaDs"",
        ""Operation step-9"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.xaProp2 was depended upon by service jboss.xa-data-source-config.testXaDs""
    }},
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{code}

EXPECTED: the operation should succeed

Workaround: When the same request is sent once again, the second invocation succeeds.
",2015/10/14 9:36 AM
WFLY-5528,"Please note that the present scenario ends with a similar error message and has the same workaround as WFLY-5527.

Steps to reproduce:

(1) Create an XA Datasource:
{code}
{
    ""operation"" => ""composite"",
    ""address"" => [],
    ""steps"" => [
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs"")
            ],
            ""jndi-name"" => ""java:/testXaDs"",
            ""driver-name"" => ""h2"",
            ""xa-datasource-class"" => ""org.h2.jdbcx.JdbcDataSource"",
            ""user-name"" => ""sa"",
            ""password"" => ""sa"",
            ""new-connection-sql"" => undefined,
            ""url-delimiter"" => undefined,
            ""url-selector-strategy-class-name"" => undefined,
            ""use-java-context"" => undefined,
            ""max-pool-size"" => undefined,
            ""min-pool-size"" => undefined,
            ""initial-pool-size"" => undefined,
            ""pool-prefill"" => undefined,
            ""pool-use-strict-min"" => undefined,
            ""interleaving"" => undefined,
            ""capacity-incrementer-class"" => undefined,
            ""capacity-decrementer-class"" => undefined,
            ""no-tx-separate-pool"" => undefined,
            ""pad-xid"" => undefined,
            ""same-rm-override"" => undefined,
            ""wrap-xa-resource"" => undefined,
            ""security-domain"" => undefined,
            ""reauth-plugin-class-name"" => undefined,
            ""flush-strategy"" => undefined,
            ""allow-multiple-users"" => undefined,
            ""connection-listener-class"" => undefined,
            ""prepared-statements-cache-size"" => undefined,
            ""share-prepared-statements"" => undefined,
            ""track-statements"" => undefined,
            ""allocation-retry"" => undefined,
            ""allocation-retry-wait-millis"" => undefined,
            ""blocking-timeout-wait-millis"" => undefined,
            ""idle-timeout-minutes"" => undefined,
            ""query-timeout"" => undefined,
            ""use-try-lock"" => undefined,
            ""set-tx-query-timeout"" => undefined,
            ""transaction-isolation"" => undefined,
            ""check-valid-connection-sql"" => undefined,
            ""exception-sorter-class-name"" => undefined,
            ""stale-connection-checker-class-name"" => undefined,
            ""valid-connection-checker-class-name"" => undefined,
            ""background-validation-millis"" => undefined,
            ""background-validation"" => undefined,
            ""use-fast-fail"" => undefined,
            ""validate-on-match"" => undefined,
            ""xa-resource-timeout"" => undefined,
            ""spy"" => undefined,
            ""use-ccm"" => undefined,
            ""enabled"" => undefined,
            ""connectable"" => undefined,
            ""statistics-enabled"" => undefined,
            ""tracking"" => undefined,
            ""recovery-username"" => undefined,
            ""recovery-password"" => undefined,
            ""recovery-security-domain"" => undefined,
            ""recovery-plugin-class-name"" => undefined,
            ""no-recovery"" => undefined,
            ""url-property"" => undefined,
            ""reauth-plugin-properties"" => undefined,
            ""exception-sorter-properties"" => undefined,
            ""stale-connection-checker-properties"" => undefined,
            ""valid-connection-checker-properties"" => undefined,
            ""recovery-plugin-properties"" => undefined,
            ""connection-listener-property"" => undefined,
            ""capacity-incrementer-properties"" => undefined,
            ""capacity-decrementer-properties"" => undefined
        },
        {
            ""operation"" => ""add"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs""),
                (""xa-datasource-properties"" => ""URL"")
            ],
            ""value"" => ""jdbc:h2:mem:test""
        }
    ]
}
{code}

(2) Update its {{""jndi-name""}}
{code}
{
    ""operation"" => ""composite"",
    ""address"" => [],
    ""steps"" => [
        {
            ""operation"" => ""write-attribute"",
            ""address"" => [
                (""subsystem"" => ""datasources""),
                (""xa-data-source"" => ""testXaDs"")
            ],
            ""name"" => ""jndi-name"",
            ""value"" => ""java:/testXaDs_changed""
        }
    ]
}
{code}

This composite operation succeeds.

(3) Remove the XA Datasource:
{code}
{
    ""operation"" => ""remove"",
    ""address"" => [
        (""subsystem"" => ""datasources""),
        (""xa-data-source"" => ""testXaDs"")
    ]
}
{code}

NOT OK: the operation fails: 
{code}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.data-source.reference-factory.testXaDs was depended upon by service jboss.naming.context.java.testXaDs
Service jboss.xa-data-source-config.testXaDs was depended upon by service jboss.data-source.java:/testXaDs"",
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{code}

EXPECTED: the operation should succeed

Workaround: When the same request is sent once again, the second invocation succeeds.
",2015/10/14 10:44 AM
WFLY-4988,"Prior to 1.1.0.Final I was able to load and start a batch job located in jar 1 from jar 2. Both jars were package inside an ear. Now with the latest introduction of spi resolver (JobXmlResolverService from wildfly 9) the service created for jar 2 have no jobXmlResolvers so the start method from JobOperator throws an javax.batch.operations.JobStartException: JBERET000601: Failed to get job xml file for job XXX.
According to the spec: 
""archive loader If the implementation-specific mechanism does fails to resolve a Job XML reference, then the batch runtime implementation must resolve the reference with an archive loader. The implementation must provide an archive loader that resolves the reference by looking up the reference from the META-INF/batch-jobs directory."" I think that the implementation have to try to load jobs also in META-INF/batch-jobs dir.
Changes in the old behaviour was made due to Issue JBERET-144",2015/07/19 8:47 AM
WFLY-5421,"{noformat}
2015-09-28 10:32:03,355 WARN  [org.infinispan.notifications.cachelistener.CacheNotifierImpl] (notification-thread--p4-t1) ISPN000331: Unable to invoke method public void org.wildfly.clustering.server.group.CacheGroup.topologyChanged(org.infinispan.notifications.cachelistener.event.TopologyChangedEvent) on Object instance org.wildfly.clustering.server.group.CacheGroup@5bcbba4a : java.lang.UnsupportedOperationException: Not supported in this implementation since additional locking is required and cannot directly be delegated to multiple calls to ConcurrentHashMap
	at org.infinispan.util.concurrent.ConcurrentHashSet.removeAll(ConcurrentHashSet.java:110)
	at org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.lambda$membershipChanged$7(CacheServiceProviderRegistry.java:161)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.membershipChanged(CacheServiceProviderRegistry.java:150)
	at org.wildfly.clustering.server.group.CacheGroup.lambda$topologyChanged$9(CacheGroup.java:134)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.server.group.CacheGroup.topologyChanged(CacheGroup.java:120)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}",2015/09/28 12:41 PM
WFLY-5422,"Using <distributable/> application cause SSO doesnt destroy after session timeout period. Base on [1], there is still active session, what is probably cause that SSO is not destroyed.
Setting similar in EAP6 requires user to login after session timeout period.

Setting priority to critical because of regression with security impacts.

[1]
[standalone@localhost:9990 /] /deployment=secured-webapp.war/subsystem=undertow:read-attribute(name=active-sessions)
{
    ""outcome"" => ""success"",
    ""result"" => 0
}
[2]
[standalone@localhost:9990 /] /deployment=secured-webapp.war/subsystem=undertow:read-attribute(name=active-sessions)
{
    ""outcome"" => ""success"",
    ""result"" => 1
}",2015/09/22 8:38 AM
WFLY-5594,"Both the web and ejb clustering modules use a key affinity service to generate session IDs for replication and distribution mode - however, they currently attempt to use a key affinity service with invalidation mode as well, which throws an ISE.  Neither LOCAL nor INVALIDATION caches should attempt to use a key affinity service.",2015/10/27 2:28 PM
WFLY-5680,"When running the test case RemoteFailoverTestCase.testStatefulFailover, the test hangs due to an exception occurring. The exception is the following:

{noformat}
[31m11:24:05,814 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (EJB default - 3) ISPN000136: Execution error: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=47}, status=3} is not in a valid state to be invoking cache operations on.
{noformat} 

This exception arose some time ago and was linked to incorrect suspend/resume of threads by the InfinispanBatching mechanism. This is just a suggestion as to what might be the root cause.

Attached is a log of the test case run with TRACE logging on DummyTransactionManager which coordinates the suspends and resumes. I have also performed a stack trace dump on every call to suspend and resume to highlight the origin of the call. 

",2015/11/13 11:36 AM
WFLY-5533,"Calling :migrate or :describe-migration with parameter add-legacy-entries=true in domain fails:
{code}
[domain@127.0.0.1:9999 /] /profile=full-ha/subsystem=messaging:describe-migration(add-legacy-entries=true)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYCTL0216: Management resource '[(\""subsystem\"" => \""messaging\"")]' not found""},
    ""rolled-back"" => true
}
[domain@127.0.0.1:9999 /] /profile=full-ha/subsystem=messaging:migrate(add-legacy-entries=true)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYCTL0216: Management resource '[(\""subsystem\"" => \""messaging\"")]' not found""},
    ""rolled-back"" => true
}
{code}

Problem occur only if parameter add-legacy-entries=true is added. ",2015/10/15 4:40 AM
WFLY-5544,"The WildFly is missing XML schema file {{docs/schema/jboss-web_7_2.xsd}} and related version handling code in {{org.jboss.metadata.parser.jbossweb.JBossWebMetaDataParser}}.

This schema file was introduced in JBoss EAP 6.3 so it should be available in newer WildFly releases.",2015/10/20 6:38 AM
WFLY-5363,"When migrating access-log without defined extended attribute results in undertow without defined extended attribute, but the default values differ causing that even though in Web subsystem extended format wasn't used, in Undertow it is expected logging to use extended format.

Ideally the defaults should be the same or the migrate operation needs to define the extended attribute to false if it wasn't defined in Web.",2015/09/18 6:33 AM
WFLY-5331,"Configuration - standalone-ha.xml:

{noformat}
            <cache-container name=""web"" default-cache=""repl"" module=""org.wildfly.clustering.web.infinispan"">
                <transport lock-timeout=""60000""/>
                <replicated-cache name=""repl"" mode=""ASYNC"">
                    <locking isolation=""READ_COMMITTED""/>
                    <transaction locking=""OPTIMISTIC""/>
                    <file-store/>
                </replicated-cache>
            </cache-container>
{noformat}

After user is logged out, we invalidate session and show login page. Problem is, that sometimes server crashed with ConcurrentModificationException.

{noformat}
2015-09-10 08:55:24,571 ERROR [io.undertow.request] (default task-10) UT005023: Exception handling request to /blabla/login: java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)
	at java.util.HashMap$KeyIterator.next(HashMap.java:1453)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:400)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:387)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:245)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:723)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:753)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:64)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

2015-09-10 08:55:24,574 ERROR [cz.blabla.portal.error.ErrorHelper] (default task-10) HTTP error code 500 -> redirecting to default ERROR PAGE. Cause: null: java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)
	at java.util.HashMap$KeyIterator.next(HashMap.java:1453)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:400)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:387)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:245)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:723)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:753)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:64)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)
{noformat}

I think, that problem is in method InfinispanSessionManager.findListeners.

We have fix it with not very nice try - catch, maybe better way is to copy collection of names and iterate over it... I know it is not very nice and to be honest, I don't know if it is ""right"", but better then error page after logout :-).

{noformat}
    private static List<HttpSessionActivationListener> findListeners(ImmutableSession session) {
    	List<HttpSessionActivationListener> listeners = new ArrayList<>();        
        try {
	        ImmutableSessionAttributes attributes = session.getAttributes();
	        Set<String> names = attributes.getAttributeNames();
	        if (names != null && !names.isEmpty()) {
			    for (String name: names) {
			        Object attribute = attributes.getAttribute(name);
			        if (attribute instanceof HttpSessionActivationListener) {
			            listeners.add((HttpSessionActivationListener) attribute);
			        }
			    }
	        }
        } catch (Exception e) {
        	InfinispanWebLogger.ROOT_LOGGER.tracef(""No session attributes found."", e);
        }
        return listeners;
    }
{noformat}

",2015/09/14 5:25 AM
WFLY-5360,"When trying to migrate https connector in domain, it fails during creation of security realm, as the operation assumes that security realms are set in domain also under {{/core-service=management/}} but they are set specifically for host => in case of host master it is {{/host=master/core-service=management/}}",2015/09/18 4:17 AM
WFLY-5391,"When having defined default access logging (just changing {{extended}} attribute to {{false}}), instead of logging according to common pattern (the default pattern), only the word ""common"" is logged per each request.

Marking as critical as this is behaviour with default access-log configuration.",2015/09/23 8:08 AM
WFLY-4249,"Hi there,

When I try to use cluster features, I got an issue.

With SSO enabled, when a node left and rejoined the cluster, the authentication failed to sync.

I enabled SSO in standalone-ha.xml
<single-sign-on/>

Node 3:
$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -b=10.0.0.120 -u 230.0.0.4 -Djboss.node.name=node3 -Djboss.socket.binding.port-offset=100

Node 4:
$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -b=10.0.0.120 -u 230.0.0.4 -Djboss.node.name=node4 -Djboss.socket.binding.port-offset=200

I first started both nodes and logged in. Then I shut down node 3, and refresh the page. Everything worked fine until now. After this, I started node 3 again but I found I was logged out. When I shut down the node3, it worked again.

I also tried different versions of WildFly, 8.1, 8.2 and 9.0 and it failed in all versions.

The log from node 4 below happens sometimes but NOT always.
14:56:44,874 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-18,shared=udp) ISPN000094: Received new cluster view: [node4/web|3] (2) [node4/web, node3/web]
14:56:45,117 ERROR [org.infinispan.statetransfer.OutboundTransferTask] (transport-thread-12) Failed to send entries to node node3/web : ISPN000217: Received exception from node3/web, see cause for remote stack trace: org.infinispan.remoting.RemoteException: ISPN000217: Received exception from node3/web, see cause for remote stack trace
	at org.infinispan.remoting.transport.AbstractTransport.checkResponse(AbstractTransport.java:41)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.processSingleCall(CommandAwareRpcDispatcher.java:362)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.invokeRemoteCommand(CommandAwareRpcDispatcher.java:167)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotely(JGroupsTransport.java:521)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:281)
	at org.infinispan.statetransfer.OutboundTransferTask.sendEntries(OutboundTransferTask.java:233)
	at org.infinispan.statetransfer.OutboundTransferTask.run(OutboundTransferTask.java:174)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
Caused by: org.infinispan.commons.CacheException: Problems invoking command.
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.handle(CommandAwareRpcDispatcher.java:221)
	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:460)
	at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:377)
	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:247)
	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:667)
	at org.jgroups.blocks.mux.MuxUpHandler.up(MuxUpHandler.java:130)
	at org.jgroups.JChannel.up(JChannel.java:708)
	at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:1015)
	at org.jgroups.protocols.RSVP.up(RSVP.java:171)
	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
	at org.jgroups.protocols.FlowControl.up(FlowControl.java:381)
	at org.jgroups.protocols.FlowControl.up(FlowControl.java:370)
	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1010)
	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)
	at org.jgroups.protocols.UNICAST3.handleDataReceived(UNICAST3.java:695)
	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:382)
	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:600)
	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:147)
	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:185)
	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:301)
	at org.jgroups.protocols.MERGE3.up(MERGE3.java:303)
	at org.jgroups.protocols.Discovery.up(Discovery.java:379)
	at org.jgroups.protocols.TP$ProtocolAdapter.up(TP.java:2622)
	at org.jgroups.protocols.TP.passMessageUp(TP.java:1412)
	at org.jgroups.protocols.TP$MyHandler.run(TP.java:1598)
	... 3 more
Caused by: java.io.InvalidClassException: com.britensw.nyx.core.security.NyxPrincipal; Module load failed
	at org.jboss.marshalling.ModularClassResolver.resolveClass(ModularClassResolver.java:104) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:949)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1256)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1746)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1659)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1286)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1746)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1659)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1286)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.readObject(CoarseAuthenticationEntryExternalizer.java:57)
	at org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.readObject(CoarseAuthenticationEntryExternalizer.java:36)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.readObject(ImmortalCacheEntry.java:152)
	at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.readObject(ImmortalCacheEntry.java:142)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:62)
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:26)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.statetransfer.StateChunk$Externalizer.readObject(StateChunk.java:88)
	at org.infinispan.statetransfer.StateChunk$Externalizer.readObject(StateChunk.java:65)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:62)
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:26)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.readParameters(ReplicableCommandExternalizer.java:100)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.readObject(CacheRpcCommandExternalizer.java:146)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.readObject(CacheRpcCommandExternalizer.java:59)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller.objectFromObjectStream(AbstractJBossMarshaller.java:136)
	at org.infinispan.marshall.core.VersionAwareMarshaller.objectFromByteBuffer(VersionAwareMarshaller.java:101)
	at org.infinispan.commons.marshall.AbstractDelegatingMarshaller.objectFromByteBuffer(AbstractDelegatingMarshaller.java:80)
	at org.infinispan.remoting.transport.jgroups.MarshallerAdapter.objectFromBuffer(MarshallerAdapter.java:28)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.handle(CommandAwareRpcDispatcher.java:206)
	... 27 more
Caused by: org.jboss.modules.ModuleNotFoundException: deployment.nyx.war:main
	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:240) [jboss-modules.jar:1.3.4.Final]
	at org.jboss.marshalling.ModularClassResolver.resolveClass(ModularClassResolver.java:102) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	... 96 more
Caused by: an exception which occurred:
	in field principal
	in object of type org.wildfly.extension.undertow.security.AccountImpl
	in field account
	in object of type io.undertow.security.api.AuthenticatedSessionManager$AuthenticatedSession

14:56:49,679 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,shared=udp) ISPN000094: Received new cluster view: [node4/ejb|3] (2) [node4/ejb, node3/ejb]
14:56:51,515 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-15,shared=udp) ISPN000094: Received new cluster view: [node4/hibernate|3] (2) [node4/hibernate, node3/hibernate]


Apache configuration:
<<mod_cluster.conf>>
 LoadModule proxy_module modules/mod_proxy.so
 LoadModule proxy_http_module modules/mod_proxy_http.so
 LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
 LoadModule slotmem_module       modules/mod_slotmem.so
 LoadModule manager_module       modules/mod_manager.so
 LoadModule proxy_cluster_module modules/mod_proxy_cluster.so
 LoadModule advertise_module     modules/mod_advertise.so

 MemManagerFile /var/cache/httpd

<<cluster.conf>>
Listen 10001
<VirtualHost *:10001>
 	ServerAdmin             root@example.com
    	ServerName              localhost

	<Directory />
	        Require all granted
	</Directory>

	<Location /mod_cluster_manager>
	        SetHandler mod_cluster-manager
	        Require all granted
	</Location>

	AdvertiseFrequency 5
	KeepAliveTimeout 60
	MaxKeepAliveRequests 0
	AllowDisplay On

	ManagerBalancerName mycluster
	ServerAdvertise On
	EnableMCPMReceive

	ErrorLog                /var/log/httpd/error_log
	TransferLog             /var/log/httpd/access_log
</VirtualHost>",2015/01/13 11:27 PM
WFLY-3421,"Session/ejb expiration is scheduled only the the owning node of a given session/ejb. When a node leaves, each node that assumes ownership of the sessions/ejbs that were previously owned by the leaving node schedules expiration of those sessions. However, view change can also lead to ownership changes for any session/ejb. We are currently handling this properly. If a session/ejb changes ownership, the expiration scheduling is never cancelled, and that session/ejb will expire prematurely, unless the node reacquires ownership. When using sticky sessions, this issue is not apparent, since subsequent requests will direct to the previous owner, who will cancel expiration on the old owner and reschedule expiration on the new owner properly. However, this will be a problem for web sessions if sticky sessions is disabled - and for @Stateful EJBs, if the ejb client receives updated affinity information prior to subsequent requests.
There are at least 2 ways to address this:

# When a request arrives for an existing session/ejb, we immediately cancel any scheduled expiration/eviction. This is currently a unicast, which typically results in a local call - but can go remote if the ownership has changed. Making this a cluster-wide broadcast would fix the issue.
# We can allow the scheduler to expose the set of keys that are currently schedule, and, on topology change, cancel those sessions/ejbs for which the current node is no longer the owner - and reschedule on the new owner.

Option 1 adds an additional cluster-wide RPC per request.
Option 2 adds N*(N-1) unicast RPCs per view change, where N is the cluster size (i.e. each node sends 1 rpc to every other node containing the set of session/ejb IDs to schedule for expiration), 

Option 2 is the least invasive solution of the two.

EDIT: There is a 3rd options, i.e. modify the expiration tasks such that they skip expiration if the session/ejb is not owned by the current node. This is prevents the premature expiration issue, but we need some additional strategy to reschedule the session/ejb expiration on the node on the current owner.",2014/05/30 11:15 AM
WFLY-3286,Intermittent failures caused by wrong synchronization.,2014/04/25 4:01 AM
WFLY-3695,"The ScheduledExecutorService employed by the SessionExpirationScheduler uses shutdown() to shutdown the thread pool - however, unless we explicitly setExecuteExistingDelayedTasksAfterShutdownPolicy(false), all scheduled tasks will attempt to execute after shutdown!",2014/07/30 3:19 PM
WFLY-3972,"Only DataSourceEnable appears to have a dependency defined against the security domain used (SecurityDomainService).

Also any security domain used in recovery needs a dependency.

Likewise for resource adapter deployments.",2014/10/13 8:52 AM
WFLY-3841,"[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS/connection-properties=foo:add(value=foo)
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
[standalone@localhost:9990 /] :reload
{
    ""outcome"" => ""success"",
    ""result"" => undefined
}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS/connection-properties=foo:remove
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.data-source-config.ExampleDS.connection-properties.foo was depended upon by service jboss.data-source-config.ExampleDS"",
    ""rolled-back"" => true
}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS/connection-properties=foo:remove
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:test-connection-in-pool
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYJCA0040: failed to invoke operation: WFLYJCA0042: failed to match pool. Check JndiName: java:jboss/datasources/ExampleDS"",
    ""rolled-back"" => true
}
",2014/09/10 10:21 AM
WFLY-4844,"When a Singleton EJB timer finishes, if the next run has already started but waiting on the write lock of Singleton EJB, the next run won't see the changes committed by the current run. So I assume when the EJB timers finishes, the transaction is not fully committed, or it's the next run that starts too early.

Here is a test case that should be able to reproduce the issue we are facing. 
https://github.com/xiaodong-xie/wildfly-singleton-timer


Here is my analysis of this issue: 

The CMTTxInterceptor is applied before ContainerManagedConcurrencyInterceptor. 

So when waiting for the write lock of EJBReadWriteLock, we've already started the transaction, which IMHO is earlier than necessary. 


",2015/06/29 2:21 PM
WFLY-5207,"The DATETIME datatype in SQL Server has a precision of ~0.003 seconds.
It sometimes can happen that an EJB timer gets scheduled to a timestamp which will get rounded after its insertion into the database, because the timestamps are generated with precision to miliseconds.
After that, the timer service will be unable to locate this row, because it attempts to select using WHERE NEXT_DATE=$timestamp, where $timestamp is the original unrounded java.sql.Timestamp, and this condition no longer holds true. 

After a timer is scheduled to go off at such unfortunate timestamp, it will never go off again.

The solution is to either truncate the milisecond part, or to use the newer DATETIME2 datatype, which has an accuracy of 100 nanoseconds (https://msdn.microsoft.com/en-us/library/bb677335.aspx). DATETIME2 is supported on SQL Server 2008+.",2015/08/26 6:25 AM
WFLY-4578,"Some attribute types like ""export-corbaloc"" are booleans, but are described as strings with allowed values [""true"", ""false""]. Please use model type boolean for these attributes.",2015/05/04 3:30 AM
WFLY-5253,In Web {{protocol}} attribute of https ssl configuration is used for defining ssl protocols such as TLSv1.2. This attribute isn't properly migrated. Migrate operation defines {{enabled-protocols}} in {{https-listener}} based on Web's {{ssl-protocol}} which is incorrect as {{ssl-protocol}} in Web stands for name of custom ssl protocol provider.,2015/09/01 10:46 AM
WFLY-5145,"As part of the migrate functionality for moving from JacORB to IIOP OpenJDK the old subsystem should contain operation {{describe-migration}}
{code}
/subsystem=jacorb:describe-migration()
{code}
for user gets information about following steps.

But JacORB subsystem does not contain any such operation
{code}
/subsystem=jacorb:read-operation-names()
{
    ""outcome"" => ""success"",
    ""result"" => [
        ""add"",
        ""list-add"",
        ""list-clear"",
        ""list-get"",
        ""list-remove"",
        ""map-clear"",
        ""map-get"",
        ""map-put"",
        ""map-remove"",
        ""migrate"",
        ""query"",
        ""read-attribute"",
        ""read-attribute-group"",
        ""read-attribute-group-names"",
        ""read-children-names"",
        ""read-children-resources"",
        ""read-children-types"",
        ""read-operation-description"",
        ""read-operation-names"",
        ""read-resource"",
        ""read-resource-description"",
        ""remove"",
        ""undefine-attribute"",
        ""whoami"",
        ""write-attribute""
    ]
}
{code}
",2015/08/20 9:07 AM
WFLY-5231,"When migrating access-log via {{:migrate}} and access-log contains directory definition, the properties {{relative-to}} and {{path}} are not migrated.

Web subsystem snippet:
{code:xml}
<subsystem xmlns=""urn:jboss:domain:web:2.2"" default-virtual-server=""default"" native=""false"">
    <virtual-server name=""default"" enable-welcome-root=""true"">
        <alias name=""localhost""/>
        <alias name=""example.com""/>
        <access-log resolve-hosts=""true"" prefix=""test"" rotate=""false"">
            <directory relative-to=""jboss.server.log.dir"" path=""testvs/vs""/>
        </access-log>
    </virtual-server>
</subsystem>
{code}

access log part expected to be migrated as 
{code:xml}
<access-log rotate=""false"" prefix=""test"" directory=""testvs/vs"" relative-to=""jboss.server.log.dir"" />
{code}

instead it is migrated without the {{directory}} and {{relative-to}} attributes:
<access-log rotate=""false"" prefix=""test""/>

",2015/08/28 10:00 AM
WFLY-5282,Connector attribute {{redirect-port}} is not migrated. The {{redirect-port}} behaves the same as {{redirect-binding}} with exception of directly defining port to use. Thus it could be migrated to {{redirect-socket}} attribute in Undertow (with some logic for defining/obtaining appropriate socket binding) or there should be at least printed suitable warning preventing to migrate such attribute.,2015/09/04 9:31 AM
WFLY-3240,"We  can do this ourselves by:

* fixing implementation part in Mojarra fork
* using weld portable extensions to modify the annontation metadata",2014/04/10 4:39 AM
WFLY-5788,"-RuntimeExceptions thrown when accessing the SFSB cache should be rethrown as an EJBException. Otherwise the client doesn't know how to serialize implementation specific exception classes.-

This is not correct. The cause is wrapped in the EJBException but it is the cause that cannot be deserialized. Updated the Jira summary and crossed ^ out. --Rado

Seen in our failover tests for remote stateful EJBs - scenarios.
After failing a node, client logs these error messages:
{code}
2015/11/27 04:10:03:241 EST [ERROR][Runner - 894] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error getting response. <javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException>
        javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException
        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:238)
        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)
        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)
        at com.sun.proxy.$Proxy2.getSerialAndIncrement(Unknown Source)
        at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.processRequest(StatefulSBProcessorFactoryImpl.java:84)
        at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
        at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException
        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:348)
        at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)
        at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)
        at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1745)
        at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)
        at java.lang.Throwable.readObject(Throwable.java:914)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:497)
        at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:307)
        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1637)
        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)
        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)
        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1285)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
        at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)
        at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:79)
        at org.jboss.ejb.client.EJBClientInvocationContext$1.run(EJBClientInvocationContext.java:282)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:279)
        at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocationResult(EJBObjectInterceptor.java:64)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
        at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocationResult(EJBHomeInterceptor.java:88)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
        at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:46)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
        at org.jboss.ejb.client.ReceiverInterceptor.handleInvocationResult(ReceiverInterceptor.java:129)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:265)
        at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:453)
        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:204)
        ... 7 more
{code}

Link
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/17/console-perf17/",2015/12/04 4:53 AM
WFLY-3690,"Currently we have  the following configuration element: <xts-environment url=""http://${jboss.bind.address:127.0.0.1}:8080/ws-c11/ActivationService""/>

If bind address is set to ::1, then xts environment URL becomes http://::1:8080/ws-c11/ActivationService. This is incorrect, because IPv6 address with port number in it suppose to have brackets.

we could need to split url in 4 different attribute:
* protocol
* host
* port 
* path

but there isn't a easy way to do the transformer by adding these new attributes. So it's just another solution to split the url and check the address if startsWith ::1, then it needs to add the brackets and join them again.",2014/07/30 4:21 AM
WFLY-5682,"As trying to set absolute path for location of transaction log store I've got to suspicion that's not possible.
If I try to set `object-store-relative-to` to some absolute path or set `object-store-relative-to` to empty string and then `object-store-path` to some absolute path the server starts with exceptions [1][2].

[1]
{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.txn.ArjunaObjectStoreEnvironment: org.jboss.msc.service.StartException in service jboss.txn.ArjunaObjectStoreEnvironment: Failed to start service
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
 at java.lang.Thread.run(Thread.java:745)Caused by: java.lang.IllegalArgumentException: WFLYCTL0256: Could not find a path called '/home/ochaloup/tmp/'
 at org.jboss.as.controller.services.path.PathManagerService.resolveRelativePathEntry(PathManagerService.java:87) at org.jboss.as.txn.service.ArjunaObjectStoreEnvironmentService.start(ArjunaObjectStoreEnvironmentService.java:76)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
 ...
ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""transactions"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.txn.ArjunaObjectStoreEnvironment"" => ""org.jboss.msc.service.StartException in service jboss.txn.ArjunaObjectStoreEnvironment: Failed to start service
    Caused by: java.lang.IllegalArgumentException: WFLYCTL0256: Could not find a path called '/home/ochaloup/tmp/'""}}
INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status reportWFLYCTL0186:   Services which failed to start:      service jboss.txn.ArjunaObjectStoreEnvironment: org.jboss.msc.service.StartException in service jboss.txn.ArjunaObjectStoreEnvironment: Failed to start service
{code}

[2]
{code}
ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration
 at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)
 at org.jboss.as.server.ServerService.boot(ServerService.java:356) at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:299)
 at java.lang.Thread.run(Thread.java:745)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[348,13]
Message: ""WFLYCTL0113: '' is an invalid value for parameter relative-to. Values must have a minimum length of 1 characters""
 at org.jboss.as.controller.SimpleAttributeDefinition.parse(SimpleAttributeDefinition.java:161) at org.jboss.as.controller.SimpleAttributeDefinition.parseAndSetParameter(SimpleAttributeDefinition.java:186)
 at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.parseObjectStoreEnvironmentElementAndEnrichOperation(TransactionSubsystem14Parser.java:205)
 at org.jboss.as.txn.subsystem.TransactionSubsystem30Parser.readElement(TransactionSubsystem30Parser.java:67) at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.readElement(TransactionSubsystem14Parser.java:111)
 at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.readElement(TransactionSubsystem14Parser.java:54) at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)
 at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69) at org.jboss.as.server.parsing.StandaloneXml_4.parseServerProfile(StandaloneXml_4.java:547)
 at org.jboss.as.server.parsing.StandaloneXml_4.readServerElement(StandaloneXml_4.java:244) at org.jboss.as.server.parsing.StandaloneXml_4.readElement(StandaloneXml_4.java:143)
 at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:69) at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:47) at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)
 at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)
 ... 3 more
{code}",2015/11/15 7:29 AM
WFLY-4168,"jdr.sh CommandLineMain does not run jdr on the application server

JDR run via the CLI / Managemenet API -  runs the JDR report in the Application Server's JVM
/subsystem=jdr:generate-jdr-report()

Running jdr.sh / jdr.bat runs the JDR report in the JDR JVM

jdr.sh / jdr.bat should run the JDR report in the Application Server's JVM if it is running.  If it is not running, then it should just collect the files that are available.",2014/12/09 5:55 PM
WFLY-4941,"Seen in our failover tests - this warning message is present in each server log in each test we have run so far.

When each server in cluster is restarting after failover, other servers get CacheTopology change (the starting server is added) and the servers log this warning message many times:
(for http session tests, the error identificator is WFLYCL*WEB*INF0005 rather than WFLYCL*EJB*INF0005)

{code}
[JBossINF] [0m[0m11:32:27,681 INFO  [org.infinispan.CLUSTER] (remote-thread--p5-t12) ISPN000336: Finished cluster-wide rebalance for cache dist, topology id = 10
[JBossINF] [0m[0m11:32:27,809 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t2) ISPN000310: Starting cluster-wide rebalance for cache clusterbench-ee7.ear/clusterbench-ee7-ejb.jar, topology CacheTopology{id=10, rebalanceId=5, currentCH=DefaultConsistentHash{ns=80, owners = (3)[perf19: 26+28, perf20: 27+26, perf21: 27+26]}, pendingCH=DefaultConsistentHash{ns=80, owners = (4)[perf19: 20+20, perf20: 20+20, perf21: 20+20, perf18: 20+20]}, unionCH=null, actualMembers=[perf19, perf20, perf21, perf18]}
[JBossINF] [0m[0m11:32:28,347 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t6) ISPN000336: Finished cluster-wide rebalance for cache clusterbench-ee7.ear/clusterbench-ee7-ejb.jar, topology id = 10
[JBossINF] [0m[33m11:32:28,624 WARN  [org.wildfly.clustering.ejb.infinispan] (EJB default - 4) WFLYCLEJBINF0005: Failed to cancel expiration/passivation of bean UnknownSessionID [6855655451695655554868505252524957485470656956657048536848556569] on primary owner.: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: timeout sending message to perf18
[JBossINF] 	at org.jgroups.blocks.UnicastRequest.getValue(UnicastRequest.java:203)
[JBossINF] 	at org.jgroups.blocks.UnicastRequest.get(UnicastRequest.java:212)
[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.executeOnNode(ChannelCommandDispatcher.java:151)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$6.call(InfinispanBeanManager.java:237)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$6.call(InfinispanBeanManager.java:232)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.RetryingInvoker.invoke(RetryingInvoker.java:70)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.executeOnPrimaryOwner(InfinispanBeanManager.java:240)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.cancel(InfinispanBeanManager.java:217)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:267)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:115)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:58)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:635)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
[JBossINF] Caused by: java.util.concurrent.TimeoutException: timeout sending message to perf18
[JBossINF] 	... 54 more
[JBossINF] 

{code}

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/2/console-perf19/

Client log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/2/console-perf17/",2015/07/16 8:51 AM
WFLY-5661,"Currently AbstractDataSourceAdd doesn't add the CCM service for jta=false deployments, which could work if applications rely on the CCM boundaries.

For both jta=true and jta=false deployments the dependency should be guarded with a ""if (useCCM)""",2015/11/11 9:48 AM
WFLY-4470,"Description of problem:
A singleton MDB delivers duplicate messages when start-delivery() is invoked twice while the message being delivered

Steps to Reproduce:
1. Create a producer, which keeps sending messages for every second
2. Deploy a singleton consumer MDB
3. Invoke start-delivery() method on the MDB while the messages being delivered

Actual results:
MDB delivers duplicate messages

Expected results:
MDB needs to ignore start-delivery() call if the MDB has already been started.

Additional info:",2015/03/30 6:24 AM
WFLY-5596,"WFLY-4470 made a change to prevent MDBs being activated or deactivated multiple times, but it is not thread safe. A volatile boolean is used for the flag, but there is no protection against multiple threads invoking the methods simultaneously.

Possible effects include:
* activating the endpoint twice, with (probably) only one deactivation later, leading to not de-registering XA resources from the recovery manager properly
* activate() and deactivate() running in the wrong order if done by separate threads

Several simple solutions probably will not work correctly. Using an AtomicBoolean would stop multiple activations/deactivations from concurrent calls, but would mean that startDelivery() could return before the activation was one. Using a synchronized block or other exclusive lock would work, however since it involves invoking non-container code (the resource adapter), there could potentially be a deadlock risk if that invoked some related container functionality.",2015/10/28 12:19 AM
WFLY-5234,"ModelNode.asPropertyList() results in a clone of the model node. If the node is very large this can be expensive.

We use this call quite a bit in subsystem xml marshallers. The cost is not likely to be significant in most places, but in a few cases where users may end up adding a large number of nodes of a particular type, moving away from this call to another idiom that doesn't involve cloning may help with performance.

I've heard of a user planning to add thousands of datasources, for example, and wanting very fast performance of the write ops to add those.

Things I plan to look at:

(xa-)datasources
messaging destinations
resource adapters
JCA connectors
security domains",2015/08/28 6:16 PM
WFLY-5035,"Originally opened as https://issues.jboss.org/browse/WFLY-4936 but these failures are also to be seen on Linux thus we can rule out ttl problems.

The problem indeed is in using udp stack in CI, we can get reliable results using the tcp stack.",2015/07/30 6:06 AM
WFLY-4792,{{org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager}} which is used by default even for non-HA configurations in WildFly 9.0.0.CR2 (e.g. {{standalone.xml}} in app server distribution) does not implement {{io.undertow.server.session.SessionManagerStatistics}} and so no stats except for {{activeSessions}} are available. ,2015/06/16 11:14 AM
WFLY-5541,"See for instance attribute request-count. It's of type integer but reports an error message (when statistics not enabled). Please use the DMR headers to indicate failed operations. This is a bad hack.

{noformat}
[standalone@localhost:9990 /] /deployment=jboss-helloworld-ws.war/subsystem=webservices/endpoint=*:read-resource(include-runtime=true)
{
    ""outcome"" => ""success"",
    ""result"" => [{
        ""address"" => [
            (""deployment"" => ""jboss-helloworld-ws.war""),
            (""subsystem"" => ""webservices""),
            (""endpoint"" => ""jboss-helloworld-ws%3Aorg.jboss.as.quickstarts.wshelloworld.HelloWorldServiceImpl"")
        ],
        ""outcome"" => ""success"",
        ""result"" => {
            ""average-processing-time"" => ""WFLYWS0037: No metrics available"",
            ""class"" => ""org.jboss.as.quickstarts.wshelloworld.HelloWorldServiceImpl"",
            ""context"" => ""jboss-helloworld-ws"",
            ""fault-count"" => ""WFLYWS0037: No metrics available"",
            ""max-processing-time"" => ""WFLYWS0037: No metrics available"",
            ""min-processing-time"" => ""WFLYWS0037: No metrics available"",
            ""name"" => ""org.jboss.as.quickstarts.wshelloworld.HelloWorldServiceImpl"",
            ""request-count"" => ""WFLYWS0037: No metrics available"",
            ""response-count"" => ""WFLYWS0037: No metrics available"",
            ""total-processing-time"" => ""WFLYWS0037: No metrics available"",
            ""type"" => ""JAXWS_JSE"",
            ""wsdl-url"" => ""http://localhost:8080/jboss-helloworld-ws/HelloWorldService?wsdl""
        }
    }],
    ""response-headers"" => {""process-state"" => ""reload-required""}
}

{noformat}",2015/10/19 6:41 AM
WFLY-5170,"*Description of problem:*
WildFlySecurityManager throws ExceptionInInitializerError exception by some tests with security manager. 

*Affected tests found so far:*
* org.jboss.as.test.integration.batch.deployment.JobControlTestCase#testStop
* org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20MessageSelectorTestCase#retestMessageSelectors
* org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20QueueTestCase#testEjb20MDB
* org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20TopicTestCase#testEjb20TopicMDBs
* org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB21TestCase#testSimple21MDB
* org.jboss.as.test.integration.ejb.pool.lifecycle.PooledEJBLifecycleTestCase#testMDB
* org.jboss.as.test.xts.annotation.compensationScoped.CompensationScopedTestCase#shouldSeeDifferentValuesInDifferentTransactions
* org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATVoteReadOnly
* org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorSimple

*Steps to Reproduce for MDB20QueueTestCase:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=MDB20QueueTestCase

*Actual results:*
{noformat}
testEjb20MDB(org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20QueueTestCase)  Time elapsed: 0.094 sec  <<< ERROR!
java.lang.ExceptionInInitializerError: null
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPropertyAccess(WildFlySecurityManager.java:496)
	at java.lang.System.getProperty(System.java:717)
	at java.lang.Integer.getInteger(Integer.java:1101)
	at java.lang.Integer.getInteger(Integer.java:1057)
	at org.jboss.as.test.shared.TimeoutUtil.<clinit>(TimeoutUtil.java:39)
	at org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20QueueTestCase.testEjb20MDB(MDB20QueueTestCase.java:110)
{noformat}",2015/08/21 10:51 AM
WFLY-5186,"Seen in these scenarios:
ejb-ejbservlet-shutdown-repl-async
ejb-ejbservlet-jvmkill-repl-async
http-session-shutdown-repl-async-tcpStack
http-session-undeploy-dist-sync

With no obvious connection to failover of the nodes, usually all the 4 servers log this error few times during the testrun (each server different time):
{code}
[JBossINF] [0m[31m17:21:36,562 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (remote-thread--p4-t1) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l and requestor GlobalTransaction:<perf20>:56262:remote. Lock is held by GlobalTransaction:<perf20>:51723:remote, while request came from perf20
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAndRegisterBackupLock(AbstractTxLockingInterceptor.java:118)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:200)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:141)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitLockControlCommand(TxInterceptor.java:199)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitLockControlCommand(TransactionSynchronizerInterceptor.java:75)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:196)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:99)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:76)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.perform(LockControlCommand.java:129)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

The error is usually followed by a warning: 
{code}
[JBossINF] [0m[33m17:21:36,563 WARN  [org.infinispan.remoting.inboundhandler.NonTotalOrderPerCacheInboundInvocationHandler] (remote-thread--p4-t1) ISPN000071: Caught exception when handling command LockControlCommand{cache=clusterbench-ee7.ear.clusterbench-ee7-web-default.war, keys=[D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l], flags=[IGNORE_RETURN_VALUES], unlock=false, gtx=GlobalTransaction:<perf20>:56262:remote}: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l and requestor GlobalTransaction:<perf20>:56262:remote. Lock is held by GlobalTransaction:<perf20>:51723:remote, while request came from perf20
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAndRegisterBackupLock(AbstractTxLockingInterceptor.java:118)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:200)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:141)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitLockControlCommand(TxInterceptor.java:199)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitLockControlCommand(TransactionSynchronizerInterceptor.java:75)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:196)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:99)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:76)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.perform(LockControlCommand.java:129)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

While the error was logged 15 times by all servers in this particular run, the warning message was logged 505 times.

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-repl-async/6/console-perf19/ 

The same error with different stacktrace:
{code}
[JBossINF] [0m[31m17:21:16,585 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-45) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key UnknownSessionID [5365576765655250685155485253536866686865666767514850676951495057] and requestor GlobalTransaction:<perf20>:52228:local. Lock is held by GlobalTransaction:<perf20>:49990:local, while request came from local
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)
[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lockAndRegisterBackupLock(PessimisticLockingInterceptor.java:261)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:131)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitReplaceCommand(AbstractLockingInterceptor.java:60)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:308)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitReplaceCommand(TxInterceptor.java:219)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:261)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:243)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReplaceCommand(StateTransferInterceptor.java:124)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:191)
[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitReplaceCommand(CacheMgmtInterceptor.java:182)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)
[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1613)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.replaceInternal(CacheImpl.java:1158)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.replace(CacheImpl.java:1151)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.replace(DecoratedCache.java:502)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.replace(AbstractDelegatingCache.java:262)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:52)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.close(InfinispanBean.java:113)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$SchedulableBean.close(InfinispanBeanManager.java:406)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:136)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$$$view3.getSerialAndIncrement(Unknown Source)
[JBossINF] 	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)
[JBossINF] 	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:434)
[JBossINF] 	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:127)
[JBossINF] 	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
[JBossINF] 	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)
[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$Proxy$_$$_Weld$EnterpriseProxy$.getSerialAndIncrement(Unknown Source)
[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$Proxy$_$$_WeldClientProxy.getSerialAndIncrement(Unknown Source)
[JBossINF] 	at org.jboss.test.clusterbench.web.ejb.LocalEjbServlet.doGet(LocalEjbServlet.java:38)
[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
[JBossINF] 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
[JBossINF] 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
[JBossINF] 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
[JBossINF] 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)
[JBossINF] 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
[JBossINF] 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:778)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-repl-async/6/console-perf20/

The timeout stated in the exception is sometimes not exactly 15 seconds, so far I have seen these variants: 14.99 seconds, 14.97 seconds, and also only few milliseconds (!), see this server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-undeploy-dist-sync/5/console-perf18/
  ",2015/08/24 9:47 AM
WFLY-5811,"Our clustering write-heavy stress tests show a performance drop of 7.0.0.ER2 bits compared to 6.4.0 bits, when using ASYNC cache.

Compare these results:

stress-ejbremote-dist-async
7.0.0.ER2: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-ejbremote-dist-async/6/artifact/report/graph-throughput.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-ejbremote-dist-async_noperf21/1/artifact/report/graph-throughput.png]

stress-ejbremote-repl-async
7.0.0.ER2: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-ejbremote-repl-async/4/artifact/report/graph-throughput.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-ejbremote-repl-async_noperf21/1/artifact/report/graph-throughput.png]

stress-ejbservlet-repl-async
7.0.0.ER2: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-ejbservlet-repl-async/3/artifact/report/graph-throughput.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-ejbservlet-repl-async_noperf21/2/artifact/report/graph-throughput.png]

stress-session-repl-async
7.0.0.ER2: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-repl-async/3/artifact/report/graph-throughput.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-repl-async_noperf21/1/artifact/report/graph-throughput.png]

stress-session-dist-async
7.0.0.ER2: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-stress-session-dist-async/3/artifact/report/graph-throughput.png]
6.4.0.GA: [throughput|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-6x-stress-session-dist-async_noperf21/1/artifact/report/graph-throughput.png]

Also, load scenarios, which use a stable load of 4000 sessions are affected.",2015/12/08 9:13 AM
WFLY-3384,"Some of the registered services are bound to the JNDI using the BinderService and the dependency mechanism to run the binder as soon as the main service runs. At this point everything works like a harm; services are registered and started successfully. But there is a little inconsistency, at least from the JNDI point of view which leads to a specific problem.

Let's take a look at the following services:

{quote}
jboss.clustering.group.ejb.dist@a59ab61 State: UP (Uses: BinderService => JNDI: jboss.naming.context.java.jboss.clustering.group.ejb.dist)
jboss.clustering.group.ejb@60e172ee State: DOWN (Uses: BinderService => JNDI: jboss.naming.context.java.jboss.clustering.group.ejb)
{quote}

As you can see they share the same path in the naming context (*jboss.naming.context.java.jboss.clustering.group.ejb*.dist). The second service _jboss.naming.context.java.jboss.clustering.group.ejb_ is a parent naming context to the first one: _jboss.naming.context.java.jboss.clustering.group.ejb.dist_. To make matters worse they do not depend on themselves, so when _jboss.clustering.group.ejb.dist_ is requested to be started (for instance by _jboss.clustering.providers.ejb.dist_ service) it starts immediately but _jboss.clustering.group.ejb_ is left in the WAITING state (It's ON_DEMAND service.). It leads to a situation where only the _jboss.clustering.group.ejb.dist_ service is registered in the naming context, but both services exist in the service registry.

Such naming conflict can be a problem when for example we have to traverse through the naming context using ServiceBasedNamingStore as a naming provider. (JNDIView is a good example here, but I also managed to reproduce the problem when I messed up something with the remoting configuration. I don't remember details now.) 

JNDIView uses Context.list("""") method in order to get the first level from the naming context. So in case of the _jboss.clustering.group.ejb.dist_ service the traverse path would be as follows:

context.list("""") -> returns ""clustering""
context.lookup( ""clustering"" ) returns NamingContext(""clustering"") because there is no service ""jboss.clustering"".
NamingContext(""clustering"").list("""") -> returns ""group""
NamingContext(""clustering"").lookup( ""group"" ) returns NamingContext(""clustering/group"") because there is no service ""jboss.clustering.group"".
NamingContext(""clustering/group"").list("""") -> returns ""ejb""
NamingContext(""clustering/group"").lookup(""ejb"") -> Fails!

It fails with an _NameNotFoundException_ simply because the first thing the ServiceBasedNamingStore component does is to check if there is the _jboss.naming.context.java.jboss.clustering.group.ejb_ service in the service registry. It is available in the registry so ServiceBasedNamingStore decides to get the destination service instance the BinderService (_jboss.naming.context.java.jboss.clustering.group.ejb_) should point to. Service _jboss.clustering.group.ejb_ hasn't been started yet so its dependant the BinderService (_jboss.naming.context.java.jboss.clustering.group.ejb.dist_) couldn't resolve the injections and as so the BinderService does not point to the destination _jboss.clustering.group.ejb_ service instance. In the result, it ends with the exception because ServiceBasedNamingStore is not able to return the reference to the service the JNDI name _jboss.naming.context.java.jboss.clustering.group.ejb_ should point to. Notice that everything would be OK if there weren't running _jboss.naming.context.java.jboss.clustering.group.ejb.dist_ service, because Context.list("""") ignores the _jboss.naming.context.java.jboss.clustering.group.ejb_ service as an unbound one.

Anyway even if the service _jboss.naming.context.java.jboss.clustering.group.ejb_ was started properly and the naming context pointed to the _jboss.clustering.group.ejb_ service, it would lead to a different problem. The name _jboss.naming.context.java.jboss.clustering.group.ejb.dist_ wouldn't be found at all, because the _jboss.naming.context.java.jboss.clustering.group.ejb_ name would be treated as the end of the path while traversing using the Context.list("""") method.

It's probably a problem with the service naming convention, but anyway it is not an isolated case. There are a lot of services that follow the same naming rules but fortunately they are not registered in the naming context (yet?). For instance:

{quote}
jboss.clustering.group.hibernate.entity
jboss.clustering.group.hibernate.timestamps
jboss.clustering.group.hibernate
{quote}

Introducing something like a value aware NamingContext would also do the trick, but it's not natural for the JNDI. 

Anyway, it can be fixed in many ways, so for now I decided just to ignore such problematic services in the JNDIViewOperation just to avoid the exception.

If anyone needs a workaround:

Class: org.jboss.as.naming.management.JndiViewOperation
jar: wildflay-naming-8.0.0.Final.jar

Before (Line: 134):
{code:title=org.jboss.as.naming.management.JndiViewOperation.java|borderStyle=solid}
final Object value;
if(context instanceof NamingContext) {
	value = ((NamingContext)context).lookup(pair.getName(), false);
} else {
	value = context.lookup(pair.getName());
}
{code}

After:
{code:title=org.jboss.as.naming.management.JndiViewOperation.java|borderStyle=solid}
Object value;
try {
	if(context instanceof NamingContext) {
		value = ((NamingContext)context).lookup(pair.getName(), false);
	} else {
		value = context.lookup(pair.getName());
	}
} catch( NameNotFoundException exc ) {
	value = null;
}
{code}

It is the original exception:

{noformat}
23:44:29,133 ERROR [stderr] (XNIO-1 task-8) javax.naming.NameNotFoundException: Error looking up clustering/group/ejb, service service jboss.naming.context.java.jboss.clustering.group.ejb is not started
23:44:29,133 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:133)
23:44:29,133 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:81)
23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)
23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)
23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:136)
23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:144)
23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:144)
23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.access$0(JndiViewOperation.java:125)
23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation$1.execute(JndiViewOperation.java:75)
23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591)
23:44:29,136 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469)
23:44:29,136 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273)
23:44:29,142 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268)
23:44:29,142 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272)
23:44:29,143 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146)
23:44:29,145 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:169)
23:44:29,147 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:72)
23:44:29,150 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:68)
23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at java.security.AccessController.doPrivileged(Native Method)
23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at javax.security.auth.Subject.doAs(Subject.java:422)
23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94)
23:44:29,152 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:68)
23:44:29,152 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:63)
23:44:29,153 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:50)
23:44:29,153 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:77)
23:44:29,154 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
23:44:29,154 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168)
23:44:29,156 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687)
23:44:29,157 ERROR [stderr] (XNIO-1 task-8)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
...
{noformat}
",2014/05/20 6:34 PM
WFLY-5393,"Attribute {{use-hornetq-store}} was deprecated for EAP7 and {{use-journal-store}} should be used instead. But even the attribute is deprecated it still should provide its old functionality.

I think that using {{use-hornetq-store}} would have the same effect as when {{use-journal-store}} is used.

I would think that when one of the attribute is set then the other one should present the same settings.

{code}
/subsystem=transactions:read-attribute(name=use-hornetq-store)
{
    ""outcome"" => ""success"",
    ""result"" => false
}
/subsystem=transactions:read-attribute(name=use-journal-store)
{
    ""outcome"" => ""success"",
    ""result"" => false
}
/subsystem=transactions:write-attribute(name=use-journal-store, value=true)
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}

:shutdown(restart=true)
{""outcome"" => ""success""}

/subsystem=transactions:read-attribute(name=use-journal-store)
{
    ""outcome"" => ""success"",
    ""result"" => true
}
 /subsystem=transactions:read-attribute(name=use-hornetq-store)
{
    ""outcome"" => ""success"",
    ""result"" => false
}
{code}",2015/09/23 9:53 AM
WFLY-5458,"This attribute is a model reference, and therefore should not allow expressions.",2015/10/02 8:53 AM
WFLY-5074,"Message driven bean should be used only with transaction attributes REQUIRED an NOT_SUPPORTED.

The ejb specification says
{quote}
 13.6.3 Container-Managed Transaction Demarcation for Message-Driven Beans
Only the NOT_SUPPORTED and REQUIRED transaction attributes may be used for message-driven bean message listener methods. The use of the other transaction attributes is not meaningful for message-driven bean message listener methods because there is no pre-existing client transaction context (REQUIRES_NEW, SUPPORTS) and no client to handle exceptions (MANDATORY, NEVER).
{quote}

EAP 7 permits usage of other transaction attributes as well. In my testcase strangely attribute REQUIRED behaves differently than REQUIRES_NEW.

I do have mdb receiving message from remote message broker of ActiveMQ and closing connection during the commit (during prepare phase of XA 2PC). It happens to me that if used REQUIRED then all works fine. If used REQUIRES_NEW message seems to be read from the inbound queue but returned there instead of being left in in-doubt state (as expected when txn failed to prepare all participants).",2015/08/10 8:40 AM
WFLY-3493,"Currently jboss-cli allows a queue to be removed even though there is a MDB attached to it. The command 

{noformat}
/subsystem=messaging/hornetq-server=default/jms-queue=testQueue:remove()
{noformat}

will remove the queue without a warning. This is not desirable since a warning should be given or a reload should be force.  It may also break the dependency injection. ",2014/06/13 10:18 AM
WFLY-5197,"It's intermittently failing in CDI TCK in org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest. There is:

{code}
@Stateful
@Interceptors(CatInterceptor.class)
public class Cat extends Animal {
 ...

    @Override
    public void foo() {
    }
 ...
}
{code} 
and:
{code}
public abstract class Animal {
 
 ...
    void foo() {
    }
 ....
}
{code}
There is check in {{org.jboss.as.ejb3.component.session.SessionBeanComponentDescription#addNoInterfaceView}} whether method is public. This check is sometimes called for {{Animal.foo()}} and sometimes for {{Cat.foo()}}. I think only {{Cat.foo()}} should be checked. 
Stacktrace is:
{noformat}
javax.ejb.EJBException: WFLYEJB0224: Not a business method void org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Animal.foo(). Do not call non-public methods on EJB's
	at org.jboss.as.ejb3.component.session.NotBusinessMethodInterceptor.processInvocation(NotBusinessMethodInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Cat$$$view2.foo(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:436)
	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:127)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)
	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Cat$Proxy$_$$_Weld$EnterpriseProxy$.foo(Unknown Source)
	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest.createAndDestroyInstance(LifecycleCallbackInterceptorTest.java:87)
	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest.testLifecycleCallbackInterceptorTransactionContext(LifecycleCallbackInterceptorTest.java:137)
{noformat}",2015/08/25 6:02 AM
WFLY-5511,"*Description of problem:*
DomainDeploymentOverlayTestCase fails on pure IPv6 machine with {{Unable to determine IP address from host name ""2620:52:0:105f::ffff:8%eth0""}}

*How reproducible:*
Always on pure IPv6 machine if proxy is used

*Steps to Reproduce:*
# export PROXY_PARAMS=""-DproxySet=true -DproxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -DproxyPort=3128 -Dhttp.proxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -Dhttp.proxyPort=3128 -Dhttps.proxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -Dhttps.proxyPort=3128"" 
# ./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIPV6_1 -Dnode1=$MYTESTIPV6_2 -Dmcast=$MCAST_ADDRV6 -Dipv6  -Djboss.dist=$JBOSS_DIST -Dtest=DomainDeploymentOverlayTestCase -Dts.domain -DfailIfNoTests=false $PROXY_PARAMS

*Actual results:*
MYTESTIPV6_1=2620:52:0:105f::ffff:8
{noformat}
The following error was encountered while trying to retrieve the URL: http://2620:52:0:105f::ffff:8%eth0:8080/deployment0/SimpleServlet?

    Unable to determine IP address from host name ""2620:52:0:105f::ffff:8%eth0""

The DNS server returned:

    Name Error: The domain name does not exist.

This means that the cache was not able to resolve the hostname presented in the URL. Check if the address is correct.

Your cache administrator is sysadmin-engops-jbossqe@redhat.com.
{noformat}

*Expected results:*
No error",2015/10/12 8:11 AM
WFLY-5078,"If hornetq/artemismq journal should be used for saving txn log then transaction subsystem defines if async io libraries (if available) should be used. By default the native libraries are not used and user needs to switch for it by setting it in xml or via cli.
{code}
/subsystem=transactions:write-attribute(name=hornetq-store-enable-async-io, value=true)
{code}

For EAP7 the hornetq is going to be replaced with ActiveMQ Artemis and so artemis object store will be used instead. The attribute name should be renamed appropriately.",2015/08/12 4:24 AM
WFLY-3548,"It seems the RequestProcessor which is processing JTA synchronizations
does not have the right TCCL set.

As a result, during synchronization invocation:
* {{NameNotFoundException}} is thrown for a JNDI lookup of ""java:comp/UserTransaction""
* if we try to acccess {{org.jboss.weld.Container}} by means of {{org.jboss.as.weld.services.ModuleGroupSingletonProvider.TCCLSingleton}}, we get ISE: ""Singleton not set....This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.""",2014/06/25 8:15 AM
WFLY-4323,"Hello, I have enabled the transactions metrics in standalone.xml on my Wildfly 8.2.0 as below but the transactions metrics are always zero, even though I have many projects deployed using transactions. Probably something trivial is missing, could some one tell me what is wrong? I'm using the Spring Framework 4.1.2 and Hibernate as installed in the Wildfly modules.

I started this as a question on the forum but got no answer. Please note that the exact same configuration on the same server gives Transaction statistics with the same deployments on JBoss 7.1.1



 

  Thanks for any help, Tim Mickelson

 

 
    	<subsystem xmlns=""urn:jboss:domain:transactions:2.0"">
        	<core-environment>
            	<process-id>
                	<uuid/>
            	</process-id>
        	</core-environment>
        	<recovery-environment socket-binding=""txn-recovery-environment"" status-socket-binding=""txn-status-manager""/>
        	<coordinator-environment default-timeout=""300"" statistics-enabled=""true""/>
    	</subsystem>

 

 

The datasource is configured as (with jta true):

 
            	<datasource jta=""true"" jndi-name=""java:/youconnect"" pool-name=""youconnect_Pool"" enabled=""true"" use-java-context=""true"" use-ccm=""true"">
                	<connection-url>jdbc:postgresql://127.0.0.1:5432/youconnect</connection-url>
                	<driver-class>org.postgresql.Driver</driver-class>
                	<driver>ps</driver>
                	<pool>
                    	<min-pool-size>10</min-pool-size>
                    	<max-pool-size>30</max-pool-size>
                    	<prefill>true</prefill>
                    	<flush-strategy>IdleConnections</flush-strategy>
                	</pool>
                	<security>
                    	<user-name>yyyy</user-name>
                    	<password>xxxxx</password>
                	</security>
            	</datasource>",2015/02/05 3:44 PM
WFLY-5132,"Authorization does not work correctly for remoting secured EJB when Kerberos is only authentication module in security realm. If any another authentication module is used, then authorization works fine. Access is also granted when nonsecured EJB is used.

Use following settings:
- only kerberos as authentication module in security realm
- properties as authorization module in security realm which adds kerberos user needed role
- secured EJB deployed on server (grant access for mentioned above role)
- standalone application invoking this secured EJB method

In case when user with valid kerberos ticket runs this application, following exception is thrown:
{noformat}
javax.ejb.EJBAccessException: WFLYSEC0027: Invalid User
	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:69)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:49)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:97)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}",2015/08/19 4:40 AM
WFLY-3913,"When removing HTTPS socket-binding from the standalone.xml file, the server start's in errors.
The errors are the following:

{noformat}

    13:55:32,002 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (""add"") failed - address: ([
        (""subsystem"" => ""undertow""),
        (""server"" => ""default-server""),
        (""http-listener"" => ""default"")
    ]) - failure description: {""JBAS014771: Services with missing/unavailable dependencies"" => [""jboss.undertow.listener.default is missing [jboss.binding.https]""]}
    13:55:32,005 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (""add"") failed - address: ([(""subsystem"" => ""webservices"")]) - failure description: {""JBAS014879: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
        ""Services that were unable to start:"" => [""jboss.ws.config""],
        ""Services that may be the cause:"" => [
            ""jboss.binding.https"",
            ""jboss.remoting.remotingConnectorInfoService.http-remoting-connector""
        ]
    }}
    13:55:32,007 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (""add"") failed - address: ([
        (""subsystem"" => ""ejb3""),
        (""service"" => ""remote"")
    ]) - failure description: {""JBAS014771: Services with missing/unavailable dependencies"" => [""jboss.ejb3.connector is missing [jboss.remoting.remotingConnectorInfoService.http-remoting-connector]""]}
    13:55:32,074 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report
    JBAS014775:    New missing/unsatisfied dependencies:
          service jboss.binding.https (missing) dependents: [service jboss.undertow.listener.default]
          service jboss.remoting.remotingConnectorInfoService.http-remoting-connector (missing) dependents: [service jboss.ejb3.connector]
     
    13:55:32,085 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: WildFly 8.1.0.Final ""Kenny"" started (with errors) in 3475ms - Started 197 of 252 services (3 services failed or missing dependencies, 78 services are lazy, passive or on-demand

{noformat}",2014/09/29 2:02 PM
WFLY-3419,"CDI does not scan module with multiple jars. Only first jar is scanned.

Workaround is to package everything in single jar file.

To reproduce:
{CODE}
#download attached files
#download and unzip wildfly
cd wildfly-9.0.0.Alpha1-SNAPSHOT #or other version > 8.0.0
unzip ../module.multiplejars.zip
cp ../servlet-cdi-test3.war standalone/deployments/
./bin/standalone.sh
# observe deployment fails
# stop server
unzip ../module.ok.zip
./bin/standalone.sh
# observe deployment succeeds
{CODE}

The same scenario succeeds in both cases on EAP 6.2.x.

module.ok.zip was created from module.multiplejars.zip by merging jar files into single one",2014/05/30 5:32 AM
WFLY-5199,"EJB timers don't execute, because the DatabaseTimerPersistence.shouldRun method returns false for them, because it is unable to SELECT them from the database using a java.sql.Timestamp.

On MariaDB 5.3+ and MySQL 5.6.4+, the behavior of the DATETIME type has changed compared to MySQL 5.5 and older.
In previous versions, it was possible to insert into DATETIME columns with JDBC using a java.sql.Timestamp which contained fractional seconds, the fraction was truncated/rounded and a subsequent SELECT statement with the same java.sql.Timestamp returned such rows, because the fraction was truncated/rounded from the queried Timestamp too.

On MySQL 5.6.4+ and MariaDB 5.3+, when a java.sql.Timestamp including a fractional second is inserted into a DATETIME, attempting to SELECT with the same Timestamp doesn't return the row, because the DATETIME type now defaults to DATETIME(0) which truncates/rounds to whole seconds, and the queried Timestamp no longer gets truncated/rounded during the query execution. It would only work if the column was declared as DATETIME(6), which ensures that inserted values don't get truncated/rounded. Documentation: https://dev.mysql.com/doc/refman/5.7/en/fractional-seconds.html

MySQL rounds the timestamp, MariaDB truncates it (always rounds down).

However, declaring DATETIME(6) is not possible in older versions of MySQL or MariaDB, so to support both new and old versions, we have probably these options:
1. introduce a new DDL file(s) for MySQL 5.6.4+ and MariaDB 5.3+ and use it depending on the detected version - this DDL would use DATETIME(6) instead of DATETIME
2. change the DatabaseTimerPersistence implementation so that it will not insert fractional seconds into the database at all (EJB timers don't support timing with higher precision than whole seconds anyway)
3. same as option 2, but only for MariaDB/MySQL dialects 
4. any other idea?

I personally like number 3 the best, it is the least risky and introduces only minimal changes.. but it's still somewhat ugly.
This seems to resolve it for me (implementation suggestion of option 3): https://github.com/jmartisk/wildfly/commits/mysql-mariadb-timer-suggestion",2015/08/25 10:34 AM
WFLY-4901,"Brian Stansberry @here who is going to fix or @Ignore org.jboss.as.test.integration.ws.wsse.signencrypt.EJBSignEncryptTestCase.encryptedAndSignedRequest ?
Stuart Douglas I am pretty sure it is a web services issue
Stuart Douglas these failures started happening after a WS upgrade a while back
David M. Lloyd @RostislavSvoboda added it

",2015/07/10 2:27 AM
WFLY-4185,"PicketLink provides support for Http Security. Basically, it consists of an API to define security policies to the paths or resources of an application and a security filter (servlet filter) that is responsible to enforce those policies for every single request.

The security filter is installed from a specific ServletContextListener (org.picketlink.http.internal.PicketLinkServletContextListener) that checks if the application has defined any security policy in order to decide if the filter must be installed or not.

PicketLink also defines a ServletRequestListener (org.picketlink.http.internal.HttpServletRequestListener) that is used to produce a decorated HttpServletRequest instance. This decorated instance provides full integration between PL and the HttpServletRequest security methods plus some other goodies for PL users such as URL rewriting, etc.

Both listeners (servletcontext and request) are CDI beans with injection points and/or producer methods. 

When using PL from modules, the producer method of org.picketlink.http.internal.HttpServletRequestListener#produce is not being recognized. And that makes impossible to use PL from modules.

The same code works if you use PL jars inside the deployment.

Another interesting behavior is that EAP and WildFly are behaving differently. In EAP (latest build), the ServletContextListener is only recognized as a CDI bean if you define it in the web.xml. While in WildFly this is not necessary.

Also, in EAP the producer method of HttpServletRequestListener is properly recognized and everything works fine.

I've created a branch [1] to test this issue. The test case is {code}org.wildfly.test.integration.security.picketlink.core.http.ServletListenerFromModuleTestCase{code}.

[1] https://github.com/pedroigor/wildfly/tree/WFLY-4185",2014/12/16 8:26 AM
WFLY-4008,"If you create an MBean in your EJB and deploy the EJB.


<pre>
@SuppressWarnings(""serial"")
public class Monitor implements MonitorMXBean, Serializable {

	private static final Logger log = LoggerFactory.getLogger(Monitor.class);

	private Boolean enabled = Boolean.FALSE;
	private Long valueOne;

	public Monitor() {
		log.debug(""CTOR"");
	}

	@Override
	public Boolean isEnabled() {
		return enabled;
	}
	@Override
	public void setEnabled(Boolean enabled) {
		this.enabled = enabled;
	}

	@Override
	public Long getValueOne() {
		return valueOne;
	}
	@Override
	public void setValueOne(Long valueOne) {
		this.valueOne = valueOne;
	}

}

</pre>

And JMX MXBean

<pre>
import javax.management.MXBean;

@MXBean
public interface MonitorMXBean {

	void setEnabled(Boolean enabled);
	Boolean isEnabled();

	void setValueOne(Long valueOne);
	Long getValueOne();

}

</pre>
17:34:42,455 ERROR [org.jboss.as.weld] (MSC service thread 1-1) JBAS016001: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:187)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:231)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0_25]
	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0_25]
	at org.jboss.as.weld.arquillian.WeldContextSetup.teardown(WeldContextSetup.java:108)
	at org.jboss.as.jmx.MBeanRegistrationService.stop(MBeanRegistrationService.java:132) [wildfly-jmx-8.1.0.Final.jar:8.1.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_25]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_25]


Is this related to: https://issues.jboss.org/browse/WFLY-822 ?",2014/10/22 12:40 PM
WFLY-4127,"This is a regression introduced in this commit:
https://github.com/wildfly/wildfly/commit/456a624d98eaa5f5fc016ad7520290177e3771f6

Most probably {{StatefulComponentDescription}} should not pass treatRequiredAsRequiresNew=false to {{org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.Factory}} constructor.

There is a CDI TCK test which can be used as a reproducer:
https://github.com/cdi-spec/cdi-tck/blob/master/impl/src/main/java/org/jboss/cdi/tck/interceptors/tests/contract/lifecycleCallback/LifecycleCallbackInterceptorTest.java
",2014/11/26 6:16 AM
WFLY-3872,"Since https://github.com/wildfly/wildfly/pull/6660 was submitted, EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn is failing regularly. Not every time but very often.

Alessio, you mentioned seeing some error logging from XAResourceRecoveryImpl, but that's in the logs on successful runs as well, and occurs prior to the test as well. That's a period background task from the transaction manager trying to perform recovery of some previous transaction. I don't see why it would have any impact on this test.",2014/09/18 9:43 PM
WFLY-5140,"When testing our app with JMeter (5 concurrent users) plenty (hundreds in single request, no kidding) NoClassDefFoundErrors occur. From the client side they are visible as 500 - internal server errors. Unfortunately those errors are not easily reproducible. Not every test run is affected. Actually, I was not able to reproduce them in manual tests, just in JMeter. 

The cluster consists of three servers in HA profile.

Stacktrace example:
2015-08-20 09:42:17,966 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-236) ISPN000136: Execution error: java.lang.NoClassDefFoundError: Could not initialize class org.infinispan.commands.remote.recovery.TxCompletionNotificationCommand
	at org.infinispan.commands.CommandsFactoryImpl.buildTxCompletionNotificationCommand(CommandsFactoryImpl.java:542)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:252)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:138)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)

2015-08-20 09:42:18,011 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-236) ISPN000136: Execution error: java.lang.NoClassDefFoundError: Could not initialize class org.infinispan.commands.remote.recovery.TxCompletionNotificationCommand
	at org.infinispan.commands.CommandsFactoryImpl.buildTxCompletionNotificationCommand(CommandsFactoryImpl.java:542)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:252)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:138)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)",2015/08/20 3:56 AM
WFLY-4799,"I have a Singleton bean which creates a ejb.timer on deployment. Before doing so it cancels any existing timers previously created by the bean for completeness.

In wildfly 8 the cancelled timers were removed from data/timer-service-data/'bean'. In wildfly 9 CR2, they stay in data/timer-service-data/'bean' and appear to be re-instated on re-deployment",2015/06/17 8:31 AM
WFLY-5189,"These WARN messages are due to the fact that WF no longer uses a shared transport for its jgroups channels (JGroups recently deprecated shared transport in favor of fork channels).  While these messages are harmless - they are quite annoying - and are the subject of several forum posts.

Currently, the messaging-activemq subsystem uses JChannels configured from a specific protocol stack.  We should modify the default configuration to use a ChannelFactory from the default channel, which will use a new fork of the default ""ee"" channel.  In xml/dmr terms, this corresponds not providing a value for jgroups-stack.

N.B. At the moment, this change will introduce new annoying WARN log messages until JGroups is upgraded to 3.6.5.Final, hence the jira dependency.",2015/08/24 11:17 AM
WFLY-3705,"The code inside ReadResourceHandler.doExecuteInternal(OperationContext context, ModelNode operation) goes as follows:

{noformat}
final int recursiveDepth = operation.get(ModelDescriptionConstants.RECURSIVE_DEPTH).asInt(0);
final boolean recursive = recursiveDepth > 0 || operation.get(ModelDescriptionConstants.RECURSIVE).asBoolean(false);
{noformat}

The [documentation|https://docs.jboss.org/author/display/WFLY8/Global+operations] states:

recursive-depth – (int) – The depth to which information about child resources should be included *if recursive is {{true}*. If not set, the depth will be unlimited; i.e. all descendant resources will be included.

The logic, however, as implemented goes - either recursive-depth is greater than zero OR recursive is true.

The proper implementation should be:

{noformat}
final int recursiveDepth = operation.get(ModelDescriptionConstants.RECURSIVE_DEPTH).asInt(0);
final boolean recursive =  operation.get(ModelDescriptionConstants.RECURSIVE).asBoolean(false) && 
                (!operation.get(ModelDescriptionConstants.RECURSIVE_DEPTH).isDefined() || recursiveDepth > 0);
{noformat}

The above snippet works as follows: recurs IF recursive is set AND (either recursive-depth is not defined OR recursive-depth is greater than 0).
  ",2014/08/03 2:29 AM
WFLY-4345,"I have an test with a client that uses two EJBs

{noformat}
class Client {
  @EJB(name=""ejb/CDIUseCasesCMBEAN1"")
  static CMBean1IF cmbean1;

  @EJB(name=""ejb/CDIUseCasesCMBEAN2"")
  static CMBean2IF cmbean2;
}
{noformat}

The first EJB also references the second EJB: 

{noformat}
@Stateless(name=""CDIUseCasesCMBEAN1"")
@Remote({CMBean1IF.class})
public class CMBean1 implements CMBean1IF {

    @EJB(name=""ejb/CDIUseCasesCMBEAN2"")
    CMBean2IF cmbean2;
}

@TransactionManagement(TransactionManagementType.CONTAINER) 
@Stateless(name=""CDIUseCasesCMBEAN2"")
@Remote({CMBean2IF.class})
public class CMBean2 implements CMBean2IF {

}
{noformat}

When I deploy my application, the deployment fails with the error:

{noformat}
[javatest.batch] 11:39:17,668 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.""cditestsusecases.ear"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""cditestsusecases.ear"".WeldStartService: Failed to start service
[javatest.batch]        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.4.Final.jar:1.2.4.Final]
[javatest.batch]        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
[javatest.batch]        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
[javatest.batch]        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
[javatest.batch] Caused by: org.jboss.msc.service.ServiceNotFoundException: Service service jboss.deployment.subunit.""cditestsusecases.ear"".""cditestsusecases_ejb.jar"".component.CDIUseCasesCMBEAN2.VIEW.""com.sun.ts.tests.jms.ee20.cditests.usecases.CMBean2IF"".REMOTE not found
[javatest.batch]        at org.jboss.msc.service.ServiceContainerImpl.getRequiredService(ServiceContainerImpl.java:669) [jboss-msc-1.2.4.Final.jar:1.2.4.Final]
[javatest.batch]        at org.jboss.as.weld.services.bootstrap.WeldEjbInjectionServices.getComponentView(WeldEjbInjectionServices.java:149)
[javatest.batch]        at org.jboss.as.weld.services.bootstrap.WeldEjbInjectionServices.handleServiceLookup(WeldEjbInjectionServices.java:124)
[javatest.batch]        at org.jboss.as.weld.services.bootstrap.WeldEjbInjectionServices.registerEjbInjectionPoint(WeldEjbInjectionServices.java:106)
{noformat}

As far as I can tell, the application is correctly built.
The client jar contains the Client classes and the beans remote interfaces.
The EJB jar contains the bean remote interfaces and classes.

I debugged WildFly and fixed the issue by updating org.jboss.as.weld.services.bootstrap.WeldEjbInjectionServices#getComponentView to take into account that the EJB's view service may not be UP yet when the CMBean2IF EJB is injected into CMBean1.cmbean2 field:

{noformat}
    private ComponentView getComponentView(ViewDescription viewDescription) {
        final ServiceController<?> controller = serviceRegistry.getService(viewDescription.getServiceName());
        if (controller == null) {
            return null;
        }
        return (ComponentView) controller.getValue();
    }
{noformat}

If there is no component view, the WeldEjbInjectionServices#handleServiceLookup will instead use a lazy resource.

After that changes, my test passes fine.",2015/02/13 9:04 AM
WFLY-4499,The transactions subsystem contains several compiler warnings. Some of them (mostly related to generics) are quite easy to fix.,2015/04/10 11:48 AM
WFLY-4505,The jaxrs subsystem contains several compiler warnings. Some of them (mostly related to generics and unused variables) are quite easy to fix.,2015/04/11 11:08 AM
WFLY-4497,The JPA subsystem contains several compiler warnings. Some of them (mostly related to generics) are quite easy to fix.,2015/04/10 4:31 AM
WFLY-4492,There are various unused variables in the connector subsystem that can be deleted.,2015/04/09 12:09 PM
WFLY-4218,"The EJB3 subsystem contains quite a few compiler warnings that are easy to fix (raw types, unused imports, unused variables, deprecated code).",2015/01/03 12:15 PM
WFLY-4506,The jdr subsystem contains three compiler warnings. Two of them (related to generics) are quite easy to fix.,2015/04/11 11:22 AM
WFLY-4495,"Maven POMs inherit the version and groupId from the parent, there is no need to repeat them. Some POMs currently repeat them while others don't.",2015/04/09 3:40 PM
WFLY-4500,"CMResourceService#stop fails to clean up values that #start creates.

The issue is the line
{code}
jtaEnvironmentBean.getValue().getPerformImmediateCleanupOfCommitMarkableResourceBranchesMap().remove(immediateCleanup);
{code}
immediateCleanup is a {{Boolean}} and the return type of {{getPerformImmediateCleanupOfCommitMarkableResourceBranchesMap()}} is {{Map<String, Boolean>}}

So this line never does anything. The line should read
{code}
jtaEnvironmentBean.getValue().getPerformImmediateCleanupOfCommitMarkableResourceBranchesMap().remove(jndiName);
{code}
because if we look a the #start method above we see
{code}
Map<String, Boolean> performImmediateCleanupOfConnectableResourceBranchesMap = jtaEnvironmentBean.getValue().getPerformImmediateCleanupOfCommitMarkableResourceBranchesMap();  
performImmediateCleanupOfConnectableResourceBranchesMap.put(jndiName, immediateCleanup);
{code}",2015/04/10 12:04 PM
WFLY-3934,When running an allocation profile on our WildFly AS instance debug logging in {{TimerServiceImpl}} showed up. The problem is that {{TimerServiceImpl}} unconditionally generates debug strings using string concatenation.,2014/10/05 8:44 AM
WFLY-4219,Most of the WildFly code uses message format patterns for debug logging in order to avoid unnecessary allocations in normal operation. The EJB3 subsystem client seems to be one of the few places where this is not yet the case and debug messages are always created even if the debug logging is disabled.,2015/01/03 12:44 PM
WFLY-4493,The UrlScanner class creates ZipFile instances without invoking #close on them. This is not as bad as it sounds because ZipFile does have a finalizer but it's still suboptimal.,2015/04/09 12:20 PM
WFLY-4507,The mail subsystem contains several compiler warnings. Some of them (mostly related to generics) are quite easy to fix.,2015/04/11 11:31 AM
WFLY-5097,"When using @Startup and/or @Singleton to start a Bean on server startup, everytime a method is accessed or the bean is injected with @EJB, both Constructor and @Postconstruct are executed.

This happens multiple times, each time any component uses the Singleton bean.

This seems similar to an issue reported for JBOSS AS 7.x (see forum link reference below)
",2015/08/13 5:57 AM
WFLY-5685,NoData,2015/11/16 5:48 AM
WFLY-3448,"I used a virtual host in Wildfly like this :

<host name=""toto"" alias=""www.toto.com"">
  <location name=""/"" handler=""welcome-content""/>
</host>

When I try to access www.toto.com/sub/, a new cookie is created. It would be great with a ""/sub"" context but it is not for a ""/"" context.",2014/05/19 6:16 PM
WFLY-4417,"A CNFE is thrown when deserialising a contextual proxy object made by the Context Service, the TransactionSetupProvider impl class (in transactions module) is not seen by deployments. ",2015/03/10 2:26 PM
WFLY-4418,"There are no callbacks, or custom behaviour through execution properties, for ManagedTasks scheduled in ManagedScheduledExecutorService. That happens because ManagedScheduledExecutorService wraps these tasks but the wrapping class does not implements ManagedTask.",2015/03/10 2:33 PM
WFLY-4644,When access-log is enabled for virtual host via CLI it does not want to perform server reload. But until server reload is executed logging is not enabled. When server reload is performed then logging works OK.,2015/05/18 11:08 AM
WFLY-4645,"When I disable access log rotation by setting ""rotate"" attribute to false:
{code}
/subsystem=undertow/server=default-server/host=default-host/setting=access-log/:write-attribute(name=rotate,value=false)
{code}

The logfile keeps rotating - how tested in ""Steps to Reproduce"" section.",2015/05/20 6:32 AM
WFLY-3471,"From this email thread.

Note that if you @Inject JMSProducer into a @ApplicationScoped bean then that's the scoping used, although it's not correct as the scope should be either @Request or @TransactionScoped

To: users@jms-spec.java.net
Subject: [jms-spec users] Re: Confusion about JMSProducer methods and CDI

On 05/06/2014 19:29, Elias Ross wrote:
>
> The other question I had was the scoping for CDI. For example:
>
> @ApplicationScoped
> public class MyClient {
>     @Inject JMSContext context;
> }
>
> public class MyServlet extends HttpServlet {
>     @Inject MyClient client;
> }
>
> Then JMSContext ends up being potentially shared between multiple
> threads. I would expect the scoping of JMSContext to be request, not
> @Dependent here.
>

Why do you say that the ""JMSContext ends up being potentially shared between multiple threads""?

The scope of the injected JMSContext is defined in the JMS 2.0 spec, section 12.4.4. ""Scope of injected JMSContext 
objects"". Essentially, if there's a transaction in progress then the injected JMSContext will have transaction scope, 
otherwise it will have request scope.

It looks like you're in a servlet here, and you haven't started a transaction, so the injected JMSContext must have 
request scope.


The scope of the injected JMSContext is defined in the JMS 2.0 spec, section 12.4.4. ""Scope of injected JMSContext objects"". Essentially, if there's a transaction in progress then the injected JMSContext will have transaction scope, otherwise it will have request scope.

It looks like you're in a servlet here, and you haven't started a transaction, so the injected JMSContext must have request scope.
",2014/06/09 3:02 PM
WFLY-5404,"As I understand it Wildfly 10 wants to maintain configuration compatibility with Wildfly 9.
It looks lake some of the compatibility was broken with CR1 (worked with Betas). ",2015/09/24 11:26 AM
WFLY-3532,"Fail rate is at 1.5% atm.

http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF&testNameId=3213279503671281753&tab=testDetails

(making affected version alpha, but indeed its master)",2014/06/20 10:57 AM
WFLY-4179,"The following test fail when the security manager is enabled for the {{testsuite/integration/web}} tests.

* org.jboss.as.test.integration.web.customerrors.CustomErrorsUnitTestCase

The tests are set to be ignored if the {{-Dsecurity.manager}} property is enabled. Once resolved the profile in the pom.xml for the web integration tests should be removed.",2014/12/12 2:30 PM
WFLY-4327,"We found out that when the transaction manager ""reaper"" thread rolls back a transaction, it doesn't remove the transaction from a static collection.  tx.suspend, which disassociates the transaction from the application thread, also doesn't remove the transaction from the static collection.  As a result, the transaction leaks and all of the objects references by it (including all resources that are put there like JPA persistence contexts).

To address this, we should change org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction (STATUS_ROLLEDBACK case in switch statement) to call tm.rollback() instead of tm.suspend().

",2015/02/06 5:40 PM
WFLY-5014,NoData,2015/07/27 10:28 AM
WFLY-5591,"Currently, the cache used for ejb client mappings uses the same cache mode as the cache used for SFSBs.  On a 4 node cluster, this results in an extra RPC for half of the requests.  The client mappings cache should always use REPL, if the SFSB cache is clustered, and should never use a persistent store.",2015/10/27 10:18 AM
WFLY-5581,"Currently, the cache used for routing information uses the same cache mode as the cache used for web sessions.  On a 4 node cluster, this results in an extra RPC for half of the requests.  The routing cache should always use REPL, if the web session cache is clustered, and should never use a persistent store.",2015/10/26 1:39 PM
WFLY-5711,NoData,2015/11/20 4:10 AM
WFLY-3580,EJB/remoting configuration does not propagate the certificate as credentials for authentication if mutual auth SSL was used for the connection.  This makes it impossible to get the certificate for use in a custom login module.,2014/07/03 10:02 AM
WFLY-4549,"Reloading WFLY server with active JTS transactions fails.

I have tried to run reload operation just after server started and when some attribute which needs reload was changed (e.g. {{/subsystem=datasources/data-source=ExampleDS:write-attribute(name=spy, value=true)}}) and in both cases server was started with errors

{code}
WARN  [com.arjuna.ats.jts] (MSC service thread 1-4) ARJUNA022083: JacOrbRCServiceInit - Failed to start RC service: java.lang.NullPointerException
 at com.sun.corba.se.impl.orb.ORBImpl.checkShutdownState(ORBImpl.java:1329)
 at com.sun.corba.se.impl.orb.ORBImpl.getCorbaContactInfoListFactory(ORBImpl.java:1889)
 at com.sun.corba.se.impl.orbutil.ORBUtility.makeClientDelegate(ORBUtility.java:678)
 at com.sun.corba.se.impl.orbutil.ORBUtility.makeObjectReference(ORBUtility.java:687)
 at com.sun.corba.se.impl.ior.ObjectReferenceProducerBase.make_object(ObjectReferenceProducerBase.java:60)
 at com.sun.corba.se.spi.oa.ObjectAdapterBase.makeObject(ObjectAdapterBase.java:142)
 at com.sun.corba.se.impl.oa.poa.POAImpl.create_reference_with_id(POAImpl.java:1353)
 at com.arjuna.ats.internal.jts.orbspecific.javaidl.recoverycoordinators.JavaIdlRCServiceInit.startRCservice(JavaIdlRCServiceInit.java:195)
 at com.arjuna.ats.internal.jts.orbspecific.recovery.RecoveryEnablement.startRCservice(RecoveryEnablement.java:141)
 at com.arjuna.ats.internal.arjuna.recovery.RecActivatorLoader.startRecoveryActivators(RecActivatorLoader.java:66)
 at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.<init>(RecoveryManagerImple.java:102)
 at com.arjuna.ats.arjuna.recovery.RecoveryManager.initialize(RecoveryManager.java:226)
 at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.start(RecoveryManagerService.java:65)
 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:145)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
 at java.lang.Thread.run(Thread.java:745)

ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.txn.ArjunaRecoveryManager: org.jboss.msc.service.StartException in service jboss.txn.ArjunaRecoveryManager: WFLYTX0005: Recovery manager create failed
 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:148)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
 at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.RuntimeException: ARJUNA012364: RecoveryActivator init failed for com.arjuna.ats.internal.jts.orbspecific.recovery.RecoveryEnablement
 at com.arjuna.ats.internal.arjuna.recovery.RecActivatorLoader.startRecoveryActivators(RecActivatorLoader.java:67)
 at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.<init>(RecoveryManagerImple.java:102)
 at com.arjuna.ats.arjuna.recovery.RecoveryManager.initialize(RecoveryManager.java:226)
 at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.start(RecoveryManagerService.java:65)
 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:145)
 ... 5 more
{code}",2015/04/22 7:11 AM
WFLY-4548,"During time of shutting down WFLY server when JTS transactions are enabled I experience these two [1] [2] errors/exceptions being shown in server log/console.

The first one [1] is shown each time when JTS is configured and server is put to be stopped.
The second one [2] is intermittent and probably it could be shown when JTA is under use as well.


[1]
{code}
WARNING [javax.enterprise.resource.corba._INITIALIZING_.rpc.presentation] (Thread-84) ""IOP01210228: (BAD_OPERATION) This ORB instance has been destroyed, so no operations can be performed on it"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 228  completed: No
 at com.sun.corba.se.impl.logging.ORBUtilSystemException.orbDestroyed(ORBUtilSystemException.java:586)
 at com.sun.corba.se.impl.logging.ORBUtilSystemException.orbDestroyed(ORBUtilSystemException.java:608)
 at com.sun.corba.se.impl.orb.ORBImpl.checkShutdownState(ORBImpl.java:1329)
 at com.sun.corba.se.impl.orb.ORBImpl.isDuringDispatch(ORBImpl.java:1340)
 at com.sun.corba.se.impl.oa.poa.POAImpl.destroy(POAImpl.java:959)
 at com.arjuna.orbportability.internal.orbspecific.oa.implementations.POABase.destroyRootPOA(POABase.java:68)
 at com.arjuna.orbportability.oa.core.OA.destroyRootPOA(OA.java:97)
 at com.arjuna.orbportability.RootOA.destroy(RootOA.java:91)
 at com.arjuna.ats.internal.jts.orbspecific.javaidl.recoverycoordinators.ORBRunner.run(ORBRunner.java:59) 
{code}

[2]
{code}
INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-5) ARJUNA032018: Destroying TransactionManagerService
INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-1) ARJUNA032014: Stopping transaction recovery manager
ERROR [stderr] (Thread-98) Exception in thread ""Thread-98"" java.lang.NullPointerException
ERROR [stderr] (Thread-98)         at com.sun.corba.se.impl.oa.poa.POAImpl$DestroyThread.run(POAImpl.java:566) 
{code}",2015/04/22 5:32 AM
WFLY-4050,Enabling a disabled datasource using the operation {{:enable()}} is broken. It remains disabled. ,2014/11/04 8:53 AM
WFLY-5299,"When deploying helloworld-mbean QS, WFLYWELD0001 and WFLYWELD0002 error messages are logged in server log:

{code}
ERROR [org.jboss.as.weld] (ServerService Thread Pool -- 58) WFLYWELD0001: Failed to setup Weld contexts: javax.naming.NameNotFoundException: BeanManager -- service jboss.naming.context.java.module.""jboss-helloworld-mbean-helloworld-mbean-service.sar"".""jboss-helloworld-mbean-helloworld-mbean-service.sar"".BeanManager
ERROR [org.jboss.as.weld] (ServerService Thread Pool -- 58) WFLYWELD0002: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: BeanManager -- service jboss.naming.context.java.module.""jboss-helloworld-mbean-helloworld-mbean-service.sar"".""jboss-helloworld-mbean-helloworld-mbean-service.sar"".BeanManager
{code}

[~rhn-engineering-jharting] said: 

        The problem is triggered by this change: https://github.com/wildfly/wildfly/commit/20bbfce9f972c73ed1c3ba250ad3f15aa0f32d96

        I am not sure why WeldContextSetup is being called for each AbstractService.invokeLifecycleMethod(). Looks like either WeldContextSetup should not be added to this particular list of setup actions or a wrong list of setup actions is used by AbstractService.

See this issue for details: https://issues.jboss.org/browse/JBEAP-625

",2015/09/08 9:46 PM
WFLY-5709,"The HA configuration for the messaging-activemq's server resource has issues to fix:

* the shared-store-colocated configuration creates replication live/backup configuration instead of shared-store ones.
* the tailback-delay attribute is deprecated and should be replaced by an attribute backed by initialReplicationSyncTimeout property
* live and backup configuration must always be created for colocated configurations.",2015/11/19 9:46 AM
WFLY-4478,"When the server is shutdown, even with {{SIGINT}}, the batch jobs keep running and the JVM will not exit until the batch jobs are complete. Ideally threads spawned from the {{BatchEnvironment}} will be daemon threads. At the least the thread should be interrupted.

Another option would be for JBeret to have a way to stop all running jobs. ",2015/03/31 9:18 PM
WFLY-3858,"On Wildfly 8.1.0.Final, I have the following standalone-ha.xml:

        <subsystem xmlns=""urn:jboss:domain:infinispan:2.0"">
...
            <cache-container name=""security"" default-cache=""auth-cache"" start=""EAGER"">
                <transport cluster=""${cluster.name}_SEC"" lock-timeout=""60000""/>
                <replicated-cache name=""auth-cache"" batching=""true"" mode=""ASYNC"">
                    <eviction strategy=""LRU"" max-entries=""10000""/>
                    <expiration lifespan=""60000""/>
                </replicated-cache>
            </cache-container>
</subsystem>
...
        <subsystem xmlns=""urn:jboss:domain:security:1.2"">
<security-domains>
...
                <security-domain name=""OAuth-Consumer"" cache-type=""infinispan"">
                    <authentication>
                        <login-module code=""com.idbs.ewb.server.auth.module.OAuthConsumerLoginModule"" flag=""sufficient""
                                      module=""deployment.ewb-server-ear.ear"">
                            <module-option name=""allowedConsumerAuthFailures"" value=""-1""/>
                            <module-option name=""consumerLoginFailureTimeoutMs"" value=""3000""/>
                        </login-module>
                    </authentication>
                </security-domain>
</security-domains>
</subsystem>

After startup the OAuth-Consumer security domain cache ""auth-cache"" is not always configured with the specified settings (~50% of the time). This can be verified by monitoring the jboss.infinispan nodes with JConsole and retrieving the cache settings, and tracking the cache hits during logins. This shows that succesful logins are cached but do not expire after the expected 60s, and that the expiration lifespan is set to -1 rather than 60000, as are eviction max entries.

After some debugging I have narrowed down the problem to some code that gets called from inside org.jboss.as.security.plugins.JNDIBasedSecurityManagement:

   public SecurityDomainContext createSecurityDomainContext(String securityDomain, Object cacheFactory) throws Exception {
        log.debugf(""Creating SDC for domain="" + securityDomain);
        AuthenticationManager am = createAuthenticationManager(securityDomain);
        // create authentication cache
        if (cacheFactory instanceof EmbeddedCacheManager) {
            EmbeddedCacheManager cacheManager = EmbeddedCacheManager.class.cast(cacheFactory);
            @SuppressWarnings(""rawtypes"")
            Cache cache = null;
            if (cacheManager != null) {
                // TODO override global settings with security domain specific
                ConfigurationBuilder builder = new ConfigurationBuilder();
                Configuration baseCfg = cacheManager.getCacheConfiguration(""auth-cache"");
^^^^ This call here doesn’t always return the correct configuration, baseCfg is then null.

                if (baseCfg != null) {
                    builder.read(baseCfg);
                }
                cacheManager.defineConfiguration(securityDomain, builder.build());
                cache = cacheManager.getCache(securityDomain);
            }
            if (cache != null && am instanceof CacheableManager) {
                @SuppressWarnings({ ""unchecked"", ""rawtypes"" })
                CacheableManager<Map, Principal> cm = (CacheableManager<Map, Principal>) am;
                cm.setCache(cache);
            }
        } else if (cacheFactory instanceof DefaultAuthenticationCacheFactory) {
<…>
}

getCacheConfiguration(String) is implemented inside org.infinispan.manager.DefaultCacheManager:

   @Override
   public Configuration getCacheConfiguration(String name) {
      Configuration configuration = configurationOverrides.get(name);
     if (configuration == null && cacheExists(name)) {
         return defaultConfiguration;
      }
      return configuration;
   }

Seems like the condition configuration == null occurs when the cache doesn’t exist, therefore it returns null. This appears to be a race condition between this code and where it gets registered in wireAndStartCache(String).
 


",2014/09/16 9:15 AM
WFLY-3381,"It's possible that if a managed domain operation that sends a request to another process in the domain is cancelled immediately after initiating sending of that request that the cancellation request will be received *before* the original request. If that occurs, the cancellation request will fail (as there is no ActiveOperation to cancel) and then the original request can hang waiting for a tx commit/rollback that will never arrive.

See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=15650&tab=buildResultsDiv&buildTypeId=WF_MasterLinux#testNameId2482043836298342768 for a case where this occurred.",2014/05/20 12:54 PM
WFLY-3329,"h3. Given
Two or more EJBs with the same Java class name but from different Java deployments.

h3. Problem
Interceptor intercepts method calls to only one of the EJBs.

An EJB to be intercepted seems to be chosen randomly after each redeployment.",2014/05/09 7:32 AM
WFLY-3424,The {{org.wildfly.jberet.WildFlyArtifactFactory}} needs to override the {{destroy(Object)}} method to delegate destroying to the container.,2014/05/30 4:37 PM
WFLY-3382,If the batch subsystem {{job-repository-type}} is set to {{jdbc}} and a {{:reload}} operation is executed after a batch job has been executed the JDBC repository will no longer work as it holds on to an old {{DataSource}}.,2014/05/20 1:53 PM
WFLY-3568,"Using custom wrapped InjectionTarget should be available also for:

WS endpoint
EJB interceptor
 ",2014/04/24 7:32 AM
WFLY-4697,"The clean shutdown mechanism allows EJB and web applications to make use of shutdown interceptors to allow the application server to refuse requests when a server is in the process of shutting down. These interceptors are tied to the processing of EJB invocations and web requests.

In the case of EJBCLient invocations, they arrive at the remoting connector, and undergo some preliminary processing before being sent to the EJB interface in question. When a server is shutting down, EJBCLient invocations can arrive at the RemoteConnector and start processing, even when the EJB interface has been locked down, so to speak.

I am seeing various types of exceptions arising from this preliminary processing (e.g. NPE on DeploymentRepository lookups) and these get returned to the client as exceptions on the SFSB invocation, before even reaching the SFSB interceptors.

If the EJBCLient is running in a managed transaction context, these returned exceptions will case the SFSB to be discarded (as the SFSB invocation is considered failed with the exception returned) and the transaction will attempt to rollback. If the rollback processing fails (because the original node in the transaction is down the bean gets removed anyway. The SFSB session state is lost, even if there is another node in the cluster which can support the invocation.

In short, it looks as though the clean shutdown mechanism needs to be used to also lock down the processing of EJBCLient invocations in some way.


 ",2015/05/28 11:39 AM
WFLY-3765,"If you put a exploded WAR in $WILDFLY/standalone/deployments/ and modify a static file once the application is deployed and running, such as an HTML or JPEG file, the changes are reflected in the output to the client. However, if the exploded WAR is contained at the same time in a exploded EAR, they aren't.

",2014/08/25 7:17 AM
WFLY-4156,"- While using ""ejb-jar.xml"" of version 2.0 as following EAP/WildFly throws the parsing error:

{code}
<?xml version=""1.0""?>
<!DOCTYPE ejb-jar
   PUBLIC ""-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN""
   ""http://java.sun.com/dtd/ejb-jar_2_0.dtd"">
<ejb-jar>
   <enterprise-beans>
      <message-driven>
         <ejb-name>ExampleMDB</ejb-name>
         <ejb-class>test.mdb.ExampleMDB</ejb-class>
         <transaction-type>Container</transaction-type>
         <message-driven-destination>
            <destination-type>javax.jms.Queue</destination-type>
         </message-driven-destination>
         <resource-ref>
            <res-ref-name>jms/QueueConnectionFactory</res-ref-name>
            <res-type>javax.jms.QueueConnectionFactory</res-type>
            <res-auth>Container</res-auth>
         </resource-ref>
      </message-driven>
   </enterprise-beans>
</ejb-jar>
{code}

- The following error is encountered at the time of deployment:

{code}
17:40:04,405 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""TestEJB.jar"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""TestEJB.jar"".PARSE: JBAS018733: Failed to process phase PARSE of deployment ""TestEJB.jar""
    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:127) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]
    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) [rt.jar:1.6.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) [rt.jar:1.6.0_45]
    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_45]
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS014185: Exception while parsing ejb-jar.xml: /content/TestEJB.jar/META-INF/ejb-jar.xml
    at org.jboss.as.ejb3.deployment.processors.EjbJarParsingDeploymentUnitProcessor.parseEjbJarXml(EjbJarParsingDeploymentUnitProcessor.java:250)
    at org.jboss.as.ejb3.deployment.processors.EjbJarParsingDeploymentUnitProcessor.deploy(EjbJarParsingDeploymentUnitProcessor.java:121)
    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]
    ... 5 more
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[14,10]
Message: Unexpected element 'message-driven-destination' encountered
    at org.jboss.metadata.parser.util.MetaDataElementParser.unexpectedElement(MetaDataElementParser.java:109)
    at org.jboss.metadata.ejb.parser.spec.AbstractMetaDataParser.processElement(AbstractMetaDataParser.java:56)
    at org.jboss.metadata.ejb.parser.spec.AbstractNamedMetaDataWithDescriptionGroupParser.processElement(AbstractNamedMetaDataWithDescriptionGroupParser.java:67)
    at org.jboss.metadata.ejb.parser.spec.AbstractEnterpriseBeanMetaDataParser.processElement(AbstractEnterpriseBeanMetaDataParser.java:85)
    at org.jboss.metadata.ejb.parser.spec.AbstractMessageDrivenBeanParser.processElement(AbstractMessageDrivenBeanParser.java:94)
    at org.jboss.metadata.ejb.parser.spec.MessageDrivenBean31Parser.processElement(MessageDrivenBean31Parser.java:77)
    at org.jboss.metadata.ejb.parser.spec.MessageDrivenBean31Parser.processElement(MessageDrivenBean31Parser.java:37)
    at org.jboss.metadata.ejb.parser.spec.AbstractMetaDataParser.processElements(AbstractMetaDataParser.java:69)
    at org.jboss.metadata.ejb.parser.spec.MessageDrivenBean31Parser.parse(MessageDrivenBean31Parser.java:44)
    at org.jboss.metadata.ejb.parser.spec.EnterpriseBeansMetaDataParser.processElement(EnterpriseBeansMetaDataParser.java:99)
    at org.jboss.metadata.ejb.parser.spec.EnterpriseBeansMetaDataParser.processElement(EnterpriseBeansMetaDataParser.java:40)
    at org.jboss.metadata.ejb.parser.spec.AbstractMetaDataParser.processElements(AbstractMetaDataParser.java:69)
    at org.jboss.metadata.ejb.parser.spec.EnterpriseBeansMetaDataParser.parse(EnterpriseBeansMetaDataParser.java:75)
    at org.jboss.metadata.ejb.parser.spec.EnterpriseBeansMetaDataParser.parse(EnterpriseBeansMetaDataParser.java:68)
    at org.jboss.metadata.ejb.parser.spec.AbstractEjbJarMetaDataParser.processElement(AbstractEjbJarMetaDataParser.java:112)
    at org.jboss.metadata.ejb.parser.spec.AbstractEjbJarMetaDataParser.processElement(AbstractEjbJarMetaDataParser.java:39)
    at org.jboss.metadata.ejb.parser.spec.AbstractMetaDataParser.processElements(AbstractMetaDataParser.java:69)
    at org.jboss.metadata.ejb.parser.spec.EjbJarMetaDataParser.parseDocument(EjbJarMetaDataParser.java:110)
    at org.jboss.metadata.ejb.parser.spec.EjbJarMetaDataParser.parse(EjbJarMetaDataParser.java:54)
    at org.jboss.as.ejb3.deployment.processors.EjbJarParsingDeploymentUnitProcessor.parseEjbJarXml(EjbJarParsingDeploymentUnitProcessor.java:247)
    ... 7 more

17:40:04,422 ERROR [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS015870: Deploy of deployment ""TestEJB.jar"" was rolled back with the following failure message: 
{""JBAS014671: Failed services"" => {""jboss.deployment.unit.\""TestEJB.jar\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""TestEJB.jar\"".PARSE: JBAS018733: Failed to process phase PARSE of deployment \""TestEJB.jar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS014185: Exception while parsing ejb-jar.xml: /content/TestEJB.jar/META-INF/ejb-jar.xml
    Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[14,10]
Message: Unexpected element 'message-driven-destination' encountered""}}
{code}


**NOTE:** According to the link [1] EJB2.0 is supported with EAP6 so ideally JBoss should be able to parse the ""ejb-jar.xml"" of version 2.0 DTDs.

**NOTE:** there is a feature request seen for JBossAS7 for requesting support for ejb-jar.xml 2.0 DTDs  [2]

[1] https://access.redhat.com/site/articles/113373
[2] https://issues.jboss.org/browse/JBMETA-354



Version-Release number of selected component (if applicable):
How reproducible:

Steps to Reproduce:
1. Deploy an MDB based EJB jar in EAP6/WildFly and use the ejb-jar.xml as mentioned in the issue description.


Actual results:
- EAP6/WildFly should be able to parse the ejb-jar.xml properly and should deploy the MDB properly.


Expected results:
- Deployment should be successful.

",2014/12/04 7:58 AM
WFLY-5169,"*Description*
Some tests in wildfly fails due to ""XNIO001001: No XNIO provider found"" while run with security manager enabled. Similar jira for wildfly-core:
* https://issues.jboss.org/browse/JBEAP-530

*Affected tests found so far:*
* org.jboss.as.test.integration.ejb.mdb.MDBTestCase#testSuspendResumeWithMDB
* org.jboss.as.test.integration.ejb.mdb.deliveryactive.MDBTestCase#testDeliveryActiveWithAnnotation
* org.jboss.as.test.integration.ejb.mdb.deliveryactive.MDBTestCase#testDeliveryActiveWithDeploymentDescriptor
* org.jboss.as.test.integration.batch.chunk.ChunkPartitionTestCase#testSuspend
* org.jboss.as.test.integration.batch.deployment.JobControlTestCase#testStart
* org.jboss.as.test.integration.ee.concurrent.EEConcurrentManagementTestCase#testContextServiceManagement
* org.jboss.as.test.integration.ee.concurrent.EEConcurrentManagementTestCase#testManagedThreadFactoryManagement
* org.jboss.as.test.integration.ee.concurrent.EEConcurrentManagementTestCase#testManagedExecutorServiceManagement
* org.jboss.as.test.integration.ee.concurrent.EEConcurrentManagementTestCase#testManagedScheduledExecutorServiceManagement
*  org.jboss.as.test.integration.ejb.timerservice.suspend.TimerServiceSuspendTestCase#testIntervalTimersDoNotBackUp
* org.jboss.as.test.integration.ejb.timerservice.suspend.TimerServiceSuspendTestCase#testSingleActionTimerWhenSuspended
* org.jboss.as.test.integration.ejb.timerservice.suspend.TimerServiceSuspendTestCase#testSuspendWithIntervalTimer 
* org.jboss.as.test.integration.jca.capacitypolicies.DatasourceCapacityPoliciesTestCase#testNonDefaultDecrementerAndIncrementer 
* org.jboss.as.test.integration.jca.capacitypolicies.ResourceAdapterCapacityPoliciesTestCase#testNonDefaultDecrementerAndIncrementer
* org.jboss.as.test.integration.jca.capacitypolicies.XADatasourceCapacityPoliciesTestCase#testNonDefaultDecrementerAndIncrementer

*Steps to reporoduce MDBTestCase*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=MDBTestCase

*Actual results:*
{noformat}
Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.394 sec <<< FAILURE! - in org.jboss.as.test.integration.ejb.mdb.MDBTestCase
testSuspendResumeWithMDB(org.jboss.as.test.integration.ejb.mdb.MDBTestCase)  Time elapsed: 0.19 sec  <<< ERROR!
java.io.IOException: java.lang.IllegalArgumentException: XNIO001001: No XNIO provider found
	at org.xnio.Xnio.doGetInstance(Xnio.java:238)
	at org.xnio.Xnio.getInstance(Xnio.java:193)
	at org.jboss.remoting3.Remoting.createEndpoint(Remoting.java:112)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:122)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:65)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:147)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:122)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.ejb.mdb.MDBTestCase.testSuspendResumeWithMDB(MDBTestCase.java:173)
{noformat}",2015/08/21 10:18 AM
WFLY-5188,"The JGroupsTransport employed by the DistributedWorkManager uses synchronous multicasting via the RpcDispatcher.  Since the JCA default configuration was modified to use fork channels, we need to ensure that it handles an exception case specific for fork channels, i.e. the case where a message is received by a node on which no such DWM exists.

As I see it, there are 2 ways we can fix this:
# Configure the RpcDispatcher with a custom response marshaller capable of recognizing unknown fork responses
# Implement a transport that leverages CommandDispatcher, which already handles this exception case.

#1 is the easiest.  The only hiccup is that the RpcDispatcher field in JGroupsTransport is private, which requires reflection to access from a subclass.

#2 is probably the ideal long term solution.  The DistributedWorkManager already employs a command pattern, so using CommandDispatcher is a natural fit.  Using the CommandDispatcher will also simplifies marshalling/unmarshalling of the transport parameters.  Additionally, using the public clustering API allows us to remove the direct dependency on org.jgroups module from the connector subsystems.  The only hiccup here is that in order to optimize the marshalling of the command objects, requires the use of the marshalling API introduced as part of WFLY-5091, which, at the time of this writing, has not yet been merged into WF master.

Given the above, I suggest a 2 phase solution, where we implement #1 for now, and #2 when the missing pieces are in place.",2015/08/24 10:49 AM
WFLY-5519,"*Description of problem:*
Some clustering tests fails with security manager. Affected testcases:
{noformat}org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase(SYNC-tcp).testGracefulUndeployFailover
org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase(SYNC-tcp).testGracefulSimpleFailover
org.jboss.as.test.clustering.cluster.dispatcher.CommandDispatcherTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).failoverOnStop
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).nestedBeanFailover
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).connectionFactoryFailover
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).jmsConnectionFactoryFailover
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).noFailover
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).simpleFailover
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulTimeoutTestCase(SYNC-tcp).timeout
org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase(SYNC-tcp).testBasicXPC
org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase(SYNC-tcp).testSecondLevelCache
org.jboss.as.test.clustering.cluster.provider.ServiceProviderRegistrationTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.registry.RegistryTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase(SYNC-tcp).testSingletonService
org.jboss.as.test.clustering.cluster.sso.ClusteredSingleSignOnTestCase(SYNC-tcp).testFormAuthSingleSignOn
org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testSerialized
org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testSessionReplication
org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testGracefulServeOnUndeploy
org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testGracefulServeOnShutdown
org.jboss.as.test.clustering.cluster.web.ExternalizerTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase(SYNC-tcp).testOneRequestSimpleFailover
org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.context.InvalidateConversationTestCase(SYNC-tcp).testInvalidate
org.jboss.as.test.clustering.cluster.web.expiration.CoarseSessionExpirationTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.expiration.FineSessionExpirationTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.passivation.CoarseSessionPassivationTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.passivation.FineSessionPassivationTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.cluster.web.shared.SharedSessionFailoverTestCase(SYNC-tcp).test
org.jboss.as.test.clustering.single.registry.RegistryTestCase.org.jboss.as.test.clustering.single.registry.RegistryTestCase
org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase{noformat}

*How reproducible:*
Always

*Steps to Reproduce:*
# ./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.clustering -Dts.noSmoke

*Actual results:*
See attached logs

*Expected results:*
No errors",2015/10/12 11:58 AM
WFLY-5518,"*Description of problem:*
Tests from XTS module fails with security manager. BAParticipantCompletionTestCase fails on maven timeout {{\[ERROR\] There was a timeout or other error in the fork}}

*How reproducible:*
Always

*Steps to Reproduce:*
# ./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.xts

*Actual results:*
See attached file

*Expected results:*
No errors",2015/10/12 11:37 AM
WFLY-5494,"Similar to what is done in jgroups, related fixes and move code to common module, etc.",2015/10/08 8:14 AM
WFLY-5623,"It happens to me that when using jdbc object store for transactions with driver loaded as a module then if I start server and stopped it right after the start is finished I can see error [1] and server stay stuck. I need to run {{kill -9}} to server finish.

This seems to be connected with recovery processing. If I start server and not stopping it immediately after it was started then I do not experience this problem.
But if leave server to run for some time and I decide to stop server at time when periodic recovery is in process (e.g. checking {{server.log}} activity by {{tail -F standalone/log/server.log}} then I experience the same problem.

[1]
{code}
WARN  [com.arjuna.ats.arjuna] (Periodic Recovery) ARJUNA012251: allObjUids caught exception: java.lang.IllegalStateException
  at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
  at org.jboss.as.naming.service.DefaultNamespaceContextSelectorService$1.getContext(DefaultNamespaceContextSelectorService.java:56)
  at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:187)
  at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)
  at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
  at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
  at javax.naming.InitialContext.lookup(InitialContext.java:417)
  at javax.naming.InitialContext.lookup(InitialContext.java:417)
  at com.arjuna.ats.internal.arjuna.objectstore.jdbc.accessors.DataSourceJDBCAccess.getConnection(DataSourceJDBCAccess.java:53)
  at com.arjuna.ats.internal.arjuna.objectstore.jdbc.JDBCImple_driver.allObjUids(JDBCImple_driver.java:345)
  at com.arjuna.ats.internal.arjuna.objectstore.jdbc.JDBCStore.allObjUids(JDBCStore.java:166)
  at com.arjuna.ats.internal.arjuna.objectstore.jdbc.JDBCStore.allObjUids(JDBCStore.java:122)
  at com.arjuna.ats.arjuna.objectstore.ObjectStoreIterator.<init>(ObjectStoreIterator.java:53)
  at com.arjuna.ats.internal.jta.recovery.arjunacore.CommitMarkableResourceRecordRecoveryModule.periodicWorkFirstPass(CommitMarkableResourceRecordRecoveryModule.java:390)
  at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:747)
  at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:375)

ERROR [stderr] (Periodic Recovery) Exception in thread ""Periodic Recovery"" java.lang.NullPointerException
ERROR [stderr] (Periodic Recovery) 	at com.arjuna.ats.arjuna.recovery.TransactionStatusConnectionManager.getTransactionStatus(TransactionStatusConnectionManager.java:92)
ERROR [stderr] (Periodic Recovery) 	at com.arjuna.ats.internal.jta.recovery.arjunacore.CommitMarkableResourceRecordRecoveryModule.periodicWorkFirstPass(CommitMarkableResourceRecordRecoveryModule.java:399)
ERROR [stderr] (Periodic Recovery) 	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:747)
ERROR [stderr] (Periodic Recovery) 	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:375)
{code}",2015/11/04 6:26 AM
WFLY-5794,NoData,2015/12/07 7:09 AM
WFLY-5167,"*Description of problem:*
Two tests can not connect to ORB with security manager. Tests run in ""basic-integration-default-full.surefire"" execution of basic profile.
* org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerDDNameTestCase
* org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerTestCase

*How reproducible:*
Always

*Steps to Reproduce:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=IIOPNamingInContainerDDNameTestCase,IIOPNamingInContainerTestCase

*Actual results:*
{noformat}
avax.naming.NamingException: WFLYIIOP0031: Cannot connect to ORB
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2200)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2221)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.<init>(SocketOrChannelConnectionImpl.java:223)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.<init>(SocketOrChannelConnectionImpl.java:236)
	at com.sun.corba.se.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:119)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:187)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:229)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:130)
	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.setOrbAndRootContext(CNCtx.java:353)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initUsingCorbanameUrl(CNCtx.java:335)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initUsingUrl(CNCtx.java:268)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initOrbAndRootContext(CNCtx.java:233)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.<init>(CNCtx.java:99)
	at org.wildfly.iiop.openjdk.naming.jndi.CNCtxFactory.getInitialContext(CNCtxFactory.java:53)
	at org.wildfly.iiop.openjdk.naming.jndi.WrapperInitialContext.lookup(WrapperInitialContext.java:72)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerDDNameTestCase.testIIOPNamingInvocationWithDDOverride(IIOPNamingInContainerDDNameTestCase.java:55)
{noformat}

*Expected results:*
No errors on output",2015/08/21 9:28 AM
WFLY-4409,"In the log during the application server startup we see in the log file:
{code}
�[0m�[31m15:10:25,997 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.subunit.""mms.ear"".""webservices.jar"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""mms.ear"".""webservices.jar"".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment ""webservices.jar"" of deployment ""mms.ear""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_25]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_25]
Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy
	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72) [rt.jar:1.8.0_25]
	at java.lang.Class.createAnnotationData(Class.java:3513) [rt.jar:1.8.0_25]
	at java.lang.Class.annotationData(Class.java:3502) [rt.jar:1.8.0_25]
	at java.lang.Class.getAnnotation(Class.java:3407) [rt.jar:1.8.0_25]
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.getRemoteBusinessInterfaces(BusinessViewAnnotationProcessor.java:148)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.processViewAnnotations(BusinessViewAnnotationProcessor.java:116)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.deploy(BusinessViewAnnotationProcessor.java:90)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]
	... 5 more
...
�[0m�[31m15:10:27,315 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation (""deploy"") failed - address: ([(""deployment"" => ""mms.ear"")]) - failure description: {
    ""JBAS014671: Failed services"" => {""jboss.deployment.subunit.\""mms.ear\"".\""webservices.jar\"".POST_MODULE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.subunit.\""mms.ear\"".\""webservices.jar\"".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment \""webservices.jar\"" of deployment \""mms.ear\""
    Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy""},
    ""JBAS014771: Services with missing/unavailable dependencies"" => [
        ""jboss.deployment.unit.\""mms.ear\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""mms.ear\"".beanmanager]"",
        ""jboss.naming.context.java.comp.mms.wp.TemplateVariableService.Validator is missing [jboss.naming.context.java.comp.mms.wp.TemplateVariableService]"",
        ""jboss.naming.context.java.comp.mms.configuration.GenericDao.InAppClientContainer is missing [jboss.naming.context.java.comp.mms.configuration.GenericDao]"",
        ""jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService.ORB is missing [jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService]"",
...
{code}
From this  output it's not clear what exactly is absent in the ear file. 
Could you refactor logging for this error. In order to display which exactly annotation was not found.",2015/03/06 3:49 AM
WFLY-5459,"Based on Paul feedback in https://github.com/wildfly/wildfly/pull/8221#issuecomment-145013596:

{quote}You may want to consider renaming these attributes, however, since the names are now a little confusing. For example, jgroups-stack is perhaps better described as jgroups-channel-factory, since it can specify either a stack name or a channel name. jgroups-channel is also confusing in this context, since this specifies either the cluster name, in the case where jgroups-stack specifies a stack; or the fork name, in the case where the jgroups-stack specifies a channel name. Perhaps jgroups-cluster-name is a better choice?{quote}",2015/10/02 9:18 AM
WFLY-5340,"It is currently possible to specify the 'javax.security.jacc.policy.provider' system property, however it is not possible to specify a module.

From the JACC specification: -

_For each JRE of a J2EE 1.4 or later version Java EE application server, if the 
system property 
“javax.security.jacc.policy.provider
” is defined, 
the application server must construct an 
instance of the class identified by the 
system property, confirm that the 
resulting object is an instance of 
java.security.Policy, 
and set, by calling the 
java.security.Policy.setPolicy
 method, the resulting object as the 
corresponding Policy object u
sed by the JRE. _

The specification only specifies that the system property identifies the class, it does not specify how.  

In it's simplest form we should assume this is just a class name, in a more complex form we should allow the module to be specified.",2015/09/14 12:58 PM
WFLY-3263,"The default processor runs later, and overwrites the value provided by this file.",2014/04/15 7:28 PM
WFLY-4125,"See related bug: https://bugzilla.redhat.com/show_bug.cgi?id=1167293

The shopping-cart quickstart has a note in the README file that states: 
    Note: You also see the following EJB Invocation failed and NoSuchEJBException messages in the server log. This is the expected result because method is annotated with @Remove. This means the next invocation after the shopping cart checkout fails because the container has destroyed the instance and it is no longer available.

However, usually people see the stacktrace in the server and assume something is terribly wrong. (see https://bugzilla.redhat.com/show_bug.cgi?id=910868)

I spoke with Brad Maxwell and David M Lloyd to see if there is a way to suppress the stacktrace and only print the exception message, but it is not possible. The stacktrace doesn't really provide any additional information, and since it's thrown, the caller has access to it.

See related bug for JBoss EAP 6.4: https://bugzilla.redhat.com/show_bug.cgi?id=1167983
David said: Looks like the place to make this change would be in org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.  Maybe a specific catch clause for exception types to not log?

",2014/11/25 2:33 PM
WFLY-4320," add->activate->remove->add->activate fails for Resource Adapter

[1]
[jolee@jolee540 jboss-eap-6.3.x]$ bin/jboss-cli.sh --connect
[standalone@localhost:9999 /] deploy /home/jolee/amq.rar
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:add(archive=amq.rar,transaction-support=XATransaction)
{""outcome"" => ""success""}
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:activate
{""outcome"" => ""success""}

[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:remove
{""outcome"" => ""success""}

[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:add(archive=amq.rar,transaction-support=XATransaction)
{""outcome"" => ""success""}
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:activate
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS014749: Operation handler failed: Service jboss.ra.deployment.amq is already registered"",
    ""rolled-back"" => true
}


TRACE from failure
15:15:53,732 TRACE [org.jboss.as.connector.logging] (management-handler-thread - 10) ConnectorServices: getDeploymentServiceName(amq,<resource-adapter><archive>amq.rar</archive><transaction-support>XATransaction</transaction-support></resource-adapter>) -> service jboss.ra.deployment.amq
15:15:53,733 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 10) JBAS014612: Operation (""activate"") failed - address: ([
    (""subsystem"" => ""resource-adapters""),
    (""resource-adapter"" => ""amq"")
]): org.jboss.msc.service.DuplicateServiceException: Service jboss.ra.deployment.amq is already registered
    at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:742) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:243) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2433) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:243) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2433) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:345) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.as.connector.util.RaServicesFactory.createDeploymentService(RaServicesFactory.java:104)
    at org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.activate(RaOperationUtil.java:320)
    at org.jboss.as.connector.subsystems.resourceadapters.RaActivate$1.execute(RaActivate.java:57)
    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:611) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:489) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:290) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:285) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1132) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:251) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:152) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:203) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:132) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:153) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:149) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.6.0_45]
    at javax.security.auth.Subject.doAs(Subject.java:396) [rt.jar:1.6.0_45]
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:149) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298) [jboss-as-protocol-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:537) [jboss-as-protocol-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) [rt.jar:1.6.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) [rt.jar:1.6.0_45]
    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1]
",2015/02/05 9:09 AM
WFLY-5232,"A CDI extension has a BeforeShutdown event handler that looks up the UserTransaction and performs a clean-up operation. If the application is undeployed, all works as expected, but if Wildfly is shut down gracefully the lookup fails.",2015/08/28 10:44 AM
WFLY-5499,"Remote naming is logging this at ERROR, though it seems normal and no adverse effects are apparent, we should log it at debug instead of error.

{code}
ERROR [org.jboss.as.ejb3] (Remoting ""master@ap02:server-apip"" task-2) JBAS014141: Channel end notification received, closing channel Channel ID 6b8f00d7 (inbound) of Remoting connection 36e4f81b to /192.168.1.10:64354
{code}",2015/10/09 2:36 AM
WFLY-4260,"When you import a quickstart containing a jboss-service.xml file, you get the following XML:

cvc-complex-type.2.3: Element 'attribute' cannot have character [children], because the type's content type is element-only.	

The quickstart source is located here: 
https://github.com/jboss-developer/jboss-eap-quickstarts/tree/6.4.x/helloworld-mbean

I searched the https://github.com/jbossas/jboss-eap/ source code for other jboss-service.xml examples, and found a few with syntax similar to what the quickstarts use:

* sar/src/test/resources/test/serviceXmlDeployment.jar/META-INF/jboss-service.xml
* testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/sar/injection/jboss-service.xml
* testsuite/integration/smoke/src/test/java/org/jboss/as/test/smoke/sar/jboss-service.xml
* arquillian/container-managed/src/test/resources/sar-example.sar/META-INF/jboss-service.xml
* arquillian/container-remote/src/test/resources/sar-example.sar/META-INF/jboss-service.xml

There seems to be an error in the schema:
http://www.jboss.org/schema/jbossas/jboss-service_7_0.xsd

The quickstart bug is located here: https://bugzilla.redhat.com/show_bug.cgi?id=1178782
",2015/01/16 4:36 PM
WFLY-3904,"The statistics for  resource adapters are hard-coded to be disabled at startup:
https://github.com/wildfly/wildfly/blob/47830b44d1bd48c4fcdc2489cecaa3971c45c209/connector/src/main/java/org/jboss/as/connector/deployers/ra/processors/AbstractResourceAdapterDeploymentServiceListener.java#L91

It's not possible to enable the statistics in a persistent way - it needs to be done each time the servers starts e.g. via jmx.

Ideally there'd be a ""statistics-enabled"" attribute on the ""<connection-definition>"" element in the configuration file in the same way that there is on ""<datasource>"".",2014/09/26 6:03 PM
WFLY-4647,"In the Wildfly integration testsuite,  manual mode section, there are two test cases which are running in a clustered environment when they should not be:
- RemoteOutboundConnectionReconnectTestCase
- EJBClientReconnectionTestCase

These two cases test outbound connections from one server A to another server B, and connection from a client to a server A when the server is stopped and started. There is no clustering functionality being tested.

Two problems with this situation:
- exceptions are generated in the logs which result from the fact that the test cases are not being run in the correct environment
- the fact that the environment is incorrectly configured may also be preventing real bugs from otherwise being detected

",2015/05/20 11:00 AM
WFLY-4961,NoData,2015/07/17 5:12 PM
WFLY-5228,"WS tests moved to separate module.
Schemalocations tests in https://github.com/wildfly/wildfly/tree/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/ws are incorrectly located.

They should be moved to https://github.com/wildfly/wildfly/tree/master/testsuite/integration/ws",2015/08/28 8:19 AM
WFLY-5176,"*Description of problem:*
Some tests end with Security Exception after login with security manager. 

*Affected tests found so far:*
* org.jboss.as.test.integration.ejb.security.AnnotationAuthorizationTestCase
* org.jboss.as.test.integration.ejb.security.AuthenticationTestCase
* org.jboss.as.test.integration.ejb.security.EJBInWarDefaultSecurityDomainTestCase#testSecurityOnBeanInAbsenceOfExplicitSecurityDomain
* org.jboss.as.test.integration.ejb.security.LifecycleTestCase
* org.jboss.as.test.integration.ejb.security.SecurityDDOverrideTestCase#testDDOverride
* org.jboss.as.test.integration.ejb.security.asynchronous.AsynchronousSecurityTestCase
* org.jboss.as.test.integration.ejb.security.missingmethodpermission.MissingMethodPermissionsDefaultAllowedTestCase
* org.jboss.as.test.integration.ejb.security.missingmethodpermission.MissingMethodPermissionsTestCase
* org.jboss.as.test.integration.ejb.security.rolelink.SecurityRoleLinkTestCase#testIsCallerInRole
* org.jboss.as.test.integration.ejb.security.runas.RunAsTestCase

*How reproducible:*
Always

*Steps to Reproduce:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=AnnotationAuthorizationTestCase

*Actual results:*
{noformat}
javax.security.auth.login.LoginException: Security Exception
	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:841)
	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
	at javax.security.auth.login.LoginContext.login(LoginContext.java:588)
	at org.jboss.as.test.integration.ejb.security.AnnotationAuthorizationTestCase.testRolesAllowedOverriden_User2(AnnotationAuthorizationTestCase.java:187)
{noformat}",2015/08/24 4:11 AM
WFLY-5083,"If broadcast group with local-bind-address,local-bind-port, group-address and group-port then those parameters are not migrated properly:

For example HornetQ configuration:
{code}
 <broadcast-group name=""groupA"">
                <local-bind-address>localhost</local-bind-address>
                <local-bind-port>12345</local-bind-port>
                <group-address>224.0.1.105</group-address>
                <group-port>23456</group-port>
                <broadcast-period>${broadcast.period:2500}</broadcast-period>
                <connector-ref>netty</connector-ref>
                <connector-ref>netty-throughput</connector-ref>
            </broadcast-group>
{code}

is migrated to Artemis like:
{code}
                <broadcast-group name=""groupA"" connectors=""netty netty-throughput"" broadcast-period=""${broadcast.period:2500}""/>
{code}

With such a configuration server cannot be started. There is no warning pointing to this problem.",2015/08/12 6:46 AM
WFLY-4173,"When compression is enabled for request/response, the jboss-ejb-client is sending a compressed request, but the application server is responding with an uncompressed response.

On the server enabling TRACE on org.jboss.as.ejb3, we can see the server receives a compressed request

TRACE [org.jboss.as.ejb3] (default task-5) Got message with header 0x1b on channel Channel ID 56b01772 (inbound) of Remoting connection TRACE [org.jboss.as.ejb3.invocation] (default task-5) Received a compressed message stream

Client side, Enabling TRACE on the client side for org.jboss.ejb.client we see it is 0x5 where it should be 0x1b

TRACE org.jboss.ejb.client.remoting.ChannelAssociation - Received message with header 0x5",2014/12/10 5:50 PM
WFLY-3747,"we are building the widlfy on the windows and meet the following failure. It looks like the powershell needs the Administrator to run the script.
{noformat}
C:\hudson\workspace\btny-pulls-narayana-windows2008\jboss-as\tools\download-maven.ps1

cannot be loaded because the execution of scripts is disabled on this
system. Please see ""get-help about_signing"" for more details.
At line:1 char:2
+ & <<<<  tools\download-maven.ps1
    + CategoryInfo          : NotSpecified: (:) [],
PSSecurityException
    + FullyQualifiedErrorId : RuntimeException
{noformat}

It could be set the execution policy or bypass it. see http://stackoverflow.com/questions/4037939/powershell-execution-of-scripts-is-disabled-on-this-system",2014/08/20 2:38 AM
WFLY-4441,"Description copied from https://bugzilla.redhat.com/show_bug.cgi?id=1184292

Description of problem:
When XMLStreamException occurs by web.xml parser process for xml file which does not have the encoding attribute, e.getLocation()[1] is null. We cannot find cause of exception by NullPointerException.

[1]
- org.jboss.as.web.deployment.WebParsingDeploymentProcessor.java
#115            } catch (XMLStreamException e) {
-> #116                throw new DeploymentUnitProcessingException(MESSAGES.failToParseXMLDescriptor(webXml, e.getLocation().getLineNumber(), e.getLocation().getColumnNumber()), e);
#117            } catch (IOException e) {
#118                throw new DeploymentUnitProcessingException(MESSAGES.failToParseXMLDescriptor(webXml), e);
#119            } 

Version-Release number of selected component (if applicable):
EAP 6.3.2

How reproducible:
Attached web.xml for reproducing.

Steps to Reproduce:
1. Create war application using attached web.xml.
2. Deploy war to EAP.
3. Start EAP.

Actual results:
You can confirm NullPointerException.

15:56:23,190 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.""test.war"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""test.war"".PARSE: JBAS018733: Failed to process phase PARSE of deployment ""test.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [jboss-as-server-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_71]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_71]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_71]
Caused by: java.lang.NullPointerException
	at org.jboss.as.web.deployment.WebParsingDeploymentProcessor.deploy(WebParsingDeploymentProcessor.java:116)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
	... 5 more",2015/03/18 6:34 AM
WFLY-3696,"https://bugzilla.redhat.com/show_bug.cgi?id=901075 description: 

project_key: JBPAPP6

Adding a security domain with JASPI authentication fails if there is no (or is empty) login-module-stack. It should be possible to add custom ServerAuthModule, which doesn't use JAAS login modules.

{code:xml}
<security-domain name=""jmx-console"" cache-type=""default"">
	<authentication-jaspi>

		<!-- FIXME: the not empty login-module-stack must be provided even it's not used -->
		<login-module-stack name=""lm-stack"">
			<login-module code=""UsersRoles"" flag=""required""/>
		</login-module-stack>

		<auth-module code=""org.jboss.example.CustomServerAuthModule"" flag=""required"">
			<module-option name=""option1"" value=""value1"" />
		</auth-module>
	</authentication-jaspi>
</security-domain>
{code}

It should be possible to remove here the login-module-stack element.",2014/07/31 3:52 AM
WFLY-4443,"I compiled the latest WildFly snapshot and now have a regression compared with the snapshot
from March 13. Maybe it is related to https://github.com/wildfly/wildfly/commit/dae2b07610205264fb85c0021684b1f9d563773c
which was merged on March 13.

Using Hibernate I'm persisting a simple object into an XA datasource (there is another 2nd XA datasource in
standalone.xml which isn't used during the failing transaction). This new Java object
doesn't reference another object, and isn't referenced by any other object. Invoking
EntityManager.persist() via Hibernate works fine. However, during Commit (via @Transactional
as a CDI interceptor) I'm getting the following exception and stacktrace:

{code}
2015-03-18 19:44:29,267 WARN  [com.arjuna.ats.arjuna] ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple< 0:ffffc0a83801:3620239c:5509c313:57, org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@6112018f >: java.util.ConcurrentModificationException
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901)
	at java.util.ArrayList$Itr.next(ArrayList.java:851)
	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.beforeCompletion(JCAOrderedLastSynchronizationList.java:90)
	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:371)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:91)
	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)
	at org.jboss.tm.usertx.client.ServerVMClientUserTransaction.commit(ServerVMClientUserTransaction.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:434)
	at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:42)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)
	at org.jboss.weldx.transaction.UserTransaction$215414646$Proxy$_$$_Weld$Proxy$.commit(Unknown Source)
	at de.shop.artikelverwaltung.business.ArtikelBrokerTest.save(ArtikelBrokerTest.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:370)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:363)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:315)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:311)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.executeTest(ServletTestRunner.java:159)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.executeTest(Unknown Source)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.execute(ServletTestRunner.java:125)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.execute(Unknown Source)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.doGet(ServletTestRunner.java:89)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.doGet(Unknown Source)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service(Unknown Source)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:79)
	at org.jboss.weld.probe.InvocationMonitor.monitor(InvocationMonitor.java:105)
	at sun.reflect.GeneratedMethodAccessor125.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:86)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:74)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:58)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service(Unknown Source)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)
	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:151)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:278)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{code}
",2015/03/18 3:01 PM
WFLY-5688,"If one sets mod_cluster subsystem {{connector=""http""}} there is nothing in the log about any mod_cluster subsystem being initialized, no warning, nothing. It appears to be dead silent even with log level DEBUG.

When switched back to {{connector=""ajp""}}, there are the well known comforting messages:
{noformat}
INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 62) MODCLUSTER000001: Initializing mod_cluster version 1.3.1.Final
INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 62) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364
{noformat}

Weird. Any obvious misconfiguration or explanation? The config is the default standalone-ha.xml otherwise.",2015/05/30 1:13 PM
WFLY-3639,"If you use config like this:

{code:xml}
<host name=""default-host"" default-web-module=""myapp1.war"" alias=""webapp.domain1.com""/>
    <host name=""other-host"" default-web-module=""myapp2.war"" alias=""test.domain2.net""/>
{code}

and have apps myapp1.war & myapp2.war deployed myappwar2.war won't be bind to other-host.",2014/07/17 7:09 PM
WFLY-5605,"The same DataSourceDefinition class is used for registering the MRR for the subsystem=data-sources/(xa-)data-source=* resources and for their equivalents in the /deployment=* tree. In both cases the registerCapabilities() method is recording the datasource capability.

The deployment resources are not actually able to provide the capability[1], so it shouldn't be registered in that case. I believe the DataSourceDefinition.deployed field can be used to turn this off.

[1] Capabilities are management model concepts and can't be provided by services and runtime-only resources. The /deployment=*/subsystem=* resources are runtime-only.",2015/10/29 1:19 PM
WFLY-5409,Condition used in {{org.jboss.as.test.integration.security.common.negotiation.KerberosTestUtils.assumeKerberosAuthenticationSupported(String)}} doesn't cover Java 8. It has to be updated.,2015/09/25 8:11 AM
WFLY-5079,"Removing non-existent mail server (which is named smtp or pop3 or imap) via CLI operation doesn't fail even though it should.

{noformat}
/subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651:add(jndi-name=java\:jboss\/mail\/test1439373303651)
{""outcome"" => ""success""}

 /subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651:read-children-names(child-type=server)
{
    ""outcome"" => ""success"",
    ""result"" => []
}
[standalone@localhost:9990 /] /subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651/server=smtp:remove
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
{noformat}

Note: trying to remove non-existent server named e.g. {{xxx}} correctly fails see
{noformat}
/subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651/server=xxx:remove
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0030: No resource definition is registered for address [
    (\""subsystem\"" => \""mail\""),
    (\""mail-session\"" => \""java:jboss/mail/test1439373303651\""),
    (\""server\"" => \""xxx\"")
]"",
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{noformat}",2015/08/12 6:06 AM
WFLY-5607,"When an EJB Bean throws a Runtime exception, it is causing the server side to close the remoting channel.  This causes several issues such as performance issue of having to recreate the channel, channel leak on the client side and some occasional EJBCLIENT...25 - no ejb receiver exceptions on the client side.",2015/10/29 6:51 PM
WFLY-5770,"Just happened on node shutdown when testing locally.

{noformat}
19:22:21,114 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0004: Undertow 1.3.7.Final stopping
19:22:21,114 ERROR [stderr] (ServerService Thread Pool -- 82) Exception in thread ""ServerService Thread Pool -- 82"" org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on node2 in behalf of transaction GlobalTransaction:<node2>:4223:local. Current owner GlobalTransaction:<node2>:4217:local.
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:224)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.checkForPendingLock(DefaultPendingLockManager.java:196)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForKey(DefaultPendingLockManager.java:115)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockKey(AbstractTxLockingInterceptor.java:190)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockOrRegisterBackupLock(AbstractTxLockingInterceptor.java:115)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:121)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:71)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:304)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:286)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1634)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:558)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:452)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:101)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.close(StampedLockServiceExecutor.java:55)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.close(CacheRegistry.java:96)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistryFactory$1.close(CacheRegistryFactory.java:56)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.RegistryBuilder.stop(RegistryBuilder.java:88)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.service.AsynchronousServiceBuilder$2.run(AsynchronousServiceBuilder.java:130)
19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at java.lang.Thread.run(Thread.java:745)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.jboss.threads.JBossThread.run(JBossThread.java:320)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) Suppressed: org.infinispan.commons.CacheException: javax.transaction.RollbackException: Transaction marked as rollback only.
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:50)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:102)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) ... 9 more
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) Caused by: javax.transaction.RollbackException: Transaction marked as rollback only.
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.transaction.tm.DummyTransaction.setRollbackOnly(DummyTransaction.java:146)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:374)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:304)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:286)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1634)
19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:558)
19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:452)
19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:101)
19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) ... 9 more
19:22:31,124 WARN  [org.infinispan.transaction.impl.TransactionTable] (ServerService Thread Pool -- 88) ISPN000100: Stopping, but there are 1 local transactions and 0 remote transactions that did not finish in time.
19:22:31,125 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 88) WFLYCLINF0003: Stopped routing cache from web container
19:22:31,128 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web
19:22:31,128 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web
19:22:31,141 INFO  [org.jboss.as] (MSC service thread 1-5) WFLYSRV0050: WildFly Full 10.0.0.CR5-SNAPSHOT (WildFly Core 2.0.3.Final) stopped in 25086ms
{noformat}",2015/12/03 9:49 AM
WFLY-5672,"It looks like in the [infinispan subsystem parser|https://github.com/wildfly/wildfly/blob/master/clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/InfinispanSubsystemXMLReader.java#L173-L178] some thread pools are explicitly added. This means these resources are not added if adding the subsystem via the {{add}} operation. These resources should be added like any other child resource of the subsystem.

If the resources can't be added like that, e.g. they are truly defaults, the add handler for the parent can add a step to check for children and add any missing ones. This would result in the same behavior, but allow the {{add}} operation to work correctly.",2015/11/12 5:17 PM
WFLY-5665,NoData,2015/11/11 3:39 PM
WFLY-5503,NoData,2015/10/09 10:36 AM
WFLY-5949,"{code}
-------------------------------------------------------------------------------
Test set: org.jboss.as.test.xts.wsba.participantcompletion.client.BAParticipantCompletionTestCase
-------------------------------------------------------------------------------
Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 103.782 sec <<< FAILURE! - in org.jboss.as.test.xts.wsba.participantcompletion.client.BAParticipantCompletionTestCase
testWSBAParticipantClientCancel(org.jboss.as.test.xts.wsba.participantcompletion.client.BAParticipantCompletionTestCase)  Time elapsed: 59.832 sec  <<< ERROR!
java.lang.reflect.UndeclaredThrowableException: null
	at com.sun.proxy.$Proxy25.runTestMethod(Unknown Source)
	at org.jboss.arquillian.protocol.jmx.JMXMethodExecutor.invoke(JMXMethodExecutor.java:80)
	at org.jboss.arquillian.container.test.impl.execution.RemoteTestExecuter.execute(RemoteTestExecuter.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:363)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:321)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:113)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:85)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:134)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.io.IOException: Unable to invoke invoke(), status=WAITING
	at org.jboss.remotingjmx.protocol.v2.ClientConnection$TheConnection.invoke(ClientConnection.java:1072)
	at org.jboss.as.arquillian.container.ManagementClient$MBeanConnectionProxy.invoke(ManagementClient.java:560)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:298)
	at com.sun.proxy.$Proxy25.runTestMethod(Unknown Source)
	at org.jboss.arquillian.protocol.jmx.JMXMethodExecutor.invoke(JMXMethodExecutor.java:80)
	at org.jboss.arquillian.container.test.impl.execution.RemoteTestExecuter.execute(RemoteTestExecuter.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:363)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:321)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:113)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:85)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:134)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{code}",2015/12/22 6:17 AM
WFLY-5649,"The javax.json.api module should be public, but rather than have it be
an alias, it should be an empty module which re-exports the public API
packages of the non-public org.glassfish.javax.json module.",2015/11/09 10:50 AM
WFLY-5220,Multiple maven-surefire-plugin executions are started when {{-Dtest}} maven switch is used in {{testsuite/integration/basic}}.,2015/08/27 6:31 AM
WFLY-5595,NoData,2015/10/27 3:15 PM
WFLY-5904,"As seen in EJBClientDescriptorTestCase.testClientInvocationTimeout 

This can be reproduced locally by adding a loop around the final invocations in the test:

{code}
for (int i = 0; i < 1000; ++i) {             
  Assert.assertEquals(""bar"", remote1.getManagedBeanMessage()); 
  Assert.assertEquals(""bar"", remote2.getManagedBeanMessage());         
}
{code}",2015/12/22 10:17 PM
WFLY-5864,NoData,2015/12/17 1:10 AM
WFLY-5624,NoData,2015/11/04 6:38 AM
WFLY-5824,"In org.wildfly.extension.messaging.activemq.ServerAdd#processOutgoingInterceptors, the interceptors are wrongly added to the incoming interceptors instead of the outgoing interceptors.",2015/12/09 10:40 AM
WFLY-5468,"PowerShell scripts ""jdr.ps1"" should be in JBOSS_HOME/bin",2015/06/05 7:42 AM
WFLY-5467,"PowerShell scripts ""jconsole.ps1"" should be in JBOSS_HOME/bin",2015/06/05 7:42 AM
WFLY-5564,"It is impossible to set use-journal-store or use-jdbc-store after other was set. The other has to have its default value, although setting it back to its default value won't help.",2015/10/09 6:28 AM
WFLY-5461,"Following message's are seen while adding datasource via Management console:

~~~
INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 25) JBAS014627: Attribute 'enabled' in the resource at address '/subsystem=datasources/xa-data-source=xyz' is deprecated
, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
~~~",2015/10/02 9:55 AM
WFLY-5452,Sometimes the calling javax.security.auth.login.Configuration.getConfiguration() fails with SecurityException in our tests.,2015/10/02 4:18 AM
WFLY-5238,"In Undertow there are Handlers which can be used similarly as Valves. Some valves have corresponding handler in Undertow. Such valves could be migrated.

E.g. as part of [EAP7-428] there is added {{io.undertow.server.handlers.RequestDumpingHandler}}.

This could be thereby migrated from 
{code:xml}
<subsystem xmlns=""urn:jboss:domain:web:2.2"" default-virtual-server=""default-host"" native=""false"">
     <valve name=""request-dumper"" module=""org.jboss.as.web"" class-name=""org.apache.catalina.valves.RequestDumperValve""/>
     <virtual-server name=""default-host"" enable-welcome-root=""false"">
         <alias name=""localhost""/>
         <alias name=""example.com""/>
     </virtual-server>
      ...
</subsystem>
{code}

to something like:
{code:xml}
<subsystem xmlns=""urn:jboss:domain:undertow:3.0"">
    <buffer-cache name=""default""/>
    <server name=""default-server"" default-host=""default-host"">
        <host name=""default-host"" alias=""localhost, example.com"">
            <filter-ref name=""request-dumper""/>
        </host>
    </server>
    <servlet-container name=""default"">
        <jsp-config/>
    </servlet-container>
    <filter name=""request-dumper"" module=""io.undertow.core"" class-name=""io.undertow.server.handlers.RequestDumpingHandler""/>
    ...
</subsystem>

{code}
 ",2015/08/31 10:49 AM
WFLY-5880,"Seen in these scenarios in ER3:
 - http-session-jvmkill-dist-async-3owners
 - ejb-ejbservlet-shutdown-dist-async

Immediately after perf18 was killed (jvmkill), perf19 and perf20 logged JBEAP-794 and then this error:
{code}
[0m[31m04:21:28,668 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-127) ISPN000136: Error executing command LockControlCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 9
[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)
[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:259)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:103)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:81)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:828)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)
[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)
[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)
[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)
[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:245)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:283)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

This one followed right after:
{code}
[JBossINF] [0m[31m04:21:28,717 ERROR [io.undertow.request] (default task-127) UT005023: Exception handling request to /clusterbench/session: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 9
[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)
[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:259)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:103)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:81)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:828)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)
[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)
[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)
[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)
[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:245)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:283)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

The stacktrace is different from JBEAP-735 although it can be related.

Link: 
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-jvmkill-dist-async-3owners/15/console-perf19/",2015/12/18 8:56 AM
WFLY-5171,"*Description of problem:*
Some tests are unable to deploy deployment with security manager with:
{noformat}WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/no-method-message-listener-test.ear/lib/common.jar <no signer certificates>)\"" of \""null\"")""}}{noformat}

*Affected tests found so far:*
* org.jboss.as.test.integration.ejb.mdb.messagelistener.nomethodinterface.NoMethodMessageListenerTestCase
* org.jboss.as.test.integration.ejb.mdb.dynamic.DynamicMessageListenerTestCase
* org.jboss.as.test.integration.management.cli.objectstore.TransactionObjectStoreTestCase
* org.jboss.as.test.integration.naming.remote.multiple.MultipleClientRemoteJndiTestCase
* org.jboss.as.test.integration.naming.remote.multiple.NestedRemoteContextTestCase
* org.jboss.as.test.integration.naming.remote.simple.RemoteNamingTestCase

*Steps to Reproduce NoMethodMessageListenerTestCase:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=NoMethodMessageListenerTestCase

*Actual results:*
{noformat}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy: no-method-message-listener-test.ear
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:64)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:46)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:144)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.GeneratedMethodAccessor26.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:95)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:80)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:263)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:79)
	at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:101)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:87)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:201)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:160)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:138)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:113)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:85)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:134)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.Exception: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.subunit.\""no-method-message-listener-test.ear\"".\""message-driven-bean.jar\"".component.SimpleMessageDrivenBean.START"" => ""org.jboss.msc.service.StartException in service jboss.deployment.subunit.\""no-method-message-listener-test.ear\"".\""message-driven-bean.jar\"".component.SimpleMessageDrivenBean.START: java.lang.RuntimeException: javax.resource.ResourceException: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/no-method-message-listener-test.ear/lib/common.jar <no signer certificates>)\"" of \""null\"")
    Caused by: java.lang.RuntimeException: javax.resource.ResourceException: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/no-method-message-listener-test.ear/lib/common.jar <no signer certificates>)\"" of \""null\"")
    Caused by: javax.resource.ResourceException: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/no-method-message-listener-test.ear/lib/common.jar <no signer certificates>)\"" of \""null\"")
    Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/no-method-message-listener-test.ear/lib/common.jar <no signer certificates>)\"" of \""null\"")""}}
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:77)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:64)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:46)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:144)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.GeneratedMethodAccessor26.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:95)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:80)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:263)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:79)
	at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:101)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:87)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:201)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:160)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:138)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:113)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:85)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:134)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{noformat}",2015/08/21 11:34 AM
WFLY-5548,"If server is configured with HA policy for replicated journal and messaging subsystem contains attribute:
{code}
        <backup-group-name>firstPair</backup-group-name>
{code}

then new messaging-activemq subsytem should contain something like:
{code}
        <replication-master ... group-name=""firstPair"" />
{code}",2015/10/20 10:28 AM
WFLY-5916,"WildFly doesn't provide jackson-datatype-jsr310 and jackson-datatype-jdk8 for RESTEasy. jackson-datatype-jsr310 supports the new JDK 8 time API, and jackson-datatype-jdk8 supports the new JDK 8 Optional type.
The GAVs are:
com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.6.3
com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.6.3
The latest Jackson GA version is 2.6.4. Please see also https://issues.jboss.org/browse/WFLY-5915.",2015/12/29 11:07 AM
WFLY-5179,"*Description of problem:*
Some tests are unable to init arquillian protocol with security manager.

*Affected tests found so far:*
* org.jboss.as.test.integration.ee.injection.resource.ejblocalref.EjbLocalRefInjectionTestCase#testEjbLink
* org.jboss.as.test.integration.ee.injection.resource.ejblocalref.EjbLocalRefInjectionTestCase#testLookup
* org.jboss.as.test.integration.ee.injection.resource.enventry.EnvEntryInjectionTestCase#testEnvEntryInjectionIntoServlet
* org.jboss.as.test.integration.ejb.security.AuthenticationTestCase
* org.jboss.as.test.xts.annotation.client.TransactionalTestCase#testNoTransaction
* org.jboss.as.test.xts.annotation.client.TransactionalTestCase#testActiveTransaction

*How reproducible:*
Always.

*Steps to Reproduce:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=EjbLocalRefInjectionTestCase

*Actual results:*
{noformat}
java.lang.RuntimeException: Could not init arquillian protocol
	at org.xnio.Xnio.doGetInstance(Xnio.java:238)
	at org.xnio.Xnio.getInstance(Xnio.java:193)
	at org.jboss.remoting3.Remoting.createEndpoint(Remoting.java:112)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:122)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:65)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:147)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:122)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.arquillian.container.ManagementClient.init(ManagementClient.java:140)
	at org.jboss.as.arquillian.container.ManagementClient.getWebUri(ManagementClient.java:177)
	at org.jboss.as.test.integration.ee.injection.resource.ejblocalref.EjbLocalRefInjectionTestCase.performCall(EjbLocalRefInjectionTestCase.java:62)
	at org.jboss.as.test.integration.ee.injection.resource.ejblocalref.EjbLocalRefInjectionTestCase.testEjbLink(EjbLocalRefInjectionTestCase.java:73)
{noformat}",2015/08/24 6:23 AM
WFLY-5813,"On deploy, CacheRegistry adds its local entry to the cache, and on undeploy removes it entry.  However, we use a topology change listener to remove entries for crashed members (since these nodes will not have removed their local entry).  However, since the listener is triggered asynchronously, it is possible that the topology change fired in response to an undeploy execute *after* the redeployed CacheRegistry starts - which would cause erroneous removal of the local entry that was added.
This manifests itself as an intermittent failure of the RegistryTestCase as seen in this PR:
https://github.com/wildfly/wildfly/pull/8465
Not surprisingly, this issue only surfaces in the windoze runs, which, according to [~tomazcerar], execute faster than the linux runs.",2015/12/08 10:38 AM
WFLY-5657,"The distributed SSO implementation stores a map of sessions using the session ID.  If the user changes the session ID, this reference is never changed.  Consequently, subsequent calls to SingleSignOn.getSession(SessionManager) will return null.",2015/11/10 5:39 PM
WFLY-5475,"Currently the provided configuration files of application server ({{standalone/configuration/standalone-....xml}} or {{domain/configuration/....xml}}) contain expression {{jacorb}} even it was replaced by Open JDK IIOP.

I think that the configuration files should not contains the notion about the jacorb.

There are those sentences

domain/configuration/host-slave.xml + domain/configuration/host.xml
{code}
To secure JacORB you need to setup SSL
{code}

standalone/configuration/standalone*.xml + docs/examples/configs/standalone*.xml
{code}
<!-- TODO - only show this if the jacorb subsystem is added  -->
{code}",2015/10/05 8:39 AM
WFLY-5383,"EAP 7 DR10 build and Wildfly 10 contains xsd/dtd files in docs/schema not related to management, mainly from opensaml and othr cxf related artifacts.

Seems like these files are extracted from jars during the build. Based on file size it seems all the files I focused on are from opensaml jars. 

I'm really not sure we need these xsd/dtd files in docs/schema directory. I would suggest to drop them or split the content of docs/schema to WF10/EAP7management related and the rest.

For now I created just one JIRA, can split it into more if needed.

Here is the list of problematic files:
{code}
 === datatypes.dtd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 6357 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/datatypes.dtd
[jsf-impl-2.2.12-jbossorg-2.jar] 8298  07-29-2015 11:31   com/sun/faces/datatypes.dtd
[jboss-servlet-api_3.1_spec-1.0.0.Final.jar] 6367  10-09-2013 15:30   javax/servlet/resources/datatypes.dtd
[picketlink-federation-2.5.5.CR1.jar] 7803  08-25-2015 13:19   schema/w3c/xmlschema/datatypes.dtd
[xmlsec-2.0.5.jar] 6357  07-10-2015 13:51   bindings/schemas/datatypes.dtd
[cxf-rt-ws-policy-3.1.2-jbossorg-2.jar] 6357  05-14-2015 15:00   schemas/datatypes.dtd
[wss4j-ws-security-stax-2.1.2.jar] 6357  07-14-2015 17:09   schemas/datatypes.dtd
[jbossxacml-2.0.8.Final.jar] 6562  04-04-2012 10:01   schema/xmlschema/datatypes.dtd
[jboss-metadata-common-10.0.0.CR1.jar] 6562  09-16-2015 09:18   dtd/datatypes.dtd
[opensaml-core-3.1.1.jar] 6357  03-25-2015 14:19   schema/datatypes.dtd
{code}
{code}
 === ietf-kitten-sasl-saml-ec.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 1391 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/ietf-kitten-sasl-saml-ec.xsd
[opensaml-saml-api-3.1.1.jar] 1391  03-25-2015 14:20   schema/ietf-kitten-sasl-saml-ec.xsd
{code}
{code}
 === soap-envelope.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 4607 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/soap-envelope.xsd
[opensaml-soap-api-3.1.1.jar] 4607  03-25-2015 14:20   schema/soap-envelope.xsd
{code}
{code}
 === sstc-metadata-attr.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 1161 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/sstc-metadata-attr.xsd
[opensaml-saml-api-3.1.1.jar] 1161  03-25-2015 14:20   schema/sstc-metadata-attr.xsd
{code}
{code}
 === sstc-saml-delegation.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 1631 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/sstc-saml-delegation.xsd
[opensaml-saml-api-3.1.1.jar] 1631  03-25-2015 14:20   schema/sstc-saml-delegation.xsd
{code}
{code}
 === sstc-saml-idp-discovery.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 982 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/sstc-saml-idp-discovery.xsd
[opensaml-saml-api-3.1.1.jar] 982  03-25-2015 14:20   schema/sstc-saml-idp-discovery.xsd
{code}
{code}
 === sstc-saml-metadata-ext-query.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 2321 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/sstc-saml-metadata-ext-query.xsd
[opensaml-saml-api-3.1.1.jar] 2321  03-25-2015 14:20   schema/sstc-saml-metadata-ext-query.xsd
{code}
{code}
 === sstc-saml-protocol-ext-thirdparty.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 1001 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/sstc-saml-protocol-ext-thirdparty.xsd
[opensaml-saml-api-3.1.1.jar] 1001  03-25-2015 14:20   schema/sstc-saml-protocol-ext-thirdparty.xsd
{code}
{code}
 === ws-addr.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 5574 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/ws-addr.xsd
[picketlink-federation-2.5.5.CR1.jar] 5800  08-25-2015 13:19   schema/wstrust/v1_3/ws-addr.xsd
[cxf-core-3.1.2-jbossorg-2.jar] 5591  08-31-2015 16:21   schemas/wsdl/ws-addr.xsd
[jbossxts-5.2.2.Final.jar] 5581  08-12-2015 12:23   org/oasis_open/docs/ws_tx/wscoor/_2006/_06/wsdl/ws-addr.xsd
[jbossxts-5.2.2.Final.jar] 5581  08-12-2015 12:23   wscoor1.1/wsdl/ws-addr.xsd
[jbossxts-5.2.2.Final.jar] 5581  08-12-2015 12:23   org/oasis_open/docs/ws_tx/wsat/_2006/_06/wsdl/ws-addr.xsd
[jbossxts-5.2.2.Final.jar] 5581  08-12-2015 12:23   org/oasis_open/docs/ws_tx/wsba/_2006/_06/wsdl/ws-addr.xsd
[opensaml-soap-api-3.1.1.jar] 5574  03-25-2015 14:20   schema/ws-addr.xsd
{code}
{code}
 === ws-policy.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 5379 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/ws-policy.xsd
[picketlink-federation-2.5.5.CR1.jar] 5506  08-25-2015 13:19   schema/wstrust/v1_3/ws-policy.xsd
[opensaml-soap-api-3.1.1.jar] 5379  03-25-2015 14:20   schema/ws-policy.xsd
{code}
{code}
 === xenc-schema.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 5905 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/xenc-schema.xsd
[picketlink-federation-2.5.5.CR1.jar] 5293  08-25-2015 13:19   schema/w3c/xmlenc/xenc-schema.xsd
[xmlsec-2.0.5.jar] 5194  07-10-2015 13:51   bindings/schemas/xenc-schema.xsd
[xmlsec-2.0.5.jar] 5234  07-10-2015 13:51   org/apache/xml/security/resource/schema/xenc-schema.xsd
[wss4j-ws-security-stax-2.1.2.jar] 5194  07-14-2015 17:09   schemas/xenc-schema.xsd
[opensaml-xmlsec-api-3.1.1.jar] 5905  03-25-2015 14:19   schema/xenc-schema.xsd
{code}
{code}
 === xmldsig-core-schema.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 11283 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/xmldsig-core-schema.xsd
[picketlink-federation-2.5.5.CR1.jar] 10659  08-25-2015 13:19   schema/w3c/xmldsig/xmldsig-core-schema.xsd
[xmlsec-2.0.5.jar] 10324  07-10-2015 13:51   bindings/schemas/xmldsig-core-schema.xsd
[xmlsec-2.0.5.jar] 10293  07-10-2015 13:51   org/apache/xml/security/resource/schema/xmldsig-core-schema.xsd
[cxf-rt-ws-policy-3.1.2-jbossorg-2.jar] 9927  05-14-2015 15:00   schemas/xmldsig-core-schema.xsd
[wss4j-ws-security-stax-2.1.2.jar] 10256  07-14-2015 17:09   schemas/xmldsig-core-schema.xsd
[opensaml-xmlsec-api-3.1.1.jar] 11283  03-25-2015 14:19   schema/xmldsig-core-schema.xsd
{code}
{code}
 === XMLSchema.dtd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 16088 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/XMLSchema.dtd
[jsf-impl-2.2.12-jbossorg-2.jar] 18015  07-29-2015 11:31   com/sun/faces/XMLSchema.dtd
[jboss-servlet-api_3.1_spec-1.0.0.Final.jar] 16085  10-09-2013 15:30   javax/servlet/resources/XMLSchema.dtd
[picketlink-federation-2.5.5.CR1.jar] 18502  08-25-2015 13:19   schema/w3c/xmlschema/XMLSchema.dtd
[xmlsec-2.0.5.jar] 16075  07-10-2015 13:51   bindings/schemas/XMLSchema.dtd
[cxf-rt-ws-policy-3.1.2-jbossorg-2.jar] 16075  05-14-2015 15:00   schemas/XMLSchema.dtd
[wss4j-ws-security-stax-2.1.2.jar] 16075  07-14-2015 17:09   schemas/XMLSchema.dtd
[jbossxacml-2.0.8.Final.jar] 16479  04-04-2012 10:01   schema/xmlschema/XMLSchema.dtd
[jboss-metadata-common-10.0.0.CR1.jar] 16479  09-16-2015 09:18   dtd/XMLSchema.dtd
[opensaml-core-3.1.1.jar] 16088  03-25-2015 14:19   schema/XMLSchema.dtd
{code}
{code}
 === XMLSchema.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 100693 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/XMLSchema.xsd
[cxf-core-3.1.2-jbossorg-2.jar] 83892  08-31-2015 16:21   schemas/wsdl/XMLSchema.xsd
[opensaml-core-3.1.1.jar] 100693  03-25-2015 14:19   schema/XMLSchema.xsd
{code}
{code}
 === xmltooling-config.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 2055 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/xmltooling-config.xsd
[opensaml-core-3.1.1.jar] 2055  03-25-2015 14:19   schema/xmltooling-config.xsd
{code}
{code}
 === xml.xsd ===
-rw-rw-r-- 1 rsvoboda rsvoboda 2870 Sep 17 15:20 /home/rsvoboda/TESTING/700DR10/jboss-eap-7.0/docs/schema/xml.xsd
[jsf-impl-2.2.12-jbossorg-2.jar] 4925  07-29-2015 11:31   com/sun/faces/xml.xsd
[jboss-servlet-api_3.1_spec-1.0.0.Final.jar] 2922  10-09-2013 15:30   javax/servlet/resources/xml.xsd
[picketlink-federation-2.5.5.CR1.jar] 4734  08-25-2015 13:19   schema/w3c/xmlschema/xml.xsd
[xmlsec-2.0.5.jar] 4726  07-10-2015 13:51   bindings/schemas/xml.xsd
[cxf-core-3.1.2-jbossorg-2.jar] 5840  08-31-2015 16:21   schemas/wsdl/xml.xsd
[cxf-rt-ws-policy-3.1.2-jbossorg-2.jar] 5829  05-14-2015 15:00   schemas/xml.xsd
[wss4j-ws-security-stax-2.1.2.jar] 4726  07-14-2015 17:09   schemas/xml.xsd
[jboss-metadata-common-10.0.0.CR1.jar] 5604  09-16-2015 09:18   schema/xml.xsd
[opensaml-core-3.1.1.jar] 2870  03-25-2015 14:19   schema/xml.xsd
{code}",2015/09/22 9:42 AM
WFLY-5764,"The list of current values is useless in the defualt configuration.

{code}""excluded-contexts"" => ""ROOT,invoker,jbossws,juddi,console""{code}

I am actually marking this as bug, because if you just want to use the root context, if you undefine the value, the default will be used which exludes root context.

Trying a """" value, results in a failure.

{code}[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=excluded-contexts,value=""""
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0113: '' is an invalid value for parameter excluded-contexts. Values must have a minimum length of 1 characters"",
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}{code}

This all comes from legacy stuff.",2015/12/02 11:20 AM
WFLY-5819,"Version 1.1 of the ejb clustering schema includes an obsolete ""clustered"" attribute which should have been removed entirely.",2015/12/08 6:26 PM
WFLY-5469,"PowerShell scripts for web services ""wsconsume.ps1"" and ""wsprovide.ps1"" should be in JBOSS_HOME/bin",2015/06/05 7:56 AM
WFLY-5498,A transaction probe grabs the controller lock before proceeding.  Transaction probes may see long run times depending upon db responsiveness.  So other CLI operations can end up needlessly blocked for quite some time waiting for the db to respond for a transaction probe to proceed.,2015/10/08 1:55 PM
WFLY-5771,"Since JDK 7u25 version {{org.omg.CORBA_2_3.portable.Output/InputStream}} classes need extra permissions if Security Manager is enabled. Because of a previous vulnerability, it now checks {{SerializablePermission(""enableSubclassImplementation"")}}. There is a property flag to allow subclass instantiations without the security check (jdk.corba.allowOutputStreamSubclass=true), but this system property is subject to removal in the future Java releases, according to my findings. 

At the moment, our IIOP code fails (can be seen in iiop tests of WildFly testsuite) when running with SM enabled.",2015/12/03 10:14 AM
WFLY-5893,"Both batch and EE check if the resource controller is present by checking the model {{context.getOriginalRootResource().hasChild(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM, RequestControllerExtension.SUBSYSTEM_NAME));}}. It should {{context.readResourceFromRoot(PathAddress.EMPTY_ADDRESS)}} or better yet use the provided capability.",2015/12/21 1:38 PM
WFLY-5466,"PowerShell script ""appclient.ps1"" should be in JBOSS_HOME/bin",2015/06/05 7:42 AM
WFLY-5433,"When CommandDispatcher is used by a deployment, the command class might not be available if the deployment is not deployed.  Normally, this is prevented by returning a NoSuchService response if the service is unknown, however, this happens *after* the command is unmarshalled.  This check should happen before we attempt to unmarshall the command, avoiding unnecessary InvalidClassException.",2015/09/30 12:34 PM
WFLY-5502,"The distributed session manager implementation requires its session attributes to be marshallable.  However, if the cache is not clustered or persistent, this enforcement is unnecessary and puts unreasonable constraints on an application.",2015/10/09 9:44 AM
WFLY-5428,"*Description of problem:*
* Some of xml files from *wildfly* don't end with ""new line character"".
* Each xml file should end with ""new line character"", because of posix standard:
** http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206
* List of affected files:
** ./docs/examples/configs/standalone-gossip-ha.xml
** ./docs/examples/configs/standalone-ec2-ha.xml
** ./docs/examples/configs/standalone-picketlink.xml
** ./docs/examples/configs/standalone-ec2-full-ha.xml
** ./docs/examples/configs/standalone-rts.xml
** ./docs/examples/configs/standalone-jts.xml
** ./docs/examples/configs/standalone-xts.xml
** ./docs/examples/configs/standalone-genericjms.xml
** ./docs/examples/configs/standalone-gossip-full-ha.xml
** ./standalone/configuration/standalone.xml
** ./standalone/configuration/standalone-ha.xml
** ./standalone/configuration/standalone-full.xml
** ./standalone/configuration/standalone-full-ha.xml

*How reproducible:*
Always

*Steps to Reproduce:*
# cd EAP_HOME
# {noformat}
for xml in `find -type f | grep xml$`; do
if [ ""`cat -E $xml | tail -n 1 |grep -o '.$'`"" != ""$"" ] ; then
echo $xml
fi
done
{noformat}",2015/09/30 4:16 AM
WFLY-5526,"Attribute forward-when-no-consumers should be migrated to message-load-balancing-type in the following way:
STRICT is like setting the legacy forward-when-no-consumers parameter to true
ON_DEMAND is like setting the legacy forward-when-no-consumers parameter to false

",2015/10/14 9:00 AM
WFLY-5883,If you do typo when editing security domain of identity provider it's impossible to fix it by writing correct value to attribute but you have to remove the whole identity provider and create it again.,2015/12/18 11:09 AM
WFLY-5812,"Seen in our failover tests, jvmkill scenario with HA singleton service

Timeline:
 - perf21 goes down (jvmkill)
 - perf18 receives new cluster view
 - perf18 is elected as the singleton provider of the service
 - the singleton service is started on perf18
 - EJB Invocation fails few times - see the stacktrace below

Can you please check if the issue is in the [TestingSingletonService|https://github.com/Ladicek/SingletonServiceTest-ejb/blob/master/src/main/java/org/jboss/test/singletonservice/TestingSingletonService.java] implementation or in the EAP server?

{code}
[JBossINF] [0m[0m22:28:23,791 INFO  [org.wildfly.clustering.server] (notification-thread--p1-t1) WFLYCLSV0003: perf18 elected as the singleton provider of the jboss.test.myservice service
[JBossINF] [0m[0m22:28:23,794 INFO  [org.wildfly.clustering.server] (notification-thread--p1-t1) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.test.myservice service
[JBossINF] [0m[0m22:28:23,797 INFO  [org.jboss.test.singletonservice.TestingSingletonService] (MSC service thread 1-7) Start service 'org.jboss.test.singletonservice.TestingSingletonService'
[JBossINF] [0m[0m22:28:23,798 INFO  [org.jboss.test.singletonservice.TestingSingletonService] (MSC service thread 1-7) Service started on perf18
[JBossINF] [0m[31m22:28:23,824 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 2) WFLYEJB0034: EJB Invocation failed on component ServiceAccessBean for method public abstract java.lang.String org.jboss.test.singletonservice.ServiceAccess.getNodeNameOfService(): javax.ejb.EJBException: java.lang.IllegalStateException: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:187)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:318)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:68)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:201)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
[JBossINF] Caused by: java.lang.IllegalStateException: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException
[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getRemoteValueRef(CacheSingletonServiceBuilder.java:329)
[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getValue(CacheSingletonServiceBuilder.java:281)
[JBossINF] 	at org.wildfly.clustering.service.AsynchronousServiceBuilder.getValue(AsynchronousServiceBuilder.java:92)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl.getValue(ServiceControllerImpl.java:1158)
[JBossINF] 	at org.jboss.test.singletonservice.ServiceAccessBean.getNodeNameOfService(ServiceAccessBean.java:20)
[JBossINF] 	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)
[JBossINF] 	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
[JBossINF] 	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82)
[JBossINF] 	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)
[JBossINF] 	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
[JBossINF] 	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)
[JBossINF] 	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
[JBossINF] 	... 41 more
[JBossINF] Caused by: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException
[JBossINF] 	at org.wildfly.clustering.server.dispatcher.SimpleCommandResponse.<init>(SimpleCommandResponse.java:43)
[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.createCommandResponse(ChannelCommandDispatcher.java:206)
[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.executeOnCluster(ChannelCommandDispatcher.java:94)
[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getRemoteValueRef(CacheSingletonServiceBuilder.java:298)
[JBossINF] 	... 73 more
[JBossINF] Caused by: java.lang.reflect.InvocationTargetException
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:464)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:377)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:250)
[JBossINF] 	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:684)
[JBossINF] 	at org.jgroups.JChannel.up(JChannel.java:738)
[JBossINF] 	at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:1029)
[JBossINF] 	at org.jgroups.protocols.FORK.up(FORK.java:133)
[JBossINF] 	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:383)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:394)
[JBossINF] 	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1045)
[JBossINF] 	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)
[JBossINF] 	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:435)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.deliver(NAKACK2.java:961)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.handleMessage(NAKACK2.java:840)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:618)
[JBossINF] 	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)
[JBossINF] 	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:200)
[JBossINF] 	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:310)
[JBossINF] 	at org.jgroups.protocols.MERGE3.up(MERGE3.java:285)
[JBossINF] 	at org.jgroups.protocols.Discovery.up(Discovery.java:295)
[JBossINF] 	at org.jgroups.protocols.TP.passMessageUp(TP.java:1577)
[JBossINF] 	at org.jgroups.protocols.TP$3.run(TP.java:1511)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: java.lang.IllegalStateException
[JBossINF] 	at org.jboss.test.singletonservice.TestingSingletonService.getValue(TestingSingletonService.java:30)
[JBossINF] 	at org.jboss.test.singletonservice.TestingSingletonService.getValue(TestingSingletonService.java:17)
[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getValueRef(CacheSingletonServiceBuilder.java:288)
[JBossINF] 	at org.wildfly.clustering.server.singleton.SingletonValueCommand.execute(SingletonValueCommand.java:31)
[JBossINF] 	at org.wildfly.clustering.server.singleton.SingletonValueCommand.execute(SingletonValueCommand.java:26)
[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.handle(ChannelCommandDispatcherFactory.java:120)
[JBossINF] 	at org.jgroups.blocks.MessageDispatcher.handle(MessageDispatcher.java:502)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:460)
[JBossINF] 	... 25 more
{code}

Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-jvmkill-ha-ss/11/console-perf18/

Link to source of TestingSingletonService:
https://github.com/Ladicek/SingletonServiceTest-ejb/blob/master/src/main/java/org/jboss/test/singletonservice/TestingSingletonService.java",2015/12/08 9:38 AM
WFLY-5791,NoData,2015/12/04 5:55 PM
WFLY-5891,"Our standard host.xml files include permgen settings. Our software just ignores them on JDK 8 or later, and we only run on 8 or later, so having these settings in our standard configs is just misleading. 

WFCORE-1151 attempted to fix this via a patch to core, but apparently the settings remain. So probably they are being added in some feature pack in full as well.",2015/12/21 1:07 PM
WFLY-5646,NoData,2015/11/06 3:37 PM
WFLY-3659,"Password encryption in database login module with wildfly digest login config throws {{javax.security.auth.callback.UnsupportedCallbackException}}. These are sources.

{code:xml|title=web.xml|borderStyle=solid}
<security-role>
      <role-name>administrator</role-name>
</security-role>

<login-config>
      <auth-method>DIGEST</auth-method>
      <realm-name>WildFly8DigestRealm</realm-name>
</login-config>
{code}

{code:xml|title=jboss-web.xml|borderStyle=solid}
<jboss-web>
    <security-domain>java:/jaas/my_secure_domain</security-domain>
</jboss-web>
{code}

{code:xml|title=standalone.xml|borderStyle=solid}
<security-domain name=""my_secure_domain"" cache-type=""default"">
     <authentication>
          <login-module code=""Database"" flag=""required"">
               <module-option name=""dsJndiName"" value=""java:jboss/datasources/MySqlDS""/>
               <module-option name=""principalsQuery"" value=""select password from credential where uid=?""/>
               <module-option name=""rolesQuery"" value=""select urole, 'Roles' from credential where uid=?""/>
               <module-option name=""hashAlgorithm"" value=""MD5""/>
               <module-option name=""hashEncoding"" value=""RFC2617""/>
               <module-option name=""hashUserPassword"" value=""false""/>
               <module-option name=""hashStorePassword"" value=""true""/>
               <module-option name=""passwordIsA1Hash"" value=""true""/>
               <module-option name=""digestCallback"" value=""org.jboss.security.auth.callback.DigestCallbackHandler""/>
               <module-option name=""storeDigestCallback"" value=""org.jboss.security.auth.callback.RFC2617Digest""/>
          </login-module>
     </authentication>
</security-domain>
{code}

Password is encrypted with below codes

{code:java|title=EncryptPassword.java|borderStyle=solid}
package com.aaa.encrypt;

import org.jboss.crypto.CryptoUtil;

public class EncryptPassword {

    public static void main(String[] args) {
        // TODO Auto-generated method stub
        String userName=""admin""; 
        String realmName=""WildFly8DigestRealm""; 
        String password=""passwd123""; 

        String clearTextPassword=userName+"":""+realmName+"":""+password;  
        String hashedPassword=CryptoUtil.createPasswordHash(""MD5"", ""RFC2617"", null, null, clearTextPassword); 
        System.out.println(""clearTextPassword: ""+clearTextPassword); 
        System.out.println(""hashedPassword: ""+hashedPassword); 
    }
}
{code}

But login failed! The log shows the folowing exceptions :
{code}
2014-07-18 21:37:45,246 TRACE [org.jboss.security] (default task-3) PBOX000236: Begin initialize method
2014-07-18 21:37:45,246 DEBUG [org.jboss.security] (default task-3) PBOX000281: Password hashing activated, algorithm: MD5, encoding: RFC2617, charset: null, callback: org.jboss.security.auth.callback.DigestCallbackHandler, storeCallBack: org.jboss.security.auth.callback.RFC2617Digest
2014-07-18 21:37:45,247 TRACE [org.jboss.security] (default task-3) PBOX000262: Module options [dsJndiName: java:jboss/datasources/MySqlDS, principalsQuery: select password from credential where uid=?, rolesQuery: select urole, 'Roles' from credential where uid=?, suspendResume: true]
2014-07-18 21:37:45,247 TRACE [org.jboss.security] (default task-3) PBOX000240: Begin login method
2014-07-18 21:37:45,249 TRACE [org.jboss.security] (default task-3) PBOX000263: Executing query select password from credential where uid=? with username admin
2014-07-18 21:37:45,251 TRACE [org.jboss.security] (default task-3) PBOX000284: Created DigestCallback org.jboss.security.auth.callback.RFC2617Digest
2014-07-18 21:37:45,252 TRACE [org.jboss.security] (default task-3) PBOX000244: Begin abort method
2014-07-18 21:37:45,252 DEBUG [org.jboss.security] (default task-3) PBOX000206: Login failure: javax.security.auth.login.LoginException: PBOX000055: Failed to invoke CallbackHandler
 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.createPasswordHash(UsernamePasswordLoginModule.java:444) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:280) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_60]
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_60]
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_60]
 at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext.invoke(LoginContext.java:762) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext$4.run(LoginContext.java:690) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext$4.run(LoginContext.java:688) [rt.jar:1.7.0_60]
 at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:687) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext.login(LoginContext.java:595) [rt.jar:1.7.0_60]
 at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:408) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:333) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verifyCredential(JAASIdentityManagerImpl.java:111)
 at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verify(JAASIdentityManagerImpl.java:77)
 at io.undertow.security.impl.DigestAuthenticationMechanism.handleDigestHeader(DigestAuthenticationMechanism.java:265) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.DigestAuthenticationMechanism.authenticate(DigestAuthenticationMechanism.java:149) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:281) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:298) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:268) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:131) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:106) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:99) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:54) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:27) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]
 at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]

Caused by: javax.security.auth.callback.UnsupportedCallbackException
 at org.jboss.security.auth.callback.JBossCallbackHandler.handleCallBack(JBossCallbackHandler.java:138) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]
 at org.jboss.security.auth.callback.JBossCallbackHandler.handle(JBossCallbackHandler.java:87) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]
 at javax.security.auth.login.LoginContext$SecureCallbackHandler$1.run(LoginContext.java:947) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext$SecureCallbackHandler$1.run(LoginContext.java:944) [rt.jar:1.7.0_60]
 at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_60]
 at javax.security.auth.login.LoginContext$SecureCallbackHandler.handle(LoginContext.java:943) [rt.jar:1.7.0_60]
 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.createPasswordHash(UsernamePasswordLoginModule.java:434) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]
 ... 49 more
{code}

This cofiguration worked well in JBoss AS 7.",2014/07/23 7:11 AM
WFLY-5380,"If connection factory contains in-vm connector and legacy connection factory is created by migration operation then server won't start and fails with:
{code}
12:51:16,267 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.messaging-activemq.default.jms.connection-factory.legacy.InVmConnectionFactory: org.jboss.msc.service.StartException in service jboss.messaging-activemq.default.jms.connection-factory.legacy.InVmConnectionFactory: WFLYMSGAMQ0082: Unsupported type of connector factory for legacy resource: java.lang.String
	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.translateFactoryClassName(LegacyConnectionFactoryService.java:311)
	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.translateTransportGroupConfigurations(LegacyConnectionFactoryService.java:294)
	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.start(LegacyConnectionFactoryService.java:183)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]
{code}

Configuration of connection factory and in-vm connector:
{code}
<in-vm-connector name=""in-vm"" server-id=""${my.server-id:0}""/>
<legacy-connection-factory name=""InVmConnectionFactory"" connectors=""in-vm"" entries=""${connection-factory.entries.entry:java:/ConnectionFactory}""/>
{code}

Problem seems to be that HornetQ connection factory does not accept Artemis InVMConnectorFactory class. 

As legacy connection factories with in-vm connector cannot be used by standalone JMS client (not serializable) then there is no reason to create them by migration operation.",2015/09/22 6:11 AM
WFLY-5354,NoData,2015/09/16 2:40 PM
WFLY-5372,"fails with

23:36:38,116 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""clusterbench-ee7.ear"")]) - failure description: {""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
    ""Services that were unable to start:"" => [
        ""jboss.clustering.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"""",
        ""jboss.clustering.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"""",
        ""jboss.clustering.web.locator.\""clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"""",
        ""jboss.clustering.web.locator.\""clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"""",
        ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-web-default.war\"".deploymentCompleteService"",
        ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-web-passivating.war\"".deploymentCompleteService"",
        ""jboss.deployment.unit.\""clusterbench-ee7.ear\"".deploymentCompleteService"",
        ""jboss.infinispan.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"""",
        ""jboss.infinispan.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"".config"",
        ""jboss.infinispan.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"""",
        ""jboss.infinispan.web.\""clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"".config"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench.UndertowDeploymentInfoService"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench.codec"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench.session"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench-passivating"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.UndertowDeploymentInfoService"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.codec"",
        ""jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.session""
    ],
    ""Services that may be the cause:"" => [""jboss.data-source.java:jboss/datasources/ExampleDS""]
}}
23:36:38,119 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""infinispan""),
    (""cache-container"" => ""web"")
]) - failure description: {""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
    ""Services that were unable to start:"" => [
        ""jboss.clustering.registry.web.default"",
        ""jboss.infinispan.web.default.config""
    ],
    ""Services that may be the cause:"" => [""jboss.data-source.java:jboss/datasources/ExampleDS""]
}}",2015/09/19 5:42 PM
WFLY-5359,"When migrating https connector with SSL configuration, the SSL configuration is migrated as part of the https connector migration. Still there is migration warning that {{:migrate}} operation isn't able to migrate the ssl configuration even though it was successfully migrated.",2015/09/18 2:38 AM
WFLY-5355,"CacheServiceProviderRegistry.close() first does a cache lookup of the nodes providing a service, then attempts to modify the resulting set.  However, if another node either creates or removes a new service provider registration for the same service, the resulting set of nodes can be inconsistent.",2015/09/16 2:45 PM
WFLY-4302,NoData,2015/02/02 10:17 AM
WFLY-3942,"Probably same issue exists in WF as well, I will revalidate the logic for race conditions.

https://issues.jboss.org/browse/MODCLUSTER-399
https://bugzilla.redhat.com/show_bug.cgi?id=1083563",2014/10/07 8:51 AM
WFLY-3370,"max-redelivery-delay is missing from address-setting in JBoss EAP 6.2.2 and also WFLY 8.1.0 CR2. I see it being part of HornetQ 2.3.x in [1]

[1] http://docs.jboss.org/hornetq/2.3.0.CR2/docs/user-manual/html/configuration-index.html",2014/05/19 6:40 AM
WFLY-3478,"subnet-match does not respect the value attribute. Instead, it seems to just pick the first interface it finds. No matter what I specify as a value, even if it's a value that's complete nonsense and doesn't match any IP address on my system, e.g.
{code:xml}
<interface name=""public"">
    <subnet-match value=""1.2.3.0/24""/>
</interface>
{code}
the ports end up bound to the only interface that is currently connected
{noformat}
14:45:16,740 INFO  [stdout] (ServerService Thread Pool -- 40) -------------------------------------------------------------------
14:45:16,740 INFO  [stdout] (ServerService Thread Pool -- 40) GMS: address=normandy/GamingPortal, cluster=GamingPortal, physical address=192.168.1.105:3100
14:45:16,741 INFO  [stdout] (ServerService Thread Pool -- 40) -------------------------------------------------------------------
{noformat}",2014/06/10 3:01 PM
WFLY-4388,This seems to me at least unneccessary.,2015/02/26 2:44 AM
WFLY-3626,"cf. forum

org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verify(Account) - which is called on every request - results in reauthentication of Account: performance issue, in my case this includes an Ldap bind

also, if CallerPrincipal mapping is used, the original (ldap) username that was successfully authenticated via ldap bind, gets mapped to an application username. Account verification reauthenticates with the mapped application username not the original ldap username and therefore fails ldap bind and verify.

So with regards to CallerPrincipal, JAASIdentityManagerImpl.verify(Account) is faulty.

injection of JAASIdentityManagerImpl cannot be parameterized, nor its verify(Account) behaviour.

as mentioned in the forum thread, my workaround was to replace JAASIdentityManagerImpl after injection with a delegating IdentityManager that does not reauthenticate on verify().

Replacement happens via means of io.undertow.servlet.ServletExtension as explained in http://undertow.io/documentation/servlet/using-non-blocking-handlers-with-servlet.html

Sidenote: org.jboss.as.domain.http.server.security.RealmIdentityManager.verify(Account) simply returns account;
",2014/06/25 7:43 AM
WFLY-3341,"The reason is IBMJDK doesn't contain jps. 

See:
https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/wildfly-as-testsuite-RHEL-matrix-IBMJDK7/jdk=ibm17,label_exp=RHEL6%26%26x86_64/3/testReport/org.jboss.as.test.integration.respawn/RespawnTestCase/org_jboss_as_test_integration_respawn_RespawnTestCase/

Stacktrace

java.lang.AssertionError: JPS executable not found. File: /qa/hudson_workspace/workspace/wildfly-as-testsuite-RHEL-matrix-IBMJDK7/e8d3a83a/jdk/jre/../bin/jps
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.jboss.as.test.integration.respawn.RespawnTestCase$UnixProcessUtil.getJpsCommand(RespawnTestCase.java:700)
	at org.jboss.as.test.integration.respawn.RespawnTestCase$ProcessUtil.listProcesses(RespawnTestCase.java:604)
	at org.jboss.as.test.integration.respawn.RespawnTestCase$ProcessUtil.getInitialProcessIds(RespawnTestCase.java:570)
	at org.jboss.as.test.integration.respawn.RespawnTestCase$ProcessUtil.<init>(RespawnTestCase.java:566)
	at org.jboss.as.test.integration.respawn.RespawnTestCase$UnixProcessUtil.<init>(RespawnTestCase.java:691)
	at org.jboss.as.test.integration.respawn.RespawnTestCase.createProcessController(RespawnTestCase.java:116)",2014/05/13 6:25 AM
WFLY-4093,"When using management operations to add IOR settings, the settings don't get reflected in the IORSecConfigMetaDataService until a server reload. The management operations should mark that the jacorb subsystem needs to be restarted.",2014/11/18 7:18 AM
WFLY-3324,"If I remove a custom Log4J appender from my standalone.xml and restart JBoss, I can still see the POJO definition for the removed appender in my {{logging.properties}} file.",2014/05/07 6:30 PM
WFLY-3237,"In domain mode, doing a read-only operation with the CLI on a remote HC, sets the remote server in ""restart-required"" mode",2014/04/09 11:50 AM
WFLY-3444,"Seeing a NPE in org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlPersister. that probably needs a null check:
{quote}
Caused by: java.lang.NullPointerException
        at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlPersister.writeCalendarTimer(EjbTimerXmlPersister.java:136)
        at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlPersister.writeContent(EjbTimerXmlPersister.java:89)
        at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlPersister.writeContent(EjbTimerXmlPersister.java:43)
        at org.jboss.staxmapper.XMLMapperImpl.doDeparse(XMLMapperImpl.java:88)
        at org.jboss.staxmapper.XMLMapperImpl.deparseDocument(XMLMapperImpl.java:83)
        at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.writeFile(FileTimerPersistence.java:440)
{quote}

",2014/06/03 3:52 PM
WFLY-4016,"EJB client application deployed with jboss-ejb-client.xml, when undeployed the classloader is not being released leading to a memory leak.",2014/10/24 3:38 PM
WFLY-4391,Sometimes the WSTestCase will fail without any reason.,2015/02/18 6:53 AM
WFLY-3800,weld-core-impl is available in version 2.2.4.Final since July 18. Could you update the property version.org.jboss.weld.weld in pom.xml to 2.2.4.Final?,2014/09/01 12:15 AM
WFLY-4068,NoData,2014/11/10 12:10 PM
WFLY-3649,"In the following code in domain.sh all ""cd ${p#*=} ; pwd -P"" should be ""cd ${var#*=} ; pwd -P""

=========================
# No readlink -m on BSD
if $darwin; then
    # consolidate the host-controller and command line opts
    HOST_CONTROLLER_OPTS=""$HOST_CONTROLLER_JAVA_OPTS $@""
    # process the host-controller options
    for var in $HOST_CONTROLLER_OPTS
    do
      case $var in
        -Djboss.domain.base.dir=*)
             JBOSS_BASE_DIR=`cd ${p#*=} ; pwd -P`
             ;;
        -Djboss.domain.log.dir=*)
             JBOSS_LOG_DIR=`cd ${p#*=} ; pwd -P`
             ;;
        -Djboss.domain.config.dir=*)
             JBOSS_CONFIG_DIR=`cd ${p#*=} ; pwd -P`
             ;;
      esac
    done
fi
",2014/07/20 1:56 PM
WFLY-3418,"when a new HC is brought up into an existing DC/HC environment, it does not receive a copy of all deployed applications (e.g. the ""content"" folder)",2014/05/29 9:22 AM
WFLY-3950,"This test was ignored due to issues introduced by the security manager upgrade, as it now fails under the security manager due to checking being true by default. 

The MBean server does an explicit check on the ProtectionDomain of the class, which is what causes the issue.

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""javax.management.MBeanTrustPermission"" ""register"")"" in code source ""(vfs:/content/sar-example.sar <no signer certificates>)"" of ""null"")

{noformat}",2014/10/08 1:35 AM
WFLY-3556,"Browsing through the log file of a build including run of testsuite I found a couple of reported erros like this one:
Running org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextTestCase
22:15:56,939 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.DefaultInterceptor] (pool-2-thread-1) PostConstruct on DefaultInterceptor calledorg.jboss.as.test.integration.ejb.interceptor.invocationcontext.TimeoutBean
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.DefaultInterceptor] (EJB default - 10) PostConstruct on DefaultInterceptor calledorg.jboss.as.test.integration.ejb.interceptor.invocationcontext.TimeoutBean
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Default
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Class
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Method
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Bean
22:15:57,048 ERROR [org.jboss.as.ejb3] (EJB default - 10) WFLYEJB0029: Could not restore timer from C:\Users\frank.LANGFR.000\Documents\GitHub\wildfly\testsuite\integration\basic\target\jbossas\standalone\data\timer-service-data\invocation-context.invocation-context.TimeoutBean\4f0c586c-06d3-4f35-9bf9-7bd451800482.xml: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[4,5]
Message: WFLYCTL0133: Missing required attribute(s): next-date
	at org.jboss.as.controller.parsing.ParseUtils.missingRequired(ParseUtils.java:135) [wildfly-controller-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.parseTimer(EjbTimerXmlParser_1_0.java:146)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.readElement(EjbTimerXmlParser_1_0.java:112)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.readElement(EjbTimerXmlParser_1_0.java:86)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.loadTimersFromFile(FileTimerPersistence.java:353)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.getTimers(FileTimerPersistence.java:316)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.persistTimer(FileTimerPersistence.java:198)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.persistTimer(FileTimerPersistence.java:175)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.persistTimer(TimerServiceImpl.java:611)
	at org.jboss.as.ejb3.timerservice.task.TimerTask.run(TimerTask.java:193)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)
This does not stop the testsuite but obviously is an error.

I compared the schema definition, the Persister and the Parser and found some incompatibilities. I'll attach a spreadsheet with the outcome soon.
The red lines show the inconsitencies. The cells with underline those to be changed.
The only relevant change is, that the Parser will not see ""next-date"" as a required element.
Other changes only touch the schema document.
Along with this I renamed it from .xml to xsd.
Pull request will follow soon.",2014/06/29 5:04 PM
WFLY-4211,"MBean lifecycle methods should not be invoked from MSC threads, the implementation of these may block the thread, for instance due to a JNDI bind.",2014/12/31 4:18 AM
WFLY-3657,"According to the JavaEE spec JAXWS-handlers should support injection (@Inject, @EJB), @PostConstruct and @PreDestroy.

In my test case (top-down approach, handler class is defined within *_handler.xml) @PostCunstruct works, but managed beans (CDI, EJB) are not injected via @Inject or @EJB. 

Possible workaround for EJBs: manual JNDI-lookup within @PostConstruct method. For CDI-managed beans you have to lookup the BeanManager and load the desired bean yourself.

It seems, that this issue should have been addressed by WFLY-2362. But it is still does not work.
",2014/07/22 4:23 PM
WFLY-3795,"When adding mail config via jboss-cli with an invalid hostname this leads to an NPE:
29.08. 22:33:10,293 INFO  [org.jboss.as.mail.extension#transition] WFLYMAIL0001: Bound mail session [java:/Mail]
29.08. 22:33:10,367 ERROR [org.jboss.msc.service.fail#startFailed] MSC000001: Failed to start service jboss.mail-session.java:/Mail: org.jboss.msc.service.StartException in service jboss.mail-session.java:/Mail: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_67]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_67]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_67]
Caused by: java.lang.NullPointerException
	at org.jboss.as.mail.extension.SessionProviderFactory$ManagedSession.setServerProps(SessionProviderFactory.java:129)
	at org.jboss.as.mail.extension.SessionProviderFactory$ManagedSession.configure(SessionProviderFactory.java:87)
	at org.jboss.as.mail.extension.SessionProviderFactory$ManagedSession.<init>(SessionProviderFactory.java:72)
	at org.jboss.as.mail.extension.SessionProviderFactory$ManagedSession.<init>(SessionProviderFactory.java:64)
	at org.jboss.as.mail.extension.SessionProviderFactory.create(SessionProviderFactory.java:45)
	at org.jboss.as.mail.extension.MailSessionService.start(MailSessionService.java:60)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	... 3 more

29.08. 22:33:10,389 ERROR [org.jboss.as.controller.management-operation#executeStep] WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""mail""),
    (""mail-session"" => ""java:/Mail"")
]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.mail-session.java:/Mail"" => ""org.jboss.msc.service.StartException in service jboss.mail-session.java:/Mail: Failed to start service
    Caused by: java.lang.NullPointerException""}}
29.08. 22:33:10,416 INFO  [org.jboss.as.controller#logContainerStateChangesAndReset] WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.mail-session.java:/Mail
",2014/08/29 4:35 PM
WFLY-3304,The WFLY-2043 implementation is not working correctly because fetching the config from the master without fully registering is not properly implemented.,2014/04/29 2:10 PM
WFLY-4415,NoData,2015/03/09 6:15 PM
WFLY-3963,The {{CustomHandlerOperationsTestCase}} uses the name {{CONSOLE}} for it's handler that it adds. This should not use the name of a handler that already exists. It's also a bug that it allows you to add a handler with the same name.,2014/10/09 7:07 PM
WFLY-4273,"The EJBClient protocol handler on the server side, org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver, will send out a full cluster topology report to a connecting EJBClient. This will happen in particular when the client reconnects after a server which was initially up went down and came up again.

If the server is not clustered, the report gets sent out anyway, and erroneously with an empty message body. This message gets processed on the client side by org.jboss.ejb.client.remoting.ChannelAssociation.processResponse() which cannot recognize the message header. The exception results.

One way to fix this is to only send out the cluster topology message if the node is actually clustered.

  ",2015/01/20 10:17 AM
WFLY-3280,"I face problem that remoting thread and MSC service thread is deadlocked when server is going to shutdown.
This happens in half of the cases when I run my integration arquillian tests again EAP 6.3.0 engineering releases.
I deploy one testing application packaged as jar file and then jdbc driver is deployed by copying to deployments folder.

I'm attaching server log file and thread dump at the time when threads are stuck.

I was trying to find out where the lock occurs and from the stack trace it happens on two places. One is lock on remoting queue and other is lock on DeploymentRepository object.

I did a quick fix which seems to work for me that I removed 'synchronized' keyword from the methods which remove listeners in DeploymentRepository.
It means from:
https://github.com/jbossas/jboss-eap/blob/6.x/ejb3/src/main/java/org/jboss/as/ejb3/deployment/DeploymentRepository.java#L103
and
https://github.com/jbossas/jboss-eap/blob/6.x/ejb3/src/main/java/org/jboss/as/ejb3/deployment/DeploymentRepository.java#L107
I'm really not sure whether this is 'a correct' fix but I just put my observation here to have some starting point.

This could not be trouble in remoting directly, maybe it's rather problem of MSC component. If so, please, change the jira type. Thank you.",2014/04/23 3:12 AM
WFLY-4375,This makes JCETestCase fails,2015/02/20 8:34 AM
WFLY-3587,"Adding a security domain in the Security subsystem requires the presence of Infinispan module, even if the cache is not of type ""infinispan"".",2014/07/05 3:28 AM
WFLY-4067,"A DummyTransaction-IllegalStateException is thrown while invalidating a httpSession wit a started javax.enterprise.context.Converation.

We are working in ""full-ha"" with session distribution enabled (<distributable/> in web.xml)

Under https://ci.jboss.org/hudson/job/WildFly-latest-master/1334/ everything is working fine. No exception is thrown
The exception is thrown starting with version https://ci.jboss.org/hudson/job/WildFly-latest-master/1340 to the latest now (#1475)
",2014/11/10 9:31 AM
WFLY-4075,"- When an application containing Spring + Rest Integration is deployed on Wildfly then it causes NullPointerException as following:

{code}
13:43:19,830 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of ""RESTfulExample.war"" (runtime-name: ""RESTfulExample.war"")
13:43:20,313 ERROR [org.wildfly.extension.undertow] (MSC service thread 1-4) Could not find tld /WEB-INF/tld/spring-form.tld
13:43:20,313 ERROR [org.wildfly.extension.undertow] (MSC service thread 1-4) Could not find tld /WEB-INF/tld/spring.tld
13:43:20,370 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.""RESTfulExample.war"".DEPENDENCIES: org.jboss.msc.service.StartException in service jboss.deployment.unit.""RESTfulExample.war"".DEPENDENCIES: WFLYSRV0153: Failed to process phase DEPENDENCIES of deployment ""RESTfulExample.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163) [wildfly-server-1.0.0.Alpha8.jar:1.0.0.Alpha8]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_65]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_65]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_65]
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException
	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:203)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156) [wildfly-server-1.0.0.Alpha8.jar:1.0.0.Alpha8]
	... 5 more
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException
	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.getResteasySpringVirtualFile(JaxrsSpringProcessor.java:133)
	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:199)
	... 6 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.getResteasySpringVirtualFile(JaxrsSpringProcessor.java:103)
	... 7 more

13:43:20,374 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""RESTfulExample.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""RESTfulExample.war\"".DEPENDENCIES"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""RESTfulExample.war\"".DEPENDENCIES: WFLYSRV0153: Failed to process phase DEPENDENCIES of deployment \""RESTfulExample.war\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException
    Caused by: java.lang.NullPointerException""}}
{code}",2014/11/13 3:20 AM
WFLY-3343,The reason is reverse order of assert parameters which should be switched.,2014/05/13 8:09 AM
WFLY-3333,"Hi,
 
I'm in the process of migrating from 7.2.0 to 8.0.0Final. The command I use on the cli to deploy my jdbc drivers is :
 
deploy <jarname> --name <driver-name>
e.g. : deploy db2jcc4.jar --name=db2
 
In 7.2.0, this would set the driver-name to db2. However, in wildfly this does not seem to work :

{code} 
8.0.0:
        {
            ""driver-name"" => ""db2_com.ibm.db2.jcc.DB2Driver_4_13"",
            ""deployment-name"" => ""db2_com.ibm.db2.jcc.DB2Driver_4_13"",
            ""driver-module-name"" => undefined,
            ""module-slot"" => undefined,
            ""driver-datasource-class-name"" => undefined,
            ""driver-xa-datasource-class-name"" => undefined,
            ""driver-class-name"" => ""com.ibm.db2.jcc.DB2Driver"",
            ""driver-major-version"" => 4,
            ""driver-minor-version"" => 13,
            ""jdbc-compliant"" => true
        }
7.2.0:
        {
            ""driver-name"" => ""db2"",
            ""deployment-name"" => ""db2"",
            ""driver-module-name"" => undefined,
            ""module-slot"" => undefined,
            ""driver-datasource-class-name"" => undefined,
            ""driver-xa-datasource-class-name"" => undefined,
            ""driver-class-name"" => ""com.ibm.db2.jcc.DB2Driver"",
            ""driver-major-version"" => 4,
            ""driver-minor-version"" => 13,
            ""jdbc-compliant"" => true
        }
 {code}
 
Strangly enough, deploy -l on 8.0.0 gives me :

{code}
NAME     RUNTIME-NAME ENABLED STATUS
db2      db2          true    OK
{code}
 
But when I try to define a datasource using this driver-name, I get :

{code}
""JBAS014653: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""JBAS014771: Services with missing/unavailable dependencies"" => [""jboss.driver-demander.java:/architectuurDS is missing [jboss.jdbc-driver.db2]"",""jboss.data-source.java:/architectuurDS is missing [jboss.jdbc-driver.db2]""]}}
{code}
 
When I use ""db2_com.ibm.db2.jcc.DB2Driver_4_13"" as driver-name, the datasource works normally. I'm assuming it has something to do with WFLY-1269 ... ?
 
Is this a bug ? How do I get the driver to have the correct driver-name ?
 
Thanks !
 
Peter.",2014/05/12 6:17 AM
WFLY-3957,"InMemorySessionManagerFactory already has a constructor that accepts the maximum session size, we just need to utilize it.",2014/10/08 6:35 PM
WFLY-4089,"ServletContainerInitializerDeploymentProcessor.loadSci() has code to read the service file, rather than using the JDK-provided mechanisms, and it does not handle comments.

The API documentation at https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html says that the # symbols and all following characters on the line should be ignored. It also notes the file must be UTF-8 encoded, and ServletContainerInitializerDeploymentProcessor does not appear to force that either.

Log4j 2.1 triggers this bug (https://issues.apache.org/jira/browse/LOG4J2-890)",2014/11/16 6:16 PM
WFLY-3269,"{code}
Trying so, I run in the error (when starting WildFly)  :
10:28:29,674 ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration
  at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:112) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
  at org.jboss.as.server.ServerService.boot(ServerService.java:331) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]
  at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:256) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
  at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[76,25]
Message: JBAS014724: Missing required attribute(s): FORCE
  at org.jboss.as.controller.parsing.ParseUtils.missingRequired(ParseUtils.java:134) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]
  at org.jboss.as.domain.management.parsing.ManagementXml.parseUsernameToDn_2_0(ManagementXml.java:2118) [wildfly-domain-management-8.0.0.Final.jar:8.0.0.Final]
{code}

{code}
            <security-realm name=""MgtRealm"">
                <authentication>
                    <ldap connection=""ovodavLDAP"" base-dn=""ou=People,dc=hydrogenic,dc=local"">
                        <!-- <advanced-filter filter=""(&amp;(cn=jboss-admin)(member=uid={0},ou=People,dc=hydrogenic,dc=local))"" recursive=""true""/> -->
                        <username-filter attribute=""uid""/>
                    </ldap>
                </authentication>
                <authorization>
                    <ldap connection=""ovodavLDAP"">
                        <username-to-dn>
                            <username-filter base-dn=""ou=People,dc=hydrogenic,dc=local"" recursive=""false"" attribute=""uid"" user-dn-attribute=""dn"" />
                        </username-to-dn>
                        <group-search group-name=""SIMPLE"" iterative=""true"" group-dn-attribute=""dn"" group-name-attribute=""uid"">
                            <group-to-principal base-dn=""ou=Groups,dc=hydrogenic,dc=local"" recursive=""true"" search-by=""DISTINGUISHED_NAME"">
                                <membership-filter principal-attribute=""uniqueMember"" />
                            </group-to-principal>
                        </group-search>
                    </ldap>
                </authorization>              
            </security-realm>
{code}",2014/04/17 5:34 AM
WFLY-3850,"Disable EJB security interceptors by altering the standalone.xml ejb subsystem to remove the security domain, then deploy an .ear file with a @WebService within an EJB.  The EAR will fail to deploy with the following:

{code}
Caused by: java.lang.NullPointerException
        at org.jboss.as.webservices.tomcat.AbstractSecurityMetaDataAccessorEJB.getSecurityDomain(AbstractSecurityMetaDataAccessorEJB.java:63)
        at org.jboss.as.webservices.tomcat.WebMetaDataCreator.createJBossWebAppDescriptor(WebMetaDataCreator.java:120)
        at org.jboss.as.webservices.tomcat.WebMetaDataCreator.create(WebMetaDataCreator.java:80)
        at org.jboss.as.webservices.tomcat.WebMetaDataCreatingDeploymentAspect.start(WebMetaDataCreatingDeploymentAspect.java:41)
        at org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:75)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159)
        ... 5 more
{code}

Workaround:
To keep security interceptors disabled on all other EJBs, annotate @WebService classes with a security domain: @SecurityDomain(""other"") via the pom.xml dependency: 
{code}
        <dependency>
            <groupId>org.jboss.ejb3</groupId>
            <artifactId>jboss-ejb3-ext-api</artifactId>
            <version>${version.org.jboss.ejb3.ext-api}</version>
            <scope>provided</scope>
        </dependency>
{code}",2014/09/11 1:03 PM
WFLY-3533,"While investigating alternate file cache store options, I noticed that the serialized forms for certain cache keys were unexpectedly large.  Both the org.wildfly.clustering.web.infinispan and org.wildfly.clustering.ejb.infinispan are not importing services from org.jboss.as.clustering.infinispan.  Consequently, the externalizers from these modules are not being loaded properly.  Additionally, ejb cache keys are not properly using the SessionIDExternalizer to serialize SessionID, causing these keys to be larger than they ought to be.",2014/06/20 11:39 AM
WFLY-4318,"Relates to WFLY-4081 and the IntelliJ issues to make using WildFly less of a pain in IntelliJ:
  https://youtrack.jetbrains.com/issue/IDEA-133729
  https://youtrack.jetbrains.com/issue/IDEA-95695

""Checked solution in IntelliJ 14.1. In general it works. But there is problem with exploded EAR deployments. If I'm trying to deploy exploded EAR which contains some EJB jar with several EJBs beans, this EJBs fails to start in JBoss EAP: org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor doesn't even start. But if I try to deploy exploded EAR with "".ear"" postfix (just an output folder with "".ear"" on the end) it successfully starts EJB beans and I see some JNDI mapping to it from ""org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor"". Maybe this is a problem of JBoss EAP itself but it seems that we cannot use just a regular folder for exploded EAR output, we have to add "".ear"" suffix on the end :(""

""For exploded EAR we should still add "".ear"" extension to the exploded directory. Otherwise all EJB beans wouldn't be processed and started after deploy.""",2015/02/05 4:56 AM
WFLY-4181,The change for WFLY-4130 introduced processing the incoming parameters. During this process parameters are shifted which evaluates an incorrect {{PROGNAME}}. The evaluation of the {{PROGNAME}} needs to happen before the parameters are shifted.,2014/12/15 1:36 PM
WFLY-3359,"Transferring an operation attachment to a slave may lead to an OutOfMemoryError. 

{code}
19:44:47,794 ERROR [stderr] (domain-mgmt-handler-thread - 13) Exception in thread ""domain-mgmt-handler-thread - 13"" java.lang.OutOfMemoryError: Java heap space
19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.Arrays.copyOf(Arrays.java:2271)
19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:178)
19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.controller.remote.TransactionalProtocolClientImpl$ReadAttachmentInputStreamRequestHandler$1.execute(TransactionalProtocolClientImpl.java:277)
19:44:47,796 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283)
19:44:47,796 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504)
19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.lang.Thread.run(Thread.java:724)
19:44:47,798 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.threads.JBossThread.run(JBossThread.java:122)
{code}",2014/05/15 5:18 AM
WFLY-3517,DeploymentMountProvider.start() calls Executors.newScheduledThreadPool but stop() does not shutdown the pool. The effect is the reload command results in a slow thread leak that will eventually result in OOM.,2014/06/18 10:38 AM
WFLY-3394,"IBM JDK exclude profile in testsuite/integration/secman/pom.xml is not needed, because WildFly doesn't support JDK 1.6.

The IBM JDK 1.7 and newer have correct (i.e. the Sun's one) policy.provider configured in java.security file by default.",2014/05/22 8:40 AM
WFLY-4013,"The value of bound attribute in messaging socket group is always false.

{noformat}
/socket-binding-group=standard-sockets/socket-binding=messaging:read-resource(include-runtime=true, recursive=true)
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""bound"" => false,
        ""bound-address"" => undefined,
        ""bound-port"" => undefined,
        ""client-mappings"" => undefined,
        ""fixed-port"" => false,
        ""interface"" => undefined,
        ""multicast-address"" => undefined,
        ""multicast-port"" => undefined,
        ""name"" => ""messaging"",
        ""port"" => 5445
    }
{noformat}",2014/10/24 5:40 AM
WFLY-3539,"Currently all configurations for the EE subsystem default-bindings resource includes the jms-connection-factory attribute, when that should only happen for ""full"" configurations.",2014/06/23 10:02 AM
WFLY-3733,"It seems to me that org.jboss.as.clustering.jgroups.subsystem.ChannelInstanceResourceDefinition#getProtocolMetricResourceDefinition 

doesnt expose ManagedAttributes that would have to be registred as strings
org/jboss/as/clustering/jgroups/subsystem/ChannelInstanceResourceDefinition.java:213

and doesnt expose any of the annotated methods
org/jboss/as/clustering/jgroups/subsystem/ChannelInstanceResourceDefinition.java:208",2014/08/14 4:05 AM
WFLY-3254,"Trying to programmatically register WebSocket endpoint with following code

{code:java}
public class BidEndpointApi extends Endpoint {
    @Override
    public void onClose(Session session, CloseReason closeReason) {
        System.err.println(""Closing: "" + closeReason.getReasonPhrase());
    }

    @Override
    public void onError(Session session, Throwable t) {
        System.err.println(""Error: "" + t.getLocalizedMessage());
    }

    @Override public void onOpen(Session session, EndpointConfig config) {
        final Session mySession = session;
        session.addMessageHandler((MessageHandler.Whole<String>) message -> {
            try {
                mySession.getBasicRemote().sendText(
                    ""[Server speaking]: Got your message"" + message + ""Sending it back to you"");
            } catch (IOException e) {
                e.printStackTrace();
            }
        });
    }
}
{code}

Application starts and operates normally but when I try to hit this websocket endpoint from JavaScript client getting following server-side exception

{code}
[31m02:46:56,438 ERROR [io.undertow.request] (default task-9) Blocking request failed HttpServerExchange{ GET /auction_jaxrs-1.0/bidprog}: java.lang.IllegalStateException: UT003007: Unable to detect MessageHandler type for class com.farata.course.mwd.auction.websocket.BidEndpointApi$$Lambda$1/662246937
	at io.undertow.websockets.jsr.util.ClassUtils.getHandlerTypes(ClassUtils.java:64)
	at io.undertow.websockets.jsr.FrameHandler.addHandler(FrameHandler.java:328)
	at io.undertow.websockets.jsr.UndertowSession.addMessageHandler(UndertowSession.java:99)
	at com.farata.course.mwd.auction.websocket.BidEndpointApi.onOpen(BidEndpointApi.java:25)
	at io.undertow.websockets.jsr.EndpointSessionHandler.onConnect(EndpointSessionHandler.java:81)
	at io.undertow.websockets.jsr.JsrWebSocketFilter$1.handleUpgrade(JsrWebSocketFilter.java:115)
	at io.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:244)
	at io.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:218)
	at io.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1090)
	at io.undertow.server.HttpServerExchange.terminateResponse(HttpServerExchange.java:1310)
	at io.undertow.server.Connectors.terminateResponse(Connectors.java:69)
	at io.undertow.server.protocol.http.ServerFixedLengthStreamSinkConduit.channelFinished(ServerFixedLengthStreamSinkConduit.java:33)
	at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.exitFlush(AbstractFixedLengthStreamSinkConduit.java:249)
	at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:183)
	at org.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162) [xnio-api-3.2.0.Final.jar:3.2.0.Final]
	at io.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:100)
	at org.xnio.channels.Channels.flushBlocking(Channels.java:63) [xnio-api-3.2.0.Final.jar:3.2.0.Final]
	at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:623)
	at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:451)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:525)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:287)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]
{code}


Environment banner

========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /Users/apple/projects/screencast2/wildfly-8.0.0.Final

  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/Home/bin/java

  JAVA_OPTS:  -server -XX:+UseCompressedOops -Djboss.bind.address.management=127.0.0.1 

=========================================================================

Have no problems with Anonymous class",2014/04/13 2:47 AM
WFLY-3255,"- While trying to get the ""handler"" information via JMX code the following kind of exception is encountered:

{code}
12:09:24,853 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /LoggerJMX/index.jsp: org.apache.jasper.JasperException: java.lang.IllegalArgumentException
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:410) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.5.Final.jar:1.0.5.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.getChild(ModelValue.java:112)
	at org.jboss.dmr.ModelNode.get(ModelNode.java:856)
	at org.jboss.as.jmx.model.TypeConverters$ComplexTypeConverter.fromModelNode(TypeConverters.java:538)
	at org.jboss.as.jmx.model.TypeConverters$ListTypeConverter.fromModelNode(TypeConverters.java:444)
	at org.jboss.as.jmx.model.TypeConverters.fromModelNode(TypeConverters.java:114)
	at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttribute(ModelControllerMBeanHelper.java:245)
	at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttribute(ModelControllerMBeanHelper.java:200)
	at org.jboss.as.jmx.model.ModelControllerMBeanServerPlugin.getAttribute(ModelControllerMBeanServerPlugin.java:96)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.getAttribute(PluggableMBeanServerImpl.java:384)
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:73)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]
	... 28 more
{code}

- The Handler is configured as following:

{code}
            <logger category=""org.jboss.as.config"">
                <handlers>
                    <handler name=""CONSOLE""/>
                </handlers>
                <level name=""DEBUG""/>
            </logger>
{code}",2014/04/14 1:00 AM
WFLY-4111,Servlets should be able to read application files by using ServletContext.getResourceAsStream without specifying additional permissions.,2014/11/21 8:36 AM
WFLY-3465,"Because wildfly stores web session using multiple cache entries, it makes liberal use of Flag.SKIP_LOCKING when locks are already held on the primary cache entry for a given session.
Infinispan's eviction manager, however, treats all cache entries the same.  Thus it may try to evict a cache entry that belongs to a session that is currently locked for use by the application - since it will have no trouble locking it - because our code assumes that all session access will first lock the primary cache entry of a session.  This manifests as a mysterious ConcurrentModificationException.

Thus, we can improve the compatibility of our code with Infinispan's eviction manager by simply removing the use of the SKIP_LOCKING flag.  Given that the only possible source of contention is the eviction manager - the cost of doing so is fairly minimal.

I should note that our default configuration does not use Infinispan eviction.  Web session passivation is instead handled by the web session clustering code.",2014/06/06 1:53 PM
WFLY-3682,"While investigating failures in org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase following the upgrade to JGroups 3.5, I uncovered a number of critical bugs in the DistributedCache logic.

 * DistributedCache uses a thread-local stack to store the reference to a Batch across invocations of Cache get/release/discard(...).  Consequently, Infinispan's transaction won't commit if Cache.get(...) was called from a different thread than Cache.release(...) or Cache.discard(...)
 * The implementation of the Batch SPI uses Infinispan's BatchContainer, which itself relies on thread locals to store references to the Transaction across calls to startBatch()/endBatch().
 * Once the above issues were address, I got an NPE in InfinispanBeanEntryExternalizer.writeObject(...) when the lastAccessedTime is null (which is the case following creation).",2014/07/28 6:21 PM
WFLY-3875,"Deploying two Web applications within an EAR achive with the following jboss-all.xml, leads to a failure in deployment when using standalone-ha.xml configuration: 
<jboss umlns=""urn:jboss:1.0"">
    <shared-session-config xmlns=""urn:jboss:shared-session-config:1.0"">
        <session-config>
            <cookie-config>
                <path>/</path>
            </cookie-config>
        </session-config>
    </shared-session-config>
</jboss>

Exception raised:
15:58:52,160 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""ear1.ear"")]) - failure description: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
    ""jboss.undertow.deployment.default-server.default-host./webapp1.codec.locator is missing [jboss.clustering.web.locator.\""ear1.ear.webapp1.war\""]"",
    ""jboss.undertow.deployment.default-server.default-host./webapp2.codec.locator is missing [jboss.clustering.web.locator.\""ear1.ear.webapp2.war\""]""
]}
15:58:52,227 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed ""ear1.ear"" (runtime-name : ""ear1.ear"")
15:58:52,230 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.clustering.web.locator.""ear1.ear.webapp1.war"" (missing) dependents: [service jboss.undertow.deployment.default-server.default-host./webapp1.codec.locator]
      service jboss.clustering.web.locator.""ear1.ear.webapp2.war"" (missing) dependents: [service jboss.undertow.deployment.default-server.default-host./webapp2.
codec.locator]
",2014/09/19 10:09 AM
WFLY-3348,"See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=15206&tab=buildResultsDiv&buildTypeId=WF_MasterIgnoreWindows for an example -- this fails repeatedly in the windows runs.

The @After method in the test asserts that the deployment file the test creates is successfully deleted. That may just be a bogus/unnecessary assertion, but rather than just removing it I thought it was better to check a bit first whether the CLI process is holding the file open. It shouldn't need to once upload of the deployment to the server is complete.",2014/05/13 10:08 AM
WFLY-4310,"Upstream Jira of https://bugzilla.redhat.com/show_bug.cgi?id=1184610
Please see bugzilla description for details and reproducer

{noformat}
Description of problem:
During startup of JBoss, the following occurs randomly (not on every start):

java.lang.IllegalStateException: JBAS014666: Duplicate resource resource-adapters


Version-Release number of selected component (if applicable):
jboss-as-connector-7.4.2.Final-redhat-2.jar:


How reproducible:
Random - it's a race condition but adding Byteman which slows execution (due to synchronous logging) of the code in which the race takes place seems to increase the frequency at which the failure occurs.


Steps to Reproduce:
1. Copy a resource adapter archive to standalone/deployments
2. Configure the standalone.xml with two adapter configs specified (single RAR)
3. Start JBoss (a few restarts may be required as it doesn't always happen)


Actual results:
The server.log shows the exception below (and I suspect at least one of the adapter configs is not deployed - though I didn't confirm the latter).

12:40:44,463 ERROR [org.jboss.msc.service] (MSC service thread 1-12) MSC000002: Invocation of listener ""org.jboss.as.connector.util.RaServicesFactory$1@5fc7026f"" failed: java.lang.IllegalStateException: JBAS014666: Duplicate
resource resource-adapters
        at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:225) [jboss-as-controller-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
        at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:135) [jboss-as-controller-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
        at org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.transition(AbstractResourceAdapterDeploymentServiceListener.java:122) [jboss-as-connector-7.4.2.Final-redhat-2.jar:7.4
.2.Final-redhat-2]
        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1565) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
        at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:52) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
        at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2131) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_71]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_71]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_71]


Expected results:
No exception should be raised


Additional info:


Document URL: 

Section Number and Name: 

Describe the issue: 
It appears that where there are multiple adapter configurations, registering of the adapters is done on different threads and sometimes two threads check to see if the resource-adapters ""subsystem"" (I think that is what is being created) exists ... it is possible for two threads to be told it doesn't exist - in which case both threads will try to create it.

I think the code at issue is found in lines 120 and 122 of ./connector/src/main/java/org/jboss/as/connector/deployers/ra/processors/AbstractResourceAdapterDeploymentServiceListener.java

At line 120, we check if the path exists ... and if it does not try to create it at line 122 ... but it possible that between the two lines one thread is executing, another thread may do the same - one will ""win the race"" and the other will fail with the exception.

I did note that the entire block is wrapped in a synchronization block - synchronized on 'this' - so there must be multiple instances of the AbstractResourceAdapterDeploymentServiceListener class since the logging shows interleaved execution of the check and register calls across multiple threads.


Suggestions for improvement: 

Additional information:
Attached an archive containing a simple adapter (generated using the Ironjacamar generation tool), an excerpt of the standalone.xml configuration used as well as an excerpt of the log file and a byteman script used to produce the stack traces in the log excerpt.
{noformat}",2015/02/04 3:16 AM
WFLY-3438,"This issue was initially raised on stackoverflow (see below).

When the EJB subsystem starts, it starts instances of LocalEJBReceiver which have optional dependencies on the Remoting Endpoint as well as the EJBRemoteConnectorService. I assume that these were marked as optional as remote invocations on EJBs is not required by the spec for the web profile. 

As stated in the forum post, the issue is that the LocalEJBReceiver gets started before its dependency EJBRemoteConnectorService and so the optional dependency does not get resolved correctly - effectively turning off the LocalEJBReceiver's ability to add cluster nodes to cluster contexts for the clusters it belongs to.

This results in the exception
.java.lang.IllegalStateException: EJBCLIENT000029: No cluster context available for cluster named ejb

The solution described in the forum post works to ensure that the dependencies are established correctly, but we need to factor into this what the spec says about the web profile and the possibility that some components (e.g. the EJBRemoteConnector) may be optionally removed.",2014/06/03 10:32 AM
WFLY-4139,"In BatchEnvironmentProcessor the Batch subsystem only adds a dependency on wildfly's transaction manager and bean manager if some marker files are detected. (See here)

https://github.com/wildfly/wildfly/blob/bfc41360196f5183a005101bf7ac2d7bfa1389c0/batch/extension/src/main/java/org/wildfly/extension/batch/deployment/BatchEnvironmentProcessor.java#L73

If they are not detected an unhelpful exception is thrown when instantiating the JobOperator:

{noformat}
01:18:25,442 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0009: Undeployed ""test.war"" (runtime-name: ""test.war"")
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 248.119 sec <<< FAILURE! - in io.machinecode.chainlink.ee.wildfly.WildFlyTest
testGlassfish(io.machinecode.chainlink.ee.wildfly.WildFlyTest)  Time elapsed: 0.336 sec  <<< ERROR!
java.util.ServiceConfigurationError: javax.batch.operations.JobOperator: Provider org.jberet.operations.JobOperatorImpl could not be instantiated
	at org.wildfly.jberet.services.BatchEnvironmentService$WildFlyBatchEnvironment.getArtifactFactory(BatchEnvironmentService.java:123)
	at org.wildfly.jberet.DelegatingBatchEnvironment.getArtifactFactory(DelegatingBatchEnvironment.java:52)
	at org.jberet.operations.JobOperatorImpl.<init>(JobOperatorImpl.java:89)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at java.lang.Class.newInstance(Class.java:438)
	at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:380)
	at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)
	at java.util.ServiceLoader$1.next(ServiceLoader.java:480)
	at javax.batch.runtime.BatchRuntime.getJobOperator(BatchRuntime.java:57)
	at io.machinecode.chainlink.ee.wildfly.WildFlyTest.testGlassfish(WildFlyTest.java:36)
{noformat}

There are valid reasons that these marker files may not be in the deployment, an example being that the deployment might only read metadata from jobs started by other deployments from the configured repository. This check also does not take into account jars in a war's lib dir (for example if you try and run a test using arquillian) or in an ear, which should be allowed.

I think there should be two changes. Firstly, those dependencies should be added unconditionally as there are cases where these marker will not be present and they will still be required. Secondly, the exception thrown because the beanManager has not been configured should be thrown earlier in the lifecycle where it will generate a real error message (perhaps in BatchEnvironmentService#start before creating the WildFlyBatchEnvironment where it can first be detected):

https://github.com/wildfly/wildfly/blob/bfc41360196f5183a005101bf7ac2d7bfa1389c0/batch/jberet/src/main/java/org/wildfly/jberet/services/BatchEnvironmentService.java#L71",2014/11/28 5:11 AM
WFLY-4101,"Currently HttpServletRequest.logout() and Session.invalidate() rely on the AuthenticationManager.flushCache() method to perform the JAAS logout. Internally, flushCache() removes the cache entry and a cache listener takes care of the JAAS logout upon eviction.

However, this is only true for cache-type=""default"". If the ""inifinspan"" cache is configured, no such eviction listener exists and thus no JAAS logout is carried upon entry removal. Similarly, a JAAS logout is never carried if the security domain doesn't use a cache at all. Only the presence of a cache with a special eviction listener will result in logout being called on the login module, which is obviously a faulty design.

Latest PicketBox version adds a logout(Principal, Subject) method to the AuthenticationManager interface. The default implementation used by WildFly takes care of flushing the cache if needed and performs the JAAS logout independently of the cache policy being used. The code that is currently calling AuthenticationManager.flushCache() must be changed so that logout() is called instead.",2014/11/19 10:35 PM
WFLY-3541,"The WFLY-3225 fix changed RemoteDomainConnectionService from creating its own executor to accepting an external one via its constructor. But its stop() code was not modified to remove the call to shutdown the executor. As a result the service is shutting down an injected executor prematurely, leading to issues like https://bugzilla.redhat.com/show_bug.cgi?id=1112215.",2014/06/23 3:48 PM
WFLY-3512,"Use case: a Web app which depends on a data-source resource configured in the datasources subsystem (and *not* in the deployment)
I used the bmp quickstart and move the datasource-definition from the -ds.xml file to the standalone-full.xml configuration file.

1. Start the server 

{noformat}
11:31:38,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-9) WFLYJCA0001: Bound data source [java:jboss/datasources/BMTQuickstartDS]
{noformat}

1. Deploy the web app

{noformat}
11:32:33,664 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-16) WFLYSRV0027: Starting deployment of ""wildfly-bmt.war"" (runtime-name: ""wildfly-bmt.war"")
...
11:32:35,976 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0021: Registered web context: /wildfly-bmt
11:32:36,020 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed ""wildfly-bmt.war"" (runtime-name : ""wildfly-bmt.war"")
{noformat}

2. check the web app works

3. Remove the data-source from the CLI

{noformat}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=bmt-quickstart:remove
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0171: Removing services has lead to unsatisfied dependencies:
Service jboss.naming.context.java.jboss.datasources.BMTQuickstartDS was depended upon by service jboss.persistenceunit.\""wildfly-bmt.war#primary\"".__FIRST_PHASE__"",
    ""rolled-back"" => true
}
{noformat}

=> the operation failed.

but the web context has been unregistered by the server:

{noformat}


11:33:33,345 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0022: Unregistered web context: /wildfly-bmt
11:33:33,354 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 71) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service 'wildfly-bmt.war#primary'
11:33:33,355 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 71) HHH000227: Running hbm2ddl schema export
11:33:33,356 INFO  [stdout] (ServerService Thread Pool -- 71) Hibernate: drop table BMT_KVPair if exists
11:33:33,358 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 71) HHH000230: Schema export complete
11:33:33,360 INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) WFLYWELD0010: Stopping weld service for deployment wildfly-bmt.war
11:33:33,378 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 71) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service 'wildfly-bmt.war#primary'
11:33:33,379 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-11) WFLYJCA0010: Unbound data source [java:jboss/datasources/BMTQuickstartDS]
11:33:33,383 INFO  [org.jboss.as.controller] (management-handler-thread - 1) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.naming.context.java.jboss.datasources.BMTQuickstartDS (missing) dependents: [service jboss.persistenceunit.""wildfly-bmt.war#primary"".__FIRST_PHASE__]
{noformat}

and the web app no longer works (it returns a 404 error).

At this point, the data-source resource is still present but its corresponding JNDI binding is not. If I try to redeploy the web app it fails:

{noformat}

11:35:48,736 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /Users/jmesnil/Developer/wildfly/dist/target/wildfly-9.0.0.Alpha1-SNAPSHOT/standalone/data/content/ff/2df0dc4b7d9d1e04a88448deba520c2b714b8b/content
11:35:48,748 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 9ms
11:35:48,749 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of ""wildfly-bmt.war"" (runtime-name: ""wildfly-bmt.war"")
11:35:48,775 INFO  [org.jboss.as.jpa] (MSC service thread 1-6) WFLYJPA0002: Read persistence.xml for primary
11:35:48,786 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 36ms
11:35:48,787 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-16) WFLYSRV0027: Starting deployment of ""wildfly-bmt.war"" (runtime-name: ""wildfly-bmt.war"")
11:35:48,815 INFO  [org.jboss.as.jpa] (MSC service thread 1-13) WFLYJPA0002: Read persistence.xml for primary
11:35:48,829 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""redeploy"") failed - address: ([(""deployment"" => ""wildfly-bmt.war"")]) - failure description: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.persistenceunit.\""wildfly-bmt.war#primary\"".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.BMTQuickstartDS]""]}
11:35:48,830 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0011: Redeploy of deployment ""wildfly-bmt.war"" was rolled back with the following failure message: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.persistenceunit.\""wildfly-bmt.war#primary\"".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.BMTQuickstartDS]""]}
11:35:48,835 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 4ms
11:35:48,836 INFO  [org.jboss.as.controller] (management-handler-thread - 1) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.persistenceunit.""wildfly-bmt.war#primary"".__FIRST_PHASE__ (missing) dependents: [service jboss.deployment.unit.""wildfly-bmt.war"".POST_MODULE]

11:35:48,836 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /Users/jmesnil/Developer/wildfly/dist/target/wildfly-9.0.0.Alpha1-SNAPSHOT/standalone/data/content/ff/2df0dc4b7d9d1e04a88448deba520c2b714b8b/content
{noformat}
",2014/06/17 5:36 AM
WFLY-4088,"If I modify or remove a (persistent) scheduled service, I get the following stack trace:

Caused by: java.lang.NullPointerException
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.doesTimeoutMethodMatch(TimerServiceImpl.java:959)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.restoreTimers(TimerServiceImpl.java:710)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.start(TimerServiceImpl.java:202)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
	... 3 more

Another user is reporting the same thing on 8.1.0 Final, see:

http://stackoverflow.com/questions/25988818/deploying-java-schedule-with-wildfly-8-1-0-final

Is there any way using the CLI to delete persistent scheduled services?
",2014/11/15 12:59 PM
WFLY-4406,"ECJ compiler crashes with ArrayIndexOutOfBoundsException when it contains unused long or double, for details see [https://bugs.eclipse.org/bugs/show_bug.cgi?id=448112]. 

Note: this issue is fixed in ECJ 4.4.2.

The error log:
{noformat}
11:19:49,861 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /jsp-cast-to-double-test/cast-to-double.jsp: org.apache.jasper.JasperException: JBWEB004001: Unable to compile class for JSP
	at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:616)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:309)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:247)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:166)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:769)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1
	at org.eclipse.jdt.internal.compiler.codegen.StackMapFrame.addStackItem(StackMapFrame.java:92)
	at org.eclipse.jdt.internal.compiler.ClassFile.traverse(ClassFile.java:5546)
	at org.eclipse.jdt.internal.compiler.ClassFile.generateStackMapTableAttribute(ClassFile.java:4305)
	at org.eclipse.jdt.internal.compiler.ClassFile.completeCodeAttribute(ClassFile.java:1380)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:338)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:270)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:566)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:635)
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode(CompilationUnitDeclaration.java:368)
	at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:781)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:470)
	at org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:449)
	at org.apache.jasper.compiler.Compiler.compile(Compiler.java:361)
	at org.apache.jasper.compiler.Compiler.compile(Compiler.java:339)
	at org.apache.jasper.compiler.Compiler.compile(Compiler.java:326)
	at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:604)
	... 32 more

{noformat}",2015/03/05 5:24 AM
WFLY-3989,"The spec mandates that the TCCL be the application's classloader when the component is invoked (even during construction), but I'm getting it as 
TCCL in constructor of MDB is ModuleClassLoader for Module ""org.hornetq.ra:main"" from local module loader

",2014/10/17 3:50 AM
WFLY-3232,"XTS subsystem uses wrong attribute names to get coordinator URL from the server configuration. Therefore it always uses default values.

How it is implemented:
{code}
final String coordinatorURL = model.get(CommonAttributes.XTS_ENVIRONMENT).hasDefined(ModelDescriptionConstants.URL)
? model.get(CommonAttributes.XTS_ENVIRONMENT, ModelDescriptionConstants.URL).asString() : null;
{code}

How it should be implemented:
{code}
final ModelNode coordinatorURLAttribute = ENVIRONMENT_URL.resolveModelAttribute(context, model);
final String coordinatorURL = coordinatorURLAttribute.isDefined() ? coordinatorURLAttribute.asString() : null;
{code}",2014/04/08 10:03 AM
WFLY-3718,"2014-07-30 02:12:30,088 ERROR [io.undertow.request] (default task-15) UT005023: Exception handling request to /frontend/images/favicon.ico: java.lang.NullPointerException
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseImmutableSessionAttributes.getAttributeNames(CoarseImmutableSessionAttributes.java:51)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:320)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:309)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:164)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:677) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:707) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:62) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_11]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_11]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_11]

2014-07-30 02:12:30,786 ERROR [io.undertow.request] (default task-15) Blocking request failed HttpServerExchange{ GET /frontend/images/favicon.ico}: java.lang.NullPointerException
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseImmutableSessionAttributes.getAttributeNames(CoarseImmutableSessionAttributes.java:51)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:320)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:309)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:164)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:677)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:707)
        at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:711)
        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:522)
        at io.undertow.servlet.spec.HttpServletResponseImpl.sendError(HttpServletResponseImpl.java:137)
        at io.undertow.servlet.spec.HttpServletResponseImpl.sendError(HttpServletResponseImpl.java:142)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:273)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_11]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_11]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_11]
",2014/07/30 2:58 AM
WFLY-3507,"When migrating an app from JBoss 7.1.1.Final to WildFly 8.1.0.Final, one can no longer remap the default JSP servlet to different extensions.

This is useful when you want some lightweight server-side processing of, say, JavaScript or CSS files.

",2014/06/17 2:51 AM
WFLY-4132,"The initialisation code in the transaction subsystem sets the transaction log directory on the wrong instance (https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/ArjunaObjectStoreEnvironmentService.java#L78). The code should pass in the null string for the instance name to get the default instance.

The bug arises because we recently fixed JBTM-2207 in order to avoid string comparison with the default name and the reason this is not a backwards compatibility issue is that com.arjuna.common.internal.util.propertyservice.BeanPopulator is internal code that the app server is using.",2014/11/27 7:47 AM
WFLY-3715,This happens because Infinispan's BatchContainer relies on thread locals.  We need to use the new Batcher capabilities used by ejb clustering for web clustering.  These modules should be refactored so they can share these objects.,2014/08/06 10:25 AM
WFLY-3719,"- If The TLD file has missing *<uri>* tag in it then rather than validating WildFly throws NullPointerException.

*WEB-INF/custom.tld*
{code}
<taglib>
  <tlib-version>1.0</tlib-version>
  <jsp-version>2.0</jsp-version>
  <!--uri>test</uri-->
  <short-name>Example TLD with Body</short-name>
  <tag>
    <name>Hello</name>
    <tag-class>tags.HelloTag</tag-class>
    <body-content>scriptless</body-content>
  </tag>
</taglib>
{code}

- During deployment of a war containing above TLD causes following NullPointerException on WildFly:
{code}
13:15:25,857 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]
Caused by: java.lang.NullPointerException
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createTldsInfo(UndertowDeploymentInfoService.java:1028)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:552)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:252)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	... 3 more

13:15:25,865 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""full-replace-deployment"") failed - address: ([]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService"" => ""org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: Failed to start service
    Caused by: java.lang.NullPointerException""}}
{code}",2014/08/07 3:52 AM
WFLY-3814,The SAML2AttributeMappingTestCase in testsuite/integration/basic uses a wrong hostname value in the generated krb5.conf file in case of IPv6 address.,2014/09/04 1:42 PM
WFLY-3214,"While working on WFLY-3184 I discovered that ObjectListAttributeDefinition.Builder does not pass any configured ParameterCorrector into the AD. I believe this is a problem common to a number of the builders.

The way the AD constructors work is also very problematic. When we add a new field to a class deep in the hierarchy, like AD itself, we then add a new constructor with a new param and then need to expose that param all the way up the hierarchy by doing the same thing in the subclasses. Very fragile.

I intend to deal with both these issues:

1) Deprecate the public or protected AD constructors except for the simple ones in SimpleAttributeDefinition, which are potentially more commonly used.

2) Add getters for all the fields in AbstactAttributeDefinitionBuilder and subclasses.

3) Add a protected constructor to AD and all subclasses (private where possible) that takes the relevant Builder as its param and then populates its fields from the getters. The build() method in the builders will call this constructor.",2014/04/02 9:24 PM
WFLY-3691,"Description of problem:
AuditProvider in security-domain mentions ""[Success]"" as follow:-

11:37:26,835 TRACE [org.jboss.security.audit] (HttpManagementService-threads - 3) [Success]Source=org.jboss.as.security.service.SimpleSecurityManager;Action=authentication;principal=admin;

even if a username/password is wrong.",2014/07/30 7:02 AM
WFLY-3610,"When running the testsuite I get this failure:
-------------------------------------------------------------------------------
Test set: org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase
-------------------------------------------------------------------------------
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.264 sec <<< FAILURE! - in org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase
testFailingBeanValidation(org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase)  Time elapsed: 0.437 sec  <<< FAILURE!
java.lang.AssertionError: expected:<[Not enough people for a reservation, may not be null]> but was:<[Not enough people for a reservation, darf nicht null sein]>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase.testFailingBeanValidation(BeanValidationCdiIntegrationTestCase.java:107)

Cause is, that the second part of the message is coming from the @NotNull contraint in Reservation.java and is in German, because it's a German Windows system.
Adding the expected English message to the NotNull constraint should solve this problem. I'll try and send a pull request later.",2014/07/10 6:24 PM
WFLY-3798,"I compiled the WildFly snapshot from GitHub. However, undertow\src\main\resources\subsystem-templates\undertow.xml contains ""WildFly/8"" instead of ""WildFly/9""",2014/08/31 10:36 PM
WFLY-3230,"I am using WildFly 8.0.0 (Final).

When sending Post request to non existing page/servlet I get StackOverflowError exception.

Looks like there is infinit loop in method calls when processing the request.",2014/04/08 8:59 AM
WFLY-4309,The WildFly testsuite is seeing testsuite failures when a connection to org.hibernate cannot be obtained.  See HHH-9511,2015/02/03 3:56 PM
WFLY-3903, IORSecConfigMetaDataService is not used by the CSIv2IORInterceptor,2014/09/26 5:35 PM
WFLY-3361,"eg. in IIOP module, standalone-full.xml of jbossas-iiop-client server config looks like this:
{noformat}
<subsystem xmlns=""urn:jboss:domain:jacorb:1.3"">
            <orb socket-binding=""jacorb"" ssl-socket-binding=""jacorb-ssl""><initializers xmlns="""" security=""client"" transactions=""on""/></orb>
        </subsystem>
{noformat}

the xmlns="""" leaves the server unable to boot.",2014/05/15 6:30 AM
WFLY-3375,"When using multiple address settings in HornetQ configuration the address setting should be inherited from more generic setting by more specific setting. If two address setting are used like
{code:xml}
<address-settings>
                    <address-setting match=""#"">
                        <dead-letter-address>jms.queue.DLQ</dead-letter-address>
                        <expiry-address>jms.queue.ExpiryQueue</expiry-address>
                        <redelivery-delay>0</redelivery-delay>
                        <max-delivery-attempts>5</max-delivery-attempts>
                        <max-size-bytes>10485760</max-size-bytes>
                        <page-size-bytes>2097152</page-size-bytes>
                        <address-full-policy>PAGE</address-full-policy>
                        <message-counter-history-day-limit>10</message-counter-history-day-limit>
                    </address-setting>
                    <address-setting match=""jms.queue.testQueue"">
                        <dead-letter-address>jms.queue.DLQ</dead-letter-address>
                        <expiry-address>jms.queue.ExpiryQueue</expiry-address>
                        <redelivery-delay>0</redelivery-delay>
                        <max-size-bytes>10485760</max-size-bytes>
                        <page-size-bytes>2097152</page-size-bytes>
                        <address-full-policy>PAGE</address-full-policy>
                        <message-counter-history-day-limit>10</message-counter-history-day-limit>
                    </address-setting>
                </address-settings>
{code}
It is expected that the setting for  {{jms.queue.testQueue}} would inherit {{max-delivery-attempts}} from default address setting {{""#""}} but it does not. Instead if uses the default value for {{max-delivery-attempts}} which is *9*.
",2014/05/20 4:39 AM
WFLY-4129,The reason is because the realm may have actually already substituted in a different name for the user.,2014/11/26 12:37 PM
WFLY-3360,"Interrupting the registration of host-controller leads to NPE when trying sending the failure message response.

{code}
12:16:19,120 ERROR [org.jboss.as.controller.management-operation] (slave-request-threads - 8) JBAS014612: Operation (""read-master-domain-model"") failed - address: ([]): java.lang.NullPointerException
	at java.io.DataOutputStream.writeUTF(DataOutputStream.java:347) [rt.jar:1.7.0_40]
	at java.io.DataOutputStream.writeUTF(DataOutputStream.java:323) [rt.jar:1.7.0_40]
	at org.jboss.as.protocol.mgmt.FlushableDataOutputImpl.writeUTF(FlushableDataOutputImpl.java:109) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler.sendFailedResponse(HostControllerRegistrationHandler.java:643)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.failed(HostControllerRegistrationHandler.java:504)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.failed(HostControllerRegistrationHandler.java:493)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.executeBlocking(HostControllerRegistrationHandler.java:568)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.processSubsystems(HostControllerRegistrationHandler.java:423)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.access$800(HostControllerRegistrationHandler.java:296)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$HostRegistrationStepHandler.execute(HostControllerRegistrationHandler.java:287)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:601) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:479) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:283) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:278) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:231) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.controller.AbstractControllerService.internalExecute(AbstractControllerService.java:295) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.host.controller.DomainModelControllerService.access$400(DomainModelControllerService.java:141)
	at org.jboss.as.host.controller.DomainModelControllerService$2.execute(DomainModelControllerService.java:496)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.processRegistration(HostControllerRegistrationHandler.java:390)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.access$400(HostControllerRegistrationHandler.java:296)
	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$InitiateRegistrationHandler$1.execute(HostControllerRegistrationHandler.java:196)
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1]
{code}",2014/05/15 5:20 AM
WFLY-3519,"The transaction subsystem causes the server fails to start (is halted) when just process-id-uuid is set to false without specifying the process-id-socket-binding.

When you run commands:
/subsystem=transactions:write-attribute(name=process-id-uuid,value=false)
:reload

Server fails with exception [1]

The transaction subsystem should block changes that causes the server would fail on reload. The user should get information that the process-id-socket-binding has to be set before reload could proceed, i.e., fail the reload operation.


[1]
11:13:53,630 ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration
  at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:141) [jboss-as-controller-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.server.ServerService.boot(ServerService.java:321) [jboss-as-server-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:253) [jboss-as-controller-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_55]
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[287,17]
Message: JBAS014723: Must include one of the following elements: SOCKET, UUID
  at org.jboss.as.controller.parsing.ParseUtils.missingOneOf(ParseUtils.java:194) [jboss-as-controller-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.parseProcessIdEnvironmentElement(TransactionSubsystem14Parser.java:390)
  at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.parseCoreEnvironmentElement(TransactionSubsystem14Parser.java:340)
  at org.jboss.as.txn.subsystem.TransactionSubsystem15Parser.readElement(TransactionSubsystem15Parser.java:59)
  at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.readElement(TransactionSubsystem14Parser.java:110)
  at org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.readElement(TransactionSubsystem14Parser.java:53)
  at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final-redhat-2.jar:1.1.0.Final-redhat-2]
  at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69) [staxmapper-1.1.0.Final-redhat-2.jar:1.1.0.Final-redhat-2]
  at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1035) [jboss-as-server-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:469) [jboss-as-server-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:145) [jboss-as-server-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:107) [jboss-as-server-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final-redhat-2.jar:1.1.0.Final-redhat-2]
  at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.1.0.Final-redhat-2.jar:1.1.0.Final-redhat-2]
  at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:133) [jboss-as-controller-7.4.0.Final-redhat-10.jar:7.4.0.Final-redhat-10]
  ... 3 more
11:13:53,635 FATAL [org.jboss.as.server] (Controller Boot Thread) JBAS015957: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.",2014/06/19 7:25 AM
WFLY-4007,org/jboss/as/messaging/HornetQService.java:202,2014/10/22 12:18 PM
WFLY-4227,"Just the XSDs:

* SSlProtocolType never checked
* default is wrong",2015/01/07 5:39 AM
WFLY-3570,When I try to run a task with a small period (1 second or less) using  ManagedScheduledExecutorService.scheduleAtFixedRate sometimes I get NullPointerException at http://grepcode.com/file/repo1.maven.org/maven2/org.wildfly/wildfly-ee/8.0.0.Final/org/jboss/as/ee/concurrent/ConcurrentContext.java line 167 (resetHandles is null). I think it occurs when a next task has run before a previous finishes. On 8.1.0 I have the same problem.,2014/07/01 5:34 AM
WFLY-4074,"When configuring a pop3 server in standalone.xml as, the following exception is thrown when reading the mailbox:
{noformat}
Caused by: javax.mail.NoSuchProviderException: Invalid protocol: null
	at javax.mail.Session.getProvider(Session.java:440) [mail-1.4.5-redhat-1.jar:1.4.5-redhat-1]
	at javax.mail.Session.getStore(Session.java:539) [mail-1.4.5-redhat-1.jar:1.4.5-redhat-1] 
{noformat}",2014/11/12 11:48 AM
WFLY-4079,If there is a method without a method-intf the ejb-jar.xml it will not be considered when determining the transaction attribute. ,2014/11/13 9:30 PM
WFLY-4438,@Singleton EJB constructor and @PostConstruct method call not once.,2015/03/03 4:57 AM
WFLY-3338,"Section 12.4.4 of the JMS 2.0 spec says:
{quote}
If a method is called on an injected JMSContext when there is a JTA 
transaction (either bean-managed or container-managed), the scope of 
the JMSContext will be @TransactionScoped.
{quote}

This is not currently true in WildFly. As a test case, suppose you have the following two beans:
{code}
import javax.annotation.Resource;
import javax.enterprise.context.ApplicationScoped;
import javax.enterprise.inject.Instance;
import javax.inject.Inject;
import javax.jms.JMSContext;
import javax.jms.Topic;
import javax.transaction.Transactional;

@ApplicationScoped
@Transactional
public class AppScopedBean {
	
	@Inject
	private JMSContext jmsCtx;
	//private Instance<JMSContext> jmsCtx;
	@Resource(lookup = ""jms/topic/test"")
	private Topic topic;
	
	public void sendMessage() {
		jmsCtx.createProducer().setDisableMessageID(true).setDisableMessageTimestamp(true).send(topic, ""a message"");
		//jmsCtx.get().createProducer().setDisableMessageID(true).setDisableMessageTimestamp(true).send(topic, ""a message"");
	}

}
{code}

{code}
import javax.annotation.Resource;
import javax.enterprise.concurrent.ManagedThreadFactory;
import javax.enterprise.context.ApplicationScoped;
import javax.enterprise.context.Dependent;
import javax.enterprise.context.Initialized;
import javax.enterprise.event.Observes;
import javax.inject.Inject;

@Dependent
public class ThreadLauncher {

	@Resource
	private ManagedThreadFactory threadFactory;
	@Inject
	private AppScopedBean bean;
	
	void start(@Observes @Initialized(ApplicationScoped.class) Object event) {
		System.out.println(""starting threads"");
		for (int i = 0; i < 5; i++) {
			threadFactory.newThread(new SendRunnable()).start();
		}
		System.out.println(""start finished"");
	}
	
	private class SendRunnable implements Runnable {

		public void run() {
			System.out.println(""starting to send"");
			for (int i = 0; i < 100; i++) {
				bean.sendMessage();
			}
			System.out.println(""done sending"");
		}
		
	}
	
}
{code}

If you deploy and run the above code, you will see a lot of this:
{quote}
2014-05-12 16:46:02,936 WARN  [org.hornetq.core.client] (EE-ManagedThreadFactory-default-Thread-4) HQ212051: Invalid concurrent session usage. Sessions are not supposed to be used by more than one thread concurrently.: java.lang.Exception: trace
{quote}

That should not be happening if the JMSContext is really @TransactionScoped. The problem appears to be in org.jboss.as.messaging.deployment.JMSContextProducer, specifically the JMSContextWrapper.getDelegate() method. If two threads call it at the same time, the first will create a delegate but the second will receive the same delegate as the first, because the delegate doesn't get nulled until the transaction in the first thread completes.

This means that both threads are using the same session at the same time, which is not allowed. I don't know how HornetQ detects concurrent use, but depending on how that works, it's also possible that messages will end up being part of the wrong transaction.

A workaround is to inject Instance<JMSContext> instead of JMSContext directly (the two commented out lines of code). Since the JMSContext producer is @Dependent, each Instance.get() call will return a new instance, and only one thread will ever use any given instance.",2014/05/12 5:07 PM
WFLY-3846,"The JMS resources that can be stored in JNDI (connection-factory, pooled-connection-factory, jms-queue, jms-topic) does not check whether their list of JNDI entries contains duplicates.
At runtime, duplicates are eliminated but this introduces a difference between the resource model with duplicate entries and its runtime state (without duplicates).

The attribute definitions for their JNDI entries should validate at the MODEL stage that their value does not contain duplicate elements.",2014/09/11 6:03 AM
WFLY-3260,"Package org.jboss.as.test.smoke.webservices contains SimpleStatelessSessionBean with several @WebServiceRef injection points.
SimpleStatelessSessionBean is injected into SimpleServlet. However, SimpleServlet is never initialized and an instance of SimpleStatelessSessionBean is never created. Therefore, no @WebServiceRef injection is tested here.",2014/04/15 6:39 AM
WFLY-3727,"My hunch is that this is due to the fact that WildFly creates a channel in one thread but starts it in another.  Specifically, Protocol.up_prot is set by ChannelService.start() (via new JChannel(...)) but is accessed by GlobalComponentRegistryService.start() (via Channel.connect(...)) - which happen in different threads.  To prevents NPEs like the one below, we need to ensure that any variables set during channel creation are volatile.
{noformat}
ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 30) MSC000001: Failed to start service jboss.infinispan.ejb.global-component-registry: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.global-component-registry: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
    at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]
    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
    at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:241)
    at org.jboss.as.clustering.infinispan.subsystem.GlobalComponentRegistryService.start(GlobalComponentRegistryService.java:33)
    at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:86)
    ... 4 more
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
    at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)
    at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)
    at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)
    at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)
    at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:219)
    ... 6 more
Caused by: org.infinispan.commons.CacheException: Unable to start JGroups Channel
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:198)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:187)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]
    at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]
    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:183)
    ... 11 more
Caused by: java.lang.NullPointerException
    at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1010)
    at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:245)
    at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:391)
    at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:600)
    at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:147)
    at org.jgroups.protocols.FD.up(FD.java:255)
    at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:301)
    at org.jgroups.protocols.MERGE2.up(MERGE2.java:209)
    at org.jgroups.protocols.Discovery.up(Discovery.java:522)
    at org.jgroups.protocols.MPING.up(MPING.java:181)
    at org.jgroups.protocols.TP.fetchLocalAddresses(TP.java:2001)
    at org.jgroups.protocols.TP.start(TP.java:1131)
    at org.jgroups.protocols.TCP.start(TCP.java:82)
    at org.jgroups.stack.ProtocolStack.startStack(ProtocolStack.java:938)
    at org.jgroups.JChannel.startStack(JChannel.java:864)
    at org.jgroups.JChannel._preConnect(JChannel.java:527)
    at org.jgroups.JChannel.connect(JChannel.java:284)
    at org.jgroups.JChannel.connect(JChannel.java:275)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:196)
    ... 17 more
{noformat}",2014/08/11 1:54 PM
WFLY-3621,FormAuthUnitTestCase testPostDataFormAuth passes even though it should fail. Due typo it redirects to original URL instead of the one retrieved from header resulting in invalid behaviour.,2014/07/14 11:28 AM
WFLY-4437,"I have a WF9 upstream master from a few week back running in standalone mode on a CentOS 5.2 Final with a 64bit 1.8.0_25b17 JDK. 

However, every request returns a 500 because of the NPE below. The startup/deployment is normal with no errors in the log

{code}
2015-03-03 10:56:39,790 ERROR [io.undertow.request] (default I/O-1) Undertow request failed HttpServerExchange{ GET /}: java.lang.NullPointerException
        at io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:57)
        at io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:53)
        at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:76)
        at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:158)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:189)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:113)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:143)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:90)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:49)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.nio.NioTcpServerHandle.handleReady(NioTcpServerHandle.java:53)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:539)
{code}

A WF 8.1.0 runs fine on the host and the same WF9 have run on other Linux hosts but I'm unable to pin down what affects Undertow in this way.",2015/03/03 4:05 AM
WFLY-3347,we need to set com.arjuna.ats.jta.common.JTAEnvironmentBean::setCommitMarkableResourceJNDINames before the recovery manager service is started,2014/05/13 9:57 AM
WFLY-3487,"This is only relevant when running under a security manager.

When doing a JNDI lookup the getReference() call to obtain the underlying value should be done in a clean access control context, so the privileges of the caller code to not affect the result of the lookup. 

If it is intended that the caller code cannot lookup the bound object this should be enforced using name based JNDI permissions. ",2014/06/12 2:50 PM
WFLY-3430,"According to https://docs.jboss.org/author/display/WFLY8/EJB+3+Reference+Guide recurring timers should not be executed concurrently.

That is not the case. I don't think the current behavior is actually expected.

",2014/06/02 11:01 AM
WFLY-3751,"Because we provide a nonexistent property in our defaults file.

{noformat}
22:52:37,571 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) WFLYWELD0006: Starting Services for CDI deployment: clusterbench-ee7.ear
22:52:37,661 INFO  [org.jboss.weld.Version] (MSC service thread 1-2) WELD-000900: 2.2.3 (Final)
22:52:37,708 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) WFLYWELD0009: Starting weld service for deployment clusterbench-ee7.ear
22:52:38,351 WARN  [org.jgroups.stack.Configurator] (MSC service thread 1-4) JGRP000014: UNICAST.setTimeout has been deprecated: not used anymore
22:52:38,352 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.jgroups.channel.web: org.jboss.msc.service.StartException in service jboss.jgroups.channel.web: java.lang.IllegalArgumentException: JGRP000001: configuration error: the following properties in org.jgroups.protocols.UNICAST are not recognized: {max_bytes=1m, stable_interval=5000}
	at org.jboss.as.clustering.jgroups.subsystem.ChannelService.start(ChannelService.java:91)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_65]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_65]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_65]
Caused by: java.lang.IllegalArgumentException: JGRP000001: configuration error: the following properties in org.jgroups.protocols.UNICAST are not recognized: {max_bytes=1m, stable_interval=5000}
	at org.jgroups.stack.Configurator.createLayer(Configurator.java:460)
	at org.jgroups.stack.Configurator.createProtocols(Configurator.java:398)
	at org.jgroups.stack.Configurator.setupProtocolStack(Configurator.java:90)
	at org.jgroups.stack.Configurator.setupProtocolStack(Configurator.java:57)
	at org.jgroups.stack.ProtocolStack.setup(ProtocolStack.java:477)
	at org.jgroups.JChannel.init(JChannel.java:849)
	at org.jgroups.JChannel.<init>(JChannel.java:159)
	at org.jboss.as.clustering.jgroups.MuxChannel.<init>(MuxChannel.java:37)
	at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:81)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelService.start(ChannelService.java:85)
	... 5 more
{noformat}",2014/08/20 5:01 PM
WFLY-3947,"EJB3 CalendarBasedTimeout computes incorrects timeouts due to bad Calendar time fields manipulation, specially on DST.

A couple of examples:

1) Timezone: ""Europe/Lisbon""
Schedule Expression: any day at 1h30m
Start: 2013/03/31 03h30m
First timeout currently is 2h30m

2) Timezone: ""Australia/Lord_Howe""
Schedule Expression: any day at 2h20m, 2h40m, 3h20m, 3h40m
Start: 2013/10/06 02h41m
First timeout currently is 3h50m



",2014/10/07 1:35 PM
WFLY-3435,"Description of problem:

In org.infinispan.loaders.decorators.AsyncStoreConfig, the default flushLockTimeout is set to 5000. However, the default in the JBoss Infinispan schema ($JBOSS_HOME/docs/schema/jboss-as-infinispan_1_X.xsd) is set to 1. Because of this, if the thread-pool-size for write-behind is increased, then it is likely that one of the threads will not be able to obtain the state map lock within the 1 millisecond time provided by the schema default. This results in the following error:

ERROR o.i.loaders.decorators.AsyncStore.run - ISPN000051: Unexpected error

org.infinispan.CacheException: Unable to acquire lock on update map
          at org.infinispan.loaders.decorators.AsyncStore.acquireLock(AsyncStore.java:293) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore.access$900(AsyncStore.java:86) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore$AsyncProcessor.innerRun(AsyncStore.java:336) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore$AsyncProcessor.run(AsyncStore.java:312) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) ~[na:1.6.0_31]
          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) ~[na:1.6.0_31]
          at java.lang.Thread.run(Thread.java:662) ~[na:1.6.0_31]

Version-Release number of selected component (if applicable):

Infinispan version 5.1.8

How reproducible:

Code inspection

Steps to Reproduce:
1. Check the default value for flush-lock-timeout in $JBOSS_HOME/docs/schema/jboss-as-infinispan_1_3.xsd

2. Check the default value for flushLockTimeout in the org.infinispan.loaders.decorators.AsyncStoreConfig class

3. Note the disparity

Actual results:

Default in schema is 1

Expected results:

Default in schema is 5000


Additional info:",2014/06/03 5:54 AM
WFLY-3276,Lots of cases where exceptions are constructed but the author forgot to actually throw them.,2014/04/21 9:52 PM
WFLY-3833,NoData,2014/09/09 8:36 AM
WFLY-4423,"To reproduce this issue follow the steps:

 - setup JMS bridge between two WildFly instances
 - once JMS bridge is running, login into jboss-cli and stop the bridge
 - restart the bridge fro jboss-cli

The following exception appears in the serve log file.

10:12:59,414 INFO  [org.hornetq.jms.server] (pool-9-thread-1) HQ121000: Failed to set up JMS bridge connections. Most probably the source or target servers are unavailable. Will retry after a pause of 60,000 ms
10:13:59,416 WARN  [org.hornetq.jms.server] (pool-9-thread-1) HQ122010: Failed to connect JMS Bridge: javax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory org.jboss.naming.remote.client.InitialContextFactory from classloader ModuleClassLoader for Module ""org.jboss.as.controller:main"" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base)) [Root exception is java.lang.ClassNotFoundException: org.jboss.naming.remote.client.InitialContextFactory from [Module ""org.jboss.as.controller:main"" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base))]]
	at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:126)
	at org.jboss.as.naming.InitialContext.init(InitialContext.java:107)
	at javax.naming.ldap.InitialLdapContext.<init>(InitialLdapContext.java:153) [rt.jar:1.7.0_75]
	at org.jboss.as.naming.InitialContext.<init>(InitialContext.java:98)
	at org.jboss.as.naming.InitialContextFactory.getInitialContext(InitialContextFactory.java:44)
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.init(InitialContext.java:242) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.<init>(InitialContext.java:216) [rt.jar:1.7.0_75]
	at org.hornetq.jms.bridge.impl.JNDIFactorySupport.createObject(JNDIFactorySupport.java:55)
	at org.hornetq.jms.bridge.impl.JNDIDestinationFactory.createDestination(JNDIDestinationFactory.java:40)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjects(JMSBridgeImpl.java:1236)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjectsWithRetry(JMSBridgeImpl.java:1474)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.access$2200(JMSBridgeImpl.java:79)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl$FailureHandler.run(JMSBridgeImpl.java:2082)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_75]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_75]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_75]
Caused by: java.lang.ClassNotFoundException: org.jboss.naming.remote.client.InitialContextFactory from [Module ""org.jboss.as.controller:main"" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at java.lang.Class.forName0(Native Method) [rt.jar:1.7.0_75]
	at java.lang.Class.forName(Class.java:274) [rt.jar:1.7.0_75]
	at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:121)
	... 17 more
",2015/03/12 12:17 PM
WFLY-3819,"The {{SAML2KerberosAuthenticationTestCase}} uses wrong PicketLink authentication workflow (double-redirect to IDP). Originally it was a workaround for PL bug which is fixed now.

We should remove the workaround even if the test-case is ignored now.",2014/09/05 8:53 AM
WFLY-4777,"I configured webservices to use a rewrite of the soap endpoint.  The following attributes don't seem to work correctly

1. Adding this entry does not work.  I need the value for protocol to be configurable

{code:xml}
<wsdl-uri-scheme>${wsdl.protocol:http}</wsdl-uri-scheme>
{code}
With error
{quote}
Message: ""WFLYCTL0248: Invalid value $\{wsdl.protocol:http} for wsdl-uri-scheme; legal values are [http, https]""
{quote}

2. wsdl-port is not leveraged properly.  I manually changed to https, based on the above limitation.  I set this:

{code:xml}
<wsdl-uri-scheme>https</wsdl-uri-scheme>
<wsdl-port>${wsdl.port:443}</wsdl-port>
{code}

However, the reported URL includes {{8443}} not my configured {{443}} value.

In addition, if I manually set the values
{code:xml}
            <wsdl-uri-scheme>https</wsdl-uri-scheme>
            <wsdl-port>443</wsdl-port>
{code}

I still get 8443.",2015/06/12 11:27 AM
WFLY-4464,"The module-slot of jdbc-driver is NOT persisted in domain mode, but it is persisted in standalone mode.

After debugging, I found that the performRuntime() method of JdbcDriverAdd.java is not called in domain mode, but is called in standalone mode.

For more information about the issue, please refer to the thread: https://developer.jboss.org/thread/253654",2015/03/25 10:26 AM
WFLY-4543,The Infinispan modules are not importing the modules for its extension point.,2015/04/20 2:22 PM
WFLY-4473,"{noformat}
javax.ejb.ConcurrentAccessTimeoutException: JBAS014360: EJB 3.1 FR 4.3.14.1 concurrent access timeout on org.jboss.invocation.InterceptorContext@75b60094 - could not obtain lock within 5000 MILLISECONDS
{noformat}",2015/03/31 4:38 AM
WFLY-4451,"org.jboss.as.security.plugins.ModuleClassLoaderLocator.CombinedClassLoader does not implement getResources.  This classloader combines a module classloader with the thread context classloader.  It implements loadClass, getResource & getResourceAsStream and checks the module classloader first and if it finds it returns it else checks the TCCL.

It does not implement getResources which causes custom security login modules to not be able to locate resources via getResources.",2015/03/20 4:36 PM
WFLY-4475,"Not replicating the authenticated session is just an optimization or BASIC, DIGEST, and CERT mechanisms.  We should treat custom authentication mechanisms the same way we treat FORM mechanisms.",2015/03/31 9:42 AM
WFLY-4100,"Seems to be a transactional issue with Infinispan eviction.
{noformat}
javax.ejb.EJBException: java.lang.IllegalStateException: WFLYCLEJBINF0008: Stateful session bean {[-89, -53, -3, -58, 52, -115, 78, 79, -106, -9, -119, 3, 0, 35, -10, -106]} refers to an invalid bean group 6c5836ab-086a-464c-8ae9-29e1a79a8254
    at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.createBean(InfinispanBeanFactory.java:75)
    at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:266)
    at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:115)
    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:58)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:280)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:345)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:243)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:622)
    at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
    at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
    at org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:243)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)
    at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
    at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
    at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
    at org.jboss.as.test.integration.ejb.remote.client.api.interceptor.SimpleEJBClientInterceptor.handleInvocation(SimpleEJBClientInterceptor.java:48)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:125)
    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253)
    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198)
    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181)
    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144)
    at com.sun.proxy.$Proxy328.getManagedBeanMessage(Unknown Source)
    at org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.testPassivationMaxSize(PassivationTestCase.java:103)
{noformat}",2014/11/19 6:02 PM
WFLY-4760,This should either be removed or fixed,2015/06/09 3:22 AM
WFLY-4660,NoData,2015/05/21 5:33 PM
WFLY-5051,"For persistent sessions, we trigger session session activation events after a successful SessionManager.findSession(...).  However, this is currently triggered using a Session instance, instead of an ImmutableSession instance, which causes iteration over session attributes to trigger replication of the session at the end of the request - even when the user does not access any mutable session attributes.

The same is true for Session.close() (via session passivation event).",2015/08/03 12:50 PM
WFLY-5108,"Currently, the the singleton master election occurs on every node, and nodes that detect if they have won the election will start the service.  If the election policy is non-deterministic, or not identical on every node, then there is a possibility that multiple singleton services could start.",2015/08/14 1:59 PM
WFLY-4654,"I'm trying to set transport type for JGroups UDP transport. After successful setting via CLI (or model node) and reload, this value is reverted back to undefined.

[standalone@localhost:9990 transport=UDP] :write-attribute(name=""type"" ,value=""TUNNEL"")
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}

[standalone@localhost:9990 transport=UDP] ls
property                              diagnostics-socket-binding=undefined  oob-executor=undefined                shared=false                          thread-factory=undefined              
thread-pool                           machine=undefined                     properties=[]                         site=undefined                        timer-executor=undefined              
default-executor=undefined            module=org.jgroups                    rack=undefined                        socket-binding=jgroups-udp            type=undefined   
",2015/05/21 7:27 AM
WFLY-4823,The error page and rewrite filters do not use the predicate correctly,2015/06/23 9:37 AM
WFLY-5088,"This is the same problem as reported with connectors in JBEAP-638.

org.hornetq.core.remoting.impl.netty.NettyAcceptorFactory should be migrated to equivalent org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptorFactory.",2015/08/12 6:49 AM
WFLY-4715,"When trying undefining and already undefined attribute of the webservices subsystem of a WildFly container on which at least a WS deployment is active, the operation requires reload if the attribute has a default value.

See http://lists.jboss.org/pipermail/wildfly-dev/2015-June/004013.html for further details.",2015/06/01 3:51 PM
WFLY-4917,Batch tasks incorrectly set-up the contexts needed for the executed tasks. The task needs to be set-up outside the new thread.,2015/07/13 3:50 PM
WFLY-5177,"*Description of problem:*
VaultedInjectedJMSContextTestCase is unable create session factory with security manager. Test ends with {{javax.jms.JMSRuntimeException: Failed to create session factory}}

*How reproducible:*
Always

*Steps to Reproduce:*
# ./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=VaultedInjectedJMSContextTestCase

*Actual results:*
{noformat}
javax.ejb.EJBException: javax.jms.JMSRuntimeException: Failed to create session factory
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:921)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:726)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createXAContext(ActiveMQConnectionFactory.java:278)
	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.create(JMSContextProducer.java:192)
	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.getDelegate(JMSContextProducer.java:217)
	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.createProducer(JMSContextProducer.java:270)
	at org.jboss.as.test.integration.messaging.jms.context.auxiliary.VaultedMessageProducer.sendToDestination(VaultedMessageProducer.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.NonPooledEJBComponentInstanceAssociatingInterceptor.processInvocation(NonPooledEJBComponentInstanceAssociatingInterceptor.java:59)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessController.doPrivilegedWithCombiner(AccessController.java:568)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:75)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
	at org.jboss.as.test.integration.messaging.jms.context.auxiliary.VaultedMessageProducer$$$view228.sendToDestination(Unknown Source)
	at org.jboss.as.test.integration.messaging.jms.context.VaultedInjectedJMSContextTestCase.sendMessage(VaultedInjectedJMSContextTestCase.java:164)
{noformat}

",2015/08/24 4:59 AM
WFLY-4813,"19.06. 19:52:13,830 ERROR [org.jboss.as.controller.management-operation#executeStep] WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""DefaultDS-ds.xml""),
    (""subsystem"" => ""datasources""),
    (""xa-data-source"" => ""java:jboss/datasources/DefaultDS"")
]): java.lang.ClassCastException: org.jboss.jca.common.metadata.ds.DsXaPoolImpl cannot be cast to org.jboss.jca.common.api.metadata.ds.DsPool
	at org.jboss.as.connector.subsystems.datasources.XMLXaDataSourceRuntimeHandler.handleDatasourceAttribute(XMLXaDataSourceRuntimeHandler.java:146)
	at org.jboss.as.connector.subsystems.datasources.XMLXaDataSourceRuntimeHandler.executeReadAttribute(XMLXaDataSourceRuntimeHandler.java:54)
	at org.jboss.as.connector.subsystems.datasources.XMLXaDataSourceRuntimeHandler.executeReadAttribute(XMLXaDataSourceRuntimeHandler.java:43)
	at org.jboss.as.connector.subsystems.datasources.AbstractXMLDataSourceRuntimeHandler.executeRuntimeStep(AbstractXMLDataSourceRuntimeHandler.java:62)
	at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:53)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:822)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:620)
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:373)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:349)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1201)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:223)
	at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:212)
	at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:72)
	at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:68)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)
	at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:68)
	at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:63)
	at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)
	at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:95)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
",2015/06/19 3:32 PM
WFLY-5195,"The scenario:
A persistent timer goes off right before its application gets undeployed
{noformat}
&amp#27;[0m&amp#27;[32m08:43:38,086 DEBUG [org.jboss.as.ejb3] (EJB default - 1) Timer task invoked at: Tue Aug 25 08:43:38 CEST 2015 for timer [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=ACTIVE info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]
{noformat}
The timer changes its state to IN_TIMEOUT and persists this into the database.
It fails to invoke the bean method, because the application is no longer available
{noformat}
&amp#27;[0m&amp#27;[31m08:43:38,515 ERROR [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0020: Error invoking timeout for timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]: java.lang.IllegalStateException
        at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
        at org.jboss.as.ejb3.timerservice.TimerServiceImpl.getInvoker(TimerServiceImpl.java:564)
        at org.jboss.as.ejb3.timerservice.TimerTask.invokeBeanMethod(TimerTask.java:188)
        at org.jboss.as.ejb3.timerservice.TimerTask.callTimeout(TimerTask.java:184)
        at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:157)
        at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1224)
        at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:497)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}
It considers retrying, but then it doesn't retry, because the state is IN_TIMEOUT
{noformat}
08:43:38,515 INFO  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0021: Timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb] will be retried                                                                                                                                               
08:43:38,515 INFO  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0024: Timer is not active, skipping retry of timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]
{noformat}
It gives up and tries to persist the state back to ACTIVE, but it fails, because the DatabaseTimerPersistence service is no longer available
{noformat}
08:43:38,516 WARN  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0016: Timer persistence is not enabled, persistent timers will not survive JVM restarts
{noformat}
So the state remains IN_TIMEOUT in the database. When the application is redeployed, it is initialized with this state and it never goes off again.

This happens with a JDBC storage in a database that is slow enough so that the update of state to IN_TIMEOUT proceeds correctly, but the actual bean method invocation fails already.

Attaching a reproducer which simulates a slow database using Byteman, so it can be run even with the ExampleDS.",2015/08/25 4:40 AM
WFLY-5161,"It's not possible to set attributes of element {{transport-config}} in CLI.

When I run {{:read-resource()}} I get
{code}
/subsystem=iiop-openjdk:read-resource()
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""add-component-via-interceptor"" => true,
        ""auth-method"" => ""username_password"",
        ""caller-propagation"" => ""none"",
        ""client-requires"" => ""None"",
        ""client-supports"" => ""ServerAuth"",
        ""confidentiality"" => ""none"",
        ""detect-misordering"" => ""none"",
        ""detect-replay"" => ""none"",
        ""export-corbaloc"" => true,
        ""giop-version"" => ""1.2"",
        ""high-water-mark"" => undefined,
        ""integrity"" => ""required"",
        ""number-to-reclaim"" => undefined,
        ""persistent-server-id"" => ""1"",
        ""properties"" => undefined,
        ""realm"" => undefined,
        ""required"" => false,
        ""root-context"" => ""JBoss/Naming/root"",
        ""security"" => ""identity"",
        ""security-domain"" => undefined,
        ""server-requires"" => ""None"",
        ""server-supports"" => ""MutualAuth"",
        ""socket-binding"" => ""iiop"",
        ""ssl-socket-binding"" => ""iiop-ssl"",
        ""support-ssl"" => false,
        ""transactions"" => ""spec"",
        ""trust-in-client"" => ""none"",
        ""trust-in-target"" => ""none""
    }
}
{code}

but XML can contain two emelents
{code}
<client-transport integrity=""supported"" confidentiality=""supported"" trust-in-target=""supported"" trust-in-client=""supported"" detect-replay=""supported"" detect-misordering=""supported"" />
<transport-config integrity=""supported"" confidentiality=""supported"" trust-in-target=""supported"" trust-in-client=""supported"" detect-replay=""supported"" detect-misordering=""supported"" />
{code}",2015/08/21 6:57 AM
WFLY-5055,See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=63411&buildTypeId=WFPR,2015/08/04 5:12 PM
WFLY-5039,"{code}
2015-07-30 12:37:31,658 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.subunit.""jslxml_ejb_vehicle.ear"".""jslxml_ejb_vehicle_client.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""jslxml_ejb_vehicle.ear"".""jslxml_ejb_vehicle_client.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of subdeployment ""jslxml_ejb_vehicle_client.jar"" of deployment ""jslxml_ejb_vehicle.ear""
  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154) [wildfly-server-2.0.0.Alpha11.jar:2.0.0.Alpha11]
  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]
  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]
  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_40]
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_40]
  at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_40]
Caused by: java.util.ConcurrentModificationException
  at java.util.LinkedHashMap$LinkedHashIterator.nextNode(LinkedHashMap.java:711) [rt.jar:1.8.0_40]
  at java.util.LinkedHashMap$LinkedKeyIterator.next(LinkedHashMap.java:734) [rt.jar:1.8.0_40]
  at org.wildfly.extension.batch.jberet.deployment.BatchDeploymentResourceProcessor.deploy(BatchDeploymentResourceProcessor.java:60)
  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147) [wildfly-server-2.0.0.Alpha11.jar:2.0.0.Alpha11]
  ... 5 more
{code}",2015/07/30 12:49 PM
WFLY-4925,"This should not work, as the Monitor role is not allowed to do anything that modifies any state:

{code}
[standalone@localhost:9990 data-source=ExampleDS] :test-connection-in-pool{roles=Monitor}
{
    ""outcome"" => ""success"",
    ""result"" => [true]
}
{code}

I believe the problem is PoolOperations L75:

{code}
final ServiceController<?> managementRepoService = context.getServiceRegistry(false).getService(
        ConnectorServices.MANAGEMENT_REPOSITORY_SERVICE);
{code}

The parameter to context.getServiceRegistry(...) must be 'true' if the operation is going to use the returned service registry to perform any form of state modification. So I believe all the PoolOperation subclasses should provide a param to PoolOperation's constructor that can be used to set this value. I believe in all subclasses except DumpQueuedThreadInPool this param should be 'true'.",2015/07/14 9:12 PM
WFLY-4751,"The HornetQ subsystem allows for defining jms-topic(s) and jms-queus(s) for a hornetq-server. The jms-topic(s) and jms-queue(s) allow for JNDI names to be specified for each of those JMS destinations. For each of these jms-topic(s) and jms-queues(s) the HornetQ subsystem does the following:

	- Set up JMSTopicService and JMSQueueService depending on the destination type.
		- These services in their start method use HornetQ APIs to create the destinations. Note that JNDI binding of these destinations is *not*
			done at this point via the HornetQ APIs and instead (is rightly) left for the (WildFly) BinderService(s) to take care off.
		- The getValue() method of these services return the Topic/Queue that was created by the services' start using HornetQ API
	
	- For each of the destinations, the HornetQ subsystem sets up a BinderService each for the JNDI names specified for those destinations. The BinderService is configured to fetch the bound value via the JMSTopicService/JMSQueueService (i.e. they use ValueManagedReferenceFactory which ultimately ends up in a call to getValue() of those services).

 Looks fine, except that the BinderService(s) have *not* been setup to ""depend"" on the JMSTopicService/JMSQueueService.

 As a result, in theory (and I suspect in reality here https://developer.jboss.org/thread/259981?start=0&tstart=0) JNDI lookups for the topic/queue (even when proper dependencies are setup between the deployments and the BinderService) can end up returning null values, since although the BinderService is up and running, the backing JMSTopicService or JMSQueueService which are responsible for providing the bound value are not yet started and the topic/queue hasn't yet been created.


P.S: I don't have a way to reproduce this, since it all depends on the service startup timings. I however do suspect that this is what is causing those issues in that thread. 
",2015/06/06 11:16 AM
WFLY-4754,"If you create a WebService without interface and use @LocalBean on it, during deploy you get:
(stacktrace for 9 CR1)
{noformat}
15:26:18,439 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.subunit.""mms.ear"".""rvm.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""mms.ear"".""rvm.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of subdeployment ""rvm.jar"" of deployment ""mms.ear""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component ReviewManagerSoapService
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:95)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)
	... 5 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.handlePermissions(EJBSecurityViewConfigurator.java:215)
	at org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.configure(EJBSecurityViewConfigurator.java:123)
	at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)
	... 6 more
{noformat}
The same issue in EAP: JBEAP-66",2015/06/08 6:00 AM
WFLY-4999,See http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF_PullRequest&testNameId=1140899232324454378&tab=testDetails,2015/07/23 12:39 PM
WFLY-4735,"Example configuration standalone-hornetq-colocated.xml is not correct. This file is located in $JBOSS_HOME/docs/examples/configs

Delete this file and replace it with correct configuration file for WildFly.",2015/06/03 8:50 AM
WFLY-4591,"We upgraded from Jboss 7.1.1.Final to Wildfly 8.2.0.Final. After the upgrade we are seeing full frequent garbage collection (happening every 2 mins)  during load test.  This was not the case in Jboss 7.1.1.Final.  Our heap dumps suggested that there is huge memory leak with 
org.apache.jasper.runtime.BodyContentImpl.  This is part of JSP runtime (jastow). On analysis we found that undertow uses default as PerThreadTagHanlderPool. By changing this to TagHanlderPool, this issue seems to vanish. 

diff --git a/src/main/java/org/apache/jasper/runtime/TagHandlerPool.java b/src/main/java/org/apache/jasper/runtime/TagHandlerPool.java
index eaa8560..c6c785f 100644
--- a/src/main/java/org/apache/jasper/runtime/TagHandlerPool.java
+++ b/src/main/java/org/apache/jasper/runtime/TagHandlerPool.java
@@ -53,7 +53,7 @@ public class TagHandlerPool {
                 result = null;
             }
         }
-        if( result==null ) result=new PerThreadTagHandlerPool();
+        if( result==null ) result=new TagHandlerPool();
         result.init(config);
 
         return result;
- See more at: https://developer.jboss.org/message/927538#927538

I think this issue may be related to https://issues.jboss.org/browse/WFLY-4617  as there were huge garbage created and most of the contents were char array (rendered html). May be TagHanlderPool is creating more char instead of reusing from pool. Please provide thoughts. I can share, heapdump or MAT screenshots if needed.
",2015/05/06 3:39 AM
WFLY-4657,"Scenario:
- The AS is configured to use a JDBC storage for EJB timers (using the H2 ExampleDS is sufficient for reproduction)
- There is a persistent calendar timer going off every few seconds
- The 'trigger' management operation is called on that timer
- The timer goes off one time extra, as expected
- The 'suspend' management operation is called on that timer
- After a few seconds, the 'activate' operation is called on that timer
- The timer will never go off again (not even by invoking 'trigger' operation)

The cause:
- Each time the timer goes off, a new java.util.TimerTask is scheduled to handle the next alarm
- When the 'trigger' operation is invoked, the TimerServiceImpl computes the timestamp of the next alarm and schedules a new TimerTask
- The problem is that this new TimerTask overwrites the one currently registered in the TimerServiceImpl, because the TimerServiceImpl assigns TimerTasks to Timers using a map: https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java#L905 - the TimerServiceImpl loses the reference to the previously registered TimerTask and doesn't cancel it
- From now on, each new alarm registers the next TimerTask, but makes TimerServiceImpl forget the previous one
- After some time, when the 'suspend' operation is called, the TimerServiceImpl cancels its stored TimerTask. However, it doesn't know that there is another scheduled elsewhere
- The TimerTask goes off during the time when the timer is suspended. 
- DatabaseTimerPersistence checks whether the TimerTask can run and sets the Timer's state to IN_TIMEOUT if yes (https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/database/DatabaseTimerPersistence.java#L395). However, this is done BEFORE checking whether the timer is suspended. DatabaseTimerPersistence commits this change. Then comes the mentioned check (https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/task/TimerTask.java#L141) and it fails, so the Timer will not go off, but the Timer state remains IN_TIMEOUT forever!
- With every next invocation, as the timer's state remains IN_TIMEOUT, all invocations are skipped.",2015/05/21 10:34 AM
WFLY-4800,"When mime-mapping is added to servlet container then no reload of server is required, although change takes effect after server restart is performed.

Expected behaivour is either that change takes effect immediatelly after configuration is changed or that server reload is required in response message and result of the operation.",2015/06/17 11:26 AM
WFLY-4746,NoData,2015/06/04 9:05 AM
WFLY-5032,"If an authentication token exists in the web session, and the user is using FORM or a custom authentication mechanism, then that token is read from the session each request.  The token is treated as a mutable object by the clustering code and triggers replication of the session on each request.

Annotating this with @Immutable will fix the problem.",2015/07/29 2:18 PM
WFLY-4906,"Serialization of generic map with null values results in _java.lang.UnsupportedOperationException: Type id handling not implemented for type java.lang.Object_.

The issue is fixed in jackson-databind 2.5.2 https://github.com/FasterXML/jackson-databind/issues/691",2015/07/12 9:04 AM
WFLY-4816,"Add new ContextService needs reload. Other Concurrency Utils don't need reload....

Example is here:
https://github.com/hsvabek/wildfly/tree/test_context_service
EEConcurrentManagementTestCase.testContextServiceManagement()
",2015/06/22 8:03 AM
WFLY-4638,"This is addition to WFLY-4569.

One more case was discovered when bean is leaked from the pool after an exception is thrown in certain methods:
* If any exception is thrown during call to instance.activate() (which includes calls to ejbActivate and ejbLoad), then cache implementations (both optimistic and pessimistic) never notifies pool that instance should be discarded.

In addition, a little correction should be made for handling exceptions thrown from ejbCreate (handling was introduced as part of WFLY-4569) -- such instances should not be released to the pool, but discarded with pool notification in order to comply with EJB specification.",2015/05/15 6:05 AM
WFLY-5091,"Several users were surprised to find that their custom Infinispan externalizers are not used when marshalling of objects placed in the web session or used as fields in their SFSB.  Without this functionality, users cannot use non-serializable objects in their web session or SFSB.
There are a few reasons why this does not currently work:

# The cache in which user objects is placed does not scan the application classloader for externalizers.
# In both the web and ejb case, user objects are stored within a MarshalledValue - the serialization of which is done by JBoss Marshalling directly, not via Infinispan's marshaller.
# Neither the org.infinispan.commons (containing org.infinispan.commons.marshall.AdvancedExternalizer) nor org.jboss.marshalling (containing org.jboss.marshalling.Externalizer) modules are exported to the application classpath.

Clearly, we need a common, public mechanism that bridges these two APIs so that users can register custom externalizers without needing to know the specific marshalling framework to which to adhere.",2015/08/12 10:10 AM
WFLY-5085,"We should migrate configuration like:
{code}
<connector name=""myconnector"">
...
                <factory-class>org.hornetq.core.remoting.impl.netty.NettyConnectorFactory</factory-class>
            </connector>
{code}

to:
{code}
                <connector name=""myconnector"" factory-class=""org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector"">
...
{code}

and not to:
{code}
                          <connector name=""myconnector"" factory-class=""org.hornetq.core.remoting.impl.netty.NettyConnectorFactory"">
...
{code}

The same holds for InVMConnector.",2015/08/12 6:48 AM
WFLY-4796,"org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase fails once -Dnode0 and -Dnode1 properties are used.
{noformat}
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 19,243.526 sec <<< FAILURE! - in org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase
org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase  Time elapsed: 19,241.627 sec  <<< ERROR!
javax.naming.CommunicationException: Cannot connect to ORB
	at sun.nio.ch.Net.connect0(Native Method)
	at sun.nio.ch.Net.connect(Net.java:458)
	at sun.nio.ch.Net.connect(Net.java:450)
	at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:648)
	at java.nio.channels.SocketChannel.open(SocketChannel.java:189)
	at com.sun.corba.se.impl.transport.DefaultSocketFactoryImpl.createSocket(DefaultSocketFactoryImpl.java:95)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.<init>(SocketOrChannelConnectionImpl.java:207)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.<init>(SocketOrChannelConnectionImpl.java:236)
	at com.sun.corba.se.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:119)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:187)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:229)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:130)
	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)
	at com.sun.jndi.cosnaming.CNCtx.setOrbAndRootContext(CNCtx.java:381)
	at com.sun.jndi.cosnaming.CNCtx.initOrbAndRootContext(CNCtx.java:247)
	at com.sun.jndi.cosnaming.CNCtx.<init>(CNCtx.java:105)
	at com.sun.jndi.cosnaming.CNCtxFactory.getInitialContext(CNCtxFactory.java:49)
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)
	at javax.naming.InitialContext.init(InitialContext.java:244)
	at javax.naming.InitialContext.<init>(InitialContext.java:216)
	at org.jboss.as.test.iiop.client.Util.getContext(Util.java:130)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.beforeClass(IIOPTransactionPropagationTestCase.java:102)
{noformat}

Fix
{noformat}
--- a/testsuite/integration/iiop/src/test/java/org/jboss/as/test/iiop/client/Util.java
+++ b/testsuite/integration/iiop/src/test/java/org/jboss/as/test/iiop/client/Util.java
@@ -56,7 +56,7 @@ import com.arjuna.orbportability.ORB;
 import com.sun.corba.se.impl.orbutil.ORBConstants;
 
 public class Util {
-    public static final String HOST = NetworkUtils.formatPossibleIpv6Address(System.getProperty(""node0"", ""localhost""));
+    public static final String HOST = NetworkUtils.formatPossibleIpv6Address(System.getProperty(""node1"", ""localhost""));
     private static ORB orb = null;
 
     // Recovery manager is needed till the end of orb usage
{noformat}",2015/06/17 7:01 AM
WFLY-4686,"There is missing operation list-delivering-messages on runtime-queue:
{code}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/runtime-queue=jms.queue.testQueue:list-
list-add                              list-get                              list-message-counter-history-as-html  list-messages-as-json                 list-scheduled-messages-as-json       
list-clear                            list-message-counter-as-html          list-message-counter-history-as-json  list-remove                           
list-consumers-as-json                list-message-counter-as-json          list-messages                         list-scheduled-messages    
{code}

This was hit on Wildfly 9 with ActiveMQ (built from Jeff's branch)",2015/05/27 8:29 AM
WFLY-5025,"Suspending the server works only on deployed deployments but it doesn't work for root context.

=> after executing {{:suspend}} operation, requests to deployment are rejected as expected, still requests to {{http://localhost:8080}} are permitted and processed.",2015/07/29 9:29 AM
WFLY-5007,NoData,2015/07/27 2:46 AM
WFLY-5065,"I am getting an error from the maven enforcer plugin when building with the IBM J9 java compiler (J9VM - R28_Java8_SR1_20150410_1531_B243669):
 
[INFO] --- maven-enforcer-plugin:1.4:enforce (ban-transitive-deps) @ wildfly-feature-pack ---
[WARNING] Rule 0: org.apache.maven.plugins.enforcer.BanTransitiveDependencies failed with message:
org.wildfly:wildfly-feature-pack:pom:10.0.0.Beta1-SNAPSHOT
   org.apache.cxf:cxf-rt-security-saml:jar:3.1.2:compile has transitive dependencies:
      xalan:xalan:jar:2.7.1.jbossorg-1:compile
         xalan:serializer:jar:2.7.1.jbossorg-1:compile",2015/08/06 5:47 AM
WFLY-4635,Non-public PostActivate and PrePassivate SFSB are not supposed to be lifecycle methods by WFLY-4127 which leads to a situation where transactional attributes on them are ignored. Public methods work as expected.,2015/05/14 8:47 AM
WFLY-5287,"Default value changed from 10.000 to 512:

https://issues.jboss.org/browse/ISPN-4160?focusedCommentId=12956885&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12956885",2015/09/07 7:30 AM
WFLY-5203,NoData,2015/08/25 8:10 PM
WFLY-4815,Upstream of https://bugzilla.redhat.com/show_bug.cgi?id=1206177,2015/06/22 6:26 AM
WFLY-4579,"Deployment of an EAR fails because of this exception:

09:34:30,854 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) JBAS016002: Processing weld deployment Project-ejb.jar
09:34:30,862 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named ModelContext in deployment unit subdeployment ""Project-ejb.jar"" of deployment ""Project-ear-0.1.0-SNAPSHOT.ear"" are as follows:

        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ModelContext!simulator.ModelContext
        java:app/Project-ejb/ModelContext!simulator.ModelContext
        java:module/ModelContext!simulator.ModelContext
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ModelContext
        java:app/Project-ejb/ModelContext
        java:module/ModelContext

09:34:30,863 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named AccountsBean in deployment unit subdeployment ""Project-ejb.jar"" of deployment ""Project-ear-0.1.0-SNAPSHOT.ear"" are as follows:

        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/AccountsBean!simulator.AccountsBean
        java:app/Project-ejb/AccountsBean!simulator.AccountsBean
        java:module/AccountsBean!simulator.AccountsBean
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/AccountsBean
        java:app/Project-ejb/AccountsBean
        java:module/AccountsBean

09:34:30,864 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named ContactsBean in deployment unit subdeployment ""Project-ejb.jar"" of deployment ""Project-ear-0.1.0-SNAPSHOT.ear"" are as follows:

        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ContactsBean!simulator.ContactsBean
        java:app/Project-ejb/ContactsBean!simulator.ContactsBean
        java:module/ContactsBean!simulator.ContactsBean
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ContactsBean
        java:app/Project-ejb/ContactsBean
        java:module/ContactsBean

09:34:30,892 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) JBAS016002: Processing weld deployment Project-webapp.war
09:34:30,954 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) JBAS016005: Starting Services for CDI deployment: Project-ear-0.1.0-SNAPSHOT.ear
09:34:31,016 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 2.2.6 (Final)
09:34:31,169 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) JBAS016008: Starting weld service for deployment Project-ear-0.1.0-SNAPSHOT.ear

09:34:32,203 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-1) Mojarra 2.2.8-jbossorg-1 20140822-1131 f³r Kontext '/v1' wird initialisiert.
09:34:33,738 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-1) Critical error during deployment: : org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:246) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:251) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at org.jboss.weld.bean.builtin.BeanManagerProxy.getBeans(BeanManagerProxy.java:100) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at com.sun.faces.application.JavaFlowLoaderHelper.loadFlows(JavaFlowLoaderHelper.java:66) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:298) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108) [jboss-jsf-api_2.2_spec-2.2.8.jar:2.2.8]
        at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2190) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294) [wildfly-jsf-injection-8.2.0.Final.jar:8.2.0.Final]
        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:260) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173) [undertow-servlet-1.1.0.Final.jar:1.1.0.Final]
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:193) [undertow-servlet-1.1.0.Final.jar:1.1.0.Final]
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:87)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:72)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_31]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_31]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_31]

09:34:33,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./v1: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_31]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_31]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_31]
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:222)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:87)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:72)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        ... 3 more
Caused by: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:280)
        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173)
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:193)
        ... 7 more
Caused by: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:246)
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:251)
        at org.jboss.weld.bean.builtin.BeanManagerProxy.getBeans(BeanManagerProxy.java:100)
        at com.sun.faces.application.JavaFlowLoaderHelper.loadFlows(JavaFlowLoaderHelper.java:66)
        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:298)
        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108)
        at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2190)
        at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163)
        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296)
        at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294)
        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692)
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:260)
        ... 9 more

09:34:34,099 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) JBAS014613: Operation (""deploy"") failed - address: ([(""deployment"" => ""Project-ear-0.1.0-SNAPSHOT.ear"")]) - failure description: {""JBAS014671: Failed services"" => {""jboss.undertow.deployment.default-server.default-host./v1"" => ""org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service
    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
    Caused by: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
    Caused by: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization""}}

09:34:34,188 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed ""Project-ear-0.1.0-SNAPSHOT.ear"" (runtime-name : ""Project-ear-0.1.0-SNAPSHOT.ear"")
09:34:34,188 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report
JBAS014777:   Services which failed to start:
service jboss.undertow.deployment.default-server.default-host./v1: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service

The EAR contains:
 1.) An EJB JAR
 2.) An WepApp WAR

The webapp uses JSF and JAX-RS.
None of our code seesm to be involved.

The EAR can succesfully deployet on an Weblogic AS.

When I start the WildFly AS with --debug mode and halt at BeanManagerProxy.getBeans() and directly continue the thread exectuion. the deployment of the EAR file works correctly. Feels like some race condition..

Any ideas how to fix this?",2015/05/04 4:10 AM
WFLY-5086,"HA configuration is not migrated.
For example:
{code}
                <shared-store>true</shared-store>
{code}

does not have equivalent config in in migrated configuration.

Customer with HA configuration for HornetQ will not have this configuration after migration.",2015/08/12 6:49 AM
WFLY-4810,Seems to have been introduced by https://github.com/wildfly/wildfly/pull/7507,2015/06/19 6:51 AM
WFLY-4736,"The UndertowDeploymentService triggers web components' start and stop lifecycle within the MSC thread which can lead to the server blocking during deployment. This was an issue with the older JBoss Web version of the Service too which was fixed as part of https://issues.jboss.org/browse/AS7-5969 (https://github.com/wildfly/wildfly/pull/3455). The same needs to be ported to this UndertowDeploymentService.

Here's an example where a user deployment ends up being blocked https://developer.jboss.org/message/932681#932681",2015/06/03 9:34 AM
WFLY-4604,"see http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=52198&tab=buildResultsDiv&buildTypeId=WF_PullRequest_LinuxSm

failed tests:
{noformat}
org.jboss.as.test.integration.jsp.JspTagTestCase.test 	
org.jboss.as.test.integration.web.jsp.taglib.external.ExternalTagLibTestCase.testExternalAndInternalTagLib 
org.jboss.as.test.integration.web.jsp.taglib.external.ExternalTagLibTestCase.testExternalTagLibOnly
{noformat}

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessDeclaredMembers"")"" in code source ""(file:/opt/buildAgent/work/a31d203e70e89f90/testsuite/integration/web/target/jbossas/standalone/tmp/external-dependency-only.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@1b8fd02"")
    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:270)
    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:172)
    at java.lang.Class.checkMemberAccess(Class.java:2348)
    at java.lang.Class.getDeclaredConstructor(Class.java:2177)
    at org.jboss.as.ee.component.ReflectiveClassIntrospector.createFactory(ReflectiveClassIntrospector.java:22)
    at org.jboss.as.ee.component.ComponentRegistry.createInstanceFactory(ComponentRegistry.java:76)
    at org.jboss.as.web.common.WebInjectionContainer.newInstance(WebInjectionContainer.java:67)
    at org.wildfly.extension.undertow.deployment.UndertowJSPInstanceManager.newInstance(UndertowJSPInstanceManager.java:67)
    at org.apache.jsp.test_jsp._jspx_meth_e_005ftest_005f0(test_jsp.java:83)
    at org.apache.jsp.test_jsp._jspService(test_jsp.java:61)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)
{noformat}",2015/05/07 4:06 AM
WFLY-4732,NoData,2015/06/03 7:11 AM
WFLY-5143,"In this case, the parser does not match the schemas.  There are 3 issues here:
 # Thread pool elements should only be parsed for schema version >= 3.0
 # Thread pool elements are only valid children of a <transport/> element, but are currently accepted as children of a <protocol/> element.
 # We should always create thread pool resources, even if xml is undefined - that way the thread pool parameters, as applied to the runtime, are expressed in the model.",2015/08/20 8:29 AM
WFLY-4339,"If you build the [kitchen-sink quickstart|https://github.com/wildfly/quickstart/tree/master/kitchensink] and attempt to deploy to domain servers you'll see the following error. Same deployment works fine in standalone.

{code}
[Server:server-one] 09:25:06,563 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-14) MSC000001: Failed to start service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: WFLYJCA0033: Error during the deployment of java:jboss/datasources/KitchensinkQuickstartDS
[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:142)
[Server:server-two] 09:25:06,563 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: WFLYJCA0033: Error during the deployment of java:jboss/datasources/KitchensinkQuickstartDS
[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:142)
[Server:server-two] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
[Server:server-two] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
[Server:server-two] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[Server:server-two] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[Server:server-two] 	at java.lang.Thread.run(Thread.java:745)
[Server:server-two] Caused by: java.lang.NullPointerException
[Server:server-two] 	at org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.getInstalledDriver(DriverRegistryImpl.java:93)
[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.deploy(AbstractDataSourceService.java:324)
[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:135)
[Server:server-two] 	... 5 more
[Server:server-two] 
[Server:server-one] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
[Server:server-one] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
[Server:server-one] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[Server:server-one] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[Server:server-one] 	at java.lang.Thread.run(Thread.java:745)
[Server:server-one] Caused by: java.lang.NullPointerException
[Server:server-one] 	at org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.getInstalledDriver(DriverRegistryImpl.java:93)
[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.deploy(AbstractDataSourceService.java:324)
[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:135)
[Server:server-one] 	... 5 more
{code}",2015/02/11 12:33 PM
WFLY-4668,"When setting up mod-cluster via CLI then msg Failed to start service Caused by: java.lang.NullPointerException"" may appear.

Particular file where exception is thrown is: ModClusterService.java, line 90 . Reason for exception is that advertise socket binding has to have set multicast address also (mod cluster just expect it is set it does not check it). In case multicat address is set then adding mod-cluster filter is successful.

I would expect that more reasonable message is print to user instead of generic NPE.",2015/05/25 4:33 AM
WFLY-4918,"We discussed with Paul earlier today to go the way of making this explicit per channel, since currently there is a info when booting the default ha profiles:

18:06:44,039 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 21) WFLYCTL0028: Attribute 'default-stack' in the resource at address '/subsystem=jgroups' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.",2015/07/13 5:09 PM
WFLY-4801,"{noformat}
Description of problem:
========================

- Expression is added in the datasource JNDI name attribute as below:
-----
  <datasource jndi-name=""${ds}"" pool-name=""ExampleDS"" enabled=""true"" use-java-context=""true"">
-----

- Value for the expression is passed to the JBoss server during the JBoss startup as below:
-----
  ./standalone.sh -Dds=java:jboss/datasources/ExampleDS
-----

- In the server.log file below is the information regarding the datasource.
-----
  INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) JBAS010400: Bound data source [${ds}]
----- 

- Test the datasource using the below command and here is the result:
----
[standalone@localhost:9999 /] /subsystem=datasources/data-source=ExampleDS:test-connection-in-pool()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS010440: failed to invoke operation: JBAS010442: failed to match pool. Check JndiName: java:/${ds}"",
    ""rolled-back"" => true
}
----

- Here is the information regarding the JNDI name attribute:
----
[standalone@localhost:9999 /] /subsystem=datasources/data-source=ExampleDS:read-resource-description(recursive=true)
{
    ""outcome"" => ""success"",
    ""result"" => {
        	  :
            ""jndi-name"" => {
                ""type"" => STRING,
                ""description"" => ""Specifies the JNDI name for the datasource"",
                ""expressions-allowed"" => true,
                ""nillable"" => false,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            },
		  :
}
-----
{noformat}",2015/06/18 12:35 AM
WFLY-5308,"EAP 7.0.0.DR9
Scenario: failover-ejb-ejbremote-undeploy-dist-async

During application deployment (after failover), perf20 logged this error:

{code}
[JBossINF] [0m[0m15:36:10,604 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 85) WFLYCLINF0002: Started dist cache from ejb container
[JBossINF] [0m[0m15:36:10,608 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 86) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container
[JBossINF] [0m[0m15:36:10,611 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 84) WFLYCLINF0002: Started dist cache from web container
[JBossINF] [0m[0m15:36:10,612 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 87) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war cache from web container
[JBossINF] [0m[31m15:36:10,613 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.ejb.remoting.connector.client-mappings.installer: org.jboss.msc.service.StartException in service jboss.ejb.remoting.connector.client-mappings.installer: Failed to start service
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: java.lang.IllegalStateException: Duplicate key [org.jboss.as.network.ClientMapping@44b990d8]
[JBossINF] 	at java.util.stream.Collectors.lambda$throwingMerger$152(Collectors.java:133)
[JBossINF] 	at java.util.stream.Collectors$$Lambda$58/796953906.apply(Unknown Source)
[JBossINF] 	at java.util.HashMap.merge(HashMap.java:1245)
[JBossINF] 	at java.util.stream.Collectors.lambda$toMap$210(Collectors.java:1320)
[JBossINF] 	at java.util.stream.Collectors$$Lambda$60/415494469.accept(Unknown Source)
[JBossINF] 	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
[JBossINF] 	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
[JBossINF] 	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
[JBossINF] 	at java.util.Iterator.forEachRemaining(Iterator.java:116)
[JBossINF] 	at org.infinispan.stream.impl.spliterators.IteratorAsSpliterator.forEachRemaining(IteratorAsSpliterator.java:150)
[JBossINF] 	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)
[JBossINF] 	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)
[JBossINF] 	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
[JBossINF] 	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
[JBossINF] 	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
[JBossINF] 	at org.infinispan.stream.impl.local.AbstractLocalCacheStream.collect(AbstractLocalCacheStream.java:256)
[JBossINF] 	at org.infinispan.stream.impl.TerminalFunctions$CollectorFunction.apply(TerminalFunctions.java:1035)
[JBossINF] 	at org.infinispan.stream.impl.TerminalFunctions$CollectorFunction.apply(TerminalFunctions.java:1025)
[JBossINF] 	at org.infinispan.stream.impl.termop.SegmentRetryingOperation.innerPerformOperation(SegmentRetryingOperation.java:68)
[JBossINF] 	at org.infinispan.stream.impl.termop.SegmentRetryingOperation.performOperation(SegmentRetryingOperation.java:79)
[JBossINF] 	at org.infinispan.stream.impl.AbstractCacheStream.performOperationRehashAware(AbstractCacheStream.java:306)
[JBossINF] 	at org.infinispan.stream.impl.AbstractCacheStream.performOperation(AbstractCacheStream.java:252)
[JBossINF] 	at org.infinispan.stream.impl.DistributedCacheStream.collect(DistributedCacheStream.java:324)
[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.getEntries(CacheRegistry.java:110)
[JBossINF] 	at org.jboss.as.ejb3.remote.LocalEjbReceiver.registryAdded(LocalEjbReceiver.java:447)
[JBossINF] 	at org.jboss.as.ejb3.remote.RegistryCollectorService.add(RegistryCollectorService.java:54)
[JBossINF] 	at org.jboss.as.ejb3.remote.RegistryInstallerService.start(RegistryInstallerService.java:60)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
[JBossINF] 	... 3 more
[JBossINF] 
[JBossINF] [0m[31m15:36:10,625 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""clusterbench-ee7.ear"")]) - failure description: {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
[JBossINF]     ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.LocalStatefulSB.START is missing [jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.LocalStatefulSB.cache]"",
[JBossINF]     ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.RemoteStatefulSBImpl.START is missing [jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.RemoteStatefulSBImpl.cache]""
[JBossINF] ]}
[JBossINF] [0m[31m15:36:10,627 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment ""clusterbench-ee7.ear"" was rolled back with the following failure message: 
[JBossINF] {""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
[JBossINF]     ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.LocalStatefulSB.START is missing [jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.LocalStatefulSB.cache]"",
[JBossINF]     ""jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.RemoteStatefulSBImpl.START is missing [jboss.deployment.subunit.\""clusterbench-ee7.ear\"".\""clusterbench-ee7-ejb.jar\"".component.RemoteStatefulSBImpl.cache]""
[JBossINF] ]}
{code}

Which ends up with WFLYSRV0021: *Deploy of deployment ""clusterbench-ee7.ear"" was rolled back*.

In this very same testrun, there was another issue with application deployment on perf18, may be related: JBEAP-1041 

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-undeploy-dist-async/5/console-perf20/",2015/09/09 8:40 AM
WFLY-4602,"After having authenticated (via JASPIC or otherwise), calling {{HttpServletRequest#logout}} and then requesting the caller/user principal (all within the same request), Undertow (via e.g. WildFly 8.2 or 9.0rc1) will correctly clear out the principal for the web context, but will NOT clear out the principal for the EJB context.

The problem seems to be that {{io.undertow.security.impl.SecurityContextImpl.logout()}} doesn't do anything with the security context that is used by the EJB container among others.

It now just contains the following:

{code:java}
this.account = null;
this.mechanismName = null;
this.authenticationState = AuthenticationState.NOT_ATTEMPTED;
{code}

Added the following code just before this seems to work:

{code:java}
// Clear old context
SecurityContextAssociation.clearSecurityContext();
SecurityRolesAssociation.setSecurityRoles(null);
	            		
// Set a new one in case re-authentication is done within the same thread
SecurityContext securityContext = SecurityContextFactory.createSecurityContext(""other"");
exchange.putAttachment(SECURITY_CONTEXT_ATTACHMENT, securityContext);

SecurityContextAssociation.setSecurityContext(securityContext);

// (existing clearing code)
this.account = null;
this.mechanismName = null;
this.authenticationState = AuthenticationState.NOT_ATTEMPTED;
{code}

Do note that this code uses the hardcoded domain ""other"". Except by using reflection I couldn't obtain the actual domain name at this point. The reflective code I used was:

{code:java}
String securityDomain = ""other"";

if (identityManager instanceof JAASIdentityManagerImpl) {
    try {
        Field securityDomainContextField = JAASIdentityManagerImpl.class.getDeclaredField(""securityDomainContext"");
        securityDomainContextField.setAccessible(true);
        SecurityDomainContext securityDomainContext = (SecurityDomainContext) securityDomainContextField.get(identityManager);

        securityDomain = securityDomainContext.getAuthenticationManager().getSecurityDomain();

    } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {
        logger.log(Level.SEVERE, ""Can't obtain name of security domain, using 'other' now"", e);
    }
}
{code}",2015/05/06 10:14 AM
WFLY-5337,"This is actually due to a bug in Infinispan.  Infinispan's JGroupsTransport inappropriately sets its channel to null during stop(), even if a channel was provided to the constructor.
{noformat}
10:10:34,923 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 71) MSC000001: Failed to start service jboss.infinispan.server.default: org.jboss.msc.service.StartException in service jboss.infinispan.server.default: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
	at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:248)
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:618)
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:580)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:445)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:464)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:455)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:120)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:111)
	at org.wildfly.clustering.infinispan.spi.service.CacheBuilder.start(CacheBuilder.java:80)
	at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)
	... 4 more
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:172)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:226)
	... 13 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.clustering.infinispan.ChannelTransport.initChannel(ChannelTransport.java:84)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.initChannelAndRPCDispatcher(JGroupsTransport.java:350)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:188)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:168)
	... 18 more
{noformat}",2015/09/14 10:29 AM
WFLY-3918,"Wildfly Undertow (via org.wildfly.extension.undertow.HostAdd and org.wildfly.extension.undertow.ConsoleRedirectService) redirects all /console/... URL requests (on port 8080/8443) to /console on port 9990.  

This prevents developing or porting applications that themselves need to serve /console/... URLs.

There needs to be a way to disable (in the undertow subsystem configuration) the adding of ConsoleRedirectService by HostAdd.
",2014/09/30 12:47 PM
WFLY-4729,"As described in JBMETA-387, the {{<cache-name>}} documentation in the XSD refers to AS6 syntax. As of AS7, cache container and cache are delimited by a ""."", not a ""/"".",2015/06/03 2:59 AM
WFLY-4198,"When trying to call an asynchronous EJB in a Web application using slf4j (1.7.5+) & logback(1.0.13+) for logging the following NullPointerException occurs (see below).
The problem is in the line 67 of LogDiagnosticContextRecoveryInterceptor class, when it tries to access MDC map, which is null. According to SLF4J API the copy of MDC map may be null: see the javadoc of org.slf4j.MDC#getCopyOfContextMap.
So LogDiagnosticContextRecoveryInterceptor or org.jboss.logging.Slf4jLoggerProvider have to check the map for null.
Currently there is no workaround for that :(.

{noformat}
Caused by: java.lang.NullPointerException
	at org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$2.runInvocation(AsyncFutureInterceptorFactory.java:97)
	at org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:73)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)
{noformat}",2014/12/22 11:30 AM
WFLY-5123,"Seen regularly in basically every failover test (no matter what failover type/cache used). 

Setup: 4 node cluster, one node at time is shutdown, while standalone clients keep calling the application.
After failing one node(failover type: jvmkill/shutdown/undeploy) - perf20 in this case, perf21 logged the following error message:

{code}
[JBossINF] [0m[31m12:57:35,029 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (transport-thread--p7-t10) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 20
[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)
[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:274)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:243)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:119)
[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1613)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.topologyChanged(CacheRegistry.java:152)
[JBossINF] 	at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)
[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1170)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1135)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:590)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:203)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.access$000(StateTransferManagerImpl.java:47)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:115)
[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleTopologyUpdate(LocalTopologyManagerImpl.java:282)
[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl$1.run(LocalTopologyManagerImpl.java:217)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.runInternal(SemaphoreCompletionService.java:173)
[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.run(SemaphoreCompletionService.java:151)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 
{code}

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf21/

This error sometimes occur just before the server shuts down, as can be seen here:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf19/

See also: [JBEAP-505#comment-13098103|https://issues.jboss.org/browse/JBEAP-505?focusedCommentId=13098103&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13098103]

This issue is also related to: [WFLY-4697#comment-13083024|https://issues.jboss.org/browse/WFLY-4697?focusedCommentId=13083024&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13083024]
",2015/08/18 4:28 AM
WFLY-4612,"ejb3/src/main/java/org/jboss/as/ejb3/deployment/processors/EjbJndiBindingsDeploymentUnitProcessor.java

{code}
jndiBindingsLogMessage.append(""JNDI bindings for session bean named "" + sessionBean.getEJBName() + "" in deployment unit "" + deploymentUnit + "" are as follows:\n\n"");
{code}

That eventually gets logged at INFO.",2015/05/07 3:04 PM
WFLY-5153,"Ior-settings is not migrated in current time despite the fact that their values seem to be valid for migration.

If I have JacORB configuration like
{code}
<subsystem xmlns=""urn:jboss:domain:jacorb:1.4"">
    <orb socket-binding=""jacorb"" ssl-socket-binding=""jacorb-ssl"">
        <initializers security=""identity"" transactions=""on""/>
    </orb>
    <security client-requires=""ServerAuth"" server-supports=""ServerAuth"" server-requires=""ServerAuth""/>
    <ior-settings>
        <transport-config integrity=""required"" confidentiality=""supported"" trust-in-client=""required"" trust-in-target=""supported"" ""
            detect-replay=""required"" detect-misordering=""required""/>
        <as-context auth-method=""none""/>
        <sas-context caller-propagation=""supported""/>
    </ior-settings>
</subsystem>
{code}

The migration output will be 
{code}
        <subsystem xmlns=""urn:jboss:domain:iiop-openjdk:1.0"">
            <orb ssl-socket-binding=""jacorb-ssl"" socket-binding=""jacorb""/>
            <initializers transactions=""full"" security=""identity""/>
            <security server-requires=""ServerAuth"" server-supports=""ServerAuth"" client-requires=""ServerAuth""/>
        </subsystem>
{code}

but I would rather expect output like
{code}
<subsystem xmlns=""urn:jboss:domain:iiop-openjdk:1.0"">
    <orb ssl-socket-binding=""jacorb-ssl"" socket-binding=""jacorb""/>
    <initializers transactions=""full"" security=""identity""/>
    <security server-requires=""ServerAuth"" server-supports=""ServerAuth"" client-requires=""ServerAuth"" client-supports=""ServerAuth""/>
    <transport-config detect-misordering=""required"" detect-replay=""required"" trust-in-client=""required"" trust-in-target=""supported"" confidentiality=""supported"" integrity=""required""/>
    <as-context auth-method=""none""/>
</subsystem>
{code}",2015/08/21 4:07 AM
WFLY-5204,NoData,2015/08/25 8:11 PM
WFLY-4856,"When running {{legacy/messages}} subsystem tests with {{-Djboss.test.transformers.eap}} fail. Two testTransformersEPA_X_X_X fail assertions. See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=58617&buildTypeId=WF_MasterLinux&tab=buildResultsDiv for details.
",2015/07/02 3:53 AM
WFLY-4849,"When running {{legacy/messages}} subsystem tests with {{-Djboss.test.transformers.eap}} fail. Two fail with a {{ClassNotFoundException}} and two fail assertions. See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=58617&buildTypeId=WF_MasterLinux&tab=buildResultsDiv for details.

For now I'll {{@Ignore}} the tests.",2015/06/30 4:59 PM
WFLY-4534,"When trying to build 78099bb2fc with Maven 3.3.1 I get the following error from maven-enforcer plugin (at wildfly-feature-pack module):
{noformat}
[INFO] Building WildFly: Full Feature Pack 9.0.0.CR1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ wildfly-feature-pack ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (ban-bad-dependencies) @ wildfly-feature-pack ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-java-version) @ wildfly-feature-pack ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-maven-version) @ wildfly-feature-pack ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (ban-transitive-deps) @ wildfly-feature-pack ---
[WARNING] Rule 0: org.apache.maven.plugins.enforcer.BanTransitiveDependencies failed with message:
org.wildfly:wildfly-feature-pack:pom:9.0.0.CR1-SNAPSHOT
   org.wildfly:wildfly-client-all:jar:9.0.0.CR1-SNAPSHOT:compile has transitive dependencies:
      org.jboss.remotingjmx:remoting-jmx:jar:2.0.1.CR2:compile
         org.jboss.logging:jboss-logging:jar:3.2.1.Final:compile
         org.jboss.marshalling:jboss-marshalling:jar:1.4.10.Final:compile
         org.jboss.marshalling:jboss-marshalling-river:jar:1.4.10.Final:compile
         org.jboss.remoting:jboss-remoting:jar:4.0.8.Final:compile
         org.jboss.sasl:jboss-sasl:jar:1.0.5.Final:compile
         org.jboss.xnio:xnio-api:jar:3.3.1.Final:compile
         org.jboss.xnio:xnio-nio:jar:3.3.1.Final:compile
{noformat}
Oddly enough if you run {{mvn clean install -rf :wildfly-feature-pack}} then the build succeeds for the module..

I did try to specify {{-Dversion.enforcer.plugin=1.4}}, but that didn't help. ",2015/04/17 2:19 PM
WFLY-5575,"I'm seeing a group of linked NullPointerExceptions in our failover tests after a node joins a cluster and receives new cluster views:

{code}
2015/10/21 01:25:12:760 EDT [DEBUG][Thread-71] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - JBossStartup, server started!
[JBossINF] �[0m�[0m01:25:17,004 INFO  [org.jboss.ejb.client] (EJB default - 8) JBoss EJB Client version 2.1.2.Final
[JBossINF] �[0m�[0m01:26:18,074 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,ee,perf18) ISPN000094: Received new cluster view for channel server: [perf20|6] (3) [perf20, perf21, perf18]
[JBossINF] �[0m�[0m01:26:18,076 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,ee,perf18) ISPN000094: Received new cluster view for channel web: [perf20|6] (3) [perf20, perf21, perf18]
[JBossINF] �[0m�[0m01:26:18,077 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,ee,perf18) ISPN000094: Received new cluster view for channel hibernate: [perf20|6] (3) [perf20, perf21, perf18]
[JBossINF] �[0m�[0m01:26:18,079 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,ee,perf18) ISPN000094: Received new cluster view for channel ejb: [perf20|6] (3) [perf20, perf21, perf18]
[JBossINF] �[0m�[31m01:26:18,080 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (EJB default - 10) ISPN000136: Execution error: java.lang.NullPointerException
[JBossINF] 	at java.util.ArrayList.<init>(ArrayList.java:177)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$BaseTransactionInfo.<init>(PartitionHandlingManagerImpl.java:343)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$Commit1PCTransactionInfo.<init>(PartitionHandlingManagerImpl.java:317)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl.addPartialCommit1PCTransaction(PartitionHandlingManagerImpl.java:146)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkCacheNotFoundResponseInPartitionHandling(TxDistributionInterceptor.java:261)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:232)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:196)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:185)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:105)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:89)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:97)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingInterceptor.visitPrepareCommand(PartitionHandlingInterceptor.java:156)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:239)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:371)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:417)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:301)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)
[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:139)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{code}

{code}
[JBossINF] �[0m�[31m01:26:18,085 ERROR [org.infinispan.transaction.impl.TransactionCoordinator] (EJB default - 10) ISPN000097: Error while processing a prepare in a single-phase transaction: java.lang.NullPointerException
[JBossINF] 	at java.util.ArrayList.<init>(ArrayList.java:177)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$BaseTransactionInfo.<init>(PartitionHandlingManagerImpl.java:343)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$Commit1PCTransactionInfo.<init>(PartitionHandlingManagerImpl.java:317)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl.addPartialCommit1PCTransaction(PartitionHandlingManagerImpl.java:146)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkCacheNotFoundResponseInPartitionHandling(TxDistributionInterceptor.java:261)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:232)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:196)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:185)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:105)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:89)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:97)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingInterceptor.visitPrepareCommand(PartitionHandlingInterceptor.java:156)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:239)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:371)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:417)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:301)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)
[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:139)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{code}

{code}
[JBossINF] �[0m�[33m01:26:18,094 WARN  [org.infinispan.transaction.tm.DummyTransaction] (EJB default - 10) ISPN000112: exception while committing: javax.transaction.xa.XAException
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:213)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:159)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:371)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:417)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:301)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)
[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:139)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
[JBossINF] Caused by: java.lang.NullPointerException
[JBossINF] 	at java.util.ArrayList.<init>(ArrayList.java:177)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$BaseTransactionInfo.<init>(PartitionHandlingManagerImpl.java:343)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$Commit1PCTransactionInfo.<init>(PartitionHandlingManagerImpl.java:317)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl.addPartialCommit1PCTransaction(PartitionHandlingManagerImpl.java:146)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkCacheNotFoundResponseInPartitionHandling(TxDistributionInterceptor.java:261)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:232)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:196)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:185)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:105)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:89)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:97)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingInterceptor.visitPrepareCommand(PartitionHandlingInterceptor.java:156)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:239)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
[JBossINF] 	... 61 more
{code}

{code}
[JBossINF] �[0m�[33m01:26:18,100 WARN  [org.jboss.as.txn] (EJB default - 10) WFLYTX0027: The pre-jca synchronization org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization@6609d9b8 associated with tx TransactionImple < ac, BasicAction: 0:ffff0a105a36:-3e651229:562721b1:35ac status: ActionStatus.COMMITTED > failed during after completion: org.infinispan.commons.CacheException: javax.transaction.HeuristicRollbackException
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:50)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:139)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)
[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
[JBossINF] Caused by: javax.transaction.HeuristicRollbackException
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:402)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:417)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:301)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)
[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
[JBossINF] 	... 54 more
[JBossINF] Caused by: javax.transaction.xa.XAException
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:213)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:159)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:371)
[JBossINF] 	... 59 more
[JBossINF] Caused by: java.lang.NullPointerException
[JBossINF] 	at java.util.ArrayList.<init>(ArrayList.java:177)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$BaseTransactionInfo.<init>(PartitionHandlingManagerImpl.java:343)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl$Commit1PCTransactionInfo.<init>(PartitionHandlingManagerImpl.java:317)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingManagerImpl.addPartialCommit1PCTransaction(PartitionHandlingManagerImpl.java:146)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkCacheNotFoundResponseInPartitionHandling(TxDistributionInterceptor.java:261)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:232)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:196)
[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:185)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:105)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:89)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:97)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.partitionhandling.impl.PartitionHandlingInterceptor.visitPrepareCommand(PartitionHandlingInterceptor.java:156)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:239)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:172)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
[JBossINF] 	... 61 more
{code}

scenario: remote ejbs
failover type: jvmkill
configuration: REPL-SYNC
sample link: https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-repl-sync/9/console-perf18/consoleText",2015/10/26 5:04 AM
WFLY-5683,This looks like a unit problem.  e.g. 60 sec instead of 60 msec.,2015/11/15 11:15 AM
WFLY-4878,"It seems that wrong type comparision is used in TransformUtils class [1] when model node attribute is verified {{if(!value.equals(""off"")) ...}}

When looking at ModelNode code of {{equal}} method [2] it seems that the comparistion will be false in any case.

Found out during static code analyzis check.

[1] https://github.com/wildfly/wildfly/blob/master/legacy/jacorb/src/main/java/org/jboss/as/jacorb/TransformUtils.java#L84
[2] https://github.com/jbossas/jboss-dmr/blob/master/src/main/java/org/jboss/dmr/ModelNode.java#L1575",2015/07/07 6:34 AM
WFLY-4284,Part of jacorb subsystem has not been removed in iiop-openjdk subsystem PR. It should be removed.,2015/01/22 2:13 PM
WFLY-4489,"When the name attribute of {{<distributed-workmanager>}} is missing instead of a descriptive log message you get a {{NullPointerException}}. The issue is that the {{StringBuilder}} constructor is called with the value of the name attribute instead of the name of the name attribute (""name"").

Something like this:

{code}
<subsystem xmlns=""urn:jboss:domain:jca:2.0"">
    <distributed-workmanager/>
</subsystem>
{code}

Will produce a stack trace like this:

{code}
[org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)
	at org.jboss.as.server.ServerService.boot(ServerService.java:347)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:271)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at java.lang.StringBuilder.<init>(StringBuilder.java:112)
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.parseDistributedWorkManager(JcaExtension.java:560)
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:367)
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:119)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)
	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)
	at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1199)
	at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:457)
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:144)
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:106)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)
{code}

After the patch the stack trace looks like this:

{code}
org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.as.server.ServerService.boot(ServerService.java:347) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:271) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_40]
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[274,13]
Message: WFLYCTL0133: Missing required attribute(s): name
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.parseDistributedWorkManager(JcaExtension.java:563)
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:368)
	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:120)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]
	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]
	at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1199) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:457) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:144) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:106) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]
{code}
",2015/04/08 2:21 AM
WFLY-3731,"http://fpaste.org/125252/ shows what happens when the transaction has already been rolled back ().  
{quote}
WFLYEJB0458: Failure in caller transaction.: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)
{quote}
{quote}
09:02:13,666 INFO  [stdout] (default task-1) about to create entity 3253
09:02:13,666 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,666 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff7f000001:11d28655:53eb58d3:87 in state  RUN
09:02:13,666 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,667 INFO  [stdout] (default task-1) repeating invocation, count=3253
09:02:13,667 INFO  [stdout] (default task-1) about to create entity 3254
09:02:13,667 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012095: Abort of action id 0:ffff7f000001:11d28655:53eb58d3:87 invoked while multiple threads active within it.
09:02:13,667 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012108: CheckedAction::check - atomic action 0:ffff7f000001:11d28655:53eb58d3:87 aborting with 1 threads active!
09:02:13,667 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [stdout] (default task-1) repeating invocation, count=3254
09:02:13,668 INFO  [stdout] (default task-1) about to create entity 3255
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [stdout] (default task-1) repeating invocation, count=3255
09:02:13,668 INFO  [stdout] (default task-1) about to create entity 3256
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [stdout] (default task-1) repeating invocation, count=3256
09:02:13,669 INFO  [stdout] (default task-1) about to create entity 3257
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [stdout] (default task-1) repeating invocation, count=3257
09:02:13,669 INFO  [stdout] (default task-1) about to create entity 3258
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [stdout] (default task-1) repeating invocation, count=3258
09:02:13,670 INFO  [stdout] (default task-1) about to create entity 3259
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [stdout] (default task-1) repeating invocation, count=3259
09:02:13,670 INFO  [stdout] (default task-1) about to create entity 3260
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [stdout] (default task-1) repeating invocation, count=3260
09:02:13,671 INFO  [stdout] (default task-1) about to create entity 3261
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [stdout] (default task-1) repeating invocation, count=3261
09:02:13,671 INFO  [stdout] (default task-1) about to create entity 3262
09:02:13,672 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,672 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012121: TransactionReaper::doCancellations worker Thread[Transaction Reaper Worker 0,5,main] successfully canceled TX 0:ffff7f000001:11d28655:53eb58d3:87
09:02:13,672 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,673 INFO  [stdout] (default task-1) repeating invocation, count=3262
09:02:13,673 INFO  [stdout] (default task-1) about to create entity 3263
09:02:13,675 ERROR [org.jboss.as.ejb3] (default task-1) WFLYEJB0458: Failure in caller transaction.: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.registerInterposedSynchronization(TransactionSynchronizationRegistryImple.java:136)
        at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:111) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:46) [weld-core-impl-2.2.3.Final.jar:2014-07-07 07:39]
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:252) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:343) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448) [wildfly-security-manager-1.0.0.Final.jar:1.0.0.Final]
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)
        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
        at org.jboss.as.test.integration.jpa.txtimeout.SFSB1$$$view1.createEmployee(Unknown Source) [classes:]
        at org.jboss.as.test.integration.jpa.txtimeout.SimpleServlet.doGet(SimpleServlet.java:72) [classes:]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:247) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:234) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:153) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:197) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:737) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]

09:02:13,681 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component SFSB1 for method public void org.jboss.as.test.integration.jpa.txtimeout.SFSB1.createEmployee(java.lang.String,java.lang.String,int): javax.ejb.EJBTransactionRolledbackException: No transaction is running
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:161) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:254) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:343) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448) [wildfly-security-manager-1.0.0.Final.jar:1.0.0.Final]
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)
        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
        at org.jboss.as.test.integration.jpa.txtimeout.SFSB1$$$view1.createEmployee(Unknown Source) [classes:]
        at org.jboss.as.test.integration.jpa.txtimeout.SimpleServlet.doGet(SimpleServlet.java:72) [classes:]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:247) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:234) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:153) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:197) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:737) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]
Caused by: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.registerInterposedSynchronization(TransactionSynchronizationRegistryImple.java:136)
        at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:111) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:46) [weld-core-impl-2.2.3.Final.jar:2014-07-07 07:39]
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:252) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        ... 62 more
{quote}

Test case is available via https://github.com/scottmarlow/wildfly/tree/transactiontimeout_clientut",2014/08/13 11:01 AM
WFLY-3422,A new code source is being created for every class.  We should be mapping code signer lists to cached code sources instead.,2014/05/30 11:35 AM
WFLY-3530,Both for 8.2 and 9.0.,2014/06/20 7:42 AM
WFLY-4936,"{noformat}
10:18:14,721 SEVERE [org.jgroups.protocols.UDP] (Thread-0 (ActiveMQ-server-ActiveMQServerImpl::serverUUID=34818b2c-2b93-11e5-aeb7-199c6bd1db3c-31443612)) failed setting ip_ttl: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:497)
    at org.jgroups.protocols.UDP.setTimeToLive(UDP.java:339)
    at org.jgroups.protocols.UDP.createSockets(UDP.java:368)
    at org.jgroups.protocols.UDP.start(UDP.java:270)
    at org.jgroups.stack.ProtocolStack.startStack(ProtocolStack.java:965)
    at org.jgroups.JChannel.startStack(JChannel.java:891)
    at org.jgroups.JChannel._preConnect(JChannel.java:553)
    at org.jgroups.JChannel.connect(JChannel.java:288)
    at org.jgroups.JChannel.connect(JChannel.java:279)
    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint$JChannelWrapper.connect(JGroupsBroadcastEndpoint.java:211)
    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint.internalOpen(JGroupsBroadcastEndpoint.java:115)
    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint.openClient(JGroupsBroadcastEndpoint.java:92)
    at org.apache.activemq.artemis.core.cluster.DiscoveryGroup.start(DiscoveryGroup.java:105)
    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.initialise(ServerLocatorImpl.java:380)
    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:846)
    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.connect(ServerLocatorImpl.java:687)
    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.connect(ServerLocatorImpl.java:671)
    at org.apache.activemq.artemis.core.server.cluster.ClusterController$ConnectRunnable.run(ClusterController.java:448)
    at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$1.run(OrderedExecutorFactory.java:105)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.IOException: Method not implemented!
    at java.net.DualStackPlainDatagramSocketImpl.setTimeToLive(DualStackPlainDatagramSocketImpl.java:236)
    ... 25 more
{noformat}
",2015/07/16 4:49 AM
WFLY-5158,"Seen in ejb-ejbservlet and http-session scenarios intermittently (no matter what failover type or cache is used). 

When node perf18 is restarted after failover other servers log this error several times: 
{code}
[JBossINF] [0m[31m16:11:43,595 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-107) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf18
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:752)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$6(JGroupsTransport.java:599)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport$$Lambda$34/238012590.apply(Unknown Source)
[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1954)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.timeout(RspListFuture.java:40)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher$$Lambda$32/2073718099.run(Unknown Source)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-jvmkill-repl-async/4/console-perf19/

In this particular test run, after perf18 restarted , perf19 logged the first error in 2 seconds, perf20 in 30 seconds, perf21 in 10 seconds.

timeline:
{code}
perf18: [JBossINF] [0m[0m16:11:42,361 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta1) started in 20244ms - Started 747 of 993 services (424 services are lazy, passive or on-demand)
perf19: [JBossINF] [0m[31m16:11:43,595 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-107) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf18
perf20: [JBossINF] [0m[31m16:12:12,836 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-51) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf18
perf21: [JBossINF] [0m[31m16:11:52,826 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-22) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf18
{code}

This error also intermittently appears after server is shutdown.

Total number of errors for this particular test run: 1183",2015/08/21 6:29 AM
WFLY-4786,"Tests from wildfly-ts-integ-clustering module fails once we change default binding interfaces by -Dnode0 and -Dnode1 properties.

See https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-as-testsuite-clustering/
* build 5 binds to localhost (no -Dnode*)
* build 6 uses -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2

Similar failures were addressed for EAP 6 by https://bugzilla.redhat.com/show_bug.cgi?id=1076015",2015/06/16 6:30 AM
WFLY-4153,"{noformat}
In case that you specify interface type for entity bean in ejb-jar.xml that does not correspond with definition in the class of the bean then just Null Pointer exception is shown without any other info what's happening.

I mean when you define bean through interface as remote and the ejb-jar.xml describes bean interfaces as local
{code}
public interface SomeBean extends EJBObject {
...
}
public interface SomeBeanHome extends EJBHome {
...
}
{code}
and the ejb-jar.xml looks like
{code}
<ejb-jar xmlns=""http://java.sun.com/xml/ns/javaee""
  xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
  xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"" version=""3.1"">
  <enterprise-beans>
    <entity>
      <ejb-name>SomeBean</ejb-name>
      <local-home>package.SomeBeanHome</local-home>
      <local>package.SomeBean</local>
      <ejb-class>package.SomeBeanBean</ejb-class>
      <persistence-type>Bean</persistence-type>
      <prim-key-class>java.lang.Integer</prim-key-class>
      <reentrant>true</reentrant>
    </entity>
  </enterprise-beans>
</ejb-jar>
{code}

then NullPointerException is thrown
{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC00001: Failed to start service jboss.deployment.unit.""entitybeanbmp.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""entitybeanbmp.jar"".INSTALL: JBAS018733: Failed to process phase INSTALL of deployment ""entitybeanbmp.jar""                                      
  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:123) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]                  
  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]                           
  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]                              
  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_23]                                   
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_23]                                       
  at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_23]                                             
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011058: Failed to install component SimpleBMPBean                             
  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deploy(ComponentInstallProcessor.java:102)                                
  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:116) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]                  
  ... 5 more
Caused by: java.lang.NullPointerException                                                    
  at org.jboss.as.ejb3.component.entity.EntityBeanObjectViewConfigurator$2.configureDependency(EntityBeanObjectViewConfigurator.java:108)                            
  at org.jboss.as.ejb3.component.entity.EntityBeanObjectViewConfigurator$2.configureDependency(EntityBeanObjectViewConfigurator.java:105)                            
  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deployComponent(ComponentInstallProcessor.java:139)                                   
  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deploy(ComponentInstallProcessor.java:95)                                 
  ... 6 more 
{code}

instead of some informative one.
{noformat}",2014/12/04 3:39 AM
WFLY-4121,An update in {{NetworkUtils.formatPossibleIpv6Address(address)}} method canonizes IPv6 addresses now. The {{AdvancedLdapLoginModuleTestCase}} has to be updated to use correct format for LDAP server SPN in KDC.,2014/11/25 4:02 AM
WFLY-5621,"The download zip for WildFly 10.0CR4 contains the xsd files for HornetQ messaging configurations in ""docs/schema"". Those are obsoleted by ActiveMQ and should be removed.

-jboss-as-messaging-deployment_1_0.xsd  (deployment of a ""-jms.xml"" file according to this old schema will fail with an error anyway), replaced by ""wildfly-messaging-activemq-deployment_1_0.xsd"")
-jboss-as-messaging_x_y.xsd (server configuration files, replaced by ""wildfly-messaging-activemq_1_0.xsd"").",2015/11/03 2:16 PM
WFLY-5464,"*Description of problem:*
 JDR report contains some legacy reference to AS7

*How reproducible:*
 Always

*Steps to Reproduce:*
# Create a JDR report using one of provided scripts (depends on OS)
# Check the created report
## cd $JDR_LOCATION
## find | grep as7

*Actual results:*
{noformat}
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/configuration.json
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/tree.txt
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/dump-services.json
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/deployment-dependencies.txt
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/jarcheck.txt
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/cluster-proxies-configuration.json
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/local-module-dependencies.txt
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/system-properties.txt
./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/jndi-view.json
{noformat}

*Expected results:*
No references to AS7",2015/10/02 10:35 AM
WFLY-5806,"Seen in failover tests - HA Singleton deployment scenarios - no matter what failover type was used (graceful shutdown, jvmkill, undeploy).

When the node is elected to operate as the singleton provider, sometimes this INFO message is logged: 
{code}
INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-singleton-jbossall.ear, performing full redeploy instead.
{code}
Then the redeploy will fail:
{code}
[JBossINF] [0m[33m05:41:07,118 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000004: Failure during stop of service jboss.deployment.subunit.""clusterbench-ee7-singleton-jbossall.ear"".""clusterbench-ee7-web-passivating.war"".FIRST_MODULE_USE.service: java.lang.IllegalStateException
[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Then these events follows:
 - This node will no longer operate as the singleton provider
 - immediately after that the node is re-elected as the singleton provider and the deployment starts successfully 

See the full stacktrace:
{code}
[JBossINF] [0m[0m05:41:07,109 INFO  [org.wildfly.clustering.server] (OOB-19,ee,perf19) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.deployment.unit.""clusterbench-ee7-singleton-jbossall.ear"".FIRST_MODULE_USE service
[JBossINF] [0m[0m05:41:07,112 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-singleton-jbossall.ear, performing full redeploy instead.
[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-web-passivating.war, performing full redeploy instead.
[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-ejb.jar, performing full redeploy instead.
[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-web-default.war, performing full redeploy instead.
[JBossINF] [0m[33m05:41:07,118 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000004: Failure during stop of service jboss.deployment.subunit.""clusterbench-ee7-singleton-jbossall.ear"".""clusterbench-ee7-web-passivating.war"".FIRST_MODULE_USE.service: java.lang.IllegalStateException
[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 
[JBossINF] [0m[33m05:41:07,117 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000004: Failure during stop of service jboss.deployment.subunit.""clusterbench-ee7-singleton-jbossall.ear"".""clusterbench-ee7-web-default.war"".FIRST_MODULE_USE.service: java.lang.IllegalStateException
[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 
[JBossINF] [0m[33m05:41:07,116 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000004: Failure during stop of service jboss.deployment.subunit.""clusterbench-ee7-singleton-jbossall.ear"".""clusterbench-ee7-ejb.jar"".FIRST_MODULE_USE.service: java.lang.IllegalStateException
[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 
[JBossINF] [0m[0m05:41:07,150 INFO  [org.wildfly.clustering.server] (OOB-19,ee,perf19) WFLYCLSV0002: This node will no longer operate as the singleton provider of the jboss.deployment.unit.""clusterbench-ee7-singleton-jbossall.ear"".FIRST_MODULE_USE service
[JBossINF] [0m[0m05:41:07,170 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting JGroups channel hibernate
[JBossINF] [0m[0m05:41:07,171 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher for channel hibernate
[JBossINF] [0m[0m05:41:07,171 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web
[JBossINF] [0m[0m05:41:07,172 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web
[JBossINF] [0m[0m05:41:07,172 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-ejb.jar) in 58ms
[JBossINF] [0m[0m05:41:07,173 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb
[JBossINF] [0m[0m05:41:07,173 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000082: Stopping the RpcDispatcher for channel ejb
[JBossINF] [0m[0m05:41:07,176 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-default.war) in 62ms
[JBossINF] [0m[0m05:41:07,175 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-passivating.war) in 61ms
[JBossINF] [0m[0m05:41:07,184 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment clusterbench-ee7-singleton-jbossall.ear (runtime-name: clusterbench-ee7-singleton-jbossall.ear) in 70ms
[JBossINF] [0m[0m05:41:07,186 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""clusterbench-ee7-singleton-jbossall.ear"" (runtime-name: ""clusterbench-ee7-singleton-jbossall.ear"")
[JBossINF] [0m[0m05:41:07,187 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 82) WFLYCLINF0003: Stopped default cache from server container
[JBossINF] [0m[0m05:41:07,190 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000080: Disconnecting JGroups channel server
[JBossINF] [0m[0m05:41:07,190 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000082: Stopping the RpcDispatcher for channel server
[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0207: Starting subdeployment (runtime-name: ""clusterbench-ee7-web-passivating.war"")
[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0207: Starting subdeployment (runtime-name: ""clusterbench-ee7-web-default.war"")
[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: ""clusterbench-ee7-ejb.jar"")
[JBossINF] [0m[33m05:41:07,294 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment ""deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-default.war"" is using a private module (""org.infinispan:main"") which may be changed or removed in future versions without notice.
[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.unsupported] (MSC service thread 1-8) WFLYSRV0019: Deployment ""deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-default.war"" is using an unsupported module (""org.jgroups:main"") which may be changed or removed in future versions without notice.
[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment ""deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-passivating.war"" is using a private module (""org.infinispan:main"") which may be changed or removed in future versions without notice.
[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.unsupported] (MSC service thread 1-1) WFLYSRV0019: Deployment ""deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-passivating.war"" is using an unsupported module (""org.jgroups:main"") which may be changed or removed in future versions without notice.
[JBossINF] [0m[0m05:41:07,423 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000078: Starting JGroups channel server
[JBossINF] [0m[0m05:41:07,424 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000094: Received new cluster view for channel server: [perf21|13] (4) [perf21, perf18, perf20, perf19]
[JBossINF] [0m[0m05:41:07,424 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000079: Channel server local address is perf19, physical addresses are [172.19.1.3:55200]
[JBossINF] [0m[0m05:41:07,426 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000078: Starting JGroups channel web
[JBossINF] [0m[0m05:41:07,427 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000094: Received new cluster view for channel web: [perf21|13] (4) [perf21, perf18, perf20, perf19]
[JBossINF] [0m[0m05:41:07,427 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000079: Channel web local address is perf19, physical addresses are [172.19.1.3:55200]
[JBossINF] [0m[0m05:41:07,442 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000078: Starting JGroups channel ejb
[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000094: Received new cluster view for channel ejb: [perf21|13] (4) [perf21, perf18, perf20, perf19]
[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000079: Channel ejb local address is perf19, physical addresses are [172.19.1.3:55200]
[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000078: Starting JGroups channel hibernate
[JBossINF] [0m[0m05:41:07,445 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000094: Received new cluster view for channel hibernate: [perf21|13] (4) [perf21, perf18, perf20, perf19]
[JBossINF] [0m[0m05:41:07,446 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000079: Channel hibernate local address is perf19, physical addresses are [172.19.1.3:55200]
[JBossINF] [0m[0m05:41:07,510 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 82) WFLYCLINF0002: Started default cache from server container
[JBossINF] [0m[0m05:41:10,357 INFO  [org.wildfly.clustering.server] (OOB-20,ee,perf19) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.deployment.unit.""clusterbench-ee7-singleton-jbossall.ear"".FIRST_MODULE_USE service
[JBossINF] [0m[0m05:41:10,362 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) WFLYWELD0003: Processing weld deployment clusterbench-ee7-singleton-jbossall.ear
[JBossINF] [0m[0m05:41:10,384 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) WFLYWELD0003: Processing weld deployment clusterbench-ee7-ejb.jar
[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named 'RemoteStatelessSBImpl' in deployment unit 'subdeployment ""clusterbench-ee7-ejb.jar"" of deployment ""clusterbench-ee7-singleton-jbossall.ear""' are as follows:
[JBossINF] 
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB
[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB
[JBossINF] 	java:module/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB
[JBossINF] 	java:jboss/exported/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl
[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatelessSBImpl
[JBossINF] 	java:module/RemoteStatelessSBImpl
[JBossINF] 
[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named 'RemoteStatefulSBImpl' in deployment unit 'subdeployment ""clusterbench-ee7-ejb.jar"" of deployment ""clusterbench-ee7-singleton-jbossall.ear""' are as follows:
[JBossINF] 
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB
[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB
[JBossINF] 	java:module/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB
[JBossINF] 	java:jboss/exported/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl
[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatefulSBImpl
[JBossINF] 	java:module/RemoteStatefulSBImpl
[JBossINF] 
[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named 'LocalStatefulSB' in deployment unit 'subdeployment ""clusterbench-ee7-ejb.jar"" of deployment ""clusterbench-ee7-singleton-jbossall.ear""' are as follows:
[JBossINF] 
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB
[JBossINF] 	java:app/clusterbench-ee7-ejb/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB
[JBossINF] 	java:module/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB
[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/LocalStatefulSB
[JBossINF] 	java:app/clusterbench-ee7-ejb/LocalStatefulSB
[JBossINF] 	java:module/LocalStatefulSB
[JBossINF] 
{code} 

Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-singleton-deployment-jvmkill-random-election-policy/5/console-perf19/",2015/12/08 6:49 AM
WFLY-3248,"What we did a while back, we made the sync-tcp the default configuration for running the clustering tests. However, we kept a extended testsuite with other combinations and other unimportant clustering tests.",2014/04/10 3:12 PM
WFLY-5524,NoData,2015/10/14 5:31 AM
WFLY-3775,"Currently @TransactionAttribute annotations are allowed only on public methods. It seems to be a reasonable rule because components are accesses by their public interfaces and session beans can be also accessed by a no-interface view that exposes all public methods of the bean class. Nevertheless in case of singletons @PostConstruct and @PreDestroy annotations can be applied to protected methods for instance. In such a case transaction attributes are silently ignored.

(org.jboss.as.ejb3.component.EJBComponentCreateService:147)",2014/08/26 2:12 PM
WFLY-3472,"Description from linked BZ:
Move the domain.conf call in domain.sh (and also domain.conf.bat in domain.bat) so it's called after the JBOSS_HOME is set. Then it's possible to use it in the configuration file.

E.g. we use following line to enable security manager:
JAVA_OPTS=""$JAVA_OPTS -Djava.security.manager -Djava.security.policy==/tmp/security.policy -Djboss.home.dir=$JBOSS_HOME -Djboss.modules.policy-permissions=true""

The order is correct in the scripts for standalone (so the JBOSS_HOME is available in its conf file).",2014/06/10 5:51 AM
WFLY-3847,"The implementation of AS7BindingRegistry#lookup always return null.

This method is called by HornetQ when JNDI entries for its resources
are updated using its own management API.
We advise against using it in WildFly (and use WildFly own management API) but we must still respect the SPI contract for this method.",2014/09/11 9:18 AM
WFLY-4426,"HornetQReloadRequiredHandlers will call context.reloadRequired() if there performRuntime method is called and a HornetQ server service is installed.

In turn, it calls context.revertReloadRequired() in their rollbackRuntime if a HornetQ server service is installed.

However it is possible that at boot time, there is not HornetQ server installed when the performRuntime is installed (so context.reloadRequired is not called).
Then if an operation fails at boot time and the HornetQReloadRequiredHandlers op is rolled back, there will then be an installed HornetQ server and  context.revertReloadRequired() will be called.

This generated a NPE before  WFCORE-591 but it is also a programming error to call context.revertReloadRequired() in a OSH if context.reloadRequired() has not been called beforehands",2015/03/13 10:27 AM
WFLY-3986,"When deploying my ear package now I get messages about wrong transaction attribute for lifecycle methods (see below).
Unfortunately the name of the class where these methods are in is not given.
This should be added to the message for easier locating the problems.

16.10. 22:20:28,180 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method afterActivation(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,183 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method beforePassivate(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,185 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method afterActivation(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,190 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method init(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,191 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method preDestroy(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,193 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method prePassivate(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,194 WARN  [org.jboss.as.ejb3#create] WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method init(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
",2014/10/16 4:26 PM
WFLY-3236,"http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.8

Ouch!

{noformat}
HTTP/1.1 200 OK
Connection: keep-alive
Last-Modified: Mon, 07 Apr 2014 10:14:49 GMT
X-Powered-By: Undertow 1
Server: Wildfly 8
Content-Type: text/html
Content-Length: 2429
Date: Wed, 09 Apr 2014 13:29:37 GMT
{noformat}",2014/04/09 9:34 AM
WFLY-3322,"Calling operations on messaging resources that do not exist fails with a cryptic error:

{noformat}
[standalone@localhost:9990 /] /subsystem=messaging/hornetq-server=default/runtime-queue=non-exisiting-queue:count-messages
{
    ""outcome"" => ""failed"",
    ""result"" => undefined,
    ""failure-description"" => ""JBAS014749: Operation handler failed: null"",
    ""rolled-back"" => true
{noformat}

Instead, the normal error for that case should be return:

{noformat}
[standalone@localhost:9990 /] /subsystem=messaging/hornetq-server=default/runtime-queue=non-exisiting-queue:count-messages
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS014807: Management resource '[
    (\""subsystem\"" => \""messaging\""),
    (\""hornetq-server\"" => \""default\""),
    (\""runtime-queue\"" => \""non-exisiting-queue\"")
]' not found"",
    ""rolled-back"" => true
}
{noformat}
",2014/05/07 9:02 AM
WFLY-4062,"Enabling statistics for webservices subsystem is not persisted in standalone.xml/domain.xml

/subsystem=webservices:write-attribute(name=statistics-enabled,value=true)

It should persist as below

<subsystem xmlns=""urn:jboss:domain:webservices:2.0"" statistics-enabled=""true"">",2014/11/06 7:47 PM
WFLY-4511,"Description of problem:
* git://git.app.eng.bos.redhat.com/jbossas/jboss-as.git
* ejb3/src/main/java/org/jboss/as/ejb3/tx/CMTTxInterceptor.java

There is stale code catching ApplicationDeadlockException and attempting to retry the transaction. This results in a failure if the exception is raised and retry does not occur.

Version-Release number of selected component (if applicable):


How reproducible:
Consistently

Steps to Reproduce:
* Visual Inspection
OR
* Register a transaction Synchronization object which raises the exception during beforeCompletion()

Note that EAP no longer raises this exception. The catch block code handling ApplicationDeadlockException seems to be an artifact of EAP 4 and should simply be removed.

Actual results:
Retry does not occur

Expected results:
Retry should not be attempted by this code",2015/04/14 1:48 AM
WFLY-4120,"Regarding JSR 109, chapter 6.3 the ""handler chain file can also be packaged and specified in the annotation such that, it is accessible as a resource from the ClassPath. At runtime, container providers must first try to access the handler chain file as per the locations specified in JSR-181 specification. Failing that, they must try to access it as a resource from the ClassPath.""

The JBoss AS Documentation states that ""The war is considered to be a single module, so classes defined in WEB-INF/lib are treated the same as classes in WEB-INF/classes. All classes packaged in the war will be loaded with the same class loader"" (https://docs.jboss.org/author/display/AS71/Class+Loading+in+AS7).

Following this statements I think it should be fine to have a HandlerChain-annnotated Webservice within a JAR inside a WAR (WEB-INF/lib) referencing a handler chain file that ist not part of the JAR but resides in WEB-INF/classes. However this situation results in 

{code}
Internal Server Error
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""JBAS014671: Failed services"" => {""jboss.deployment.unit.\""testjsr109.war\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""testjsr109.war\"".PARSE: JBAS018733: Failed to process phase PARSE of deployment \""testjsr109.war\""
    Caused by: javax.xml.ws.WebServiceException: JBAS015507: Handler chain config file handlerchain.xml not found in ResourceRoot [root=\""/D:/tools/wildfly-8.2.0.Final/bin/content/testjsr109.war/WEB-INF/lib/testjsr109.jar\""]""}},
    ""rolled-back"" => true
}
{code}

The implementation of org.jboss.as.webservices.injection.WSHandlerChainAnnotationProcessor seems to expect, that the handler chain file is always part of the ResourceRoot the annotated WebService lives in. With respect to JSR 109 I think that this expectation is wrong and that a handler chain file outside the JAR is a valid scenario. ",2014/11/24 8:58 AM
WFLY-5036,"The module integrating Infinispan storage for Hibernate Search indexes is currently duplicated, as a result of a rename of the project ownership and it being moved from Hibernate to Infinispan for maintenance, and not all dependencies being in synch yet.

This problem might be resolved by the move to feature packs, but creating this issue to make sure of that.

As far as I know the problem doesn't result in any lack of functionality, other than taking some unnecessary space.",2015/07/30 6:23 AM
WFLY-5784,NoData,2015/12/04 2:39 AM
WFLY-4984,"As a follow up to JBEAP-215, this bug report is a member of a series addressing CLI management capabilities. It is of {color:green}Minor{color} priority though.

h3. Display balancer's stickySession, stickySessionRemove, stickySessionForce, waitWorker and maxattempts properties
At the moment, this is all there is to see as far as *balancer* runtime configuration goes:
{noformat}
""balancer"" => {
    ""qa_balancer"" => {""node"" => {""worker-2"" => {
        ""load"" => 89,
        ""status"" => ""NODE_UP"",
        ""context"" => {""/clusterbench"" => {
            ""requests"" => 0,
            ""status"" => ""enabled""
        }}
    }}},
...
{noformat}
h3. Call to action
Display runtime configuration properties for each balancer; especially these concerning session stickiness. It would help users debug their complex highly available environments without having to dauntingly parse DEBUG logs.   ",2015/07/21 7:59 AM
WFLY-4285,"When changing transaction mode to ""NONE"" for the cache containter ""web"" in standalone-ha.xml, starting the standalone server in the HA mode and deploying the ""clusterbench"" application (see the attachments), a NullPointerException occurs.

Clusterbench git repo:
https://github.com/clusterbench/clusterbench

Stacktrace:
{code}
11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war cache from web container
11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container
11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started dist cache from ejb container
11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started dist cache from web container
11:13:17,554 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 66) MSC000001: Failed to start service jboss.clustering.registry.web.default: org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException
        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.NullPointerException
        at org.wildfly.clustering.ee.infinispan.InfinispanBatcher.createBatch(InfinispanBatcher.java:64)
        at org.wildfly.clustering.ee.infinispan.InfinispanBatcher.createBatch(InfinispanBatcher.java:41)
        at org.wildfly.clustering.server.registry.CacheRegistry.getLocalEntry(CacheRegistry.java:128)
        at org.wildfly.clustering.server.registry.CacheRegistry.<init>(CacheRegistry.java:76)
        at org.wildfly.clustering.server.registry.CacheRegistryFactory$1.<init>(CacheRegistryFactory.java:53)
        at org.wildfly.clustering.server.registry.CacheRegistryFactory.createRegistry(CacheRegistryFactory.java:53)
        at org.wildfly.clustering.server.registry.RegistryBuilder.start(RegistryBuilder.java:83)
        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)
        ... 4 more

11:13:17,586 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 65) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.
11:13:17,587 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 65) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.
11:13:17,601 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started clusterbench-ee7.ear/clusterbench-ee7-ejb.jar cache from ejb container
11:13:18,102 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""infinispan""),
    (""cache-container"" => ""web"")
]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.clustering.registry.web.default"" => ""org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException
    Caused by: java.lang.NullPointerException""}}
11:13:18,125 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 36) WFLYSRV0010: Deployed ""clusterbench-ee7.ear"" (runtime-name : ""clusterbench-ee7.ear"")
11:13:18,125 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 36) WFLYSRV0010: Deployed ""sample.war"" (runtime-name : ""sample.war"")
11:13:18,126 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.clustering.registry.web.default: org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException

11:13:18,146 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
11:13:18,147 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
11:13:18,147 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 9.0.0.Alpha2-SNAPSHOT (WildFly Core 1.0.0.Alpha15) started (with errors) in 6312ms - Started 769 of 960 services (12 services failed or missing dependencies, 333 services are lazy, passive or on-demand)

{code}

",2015/01/23 5:16 AM
WFLY-3479,"e.g.

{code}
    static final SimpleAttributeDefinition SHUTDOWN_TIMEOUT = new SimpleAttributeDefinitionBuilder(ModelKeys.SHUTDOWN_TIMEOUT, ModelType.LONG, true)
            .setXmlName(Attribute.SHUTDOWN_TIMEOUT.getLocalName())
            .setAllowExpression(true)
            .setFlags(AttributeAccess.Flag.RESTART_ALL_SERVICES)
            .setDefaultValue(new ModelNode().set(25000))
            .build()
    ;
{code}

specifies long as the type, but the default value is int, moreover xsd also says int

{code}
<xs:attribute name=""shutdown-timeout"" type=""xs:int"" default=""25000"">
{code}
",2014/06/10 5:10 PM
WFLY-6228,NoData,2016/02/16 9:57 AM
WFLY-6871,"e.g. Hindu (hi_IN) 

{noformat}
[rhusar@syrah wildfly-10.1.0.Final-SNAPSHOT]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1
JAVA_OPTS already set in environment; overriding default settings with values:  -Duser.country=IN -Duser.language=hi
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /Users/rhusar/wildfly/build/target/wildfly-10.1.0.Final-SNAPSHOT

  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home/bin/java

  JAVA_OPTS:  -server  -Duser.country=IN -Duser.language=hi

=========================================================================

१९:४७:२२,२४४ INFO  [org.jboss.modules] (main) JBoss Modules version 1.5.2.Final
१९:४७:२२,३९० INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
१९:४७:२२,४४९ INFO  [org.jboss.as] (MSC service thread १-७) WFLYSRV0049: WildFly Core 2.2.0.CR8 ""Kenny"" starting
१९:४७:२३,०४२ ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)
	at org.jboss.as.server.ServerService.boot(ServerService.java:357)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:299)
	at java.lang.Thread.run(Thread.java:745)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[388,9]
Message: Unexpected element '{urn:jboss:domain:singleton:1.0}subsystem'
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:108)
	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)
	at org.jboss.as.server.parsing.StandaloneXml_4.parseServerProfile(StandaloneXml_4.java:546)
	at org.jboss.as.server.parsing.StandaloneXml_4.readServerElement(StandaloneXml_4.java:242)
	at org.jboss.as.server.parsing.StandaloneXml_4.readElement(StandaloneXml_4.java:141)
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:103)
	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:49)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)
	... 3 more

१९:४७:२३,०४३ FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
१९:४७:२३,०५३ INFO  [org.jboss.as] (MSC service thread १-४) WFLYSRV0050: WildFly Core 2.2.0.CR8 ""Kenny"" stopped in ६ms
{noformat}",2016/07/21 1:55 PM
WFLY-6926,"Seen in http-session scenarios with *DIST* cache only. REPL cache scenarios seem not to be affected.

TimeoutExceptions occur right away after sending first request and definitely result in client getting 500:

{code}
[JBossINF] [0m[31m04:31:39,033 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf19
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:801)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$1(JGroupsTransport.java:642)
[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.staggeredProcessNext(CommandAwareRpcDispatcher.java:375)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.lambda$processCallsStaggered$3(CommandAwareRpcDispatcher.java:357)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Client:
{code}
2016/08/08 04:31:39:068 EDT [WARN ][Runner - 4] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  Internal Server Error>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: Internal Server Error
	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:163)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:745)
{code}

I was able to reproduce it even with a very small load of 30 sessions.


Server link (run with 30 sessions):
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-session-jvmkill-dist-sync/27/console-perf21/consoleText

Client link (run with 30 sessions):
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-session-jvmkill-dist-sync/27/console-perf17/consoleText

This issue occurs under different conditions than JBEAP-3779 (which is similar), that's why I opened new issue.
Number of occurrences of TimeoutExceptions is very high. The server logs are full of them. 
This issue makes clustering with *DIST* cache unusable, thus giving blocker priority. 

Also, there is a issue with shutting down the servers in the end of the test, I don't know if it can be related, but I am hitting it constantly in the http-session DIST scenarios.
The server shutdown usually gets stuck on this command:
{code}
[JBossINF] [0m[0m04:38:51,694 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web
{code}

*EDIT:*
Also ejb-remote tests with *DIST* cache are affected (even if only 20 sessions are created).

Server log for ejb-remote run:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf20/

Client log for ejb-remote run:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf17/

*EDIT #2:*
Can be very easily reproduced locally. Just start a cluster of at least 3 servers with clusterbench deployed. Then do few requests to various nodes until you get 500 as a response. Also notice, when shutting down a node, which logged TimeoutException before, the node won't stop and get stuck during the shutdown.
",2016/08/08 6:55 AM
WFLY-6315,"We suspected that calling session.invalidate() on an already invalidated session with replication-granularity set to ""ATTRIBUTE"" will throw a NullPointerException, but from the specification it should throw an IllegalStateException instead.

Stack trace as below:
{noformat}
13:12:35,554 ERROR [io.undertow.request] (default task-32) UT005023: Exception handling request to /<our system url>: java.lang.NullPointerException
    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:103)
    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:100)
    at org.jboss.as.clustering.infinispan.invoker.SimpleCacheInvoker.invoke(SimpleCacheInvoker.java:34)
    at org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.invoke(RetryingCacheInvoker.java:87)
    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:109)
    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:53)
    at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:74)
    at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:359)
    at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:140)
    at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
... // our application code, just calling ""session.invalidate()""
{noformat}

We also enclosed the simplified samples to reproduce this issue (session-invalidate-noreplication.war, session-invalidate-replication-attribute.war, session-invalidate-replication-session.war). In general they are the same except the replication-granularity (in jboss-web.xml => replication-granularity) settings.

# session-invalidate-noreplication.war and session-invalidate-replication-session.war works correctly as they are throwing IllegalStateException.
# session-invalidate-replication-attribute.war is buggy because it throw NullPointerException instead.

For more information, please refer to https://developer.jboss.org/message/947295


*Updated in 2016-04-27*
Test again in Wildfly 8.2.1.Final, Wildfly 10.0.0.Final and Wildfly 10.1.0.Final-SNAPSHOT (master branch), with HA profile (2 nodes in same machine), with my updated WARs, detail as below:
*Wildfly 8.2.1.Final*:
* session-invalidate-noreplication.war - throwing IllegalStateException in the index.jsp (line 62), which is expected, detail stacktrace as below:
{noformat}
15:42:56,424 INFO  [stdout] (default task-9) {} session.invalidate() throw IllegalStateException, but it is intended!!!
15:42:56,424 ERROR [stderr] (default task-9) {} java.lang.IllegalStateException: UT000021: Session already invalidated
15:42:56,424 ERROR [stderr] (default task-9) {} 	at io.undertow.server.session.InMemorySessionManager$SessionImpl.invalidate(InMemorySessionManager.java:415)
15:42:56,425 ERROR [stderr] (default task-9) {} 	at io.undertow.server.session.InMemorySessionManager$SessionImpl.invalidate(InMemorySessionManager.java:404)
15:42:56,425 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)
15:42:56,425 ERROR [stderr] (default task-9) {} 	at org.apache.jsp.index_jsp._jspService(index_jsp.java:62)
15:42:56,425 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)
15:42:56,425 ERROR [stderr] (default task-9) {} 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:72)
15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:42:56,428 ERROR [stderr] (default task-9) {} 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)
15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)
15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.lang.Thread.run(Thread.java:745)
{noformat}
* session-invalidate-replication-session.war - do *NOT* throw IllegalStateException when invalidating an already invalidated session, which is incorrect. My test just print:
{noformat}
15:38:38,568 ERROR [stderr] (default task-4) {} Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException
{noformat}
* session-invalidate-replication-attribute.war - throwing NullPointerException in the index.jsp (line 62), which is incorrect. Detail stacktrace as below:
{noformat}
15:38:57,894 ERROR [io.undertow.request] (default task-6) {} UT005023: Exception handling request to /session-invalidate-replication-attribute/index.jsp: org.apache.jasper.JasperException: JBWEB004038: An exception occurred processing JSP page /index.jsp at line 7

4: <%
5: 	if (request.getParameter(""logout"") != null) {
6: 		try {
7: 			session.invalidate();  // invalidate the invalidated session
8: 			System.err.println(""Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException"");
9: 		} catch (IllegalStateException e) {
10: 			// expected to throw IllegalStateException when invalidate a invalidated session


Stacktrace:
	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:494) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:408) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:72) [classes:]
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761) [undertow-core-1.1.8.Final.jar:1.1.8.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_92]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_92]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_92]
Caused by: java.lang.NullPointerException
	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:103)
	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:100)
	at org.jboss.as.clustering.infinispan.invoker.SimpleCacheInvoker.invoke(SimpleCacheInvoker.java:34)
	at org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.invoke(RetryingCacheInvoker.java:87)
	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:109)
	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:53)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:74)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:359)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:140)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:62)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]
	... 34 more
{noformat}

*Wildfly-10.0.0.Final:*
* session-invalidate-noreplication.war - same as Wildfly 8 to throw IllegalStateException which is intended.
* session-invalidate-replication-session.war - throwing IllegalStateException in the filter!!! (Yes, in the filter, NOT in the index.jsp!!!) which is incorrect. Detail as below:
{noformat}
16:00:28,742 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-5) {} ISPN000136: Error executing command GetKeyValueCommand, writing keys []: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.
	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)
	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)
	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)
	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:405)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:390)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)
	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
	at org.wildfly.clustering.server.registry.CacheRegistry.getEntry(CacheRegistry.java:128)
	at org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.locate(InfinispanRouteLocator.java:58)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionIdentifierCodec.encode(DistributableSessionIdentifierCodec.java:48)
	at org.wildfly.extension.undertow.session.CodecSessionConfig.clearSession(CodecSessionConfig.java:51)
	at io.undertow.servlet.spec.ServletContextImpl$ServletContextSessionConfig.clearSession(ServletContextImpl.java:985)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:184)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)
	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:58)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

16:00:28,743 ERROR [com.jboss.test.StoreSessionFilter] (default task-5) {} Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.
	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)
	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)
	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)
	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:405)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:390)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)
	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
	at org.wildfly.clustering.server.registry.CacheRegistry.getEntry(CacheRegistry.java:128)
	at org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.locate(InfinispanRouteLocator.java:58)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionIdentifierCodec.encode(DistributableSessionIdentifierCodec.java:48)
	at org.wildfly.extension.undertow.session.CodecSessionConfig.clearSession(CodecSessionConfig.java:51)
	at io.undertow.servlet.spec.ServletContextImpl$ServletContextSessionConfig.clearSession(ServletContextImpl.java:985)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:184)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)
	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:58)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

16:00:28,745 ERROR [stderr] (default task-5) {} Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException
{noformat}
* session-invalidate-replication-session.war - same behaviour as session-invalidate-replication-attribute.war as in Wildfly 10.0.0.Final, which throw exception in filter and do NOT throw exception in index.jsp, which is incorrect.

*Wildfly 10.1.0.Final-SNAPSHOT*:
those 3 cases behaviour identical as Wildfly 10.0.0.Final.",2016/01/10 11:17 PM
WFLY-6150,"After successful configuration and build, the QS cannot be deployed using {{deploy-domain.cli}} script. It ends with:
{code}
The batch failed with the following error (you are remaining in the batch editing mode to have a chance to correct the error): WFLYDC0022: Operation failed or was rolled back on all servers.
{code}

Errors logged in server log:
{code}
[Server:app-twoB] 09:43:23,441 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 59) WFLYSRV0022: Deploy of deployment ""jboss-ejb-multi-server-app-two.ear"" was rolled back with no failure message
[Server:app-main] 09:43:23,441 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 68) WFLYSRV0022: Deploy of deployment ""jboss-ejb-multi-server-app-main.ear"" was rolled back with no failure message
[Server:app-twoA] 09:43:23,439 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 59) WFLYSRV0022: Deploy of deployment ""jboss-ejb-multi-server-app-two.ear"" was rolled back with no failure message
{code}

This worked fine in ER3. JBEAP-2831 blocked testing in ER4.",2016/02/09 9:10 AM
WFLY-6485,"WeldDeploymentProcessor only processes top level deployments (jpa dependencies for subdeployments are skipped). This means that subdeployments that CDI inject a persistence unit/context, will not add a dependency on the JPA PersistenceUnitService. As a result, the PersistenceUnitService is referenced before it is started (which leads to PersistenceUnitService.entityManagerFactory being null).

We should avoid the following NPE by ensuring that dependencies on the JPA persistence unit are added for all sub-deployments.
{quote}
Caused by: java.lang.NullPointerException
at org.jboss.as.jpa.container.TransactionScopedEntityManager.createEntityManager(TransactionScopedEntityManager.java:186)
at org.jboss.as.jpa.container.TransactionScopedEntityManager.getEntityManager(TransactionScopedEntityManager.java:91)
at org.jboss.as.jpa.container.AbstractEntityManager.find(AbstractEntityManager.java:212)
{quote}

Potential fix is at [https://github.com/scottmarlow/wildfly/tree/jpaNPE]",2016/04/04 11:04 AM
WFLY-6154,"When migrating {{RemoteHostValve}} or {{RemoteAddrValve}} which contains multiple allows or denies or contains both as in \[1\], it is migrated incorrectly. In the resulting expression the acl attribute should be in format {{acl=\{'xxx allow', 'yyy deny'\}}}, but instead it results in {{acl='xxx allow, yyy deny'}} which is incorrect and results in exception when doing any request to the server. 

Marking as critical as that it was migrated incorrectly the customer will not find out during migration but when actually doing request to the server.

Might be interesting to [~ehugonne1@redhat.com]

[1]
{code:xml}
 <valve name=""request-filter"" module=""org.jboss.as.web"" class-name=""org.apache.catalina.valves.RemoteAddrValve"">
        <param param-name=""deny"" param-value=""10.0.0.1""/>
        <param param-name=""allow"" param-value=""127.*""/>
    </valve>
{code}

",2016/02/09 2:13 PM
WFLY-6153,"When migrating RemoteIpValve which looks like this 
{code:xml}
 <valve name=""remote-ip-valve"" module=""org.jboss.as.web"" class-name=""org.apache.catalina.valves.RemoteIpValve"">
        <param param-name=""httpServerPort"" param-value=""8080""/>
        <param param-name=""httpsServerPort"" param-value=""8443""/>
        <param param-name=""internalProxies"" param-value=""192.*|127.*""/>
        <param param-name=""trustedProxies"" param-value=""10.*""/>
        <param param-name=""protocolHeaderHttpsValue"" param-value=""https""/>
        <param param-name=""protocolHeader"" param-value=""X-Forwarded-Proto""/>
        <param param-name=""remoteIpHeader"" param-value=""X-Forwarded-For""/>
        <param param-name=""proxiesHeader"" param-value=""X-Forwarded-By""/>
    </valve>
{code}

it is migrated to expression filter looking like this

{noformat}
<expression-filter expression=""regexp(pattern=&quot;10.*&quot;, value=%{i, x-forwarded-for}, full-match=true) and regexp(pattern=&quot;192.*|127.*&quot;, value=%{i, x-forwarded-for}, full-match=true) -&gt; { proxy-peer-address(); }"" name=""remote-ip-valve""/>
{noformat}

When doing request to http://127.0.0.1:8080/ it fails with 500 and this exception in log
{noformat}
14:06:53,648 ERROR [io.undertow.request] (default I/O-4) UT005071: Undertow request failed HttpServerExchange{ GET / request {Accept=[*/*], User-Agent=[curl/7.43.0-DEV], Host=[127.0.0.1:8080]} response {}}: java.lang.IllegalArgumentException: UT000045: Error parsing predicated handler string Expecting , or ):
regexp(pattern=""10.*"", value=%{i, x-forwarded-for}, full-match=true) and regexp(pattern=""192.*|127.*"", value=%{i, x-forwarded-for}, full-match=true) -> { proxy-peer-address(); }
                                                                                                                                                                                 ^
	at io.undertow.server.handlers.builder.PredicatedHandlersParser.error(PredicatedHandlersParser.java:727)
	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parseExpression(PredicatedHandlersParser.java:506)
	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:381)
	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:322)
	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:85)
	at org.wildfly.extension.undertow.filters.ExpressionFilterDefinition.createHttpHandler(ExpressionFilterDefinition.java:88)
	at org.wildfly.extension.undertow.filters.FilterService.createHttpHandler(FilterService.java:57)
	at org.wildfly.extension.undertow.filters.FilterRef.createHttpHandler(FilterRef.java:69)
	at org.wildfly.extension.undertow.LocationService.configureHandlerChain(LocationService.java:96)
	at org.wildfly.extension.undertow.Host.configureRootHandler(Host.java:117)
	at org.wildfly.extension.undertow.Host.getOrCreateRootHandler(Host.java:171)
	at org.wildfly.extension.undertow.Host$HostRootHandler.handleRequest(Host.java:285)
	at io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:64)
	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:76)
	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:158)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:233)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:131)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:145)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:92)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:51)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:121)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:580)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:464)
{noformat}

The exception is caused by not having in quotes the '%\{i, x-forwarded-for\}'.
Also there is no predicate named {{regexp}}, the correct name is {{regex}}.


As this is hidden to the customer during the migration operation and is not visible before customer sends request to the server marking as blocker.",2016/02/09 2:10 PM
WFLY-6686,"We are using Hibernate second level cache through JPA configured as such:
{code}
    <properties>
        <property name=""hibernate.cache.use_query_cache"" value=""true""/>
        <property name=""hibernate.cache.use_second_level_cache"" value=""true""/>
        <property name=""hibernate.cache.region.factory_class"" value=""org.jboss.as.jpa.hibernate5.infinispan.SharedInfinispanRegionFactory""/>
    </properties>
{code}

After heap dump inspection, it seems that the JGroups ForkChannel identified by ""hibernate"" can hold a listener that hold the SessionFactoryImpl which then hold the whole application classloader.

When undeploying the application, this can lead to classloader leak.
I took an heap dump of such scenario and analysed it using eclipse memory analyzer (MAT) and here is the result:
{code}
Class Name                                                                                                  | Ref. Objects | Shallow Heap | Ref. Shallow Heap | Retained Heap
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
channel org.jgroups.JChannel @ 0xc0eac6a0                                                                   |            1 |          112 |               136 |           448
'- channel_listeners java.util.concurrent.CopyOnWriteArraySet @ 0xc0ecd260                                  |            1 |           16 |               136 |           112
   '- al java.util.concurrent.CopyOnWriteArrayList @ 0xc0ecd270                                             |            1 |           24 |               136 |            96
      '- array java.lang.Object[2] @ 0xc0ecd2b8                                                             |            1 |           24 |               136 |            24
         '- [0] org.jgroups.fork.ForkChannel @ 0xc103d250                                                   |            1 |          120 |               136 |         1 328
            '- channel_listeners java.util.concurrent.CopyOnWriteArraySet @ 0xc103d350                      |            1 |           16 |               136 |           968
               '- al java.util.concurrent.CopyOnWriteArrayList @ 0xc103d360                                 |            1 |           24 |               136 |           952
                  '- array java.lang.Object[1] @ 0xc103d3a8                                                 |            1 |           24 |               136 |           880
                     '- [0] org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher @ 0xc103d1f0|            1 |           96 |               136 |           856
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
{code}

To remove that leak I ugily patched JGroups ForkChannel close method as such:
{code}
    /** Closes the fork-channel, essentially setting its state to CLOSED. Note that - contrary to a regular channel -
     * a closed fork-channel can be connected again: this means re-attaching the fork-channel to the main-channel*/
    @Override
    public void close() {
        ((ForkProtocolStack)prot_stack).remove(fork_channel_id);
        if(state == State.CLOSED)
            return;
        disconnect();                     // leave group if connected
        prot_stack.destroy();
        state=State.CLOSED;
        notifyChannelClosed(this);
	this.clearChannelListeners(); // <-- this is the line I added
    }
{code}
With that change in place, the memory leak is gone. I highly doubt though this is an acceptable fix. Though it does confirm my theory.

I doubt that JGroups is really the culprit -- I'm more in the thinking that the ""thing managing"" JGroups is the culprit.

Since I'm not an expert around that field I've opened the issue against the Wildfly project. Feel free to move it to the proper project.

If you need any other informations let me know.
",2016/06/08 11:16 AM
WFLY-6134,"There is regression in EAP 7.0.0.ER5 against EAP 7.0.0.ER4 hit by TCK 7.

Deployment of MDB which contains:
{code}
@JMSConnectionFactoryDefinition(
        name = ""java:jboss/exported/MyConnectionFactory"",
        resourceAdapter = ""activemq-ra"",
        properties = {
            ""connectors=http-connector"",}
)
{code}

 definition of connection factory fails with:
{code}
09:19:10,704 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""mdb.jar"")]) - failure description: {
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.connector.direct-connection-factory-activator.java:jboss/exported/MyConnectionFactory is missing [jboss.ra.deployer.\""activemq-ra.rar\""]""],
    ""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
        ""Services that were unable to start:"" => [
            ""jboss.deployment.unit.\""mdb.jar\"".component.mdb1.JndiBindingsService"",
            ""jboss.deployment.unit.\""mdb.jar\"".component.mdb1.START"",
            ""jboss.deployment.unit.\""mdb.jar\"".deploymentCompleteService"",
            ""jboss.deployment.unit.\""mdb.jar\"".jndiDependencyService"",
            ""jboss.deployment.unit.\""mdb.jar\"".moduleDeploymentRuntimeInformationStart"",
            ""jboss.naming.context.java.comp.mdb.mdb.mdb1.env.\""org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueAnnotated\"".cf""
        ],
        ""Services that may be the cause:"" => [
            ""jboss.connection-factory.reference-factory.jboss.naming.context.java.jboss.exported.MyConnectionFactory"",
            ""jboss.ra.deployer.\""activemq-ra.rar\""""
        ]
    }
}
{code}

Failed TCK tests:
{code}
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#checkClientIDOnDurableConnFactoryTest	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromAppClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromEjbClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromJspClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromServletClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromAppClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromEjbClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromJspClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromServletClient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#verifyLookupWithRAElementSpecifiedTest
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_appclient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_ejb	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_jsp	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_servlet	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_appclient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_ejb	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_jsp	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_servlet	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_appclient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_ejb	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_jsp	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_servlet	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_appclient	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_ejb	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_jsp	FAIL	20
com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_servlet
{code}",2016/02/05 9:28 AM
WFLY-7333,"*Description:*
EAP is unable to remove cloned full-ha profile. This is regression against EAP 7.1.0.DR5. ""clone"" management operation was introduced in EAP7-35

*Steps to reproduce:*
# ./domain.sh
# ./jboss-cli.sh -c
# /profile=full-ha:clone(to-profile=cli-clone-profile-first-full-ha)
# /profile=cli-clone-profile-first-full-ha:remove

*Actual results:*
{noformat}
[mkopecky@dhcp-10-40-5-171 bin]$ ./jboss-cli.sh -c
[domain@localhost:9990 /] /profile=full-ha:clone(to-profile=cli-clone-profile-first-full-ha)
{
    ""outcome"" => ""success"",
    ""result"" => undefined,
    ""server-groups"" => undefined
}
[domain@localhost:9990 /] /profile=cli-clone-profile-first-full-ha:remove
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYCTL0368: Cannot remove capability 'org.wildfly.clustering.jgroups.default-channel-factory' from context 'profile=cli-clone-profile-first-full-ha' as it is required by other capabilities:
capability 'org.wildfly.messaging.activemq.broadcast-group.channel-factory.bg-group1' requires it for attribute 'jgroups-stack' at address '/profile=cli-clone-profile-first-full-ha/subsystem=messaging-activemq/server=default/broadcast-group=bg-group1'
capability 'org.wildfly.messaging.activemq.discovery-group.channel-factory.dg-group1' requires it for attribute 'jgroups-stack' at address '/profile=cli-clone-profile-first-full-ha/subsystem=messaging-activemq/server=default/discovery-group=dg-group1'""},
    ""rolled-back"" => true
}
[domain@localhost:9990 /]
{noformat}",2016/10/18 7:52 AM
WFLY-7759,"Run a mixed domain where EAP 7.1.0.DR9 is the master and EAP 6.4.0/6.3.0/6.2.0 is a slave server. Operations on data sources are broken due to incompatibility of models:

{noformat}
[domain@127.0.0.100:9990 /] /host=eap640/server=server-one/subsystem=datasources/data-source=ExampleDS:test-connection-in-pool
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0297: Transforming operation {
    \""address\"" => [
        (\""host\"" => \""eap640\""),
        (\""server\"" => \""server-one\""),
        (\""subsystem\"" => \""datasources\""),
        (\""data-source\"" => \""ExampleDS\"")
    ],
    \""operation\"" => \""test-connection-in-pool\"",
    \""operation-headers\"" => {
        \""caller-type\"" => \""user\"",
        \""access-mechanism\"" => \""NATIVE\"",
        \""domain-uuid\"" => \""ae186a65-8c76-41d0-bd23-79154b5f92f7\""
    }
} at resource [
    (\""host\"" => \""eap640\""),
    (\""server\"" => \""server-one\""),
    (\""subsystem\"" => \""datasources\""),
    (\""data-source\"" => \""ExampleDS\"")
] to subsystem 'datasources' model version '1.3.0' -- attributes [connection-url] WFLYCTL0336: The following attributes are nillable in the current model but must be defined in the target model version: [connection-url]"",
    ""rolled-back"" => true,
    ""result"" => [true]
}
{noformat}

The fix for JBEAP-5770 seems to be the cause.",2016/12/07 10:04 AM
WFLY-8325,"The various ""authentication-context"" attributes added into the connector module for the elytron integration say they support expressions. They shouldn't, as model references should not support expressions as these interfere with model referential integrity checks.

Also, where possible the attribute definitions should be configured as capability references, thus automatically turning on the kernel's referential integrity checks and allowing CLI and HAL value completion.

The latter is only possible for ADs where the containing resource exposes a capability itself. The DS and XA DS resources do. I'm not sure about RAs but I suspect they don't yet.",2017/03/08 9:59 PM
WFLY-6254,"Tx status was STATUS_MARKED_ROLLBACK.
{noformat}
org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.testPassivationMaxSize: javax.ejb.EJBException: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=265}, status=1} is not in a valid state to be invoking cache operations on.
    at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)
    at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)
    at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)
    at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)
    at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
    at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
    at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
    at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
    at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
    at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
    at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
    at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
    at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:443)
    at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
    at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:87)
    at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:49)
    at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:237)
    at org.jboss.as.ejb3.cache.distributable.DistributableCache.discard(DistributableCache.java:167)
    at org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.discard(StatefulSessionComponentInstance.java:155)
    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:78)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
    at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
{noformat}",2016/02/21 8:42 AM
WFLY-6827,"Doing a model comparison of current master against EAP 7.0.0 I came across this:
{code}
====== Resource root address: [""subsystem"" => ""jdr""] - Current version: 1.2.0; legacy version: 1.2.0 =======
====== Resource root address: [""subsystem"" => ""jgroups""] - Current version: 4.0.0; legacy version: 4.0.0 =======
--- Problems for relative address to root [""channel"" => ""*"",""fork"" => ""*"",""protocol"" => ""*""]:
Missing parameters for operation 'add' in current: []; missing in legacy [add-index]
--- Problems for relative address to root [""channel"" => ""ee"",""fork"" => ""*"",""protocol"" => ""*""]:
Missing parameters for operation 'add' in current: []; missing in legacy [add-index]
--- Problems for relative address to root [""channel"" => ""ee"",""protocol"" => ""UDP""]:
Missing attributes in current: []; missing in legacy [bundler_class]
--- Problems for relative address to root [""stack"" => ""*"",""protocol"" => ""*""]:
{code}
The missing add-index was due to the non-auto-generated add handler operation definition not including that. bundler_class appears to be a runtime attribute.",2016/07/12 12:38 PM
WFLY-6338,"The XSD for the Infinispan subsystem ([jboss-as-infinispan_4_0.xsd|https://github.com/jbossas/jboss-eap7/blob/7.x/clustering/infinispan/extension/src/main/resources/schema/jboss-as-infinispan_4_0.xsd]) says that the default locking level is {{OPTIMISTIC}}:

{code:xml}
<xs:complexType name=""transaction"">
    ...
    <xs:attribute name=""locking"" type=""tns:locking-mode"" default=""OPTIMISTIC"">
        <xs:annotation>
            <xs:documentation>The locking mode for this cache, one of OPTIMISTIC or PESSIMISTIC.</xs:documentation>
        </xs:annotation>
    </xs:attribute>
</xs:complexType>
{code}

However, the [TransactionResourceDefinition|https://github.com/jbossas/jboss-eap7/blob/7.x/clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/TransactionResourceDefinition.java] class, which is the ultimate source of truth, disagrees:

{code:java}
enum Attribute implements org.jboss.as.clustering.controller.Attribute {
    LOCKING(""locking"", ModelType.STRING, new ModelNode(LockingMode.PESSIMISTIC.name()), new EnumValidatorBuilder<>(LockingMode.class)),
    ...
}
{code}

I'm not sure myself which one should be the default, but this difference is surely a bug.",2016/03/09 4:37 AM
WFLY-6514,"During performance testing on our app we noticed an continuous increase of CPU utilization while the load was constant. 

In turns out that for each session an undertow SessionListener was registered at login and was never unregistered (request.logout or session.invalidate).
As a result all the operations on undertow SessionListeners are taking more CPU every time a listener is added as we loop over those listeners.

First of all we should register only one (if needed) such SessionListener per webapp.

But even in the current implementation, the listener was not unregistered when request.logout was called.
It is unregistered when session.invalidate is called but then this is not the same listener that is provided and thus nothing is done.
",2016/04/12 5:00 PM
WFLY-6214,"See recent comment [https://developer.jboss.org/message/950898#950898]
{quote}
Status.STATUS_COMMITTING:
Status.STATUS_COMMITTED:
Status.STATUS_PREPARED:
Status.STATUS_PREPARING:
* Someone has called commit in parallel and the transaction is trying to commit so try to commit too: call tm.commit
{quote}

I think that TimerCMTTxInterceptor/LifecycleCMTTxInterceptor are using CMTTxInterceptor.endTransaction(), so they shouldn't need changes.


Status.STATUS_ROLLING_BACK can happen if the reaper has started to rollback the transaction",2016/02/15 10:57 AM
WFLY-6120,"javax.ejb.EJBException: WFLYJPA0030: Found extended persistence context in SFSB invocation call stack but that cannot be used because the transaction already has a transactional context associated with it.  This can be avoided by changing application code, either eliminate the extended persistence context or the transactional context.  See JPA spec 2.0 section 7.6.3.1.  Scoped persistence unit name=passivation-test.jar#main, persistence context already in transaction =ExtendedEntityManager [passivation-test.jar#main], extended persistence context =ExtendedEntityManager [passivation-test.jar#main].
	at org.jboss.as.jpa.container.ExtendedEntityManager.internalAssociateWithJtaTx(ExtendedEntityManager.java:149)
	at org.jboss.as.jpa.container.ExtendedEntityManager.getEntityManager(ExtendedEntityManager.java:129)
	at org.jboss.as.jpa.container.AbstractEntityManager.createQuery(AbstractEntityManager.java:444)
	at org.jboss.as.test.integration.ejb.stateful.passivation.TestPassivationBean.isPersistenceContextSame(TestPassivationBean.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:125)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
	at org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:259)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)
	at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)
	at com.sun.proxy.$Proxy72.isPersistenceContextSame(Unknown Source)
	at org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.testPassivationMaxSize(PassivationTestCase.java:103)
",2016/02/03 4:37 PM
WFLY-6802,NoData,2016/07/05 5:04 AM
WFLY-7115,"Infinispan's default KeyAffinityService implementation has a number of problems:
 # Its topology change listener is blocking.  This can cause deadlocks in recent Infinispan releases, which requires listeners to be non-blocking.
 # Its getKeyForAddress(...) method throws an ISE if the target address does not own any segments.  This can be the case if state transfer fails, or if a node is configured with zero capacity.  We don't currently handle this IAE.  Ideally, this condition should generate a random key.
 # It uses a single worker thread to generate keys for interested members.  Consequently, it must offer keys with a timeout, lest it starve generation of keys for other members.  This causes results in overly high CPU utilization when all queues are full.
 # getKeyForAddress(...) blocks during topology changes, which ultimately blocks request threads while Infinispan repopulates its key queues.
 # It flushes it key queues unnecessarily during intermediate state transfer phases.

Given that EAP's use case for KeyAffinityService only cares about generating keys that hash locally, we can create a custom implementation optimized for our use case.",2016/09/15 10:14 AM
WFLY-8289,"# Running _NestedRemoteContextTestCase_ (from WildFly _testsuite/integration/basic_) with security manager, like
{noformat}
./integration-tests.sh -Dts.basic -Dts.noSmoke -Dtest=NestedRemoteContextTestCase -Dsecurity.manager
{noformat}

results in exception:
{noformat}
java.io.IOException: java.lang.IllegalArgumentException: XNIO001001: No XNIO provider found
{noformat}


To make it work, permissions like following need to be added to _permissions.xml_ of  _ejb.ear_:
{noformat}
new FilePermission(""/home/okotek/git/wildfly/dist/target/wildfly-10.0.0.CR5-SNAPSHOT/modules/system/layers/base/org/jboss/xnio/nio/main/*"", ""read""),
new FilePermission(""/home/okotek/git/wildfly/dist/target/wildfly-10.0.0.CR5-SNAPSHOT/modules/system/layers/base/org/jboss/marshalling/river/main/*"", ""read""),
new RemotingPermission(""createEndpoint""),
new RuntimePermission(""createXnioWorker""),
new RemotingPermission(""addConnectionProvider""),
new RuntimePermission(""modifyThread""),
new RuntimePermission(""accessDeclaredMembers""),
new ReflectPermission(""suppressAccessChecks"")
{noformat}

which is very confusing.

Why do I need add seemingly unrelated permissions, like _FilePermission_ for XNIO and marshalling or _RuntimePermission_ for createXnioWorker? Such behavior should be fixed or properly documented.",2016/01/13 9:19 AM
WFLY-6155,"When migrating {{RemoteIpValve}} which has defined params {{proxiesHeader}} and {{protocolHeaderHttpsValue}} these params are neither migrated nor migration warning is shown.

If those params are not migratable, there should be printed at least migration warning for them.",2016/02/09 3:03 PM
WFLY-6372,"There are multiple parts to this
(1) If the security-domain is defined for a datasource and the password is invalid, an error is reported in the console which is expected
<datasource jndi-name=""java:/DefaultDS2"" pool-name=""DefaultDS2"" enabled=""true"" use-java-context=""true"">
<connection-url>jdbc:oracle:thin:@hostname:1521:ora1</connection-url>
<driver>oracle</driver>
<security>
<security-domain>encryptedPassword2</security-domain>
</security>
</datasource>
(2) If the 'password' for the datasource is invalid no error is reported in the console log at startup e.g
<datasource jndi-name=""java:/DefaultDS2"" pool-name=""DefaultDS2"" enabled=""true"" use-java-context=""true"">
<connection-url>jdbc:oracle:thin:@hostname:1521:ora1</connection-url>
<driver>oracle</driver>
<security>
<user-name>user</user-name>
<password>passwd</password>
</security>
</datasource>
3. Whether or not you use a security-domain for a datasource, an invalid 'username' doesn't get flagged in the console.
Actual results:
Expected results:
Invalid username and password should be flagged as login errors in the console log.
It shouldn't make a difference whether or not you use security-credentials",2016/03/15 6:43 AM
WFLY-6213,"Seen in failover tests - HA Singleton deployment scenarios - jvmkill failover type, random election policy

Something weird is happening when a new election should take place after any of the nodes is killed (it doesn't have to be cluster coordinator nor the singleton provider):

Timeline:
 - perf18 was killed around 03:40:07
 - perf19 was elected, JBEAP-2254 occured, perf19 left the cluster
 - right after that perf20 was elected, JBEAP-2254 occured, perf20 left the cluster
 - right after that perrf21 was elected and logged these errors (perf21 was the only node in the cluster that time):

{code}
[JBossINF] [0m[0m03:40:07,816 INFO  [org.wildfly.clustering.server] (notification-thread--p2-t1) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.deployment.unit.""clusterbench-ee7-singleton-jbossall.ear"".FIRST_MODULE_USE service
[JBossINF] [0m[31m03:40:07,821 ERROR [org.infinispan.topology.ClusterTopologyManagerImpl] (transport-thread--p15-t5) ISPN000196: Failed to recover cluster state after the current node became the coordinator: org.infinispan.commons.CacheException: Unsuccessful response received from node perf20: CacheNotFoundResponse
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.executeOnClusterSync(ClusterTopologyManagerImpl.java:480)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.recoverClusterStatus(ClusterTopologyManagerImpl.java:348)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.handleClusterView(ClusterTopologyManagerImpl.java:286)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl$ClusterViewListener$1.run(ClusterTopologyManagerImpl.java:617)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
...
[JBossINF] [0m[0m03:40:07,905 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-8,ee,perf21) ISPN000094: Received new cluster view for channel server: [perf21|6] (1) [perf21]
[JBossINF] [0m[31m03:40:07,904 ERROR [org.infinispan.topology.ClusterTopologyManagerImpl] (transport-thread--p14-t15) ISPN000196: Failed to recover cluster state after the current node became the coordinator: java.util.concurrent.ExecutionException: org.infinispan.remoting.transport.jgroups.SuspectException: Cache not running on node perf20
[JBossINF] 	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
[JBossINF] 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1915)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.executeOnClusterSync(ClusterTopologyManagerImpl.java:471)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.recoverClusterStatus(ClusterTopologyManagerImpl.java:348)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl.handleClusterView(ClusterTopologyManagerImpl.java:286)
[JBossINF] 	at org.infinispan.topology.ClusterTopologyManagerImpl$ClusterViewListener$1.run(ClusterTopologyManagerImpl.java:617)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: org.infinispan.remoting.transport.jgroups.SuspectException: Cache not running on node perf20
[JBossINF] 	at org.infinispan.remoting.transport.AbstractTransport.checkResponse(AbstractTransport.java:46)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:763)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$174(JGroupsTransport.java:599)
[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.futureDone(SingleResponseFuture.java:30)
[JBossINF] 	at org.jgroups.blocks.Request.checkCompletion(Request.java:169)
[JBossINF] 	at org.jgroups.blocks.UnicastRequest.viewChange(UnicastRequest.java:164)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receiveView(RequestCorrelator.java:331)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:242)
[JBossINF] 	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:684)
[JBossINF] 	at org.jgroups.JChannel.up(JChannel.java:738)
[JBossINF] 	at org.jgroups.fork.ForkProtocolStack.up(ForkProtocolStack.java:123)
[JBossINF] 	at org.jgroups.stack.Protocol.up(Protocol.java:374)
[JBossINF] 	at org.jgroups.protocols.FORK.up(FORK.java:118)
[JBossINF] 	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:394)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:394)
[JBossINF] 	at org.jgroups.protocols.pbcast.GMS.installView(GMS.java:735)
[JBossINF] 	at org.jgroups.protocols.pbcast.CoordGmsImpl.handleViewChange(CoordGmsImpl.java:244)
[JBossINF] 	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:925)
[JBossINF] 	at org.jgroups.stack.Protocol.up(Protocol.java:412)
[JBossINF] 	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:294)
[JBossINF] 	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:474)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.deliverBatch(NAKACK2.java:982)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.removeAndPassUp(NAKACK2.java:912)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.handleMessage(NAKACK2.java:846)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:618)
[JBossINF] 	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)
[JBossINF] 	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:200)
[JBossINF] 	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:310)
[JBossINF] 	at org.jgroups.protocols.MERGE3.up(MERGE3.java:285)
[JBossINF] 	at org.jgroups.protocols.Discovery.up(Discovery.java:295)
[JBossINF] 	at org.jgroups.protocols.TP.passMessageUp(TP.java:1577)
[JBossINF] 	at org.jgroups.protocols.TP$3.run(TP.java:1511)
[JBossINF] 	... 3 more
{code}

Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-singleton-deployment-jvmkill-random-election-policy/9/console-perf21/
",2016/02/15 9:44 AM
WFLY-6821,"It is either bug in how deployments are treated or how overlay/vfs work.

Steps to reproduce:
1. deploy undexploded war with jar inside
2. add overlay that will add non existing file in jar

Result: exception:
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018776: Failed to get content for deployment overlay WEB-INF/lib/overlayed.jar//META-INF/x/file.txt at WEB-INF/lib/overlayed.jar//META-INF/x/file.txt
    Caused by: java.io.FileNotFoundException: /content/shell.war/WEB-INF/lib/overlayed.jar/META-INF/x/file.txt""}}
    at org.jboss.as.test.integration.management.ManagementOperations.executeOperation(ManagementOperations.java:67)
    at org.jboss.as.test.integration.management.ManagementOperations.executeOperation(ManagementOperations.java:37)
    at org.jboss.as.test.integration.deployment.deploymentoverlay.jar.OverlayUtils.setupOverlay(OverlayUtils.java:76)
    at org.jboss.as.test.integration.deployment.deploymentoverlay.war.OverlayNonExistingResourceTestCase.testOverlay(OverlayNonExistingResourceTestCase.java:67)


Expectation:
 should work. It actually does work, if war is really exploded or
'if(exploded)' part in overlay is removed from overlay processor and everything is handled via: https://github.com/stuartwdouglas/wildfly-core/blob/a75af9118c4062fafb899b2c1109387a0748d925/server/src/main/java/org/jboss/as/server/deployment/DeploymentOverlayDeploymentUnitProcessor.java#L117


This is part of the fix of above issue, which depends on WFCORE-761.",2016/07/12 4:50 AM
WFLY-6962,NoData,2016/08/16 9:16 AM
WFLY-6961,"Deployed JSF application will crash with installed MyFaces 2.2.x, see attached log.
",2016/08/16 9:03 AM
WFLY-6971,"If EAP 7 with (manually) migrated configuration from EAP 6.4.7.CP server is started then MDB deployment fails with:
{code}
14:17:09,432 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".cache-dependencies-installer: org.jboss.msc.service.StartException in service jboss.deployment.unit.""mdb-1.0-SNAPSHOT.jar"".cache-dependencies-installer: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_71]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_71]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_71]
Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.infinispan.ejb.""mdb-1.0-SNAPSHOT.jar"".config is already registered
	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.installDeploymentUnitDependencies(DistributableCacheFactoryBuilderService.java:93)
	at org.jboss.as.ejb3.deployment.processors.CacheDependenciesProcessor$1.start(CacheDependenciesProcessor.java:50)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]
	... 3 more
{code}

Problem seems to be configuration of caches in ejb subsystem which looks like:
{code}
   <subsystem xmlns=""urn:jboss:domain:ejb3:4.0"">
...
            <caches>
                <cache name=""simple"" aliases=""NoPassivationCache""/>
                <cache name=""passivating"" passivation-store-ref=""file"" aliases=""SimpleStatefulCache""/>
                <cache name=""clustered"" passivation-store-ref=""infinispan"" aliases=""StatefulTreeCache""/>
            </caches>
...
        </subsystem>
{code}

If any of lines:
{code}
<cache name=""passivating"" passivation-store-ref=""file"" aliases=""SimpleStatefulCache""/>
<cache name=""clustered"" passivation-store-ref=""infinispan"" 
{code}

is removed or I take default configuration from EAP 7:
{code}
<caches>
        <cache name=""simple""/>
        <cache name=""distributable"" passivation-store-ref=""infinispan"" aliases=""passivating clustered""/>
</caches>
{code}

then MDB is deployed. ",2016/08/18 7:09 AM
WFLY-7020,"When the default-jsf-impl-slot is set back to main slot, the implementation in main slot will not be used for rendering JSF applications. Previous value of slot will be used instead after reload.",2016/08/29 8:05 AM
WFLY-8322,"After removing the legacy {{security}} subsystem and booting the server, you see
{noformat}
12:22:54,842 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""ejb3"")]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.security.simple-security-manager""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.ejb.utilities is missing [jboss.security.simple-security-manager]""]
}
{noformat}

Which means that EJB3 subsystem requires functionality of the legacy security subsystem.  It should be possible to completely get rid of the legacy subsystem and work with just Elytron.",2017/03/08 1:31 PM
WFLY-8161,"When you export a JDR, it provides a report of system properties, but to avoid leaking passwords, it redacts any system property with the string &lt;Redacted> - see here:

https://github.com/wildfly/wildfly/blob/master/jdr/jboss-as-jdr/src/main/java/org/jboss/as/jdr/commands/SystemProperties.java#L51-L53

One major problem is it never flips the system properties back to their original values! So once a JDR report is created, no code in the JVM can ever be able to use those password system properties again - because the password is now changed to the string ""&lt;Redacted>"".

To fix, once that ""system-properties.txt"" file is created, you have to System.setProperty() those password properties back to their original values.",2017/02/17 10:37 AM
WFLY-6328,"Seen in ejb-ejbservlet and http-session scenarios with *REPL* cache.

TimeoutException occured after perf19 (or any other node) rejoined a cluster (after graceful shutdown, jvmkill or undeploy - it doesn't matter) and definitely results in client getting 500:

{code}
[JBossINF] [0m[31m03:23:38,793 ERROR [io.undertow.request] (default task-92) UT005023: Exception handling request to /clusterbench/session: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf19
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:765)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$175(JGroupsTransport.java:612)
[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.call(RspListFuture.java:47)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.call(RspListFuture.java:16)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Client:
{code}
2016/02/26 03:23:38:806 EST [WARN ][Runner - 1620] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>
	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:163)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:745)
{code}

Also, JBEAP-3779 accompanies this issue, see [occurrences report|http://download.eng.brq.redhat.com/scratch/mvinkler/reports/occurrences/ER6/timeoutExceptions.html]

Server link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-shutdown-repl-sync/18/console-perf18/

Client link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-shutdown-repl-sync/18/console-perf17/

This is a separate Jira for issue #3 from https://issues.jboss.org/browse/JBEAP-794?focusedCommentId=13170628&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13170628",2016/03/07 6:40 AM
WFLY-7240,"One of the manifestation of the issue:

# start 2 nodes with SLSB with TUNNEL transport
# start both nodes creating 2 clusters (or partitions)
# start ejb client 
# start GossipRouter and wait for merge
# ejb client keeps talking only to known node; never receives a topology update

This is because org.wildfly.clustering.server.registry.CacheRegistry#topologyChanged does not handle cluster merges and thus all entries from a given partition will be lost forever.

The effects are especially missing client mappings and broken session stickiness. ",2016/09/29 8:58 AM
WFLY-7850,"Configuration of JDBC persistence-store consists of several steps:
# Deploy jdbc driver
# Configure data source
# Create EAP module with correct SQLProviderFactory implementation
# Configure Artemis

For performing the step 3 you need to know
* which SQLProviderFactory should be used,
* where can be downloaded (who will compile it?),
* how to create EAP module
* which dependencies the module should have

Additionally in domain, you need to do all these steps for each EAP instance.

Suggestion for improvement:
SQLProviderFactories for all supported databases should be delivered with EAP. The correct implementation should be chosen based on database metadata.",2017/01/03 10:53 AM
WFLY-8255,"The newly introduced authentication tests ({{AuthenticationElytronTestCase}}, {{AuthenticationTestCase}}) in {{org.jboss.as.test.integration.ejb.security}} package fail when executed with Elytron AS TS profile.

{noformat}
cd testsuite/integration/basic
mvn clean test -Dtest=org.jboss.as.test.integration.ejb.security.Authentication\* -Delytron
...
Failed tests: 
  AuthenticationElytronTestCase.testAuthenticatedCall:15->AbstractAuthenticationTestCase.testAuthenticatedCall:206 expected:<[user1]> but was:<[anonymous]>
  AuthenticationElytronTestCase.testAuthentication:15->AbstractAuthenticationTestCase.testAuthentication:136 expected:<[user1]> but was:<[anonymous]>
  AuthenticationElytronTestCase.testAuthentication_BadPwd:15->AbstractAuthenticationTestCase.testAuthentication_BadPwd:148 Expected EJBAccessException due to bad password not thrown. (EJB 3.1 FR 17.6.9)
  AuthenticationElytronTestCase.testAuthentication_TwoBeans:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans:161 expected:<[user1]> but was:<[anonymous]>
  AuthenticationElytronTestCase.testAuthentication_TwoBeans_ReAuth:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth:174 expected:<[user1]> but was:<[anonymous]>
  AuthenticationElytronTestCase.testAuthentication_TwoBeans_ReAuth_BadPwd:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth_BadPwd:188 Expected EJBAccessException due to bad password not thrown. (EJB 3.1 FR 17.6.9)
  AuthenticationElytronTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:262 null
  AuthenticationElytronTestCase.testICIRSingle:15->AbstractAuthenticationTestCase.testICIRSingle:275 null
  AuthenticationElytronTestCase.testICIR_TwoBeans:15->AbstractAuthenticationTestCase.testICIR_TwoBeans:290 null
  AuthenticationElytronTestCase.testICIR_TwoBeans_ReAuth:15->AbstractAuthenticationTestCase.testICIR_TwoBeans_ReAuth:312 null
  AuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:11->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:262 null
Tests in error: 
  AuthenticationElytronTestCase.testAuthentication_ReAuth_ViaServlet:15->AbstractAuthenticationTestCase.testAuthentication_ReAuth_ViaServlet:240->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testAuthentication_TwoBeans_ReAuth_ViaServlet:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth_ViaServlet:252->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testAuthentication_TwoBeans_ViaServlet:15->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ViaServlet:246->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testAuthentication_ViaServlet:15->AbstractAuthenticationTestCase.testAuthentication_ViaServlet:234->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testICIR_ReAuth_ViaServlet:15->AbstractAuthenticationTestCase.testICIR_ReAuth_ViaServlet:417->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testICIR_TwoBeans_ReAuth_ViaServlet:15->AbstractAuthenticationTestCase.testICIR_TwoBeans_ReAuth_ViaServlet:437->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testICIR_TwoBeans_ViaServlet:15->AbstractAuthenticationTestCase.testICIR_TwoBeans_ViaServlet:427->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationElytronTestCase.testICIR_ViaServlet:15->AbstractAuthenticationTestCase.testICIR_ViaServlet:407->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testAuthentication_ReAuth_ViaServlet:11->AbstractAuthenticationTestCase.testAuthentication_ReAuth_ViaServlet:240->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testAuthentication_TwoBeans_ReAuth_ViaServlet:11->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ReAuth_ViaServlet:252->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testAuthentication_TwoBeans_ViaServlet:11->AbstractAuthenticationTestCase.testAuthentication_TwoBeans_ViaServlet:246->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testAuthentication_ViaServlet:11->AbstractAuthenticationTestCase.testAuthentication_ViaServlet:234->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testICIR_ReAuth_ViaServlet:11->AbstractAuthenticationTestCase.testICIR_ReAuth_ViaServlet:417->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testICIR_TwoBeans_ReAuth_ViaServlet:11->AbstractAuthenticationTestCase.testICIR_TwoBeans_ReAuth_ViaServlet:437->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testICIR_TwoBeans_ViaServlet:11->AbstractAuthenticationTestCase.testICIR_TwoBeans_ViaServlet:427->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO
  AuthenticationTestCase.testICIR_ViaServlet:11->AbstractAuthenticationTestCase.testICIR_ViaServlet:407->AbstractAuthenticationTestCase.getWhoAmI:359->AbstractAuthenticationTestCase.get:377->AbstractAuthenticationTestCase.execute:393 » IO

Tests run: 38, Failures: 11, Errors: 16, Skipped: 0
{noformat}",2017/02/28 2:23 AM
WFLY-8035,"When creating cache in newly creating cache container, it fails with \[1\]. 

This fails with EAP 7.1.0.DR11 even though this works with EAP 7.0. As this is regression in comparison to EAP 7.0 setting priority to critical.

\[1\]
{noformat}
16:24:10,561 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.xxx.aaa: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.xxx.aaa: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1978)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000343: Must have a transport set in the global configuration in order to define a clustered cache
	at org.infinispan.configuration.cache.ClusteringConfigurationBuilder.validate(ClusteringConfigurationBuilder.java:115)
	at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:229)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:240)
	at org.infinispan.configuration.ConfigurationManager.putConfiguration(ConfigurationManager.java:80)
	at org.infinispan.manager.DefaultCacheManager.defineConfiguration(DefaultCacheManager.java:390)
	at org.infinispan.manager.DefaultCacheManager.defineConfiguration(DefaultCacheManager.java:353)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.defineConfiguration(DefaultCacheContainer.java:73)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.start(ConfigurationBuilder.java:88)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
	... 3 more

16:24:10,562 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""infinispan""),
    (""cache-container"" => ""xxx""),
    (""invalidation-cache"" => ""aaa"")
]) - failure description: {
    ""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache-configuration.xxx.aaa"" => ""org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.xxx.aaa: Failed to start service
    Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000343: Must have a transport set in the global configuration in order to define a clustered cache""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""org.wildfly.clustering.infinispan.cache-configuration.xxx.aaa""]
}
{noformat}",2017/02/06 11:12 AM
WFLY-7874,"{noformat}
[standalone@localhost:9990 /] /subsystem=undertow/configuration=filter/mod-cluster=modcluster:write-attribute(name=ssl-context,value=test
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalStateException: WFLYCTL0365: Capability 'org.wildfly.undertow.mod_cluster_filter.modcluster' is unknown in context 'global'."",
    ""rolled-back"" => true
}
{noformat}",2017/01/10 4:09 PM
WFLY-7630,"The public singleton API changed recently and is not binary compatible any more.

The change was introduced by: https://github.com/jbossas/jboss-eap7/pull/907/files#diff-dac46a30e73e80f516f0fb517f8999f3R44 

[SingletonPolicy.java|https://github.com/jbossas/jboss-eap7/blob/7.x/clustering/singleton/api/src/main/java/org/wildfly/clustering/singleton/SingletonPolicy.java] has changed:
Now:
{code}
<T> SingletonBuilder<T> createSingletonServiceBuilder(ServiceName name, Service<T> service);
{code}
Before:
{code}
<T> Builder<T> createSingletonServiceBuilder(ServiceName name, Service<T> service);
{code}

The change is source compatible, however not binary compatible.

This results in NoSuchMethodError:
{code}
[JBossINF] [0m[31m02:26:32,982 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.""SStest-ejb-service-activator.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""SStest-ejb-service-activator.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""SStest-ejb-service-activator.jar""
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1963)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1896)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: java.lang.NoSuchMethodError: org.wildfly.clustering.singleton.SingletonPolicy.createSingletonServiceBuilder(Lorg/jboss/msc/service/ServiceName;Lorg/jboss/msc/service/Service;)Lorg/wildfly/clustering/service/Builder;
[JBossINF] 	at org.jboss.test.singletonservice.SingletonActivator.activate(SingletonActivator.java:29)
[JBossINF] 	at org.jboss.as.server.deployment.service.ServiceActivatorProcessor.deploy(ServiceActivatorProcessor.java:91)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
[JBossINF] 	... 5 more
{code}

Link to the server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-jvmkill-ha-ss/4/console-perf18/
",2016/11/18 5:37 PM
WFLY-8184,"Scenario: failover clustering test with singleton deployment.

{code:xml|title=Singleton subsystem configuration}
<subsystem xmlns=""urn:jboss:domain:singleton:1.0"">
  <singleton-policies default=""default"">
    <singleton-policy name=""default"" cache-container=""server"">
      <random-election-policy/>
    </singleton-policy>
  </singleton-policies>
</subsystem>
{code}

Nodes startup order: node1, node2, node3, node4.
During node1 startup, this server is elected as the singleton provider and deploys singleton deployment. During other servers startup, some other node (usually node2) is elected as the singleton provider and deploys singleton deployment. However, node1 has the singleton deployment still deployed, so there are *2 nodes* effectively providing a singleton deployment.

Deployment used: [clusterbench-ee7-singleton-jbossall.ear|http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-clusterbench-singleton/1/artifact/clusterbench-ee7-singleton-jbossall.ear|http://example.com]
Standard clusterbench application with modified jboss-all.xml:
{code:xml}
<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss xmlns=""urn:jboss:1.0"">
    <singleton-deployment xmlns=""urn:jboss:singleton-deployment:1.0""/>
</jboss>
{code}

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-singleton-deployment-jvmkill-random-election-policy/7/console-perf18/",2017/02/21 6:41 PM
WFLY-8316,"In case when legacy security domain is used as Elytron realm then roles assigned in mapping are unavailable in Elytron security realm. 

e.g. when UsersRoles login module, which assigns role JBossAdmin to user admin is used and then role User is assigned for user admin in SimpleRoles mapping module through:
{code}
<mapping>
    <mapping-module code=""SimpleRoles"" type=""role"">
        <module-option name=""admin"" value=""User""/>
    </mapping-module>
</mapping>
{code} 

then only role JBossAdmin is available for Elytron. Following appears in server log:
{code}
Authorizing against the following attributes: [Roles, CallerPrincipal] => [JBossAdmin, admin]
{code}

In case when this legacy security domain is used directly as PicketBox security domain, then both roles, JBossAdmin and User, are assigned to user admin.",2017/03/08 3:53 AM
WFLY-7639,"There is a new client configuration required in `wildfly-config.xml` (more in JBEAP-7104), but the `docs/schema` folder doesn't contain its XSD (schema definition).

We have to provide one with a sufficient description of the elements and attributes.",2016/11/21 10:38 AM
WFLY-8309,"Solaris 10 SPARC and Solaris 11 SPARC are supported platforms.

This issue is regression against EAP 7.1.0.DR11.

*Wrong behaviour in EAP 7.1.0.DR12*
build.sh and integration-tests.sh scripts doesn't work on Solaris SPARC.

*Desired behaviour*
build.sh and integration-tests.sh scripts should work on Solaris SPARC.

*Solaris 10*
* Solaris 10 SPARC release information:
{noformat}
[hudson@dev139-03 ~]$ cat /etc/release
                   Oracle Solaris 10 1/13 s10s_u11wos_24a SPARC
  Copyright (c) 1983, 2013, Oracle and/or its affiliates. All rights reserved.
                            Assembled 17 January 2013
[hudson@dev139-03 ~]$ 
{noformat}
* logs from build.sh
{noformat}
07:39:36 + ./build.sh -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/abacf11d/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dts.noSmoke
07:39:36 ./build.sh: syntax error at line 20: `DIRNAME=""$( cd ""$' unexpected
{noformat}
* logs from integration-tests.sh:
{noformat}
07:43:10 + ./integration-tests.sh -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dnode0=10.16.178.25 -Dnode1=10.16.178.26 -Dmcast=227.43.91.56 -DallTests -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/jboss-eap-7.1
07:43:10 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/mvnw install  -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dnode0=10.16.178.25 -Dnode1=10.16.178.26 -Dmcast=227.43.91.56 -DallTests -fae -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/jboss-eap-7.1 -s /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/tools/maven/conf/settings.xml
07:43:10 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/abacf11d/mvnw: syntax error at line 190: `(' unexpected
{noformat}

*Solaris 11*
* Solaris 11 SPARC release information:
{noformat}
[hudson@dev34-03 ~]$ cat /etc/release
                            Oracle Solaris 11.3 SPARC
  Copyright (c) 1983, 2016, Oracle and/or its affiliates.  All rights reserved.
                            Assembled 03 August 2016
[hudson@dev34-03 ~]$
{noformat}
* logs from build.sh
{noformat}
07:39:35 + ./build.sh -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/e745cc07/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dts.noSmoke
07:39:35 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/e745cc07/mvnw  install  '-Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/e745cc07/eap-local-maven-repository' '-fae' '-Dmaven.test.failure.ignore=true' '-Dts.noSmoke'
07:39:35 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/e745cc07/mvnw[190]: local: not found [No such file or directory]
07:39:35 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-unit-solaris/e745cc07/mvnw[191]: local: not found [No such file or directory]
07:39:36 Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
{noformat}
* logs from integration-tests.sh:
{noformat}
7:43:15 + ./integration-tests.sh -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dnode0=10.16.179.32 -Dnode1=10.16.179.33 -Dmcast=227.43.91.214 -DallTests -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/jboss-eap-7.1
07:43:15 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/mvnw install  -Dmaven.repo.local=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/eap-local-maven-repository -fae -Dmaven.test.failure.ignore=true -Dnode0=10.16.179.32 -Dnode1=10.16.179.33 -Dmcast=227.43.91.214 -DallTests -fae -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/jboss-eap-7.1 -s /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/tools/maven/conf/settings.xml
07:43:15 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/mvnw[190]: local: not found [No such file or directory]
07:43:15 /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-solaris/e745cc07/mvnw[191]: local: not found [No such file or directory]
{noformat}",2017/03/07 5:05 AM
WFLY-6798,"While fixing an unrelated bug, I discovered that the distributable SSOManager is actually created twice per host - one is created for use with the single sign-on authentication mechanism, and a separate instance is created to handle session identifier changes.  I'm not entirely certain of the consequence of this (as the managers will share the same underlying infinispan cache), but it is definitely wrong and unintentional.",2016/07/01 11:45 AM
WFLY-6517,"The new module org.wildfly.naming which contains JndiPermission does not export it. Hence, the module is efficiently useless. Deployments still have to depend on the private org.jboss.as.naming module to get the JndiPermission to work.",2016/04/13 7:45 AM
WFLY-6069,"modules/system/layers/base/org/hibernate/jipijapa-hibernate4-3/main/jipijapa-hibernate4-3-10.0.0.CR6-redhat-1.jar
modules/system/layers/base/org/hibernate/4.3/jipijapa-hibernate4-3-10.0.0.CR6-redhat-1.jar

",2016/01/26 8:44 AM
WFLY-6376,"h3. Scenario

Given a WAR containing a persistence unit with second level cache and query cache enabled, I'm consistently hitting a Metaspace OutOfMemoryError after redeploying the unchanged application a couple of times.

Analyzing the situation with Eclipse Memory Analyzer, I found one cause to be WFLY-6348, but even after applying that fix locally, I'm still having a Classloader leak which I can trace to a thread used by Infinispan referencing an obsolete web app classloader as context classloader.

Just to rule out that this might be related to WFLY-6283, WFLY-6285, I repeated my experiments with a local build of WildFly master (2f11a59aee0dbdd52b65c5c684eafa83c3f418da), with Hibernate locally upgraded to 5.0.9.

I'm still getting a classloader leak with that build.

h3. Analysis

{{org.infinispan.expiration.impl.ExpirationManagerImpl}} uses a {{LazyInitializingScheduledExecutorService}}. Due to lazy initialization, the {{ExecutorService}} and the underlying thread pool is not created until my web app is deployed. Thus, when the {{ExecutorService}} is created, the context class loader is set to the web app class loader, and this appears to propagate to the threads of the executor thread pool.

When the application is undeployed, {{ExpirationManagerImpl.stop()}} gets invoked to cancel any running expiration task. However, the {{ExecutorService}} is not shut down, the threads remain alive and still keep a reference to the now obsolete context classloader.

h3. Remarks

I'm not sure if this analysis is correct, at least I hope there's a clue for WildFly and Infinispan experts to identify the real cause.

By the way, it would be helpful if all threads created by Infinispan had meaningful names, rather than default names like {{pool-5-thread-1}}.",2016/03/15 1:31 PM
WFLY-6754,"When adding bindings in naming subsystem configuration of Web Console, the Add form has wrong mandatory fields. Mandatory fields for bindings are dependent on binding type. 

On the other hand, some binding types do not have attributes that the Add form will try to send to the interface, resulting in user being unable to add any binding type besides {{external context}} (for example, adding a simple or lookup binding will result in {{Unknown error}} due to simple binding type not being able to have 'cache' attribute).

For example, {{/subsystem=naming/binding=java\:global\/a:add(binding-type=simple, type=int, value=100)}} would be a legal simple binding inserted through the JBoss CLI:
{code}{""outcome"" => ""success""}{code}
Adding this same following binding will produce the following error output in Web Console:
{quote}Unknown error

Unexpected HTTP response: 500

Request
{code}{
    ""name"" => ""java:global/a"",
    ""binding-type"" => ""simple"",
    ""cache"" => false,
    ""class"" => undefined,
    ""environment"" => undefined,
    ""lookup"" => undefined,
    ""module"" => undefined,
    ""type"" => ""int"",
    ""value"" => ""100"",
    ""operation"" => ""add"",
    ""address"" => [
        (""subsystem"" => ""naming""),
        (""binding"" => ""java:global/a"")
    ]
}{code}

Response

Internal Server Error
{code}{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYNAM0061: Binding type simple can not take a 'cache' attribute"",
    ""rolled-back"" => true
}{code}{quote}

",2016/06/22 7:00 AM
WFLY-6877,"Our system using the following infinispan configuration for web session cache (i.e. an async, non-transactional, batch, optimistic locking dustrubutable cache):
{code:xml}
<cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
	<transport lock-timeout=""60000""/>
	<distributed-cache name=""dist"" mode=""ASYNC"" l1-lifespan=""0"" owners=""2"">
		<locking isolation=""REPEATABLE_READ""/>
		<transaction locking=""OPTIMISTIC"" mode=""BATCH""/>
		<file-store/>
	</distributed-cache>
</cache-container>
{code}

When we perform a load test for one of our business use case in our system, Wildfly always throw the infamous locking for 15 seconds timeout exception:
{noformat}
2016-07-21 13:01:37,971 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-33) Lock all keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY] for owner=GlobalTransaction:<10.1.3.29>:492:local. timeout=15000 (MILLISECONDS)
2016-07-21 13:01:52,975 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-33) ISPN000136: Error executing command PrepareCommand, writing keys [4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY]: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY and requestor GlobalTransaction:<10.1.3.29>:492:local. Lock is held by GlobalTransaction:<10.1.3.29>:458:local
	at org.infinispan.util.concurrent.locks.impl.DefaultLockManager$KeyAwareExtendedLockPromise.lock(DefaultLockManager.java:236)
	at org.infinispan.util.concurrent.locks.impl.DefaultLockManager$CompositeLockPromise.lock(DefaultLockManager.java:305)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.lockAllAndRecord(AbstractLockingInterceptor.java:199)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:199)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:165)
	at org.infinispan.interceptors.locking.OptimisticLockingInterceptor.visitPrepareCommand(OptimisticLockingInterceptor.java:69)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:238)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:87)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:389)
	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:435)
	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:314)
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:105)
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:77)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:768)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:557)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:331)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}

After tracing using the trace log, we found the time difference between a ""Lock all keys"" log statement and the ""Release locks for keys"" log statement takes for about 15~20 seconds, so if another concurrent request would like to lock the same key within that interval, it will result in the timeout exception, example as below:
{noformat}
2016-07-21 13:01:37,958 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-37) Lock all keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->XXX, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->ZZZ, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl] for owner=GlobalTransaction:<10.1.3.29>:458:local. timeout=15000 (MILLISECONDS)
2016-07-21 13:01:53,364 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-37) Release locks for keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->XXX, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->ZZZ, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl]. owner=GlobalTransaction:<10.1.3.29>:458:local
{noformat}

We think that is strange as those session keys are POJO without complex nested objects, and we only perform read operation on those objects. Although we know objects without marked *@org.wildfly.clustering.web.annotation.Immutable* will perform cache sync, we believe that should not took for more than 1 second to commit the cache but it takes for more than 15 seconds...

After future tracing, we found the following log message on another cluster node:
{noformat}
2016-07-21 13:01:53,410 TRACE [org.infinispan.commands.tx.PrepareCommand] (Incoming-10,ee,10.1.3.30) {} Invoking remotely originated prepare: PrepareCommand {modifications=[PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->XXX, value=[B@f9f09c2, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY, value=[B@f72eca9, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->ZZZ, value=[B@6f108f88, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, value=org.wildfly.clustering.web.infinispan.session.SimpleSessionAccessMetaData@126bb5d4, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->XXX, value=[B@1a574fb5, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->YYY, value=[B@3141bcb, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl->ZZZ.menuName, value=[B@ae3a302, flags=[FORCE_SYNCHRONOUS], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, ...], onePhaseCommit=true, retried=false, gtx=GlobalTransaction:<10.1.3.29>:458:remote, cacheName='app.war', topologyId=2} with invocation context: org.infinispan.context.impl.RemoteTxInvocationContext@3d21e5e9
{noformat}
In general, it synchronized XXX key {color:red}2{color} times, YYY key {color:red}2272{color} times, ZZZ key {color:red}3{color} times!!!

The root cause should be this line: https://github.com/wildfly/wildfly/blob/10.0.0.Final/clustering/web/infinispan/src/main/java/org/wildfly/clustering/web/infinispan/session/fine/FineSessionAttributes.java#L76 where a new CacheEntryMutator.mutate() will trigger a new PutKeyValueCommand. For consecutive get call on the same session key, it will trigger the PutKeyValueCommand multiple times, but that is not necessary for transactional/ batched cache in general as the MarshalledValue is lazily serialized, the actual value is pointing to the same instance.

Attached the suggested change, which solved our issue. Basically use a Set to track the mutated attribute names, to ensure the command is only issued once. Tested on non-transactional, batched cache (non-transactional, non-batch cache may not work as I did not think about that...)",2016/07/24 11:30 PM
WFLY-5943,"EAP 6.4 has a 1.1 xsd version for these subsystems, while WF 10 / EAP 7 has a 2.0. A quick glance leads me to believe the contents are the same except for the number. But the WF 10 / EAP 7 code will fail if a document with the 1.1 namespace is presented.

If the xsds are the same, likely this can be fixed simply by adding another case for 1.1 to the switch block that calls the 2.0 parser. Otherwise the 1.1 parser from the EAP 6 branch should be forward ported.",2016/01/06 3:26 PM
WFLY-5998,"Ultimately, this workaround should be removed following the upgrade to Infinispan 8.1.1.Final - which incorporates a fix for ISPN-6007.",2016/01/14 1:57 PM
WFLY-6502,NoData,2016/04/07 5:24 PM
WFLY-6210,"{noformat}
[rhusar@syrah wildfly-10.1.0.Final-SNAPSHOT]$ diff -s standalone/configuration/standalone_xml_history/standalone-ha.initial.xml docs/examples/configs/standalone-ec2-ha.xml
Files standalone/configuration/standalone_xml_history/standalone-ha.initial.xml and docs/examples/configs/standalone-ec2-ha.xml are identical
{noformat}


{noformat}
[rhusar@syrah wildfly-10.1.0.Final-SNAPSHOT]$ diff -s standalone/configuration/standalone_xml_history/standalone-ha.initial.xml docs/examples/configs/standalone-gossip-ha.xml
Files standalone/configuration/standalone_xml_history/standalone-ha.initial.xml and docs/examples/configs/standalone-gossip-ha.xml are identical
{noformat}",2016/02/15 6:56 AM
WFLY-8210,"This does not match the {{org.jboss.weld.bootstrap.spi.BeanDeploymentArchive}} contract. As a result, clustering does not work on Windows machines - see also JBEAP-8451. ",2017/02/23 3:27 AM
WFLY-7069,"Follow up of WFLY-6402, the deployment is being marked started in the deployment repository before it is ready, resulting in requests being accepted.",2016/09/07 11:01 AM
WFLY-6857,"Running the server under a non-English Locale and using the CLI to create resources, leads to Infinispan writing out a subsystem configuration which doesn't load on server reload.",2016/07/20 9:52 AM
WFLY-6782,"Unable to use this via CLI, tests pass since they use management client which won't check against  the operation description:
{noformat}
[standalone@localhost:9990 /] /subsystem=jgroups/stack=tcp/protocol=JDBC_PING:add(add-index=4)
'add-index' is not found among the supported properties: [socket-binding, module, properties, type]
{noformat}

add index is missing in the description, after the fix:

{noformat}
[standalone@localhost:9990 /] /subsystem=jgroups/stack=tcp/protocol=MPING:read-operation-description(name=add
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""add"",
        ""description"" => ""Add a protocol to a protocol stack."",
        ""request-properties"" => {
            ""add-index"" => {
                ""type"" => INT,
                ""description"" => ""If specified inserts the protocol at the given (zero-based) index. If null it will add at the end."",
                ""expressions-allowed"" => false,
                ""required"" => false,
                ""nillable"" => true
            },
{noformat}",2016/06/27 5:09 PM
WFLY-6327,"When default cache is set to ""repl"", after deploying clusterbench and accessing {{http://localhost:8080/clusterbench-granular/granular}}, the following NPE is logged:

{code}
12:08:42,201 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command GetKeysInGroupCommand, writing keys []: java.lang.NullPointerException
        at org.infinispan.interceptors.base.BaseStateTransferInterceptor.visitGetKeysInGroupCommand(BaseStateTransferInterceptor.java:50)
        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
        at org.infinispan.commands.AbstractVisitor.visitGetKeysInGroupCommand(AbstractVisitor.java:178)
        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)
        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
        at org.infinispan.cache.impl.CacheImpl.internalGetGroup(CacheImpl.java:490)
        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:483)
        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:478)
        at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.getGroup(AbstractDelegatingAdvancedCache.java:227)
        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:73)
        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:45)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:55)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:40)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:256)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:109)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:741)
        at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)
        at org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServlet.doGet(CommonGranularHttpSessionServlet.java:40)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
{code}
Followed by:
{code}
12:08:42,203 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /clusterbench-granular/granular: java.lang.NullPointerException
        at org.infinispan.interceptors.base.BaseStateTransferInterceptor.visitGetKeysInGroupCommand(BaseStateTransferInterceptor.java:50)
        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
        at org.infinispan.commands.AbstractVisitor.visitGetKeysInGroupCommand(AbstractVisitor.java:178)
        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)
        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
        at org.infinispan.cache.impl.CacheImpl.internalGetGroup(CacheImpl.java:490)
        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:483)
        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:478)
        at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.getGroup(AbstractDelegatingAdvancedCache.java:227)
        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:73)
        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:45)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:55)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:40)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:256)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:109)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:741)
        at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)
        at org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServlet.doGet(CommonGranularHttpSessionServlet.java:40)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
{code}

See Steps to Reproduce.

This *does not happen* when using ""dist"" cache.

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-granular-shutdown-repl-sync/1/console-perf18/
",2016/03/07 6:22 AM
WFLY-6031,We've run into this problem when executing Weld and CDI TCK test suites on a specific HP-UX machine. Both test suites contain a lot of scenarios where the deployment fails. HP-UX jvm cannot handle this load and the test suite fails with OutOfMemoryError.,2016/01/19 10:32 AM
WFLY-6192,"*org.jboss.as.test.integration.jaxb.unit.JAXBUsageTestCase#testJAXBServlet*

{{./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=org.jboss.as.test.integration.jaxb.unit.JAXBUsageTestCase#testJAXBServlet}}

Fails with:

{code}
ERROR [io.undertow.request] (default task-46) UT005023: Exception handling request to /jaxb-webapp//jaxbServlet: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/jaxb-webapp.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.Thread.getContextClassLoader(Thread.java:500)
	at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:279)
	at org.jboss.as.test.integration.jaxb.JAXBUsageServlet.doGet(JAXBUsageServlet.java:50)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:180)
	at java.security.AccessController.doPrivileged(AccessController.java:650)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:177)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(Thread.java:785)
{code}",2016/02/12 6:07 AM
WFLY-6191,"*org.jboss.as.test.integration.management.api.expression.ExpressionSubstitutionInContainerTestCase*

{{./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=org.jboss.as.test.integration.management.api.expression.ExpressionSubstitutionInContainerTestCase}}

{code}
Failed to start service jboss.deployment.unit.""expression-substitution-test.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""expression-substitution-test.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""expression-substitution-test.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/expression-substitution-test.jar <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:1525)
	at java.lang.Class.getClassLoader(Class.java:683)
	at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1529)
	at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:51)
	at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2099)
	at org.jboss.msc.service.ServiceControllerImpl.commitInstallation(ServiceControllerImpl.java:265)
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:771)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401)
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317)
	at org.jboss.as.test.integration.management.api.expression.ExpressionTestManagementService.activate(ExpressionTestManagementService.java:69)
	at org.jboss.as.server.deployment.service.ServiceActivatorProcessor.deploy(ServiceActivatorProcessor.java:74)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
	... 5 more
{code}",2016/02/12 6:02 AM
WFLY-8070,"I don't see any useful use case when I want to configure password attribute in conjuction with credential-reference.
Please mark password attribute and credential-reference in management model as ""alternatives"".

alternatives – List of string – Indicates an exclusive relationship between attributes. If this attribute is defined, the other attributes listed in this descriptor's value should be undefined (even if their required descriptor says true; i.e. the presence of this attribute satisfies the requirement.) Default is undefined; i.e. this does not apply to most attributes.

It applies to:
* {bridge}
  ** Attributes {{password}} and {{credential-reference}} should be mutually exclusive.
* {jms-bridge} 
  ** Attributes {{source-password}} and {{source-credential-reference}} should be mutually exclusive.  
  ** Attributes {{target-password}} and {{target-credential-reference}} should be mutually exclusive.  
",2017/02/10 7:24 AM
WFLY-8238,"A bridge is added and a credential-reference is set. 
However a ""password"" attribute cannot be set as the alternatives constraint validates the data, but the password attribute has a default value. 
Also neither credential-reference and password are required=true, so they may be undefined.

{code}
/profile=full/subsystem=messaging-activemq/server=default/bridge=test1:add(discovery-group=mane,queue-name=DLQ,forwarding-address=DLQ)

/profile=full/subsystem=messaging-activemq/server=default/bridge=test1:write-attribute(name=credential-reference,value={clear-text=senha1})

/profile=full/subsystem=messaging-activemq/server=default/bridge=test1:undefine-attribute(name=credential-reference)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYMSGAMQ0069: Attribute (credential-reference) can not been undefined as the resource does not define any alternative to this attribute.""},
    ""rolled-back"" => true
}
{code}

The same problem, when user adds a bridge with a password and later wants to undefine it to add a credential-reference
{code}
/profile=full/subsystem=messaging-activemq/server=default/bridge=test1:add(discovery-group=mane,queue-name=DLQ,forwarding-address=DLQ,password=senha1)
/profile=full/subsystem=messaging-activemq/server=default/bridge=test1:undefine-attribute(name=password)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYMSGAMQ0069: Attribute (password) can not been undefined as the resource does not define any alternative to this attribute.""},
    ""rolled-back"" => true
}
{code}",2017/02/24 3:35 PM
WFLY-7888,"*org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase#noTimeoutStateful*
*org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase#noTimeoutStateless*
*org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase#timeoutStateful*
*org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase#timeoutStateless*
{{./integration-tests.sh -DtestLogToFile -Dts.noSmoke -Dts.iiop -Dtest=IIOPTimeoutTestCase -Dsecurity.manager}}

{code}
ERROR [org.jboss.as.ejb3.invocation] (p: default-threadpool; w: Idle) WFLYEJB0034: EJB Invocation failed on component StatelessBean for method public abstract void org.jboss.as.test.iiop.transaction.timeout.TestBeanRemote.testTransaction() throws java.rmi.RemoteException: javax.ejb.EJBException: WFLYEJB0442: Unexpected Error
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:184)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:456)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:84)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.EjbExceptionTransformingInterceptorFactories$1.processInvocation(EjbExceptionTransformingInterceptorFactories.java:75)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:375)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:375)
	at java.security.AccessController.doPrivileged(AccessController.java:686)
	at java.security.AccessController.doPrivilegedWithCombiner(AccessController.java:742)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:75)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ejb3.iiop.EjbCorbaServant._invoke(EjbCorbaServant.java:328)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:1558)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleInput(CorbaMessageMediatorImpl.java:940)
	at com.sun.corba.se.impl.protocol.giopmsgheaders.RequestMessage_1_2.callback(RequestMessage_1_2.java:198)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:712)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.dispatch(SocketOrChannelConnectionImpl.java:471)
	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.doWork(SocketOrChannelConnectionImpl.java:1230)
	at com.sun.corba.se.impl.orbutil.threadpool.ThreadPoolImpl$WorkerThread.performWork(ThreadPoolImpl.java:490)
	at com.sun.corba.se.impl.orbutil.threadpool.ThreadPoolImpl$WorkerThread.run(ThreadPoolImpl.java:519)
Caused by: java.lang.ExceptionInInitializerError
	at java.lang.J9VMInternals.ensureError(J9VMInternals.java:141)
	at java.lang.J9VMInternals.recordInitializationFailure(J9VMInternals.java:130)
	at org.jboss.as.test.integration.transactions.TxTestUtil.<clinit>(TxTestUtil.java:42)
	at org.jboss.as.test.iiop.transaction.timeout.StatelessBean.testTransaction(StatelessBean.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:456)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:85)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:96)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	... 54 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.util.PropertyPermission"" ""ts.timeout.factor"" ""read"")"" in code source ""(vfs:/content/stateless-iiop-txn-timeout.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.stateless-iiop-txn-timeout.jar:main"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPropertyAccess(WildFlySecurityManager.java:469)
	at java.lang.System.getProperty(System.java:443)
	at java.lang.System.getProperty(System.java:427)
	at java.lang.Integer.getInteger(Integer.java:1113)
	at java.lang.Integer.getInteger(Integer.java:1069)
	at org.jboss.as.test.shared.TimeoutUtil.<clinit>(TimeoutUtil.java:39)
	... 81 more
{code}

*org.jboss.as.test.integration.jca.statistics.xa.XaDataSourcePoolStatisticsTestCase#testXACommit*
*org.jboss.as.test.integration.jca.statistics.xa.XaDataSourcePoolStatisticsTestCase#testXARollback*
{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=XaDataSourcePoolStatisticsTestCase -Dsecurity.manager}}

{code}
ERROR [org.jboss.as.ejb3.invocation] (default task-5) WFLYEJB0034: EJB Invocation failed on component SLSB1 for method public abstract void org.jboss.as.test.integration.jca.statistics.xa.SLSB.commit() throws java.lang.Exception: javax.ejb.EJBException: WFLYEJB0443: EJB 3.1 FR 13.3.3: BMT bean SLSB1 should complete transaction before returning.
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.checkStatelessDone(EjbBMTInterceptor.java:86)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:106)
	at org.jboss.as.ejb3.tx.BMTInterceptor.processInvocation(BMTInterceptor.java:58)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:456)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:84)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:375)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:375)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessController.doPrivilegedWithCombiner(AccessController.java:568)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:75)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:340)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:68)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)
	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.processMessage(MethodInvocationMessageHandler.java:268)
	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.processMessage(VersionOneProtocolChannelReceiver.java:213)
	at org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.processMessage(VersionTwoProtocolChannelReceiver.java:76)
	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.handleMessage(VersionOneProtocolChannelReceiver.java:159)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:434)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:789)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.RuntimeException: java.lang.ExceptionInInitializerError
	... 62 more
Caused by: java.lang.ExceptionInInitializerError
	at org.jboss.as.test.integration.transactions.TxTestUtil.<clinit>(TxTestUtil.java:42)
	at org.jboss.as.test.integration.jca.statistics.xa.SLSB1.commit(SLSB1.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:456)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:85)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:96)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:359)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:103)
	... 60 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.util.PropertyPermission"" ""ts.timeout.factor"" ""read"")"" in code source ""(vfs:/content/xa-datasource-pool-statistics-test.ear/xa_transactions.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.xa-datasource-pool-statistics-test.ear.xa_transactions.jar:main"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPropertyAccess(WildFlySecurityManager.java:469)
	at java.lang.System.getProperty(System.java:717)
	at java.lang.Integer.getInteger(Integer.java:1101)
	at java.lang.Integer.getInteger(Integer.java:1057)
	at org.jboss.as.test.shared.TimeoutUtil.<clinit>(TimeoutUtil.java:39)
	... 78 more
{code}",2017/01/16 9:28 AM
WFLY-7893,"*org.jboss.as.test.clustering.cluster.registry.RegistryTestCase(SYNC-tcp)#test*

{{export MYTESTIP_1=192.168.1.50}}
{{export MYTESTIP_2=192.168.1.51}}
{{sudo ifconfig em1:0 192.168.1.50}}
{{sudo ifconfig em1:1 192.168.1.51}}
{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.clustering -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dtest=RegistryTestCase -Dsecurity.manager}}

fails with:
{code}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy: registry.jar
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:141)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:121)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:236)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.deploy(ClientDeployer.java:93)
	at org.jboss.as.test.clustering.NodeUtil.deploy(NodeUtil.java:42)
	at org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.beforeTestMethod(ClusterAbstractTestCase.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:463)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:108)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:241)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.Exception: {
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""registry.jar\"".component.RegistryBean.START"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""registry.jar\"".component.RegistryBean.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: javax.ejb.EJBException: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""getClassLoader\"")\"" in code source \""(vfs:/content/registry.jar <no signer certificates>)\"" of \""ModuleClassLoader for Module \""deployment.registry.jar:main\"" from Service Module Loader\"")
    Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""getClassLoader\"")\"" in code source \""(vfs:/content/registry.jar <no signer certificates>)\"" of \""ModuleClassLoader for Module \""deployment.registry.jar:main\"" from Service Module Loader\"")""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""registry.jar\"".component.RegistryBean.START""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => undefined
}
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:135)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:121)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:236)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.deploy(ClientDeployer.java:93)
	at org.jboss.as.test.clustering.NodeUtil.deploy(NodeUtil.java:42)
	at org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.beforeTestMethod(ClusterAbstractTestCase.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:463)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:108)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:241)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{code}


*org.jboss.as.test.clustering.cluster.provider.ServiceProviderRegistrationTestCase(SYNC-tcp)#test*

{{export MYTESTIP_1=192.168.1.50}}
{{export MYTESTIP_2=192.168.1.51}}
{{sudo ifconfig em1:0 192.168.1.50}}
{{sudo ifconfig em1:1 192.168.1.51}}
{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.clustering -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dtest=ServiceProviderRegistrationTestCase -Dsecurity.manager}}

fails with:
{code}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy: service-provider-registration.jar
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:141)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:121)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:236)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.deploy(ClientDeployer.java:93)
	at org.jboss.as.test.clustering.NodeUtil.deploy(NodeUtil.java:42)
	at org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.beforeTestMethod(ClusterAbstractTestCase.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:463)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:108)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:241)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.Exception: {
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""service-provider-registration.jar\"".component.ServiceProviderRegistrationBean.START"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""service-provider-registration.jar\"".component.ServiceProviderRegistrationBean.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: javax.ejb.EJBException: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""getClassLoader\"")\"" in code source \""(vfs:/content/service-provider-registration.jar <no signer certificates>)\"" of \""ModuleClassLoader for Module \""deployment.service-provider-registration.jar:main\"" from Service Module Loader\"")
    Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""getClassLoader\"")\"" in code source \""(vfs:/content/service-provider-registration.jar <no signer certificates>)\"" of \""ModuleClassLoader for Module \""deployment.service-provider-registration.jar:main\"" from Service Module Loader\"")""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""service-provider-registration.jar\"".component.ServiceProviderRegistrationBean.START""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => undefined
}
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:135)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:121)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:236)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.deploy(ClientDeployer.java:93)
	at org.jboss.as.test.clustering.NodeUtil.deploy(NodeUtil.java:42)
	at org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.beforeTestMethod(ClusterAbstractTestCase.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:463)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:108)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:241)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{code}",2017/01/17 3:17 AM
WFLY-6858,"The start-job operation must pass the job file name as parameter, 

/deployment=*/subsystem=batch-jberet:read-operation-description(name=start-job)

however the jon attribute below, returns the job-id name, not the job file name

/deployment=*/subsystem=batch-jberet/job=*

So there is no way to know at runtime, the job file name. Is it possible to return the job xml file name ?

",2016/07/20 11:13 AM
WFLY-6599,"If you configure the JDBC_PING protocol in JGroups to use a datasource provided by WildFly via the *datasource_jndi_name* setting, you'll get the following exception when WildFly is shutdown:

{code}
[Server:main-server] 2016-05-10 11:05:45+1000 ERROR [[org.jgroups.protocols.JDBC_PING]] [[MSC service thread 1-4]] Could not open connection to database: java.sql.SQLException: javax.resource.ResourceException: IJ000470: You are trying to use a connection factory that has been shut down: java:/comp/env/jdbc/jgroups
[Server:main-server]    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:146)
[Server:main-server]    at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:66)
[Server:main-server]    at org.jgroups.protocols.JDBC_PING.getConnection(JDBC_PING.java:348)
[Server:main-server]    at org.jgroups.protocols.JDBC_PING.delete(JDBC_PING.java:379)
[Server:main-server]    at org.jgroups.protocols.JDBC_PING.deleteSelf(JDBC_PING.java:395)
[Server:main-server]    at org.jgroups.protocols.JDBC_PING.stop(JDBC_PING.java:144)
[Server:main-server]    at org.jgroups.stack.ProtocolStack.stopStack(ProtocolStack.java:1015)
[Server:main-server]    at org.jgroups.JChannel.stopStack(JChannel.java:1002)
[Server:main-server]    at org.jgroups.JChannel.disconnect(JChannel.java:373)
[Server:main-server]    at org.wildfly.clustering.jgroups.spi.service.ChannelConnectorBuilder.stop(ChannelConnectorBuilder.java:103)
[Server:main-server]    at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)
[Server:main-server]    at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[Server:main-server]    at java.lang.Thread.run(Thread.java:745)
[Server:main-server] Caused by: javax.resource.ResourceException: IJ000470: You are trying to use a connection factory that has been shut down: java:/comp/env/jdbc/jgroups
[Server:main-server]    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:735)
[Server:main-server]    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
[Server:main-server]    ... 14 more
{code}

The solution is to configure the database connection directly, but then it seems that you loose the ability to use features like database connection validation, reconnection and the other settings provided by a WildFly datasource the improve the reliability of a database connection.",2016/05/09 9:10 PM
WFLY-6844,NoData,2016/07/19 6:37 AM
WFLY-6600,"We deploy an EAR file to a Wildfly domain with two slaves. On one slave, we'll frequently see this exception:

{code}
[Server:main-server] 2016-05-08 16:06:13+1000 INFO [[org.jboss.as.server]] [[ServerService Thread Pool -- 359]] WFLYSRV0016: Replaced deployment ""services.war"" with deployment ""services.war""
[Server:main-server] 2016-05-09 06:05:08+1000 ERROR [[org.jboss.as.controller.management-operation]] [[ServerService Thread Pool -- 384]] WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
[Server:main-server]     (""deployment"" => ""OnlineSystemsApplications.ear""),
[Server:main-server]     (""subdeployment"" => ""systemcheck.war""),
[Server:main-server]     (""subsystem"" => ""undertow""),
[Server:main-server]     (""servlet"" => ""javax.ws.rs.core.Application"")
[Server:main-server] ]): java.lang.NullPointerException
[Server:main-server]    at org.wildfly.extension.undertow.DeploymentServletDefinition$AbstractMetricsHandler.execute(DeploymentServletDefinition.java:125)
[Server:main-server]    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)
[Server:main-server]    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)
[Server:main-server]    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:263)
[Server:main-server]    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:933)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:890)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:659)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)
[Server:main-server]    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1344)
[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)
[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:217)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.internalExecute(TransactionalProtocolOperationHandler.java:247)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:185)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:138)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:134)
[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)
[Server:main-server]    at javax.security.auth.Subject.doAs(Subject.java:360)
[Server:main-server]    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:81)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:157)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:153)
[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2.execute(TransactionalProtocolOperationHandler.java:153)
[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$ManagementRequestContextImpl$1.doExecute(AbstractMessageHandler.java:363)
[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:472)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[Server:main-server]    at java.lang.Thread.run(Thread.java:745)
[Server:main-server]    at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{code}

At the same time we'll see this on the second node

{code}
[Server:main-server] 2016-05-06 16:17:59+1000 ERROR [[org.jboss.as.controller.management-operation]] [[ServerService Thread Pool -- 276]] WFLYCTL0190: Step handler org.jboss.as.server.deployment.DeploymentHandlerUtil$4@14bd8919 for operation {""operation"" => ""full-replace-deployment"",""name"" => ""OnlineSystemsApplications.ear"",""enabled"" => true,""content"" => [{""hash"" => bytes { 0x73, 0xec, 0x83, 0x82, 0xb6, 0x67, 0x2d, 0x92, 0x36, 0x7a, 0xb7, 0x7c, 0x7a, 0x4e, 0xc4, 0x93, 0x00, 0xc1, 0xf3, 0xc3 }}],""operation-headers"" => {""access-mechanism"" => ""NATIVE"",""domain-uuid"" => ""76dbe681-46d0-4f2e-a4c7-82f615919ff0""},""address"" => [],""runtime-name"" => undefined,""persistent"" => true,""owner"" => undefined} at address [] failed handling operation rollback -- java.util.NoSuchElementException: No child 'name' exists: java.util.NoSuchElementException: No child 'name' exists
[Server:main-server]    at org.jboss.dmr.ModelValue.requireChild(ModelValue.java:377)
[Server:main-server]    at org.jboss.dmr.ObjectModelValue.requireChild(ObjectModelValue.java:299)
[Server:main-server]    at org.jboss.dmr.ModelNode.require(ModelNode.java:870)
[Server:main-server]    at org.jboss.as.server.deployment.DeploymentHandlerUtil$4$1.handleResult(DeploymentHandlerUtil.java:277)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.invokeResultHandler(AbstractOperationContext.java:1384)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.handleResult(AbstractOperationContext.java:1366)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.finalizeInternal(AbstractOperationContext.java:1328)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.finalizeStep(AbstractOperationContext.java:1311)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.access$300(AbstractOperationContext.java:1185)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeResultHandlerPhase(AbstractOperationContext.java:767)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeDoneStage(AbstractOperationContext.java:753)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:680)
[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)
[Server:main-server]    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1344)
[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)
[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:217)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.internalExecute(TransactionalProtocolOperationHandler.java:247)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:185)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:138)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:134)
[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)
[Server:main-server]    at javax.security.auth.Subject.doAs(Subject.java:360)
[Server:main-server]    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:81)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:157)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:153)
[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)
[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2.execute(TransactionalProtocolOperationHandler.java:153)
[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$ManagementRequestContextImpl$1.doExecute(AbstractMessageHandler.java:363)
[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:472)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[Server:main-server]    at java.lang.Thread.run(Thread.java:745)
[Server:main-server]    at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{code}

The WAR file in question doesn't actually use JAX-RS, so I'm not sure why javax.ws.rs.core.Application would be causing any issues.",2016/05/08 4:11 PM
WFLY-5950,"Currently default protocol is set to jmx-as7. It is recommended to use servlet instead as there are issues in RTS testsuite when using jmx protocol.
see http://discuss.arquillian.org/t/solved-randomly-before-method-runs-twice/193/4 for more details.",2016/01/07 6:03 AM
WFLY-6059,"This currently has several issues, as valves are just migrated directly without regard for how configuration has changed.",2016/01/24 10:00 PM
WFLY-6142,{{org.apache.catalina.valves.StuckThreadDetectionValve}} is not automatically migrated even though there exists equivalent handler in EAP7 ({{io.undertow.server.handlers.StuckThreadDetectionHandler}}).,2016/02/08 10:43 AM
WFLY-6935,NoData,2016/08/09 3:47 PM
WFLY-6042,"Seen in these scenarios in ER4:

ejb-ejbremote-jvmkill-dist-async
http-session-jvmkill-dist-async-3owners

When perf21 was killed, perf19 got a new cluster view and then logged NPE:
{code}
[JBossINF] [0m[31m13:38:53,963 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (remote-thread--p7-t47) ISPN000136: Error executing command LockControlCommand, writing keys []: java.lang.NullPointerException
[JBossINF] 	at org.infinispan.transaction.impl.AbstractCacheTransaction.getReleaseFutureForKeys(AbstractCacheTransaction.java:392)
[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.lambda$getTransactionWithAnyLockedKey$174(DefaultPendingLockManager.java:267)
[JBossINF] 	at org.infinispan.commons.util.concurrent.jdk8backported.EquivalentConcurrentHashMapV8$ValuesView.forEach(EquivalentConcurrentHashMapV8.java:4604)
[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.forEachTransaction(DefaultPendingLockManager.java:285)
[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.getTransactionWithAnyLockedKey(DefaultPendingLockManager.java:264)
[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.checkForAnyPendingLocks(DefaultPendingLockManager.java:207)
[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForAllKeys(DefaultPendingLockManager.java:136)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:197)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:165)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:184)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitLockControlCommand(TxInterceptor.java:215)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitLockControlCommand(TransactionSynchronizerInterceptor.java:75)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:238)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:102)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:81)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.perform(LockControlCommand.java:122)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:92)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/20/console-perf19/",2016/01/21 7:30 AM
WFLY-6109,"{noformat}
15:34:39,087 WARN  [org.infinispan.transaction.tm.DummyTransaction] (default task-1) ISPN000112: exception while committing: javax.transaction.xa.XAException
	at org.infinispan.transaction.xa.TransactionXaAdapter.getLocalTransactionAndValidateImpl(TransactionXaAdapter.java:242)
	at org.infinispan.transaction.xa.TransactionXaAdapter.getLocalTransactionAndValidate(TransactionXaAdapter.java:235)
	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:103)
	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:389)
	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:435)
	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:314)
	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:105)
	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)
	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:77)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:768)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:557)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:331)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}",2016/02/01 1:01 PM
WFLY-6203,"Getting the following error when there's a remote-store configured which offloads data to a remote JDG server: ClassNotFoundException: org.infinispan.client.hotrod.impl.transport.tcp.RoundRobinBalancingStrategy

The dependency on <module name=""org.infinispan.client.hotrod""/> can not be found anywhere in the wildfly clustering modules which is the cause. I've tried adding this to the module org.wildfly.clustering.service and it fixed the problem, but this is probably not the right location.

Whole stack trace below.
{code}
09:53:56,285 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 69) MSC000001: Failed to start service jboss.infinispan.web.""clusterbench-ee7.ear.cb.war"": org.jboss.msc.service.StartException in service jboss.infinispan.web.""clusterbench-ee7.ear.cb.war"": org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.persistence.manager.PersistenceManagerImpl.start() on object of type PersistenceManagerImpl
    at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
    at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.persistence.manager.PersistenceManagerImpl.start() on object of type PersistenceManagerImpl
    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:172)
    at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:887)
    at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:656)
    at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:645)
    at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:548)
    at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:222)
    at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:849)
    at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:621)
    at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:572)
    at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:440)
    at org.jboss.as.clustering.infinispan.DefaultCacheContainer.lambda$getCache$6(DefaultCacheContainer.java:119)
    at org.jboss.as.clustering.infinispan.DefaultCacheContainer$$Lambda$100/1486346797.run(Unknown Source)
    at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:120)
    at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:114)
    at org.wildfly.clustering.infinispan.spi.service.CacheBuilder.start(CacheBuilder.java:80)
    at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)
    ... 4 more
Caused by: org.infinispan.commons.CacheException: Unable to start cache loaders
    at org.infinispan.persistence.manager.PersistenceManagerImpl.start(PersistenceManagerImpl.java:174)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:497)
    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:168)
    ... 19 more
Caused by: org.infinispan.commons.CacheConfigurationException: Unable to instantiate class org.infinispan.client.hotrod.impl.transport.tcp.RoundRobinBalancingStrategy
    at org.infinispan.commons.util.Util.loadClass(Util.java:103)
    at org.infinispan.client.hotrod.configuration.ConfigurationBuilder.balancingStrategy(ConfigurationBuilder.java:125)
    at org.infinispan.persistence.remote.RemoteStore.buildRemoteConfiguration(RemoteStore.java:221)
    at org.infinispan.persistence.remote.RemoteStore.start(RemoteStore.java:89)
    at org.infinispan.persistence.manager.PersistenceManagerImpl.start(PersistenceManagerImpl.java:141)
    ... 24 more
Caused by: java.lang.ClassNotFoundException: org.infinispan.client.hotrod.impl.transport.tcp.RoundRobinBalancingStrategy from [Module ""org.wildfly.clustering.service:main"" from local module loader @4c75cab9 (finder: local module finder @1ef7fe8e (roots: /home/mgencur/containers/eap7/jboss-eap-7.0/modules,/home/mgencur/containers/eap7/jboss-eap-7.0/modules/system/layers/base))]
    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)
    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)
    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:348)
    at org.infinispan.commons.util.Util.loadClassStrict(Util.java:158)
    at org.infinispan.commons.util.Util.loadClass(Util.java:101)
    ... 28 more
{code}

My cache configuration looks like this:
{code}
<replicated-cache name=""offload"" mode=""SYNC"">
                    <transaction mode=""BATCH""/>
                    <remote-store cache=""default"" socket-timeout=""60000"" remote-servers=""remote-jdg-server1"" passivation=""false"" preload=""true"" purge=""false"" shared=""true""/>
                </replicated-cache>
{code}
There's also a remote endpoint defined:
{code}
<outbound-socket-binding name=""remote-jdg-server1"">
    <remote-destination host=""localhost"" port=""11222""/>
  </outbound-socket-binding>
{code}

I'm using the clusterbench-eet.ear application and just deploy it to EAP. Application attached.",2016/02/12 2:31 PM
WFLY-6304,"RemotingLoginModule propagates javax.security.cert.X509Certificate but should use the newer API java.security.cert.X509Certificate. 

David proposed the following:
The problem is at org.jboss.as.security.remoting.RemotingLoginModule line 126: session.getPeerCertificateChain() is called where session.getPeerCertificates() should be.",2016/03/01 7:15 AM
WFLY-6672,"Say there is an asynchronous EJB method:
{code}
@Asynchronous
public Future<Boolean> method() {
   ...
}
{code}
Calling Future#get with a zero timeout:
{code}
if (bean.method().get(0, TimeUnit.MILLISECONDS))
{code}
results in a block until the task is finished.
Instead I expected zero waiting, because {{java.util.concurrent.Future.get(long, TimeUnit)}} doesn't specify any special treatment for a zero timeout value.",2016/06/04 9:51 AM
WFLY-7594,"*org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase#flushAllConnectionsInPool*
*org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase#flushGracefullyConnectionsInPool*
*org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase#flushIdleConnectionsInPool*
*org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase#flushInvalidConnectionsInPool*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=FlushOperationsTestCase -Dsecurity.manager}}

{code}
SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-3-thread-1) Failed: org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase.flushAllConnectionsInPool: java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""localhost:0"" ""listen,resolve"")"" in code source ""(vfs:/content/flush-operations.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.flush-operations.jar:main"" from Service Module Loader"")
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase.executeAndAssertSuccess(FlushOperationsTestCase.java:301)
	at org.jboss.as.test.integration.jca.flushing.FlushOperationsTestCase.cleanup(FlushOperationsTestCase.java:152)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:459)
	at org.jboss.arquillian.container.test.impl.execution.AfterLifecycleEventExecuter.on(AfterLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.testenricher.cdi.CreationalContextDestroyer.destory(CreationalContextDestroyer.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.after(EventTestRunnerAdaptor.java:122)
	at org.jboss.arquillian.junit.Arquillian$5$1.evaluate(Arquillian.java:264)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:315)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:311)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:243)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:219)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1512)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:731)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.client.PeerIdentity.runAsAll(PeerIdentity.java:464)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:225)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:185)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""localhost:0"" ""listen,resolve"")"" in code source ""(vfs:/content/flush-operations.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.flush-operations.jar:main"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.SecurityManager.checkListen(SecurityManager.java:1131)
	at org.wildfly.security.manager.WildFlySecurityManager.checkListen(WildFlySecurityManager.java:392)
	at sun.nio.ch.SocketChannelImpl.bind(SocketChannelImpl.java:582)
	at sun.nio.ch.SocketAdaptor.bind(SocketAdaptor.java:135)
	at org.xnio.nio.WorkerThread.openTcpStreamConnection(WorkerThread.java:263)
	at org.xnio.XnioIoThread.openStreamConnection(XnioIoThread.java:237)
	at org.xnio.XnioWorker.openStreamConnection(XnioWorker.java:342)
	at org.xnio.http.HttpUpgrade$HttpUpgradeState.doUpgrade(HttpUpgrade.java:247)
	at org.xnio.http.HttpUpgrade$HttpUpgradeState.access$100(HttpUpgrade.java:165)
	at org.xnio.http.HttpUpgrade.performUpgrade(HttpUpgrade.java:112)
	at org.jboss.remoting3.remote.HttpUpgradeConnectionProvider.createConnection(HttpUpgradeConnectionProvider.java:110)
	at org.jboss.remoting3.remote.RemoteConnectionProvider.connect(RemoteConnectionProvider.java:201)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:487)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:410)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:406)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:166)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:121)
	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:259)
	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)
	at org.jboss.as.protocol.mgmt.ManagementClientChannelStrategy$Establishing.getChannel(ManagementClientChannelStrategy.java:162)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:135)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:59)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 139 more
{code}",2016/11/15 7:21 AM
WFLY-7806,"it is not possible to disable advertising for undertow mod_cluster configuration. 

{noformat}
[standalone@localhost:9990 /] /subsystem=undertow/configuration=filter/mod-cluster=modcluster:add(management-socket-binding=http)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0155: advertise-socket-binding may not be null"",
    ""rolled-back"" => true
}
{noformat}
",2016/12/15 8:44 AM
WFLY-7921,"Scenario: failover clustering test with enabled ""AUTH"" and ""ASYM_ENCRYPT"" protocols + JGroups default stack set to *TCP*. This issue doesn't occur when using UDP stack.

Also, encrypt_entire_message needs to be set to *""false""*

{code:xml|title=TCP stack configuration}
<stack name=""tcp"">
    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
    <protocol type=""MPING"" socket-binding=""jgroups-mping""/>
    <protocol type=""MERGE3""/>
    <protocol type=""FD_SOCK"" socket-binding=""jgroups-tcp-fd""/>
    <protocol type=""FD""/>
    <protocol type=""VERIFY_SUSPECT""/>
    <protocol type=""ASYM_ENCRYPT"">
      <property name=""encrypt_entire_message"">false</property>
      <property name=""sym_keylength"">128</property>
      <property name=""sym_algorithm"">AES/ECB/PKCS5Padding</property>
      <property name=""asym_keylength"">512</property>
      <property name=""asym_algorithm"">RSA</property>
    </protocol>
    <protocol type=""pbcast.NAKACK2""/>
    <protocol type=""UNICAST3""/>
    <protocol type=""pbcast.STABLE""/>
    <protocol type=""AUTH""> 
      <property name=""auth_class"">org.jgroups.auth.MD5Token</property>
      <property name=""auth_value"">jdgservercluster</property>
      <property name=""token_hash"">MD5</property>
    </protocol>
    <protocol type=""pbcast.GMS""/>
    <protocol type=""MFC""/>
    <protocol type=""FRAG2""/>
</stack>
{code}

During servers startup, after receiving a new cluster view, one of the servers usually logs this error message:

{code}
08:35:36,707 ERROR [org.jgroups.blocks.RequestCorrelator] (thread-1,ee,node2) JGRP000225: failed unmarshalling buffer into return value: java.lang.NullPointerException
        at java.nio.HeapByteBuffer.<init>(HeapByteBuffer.java:70)                                                                                                                                                                                                 
        at java.nio.ByteBuffer.wrap(ByteBuffer.java:373)                                                                                                                                                                                                          
        at org.jboss.as.clustering.infinispan.ChannelFactoryTransport$1.objectFromBuffer(ChannelFactoryTransport.java:81)
        at org.jgroups.blocks.RequestCorrelator.dispatch(RequestCorrelator.java:419)
        at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:357)
        at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:245)
        at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:664)
        at org.jgroups.JChannel.up(JChannel.java:738)
        at org.jgroups.fork.ForkProtocolStack.up(ForkProtocolStack.java:120)
        at org.jgroups.stack.Protocol.up(Protocol.java:380)
        at org.jgroups.protocols.FORK.up(FORK.java:114)
        at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
        at org.jgroups.protocols.FlowControl.up(FlowControl.java:390)
        at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1037)
        at org.jgroups.protocols.AUTH.up(AUTH.java:150)
        at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)
        at org.jgroups.protocols.UNICAST3.deliverMessage(UNICAST3.java:1077)
        at org.jgroups.protocols.UNICAST3.handleDataReceived(UNICAST3.java:792)
        at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:433)
        at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:649)
        at org.jgroups.protocols.EncryptBase.handleEncryptedMessage(EncryptBase.java:242)
        at org.jgroups.protocols.EncryptBase.handleUpMessage(EncryptBase.java:227)
        at org.jgroups.protocols.EncryptBase.up(EncryptBase.java:150)
        at org.jgroups.protocols.ASYM_ENCRYPT.up(ASYM_ENCRYPT.java:116)
        at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)
        at org.jgroups.protocols.FD.up(FD.java:260)
        at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:325)
        at org.jgroups.protocols.MERGE3.up(MERGE3.java:292)
        at org.jgroups.protocols.Discovery.up(Discovery.java:296)
        at org.jgroups.protocols.MPING.up(MPING.java:178)
        at org.jgroups.protocols.TP.passMessageUp(TP.java:1657)
        at org.jgroups.protocols.TP$SingleMessageHandler.run(TP.java:1873)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at org.jboss.as.clustering.jgroups.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:52)
        at org.jboss.as.clustering.jgroups.ClassLoaderThreadFactory$$Lambda$547/364315896.run(Unknown Source)
        at java.lang.Thread.run(Thread.java:745)
{code}",2017/01/20 3:00 AM
WFLY-8073,"We saw this warning in failover tests on *server*. Occurs few second after new cluster view was received.

Every failover scenario is affected (approx. 4 occurences each).

Server log stacktrace:
{code}
15:29:05,207 WARN  [org.wildfly.clustering.server] (transport-thread--p14-t5) WFLYCLSV0010: Failed to purge ejb/client-mappings registry of old registry entries for: [perf19]: org.infinispan.commons.CacheException: javax.transaction.HeuristicMixedException
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:102)
[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.topologyChanged(CacheRegistry.java:184)
[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:498)
[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:297)
[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:20)
[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:320)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1237)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1195)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1160)
[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:594)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:195)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.access$000(StateTransferManagerImpl.java:46)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:113)
[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleTopologyUpdate(LocalTopologyManagerImpl.java:328)
[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl$1.run(LocalTopologyManagerImpl.java:253)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.runInternal(SemaphoreCompletionService.java:172)
[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.run(SemaphoreCompletionService.java:151)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: javax.transaction.HeuristicMixedException
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:439)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:448)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:321)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:108)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
[JBossINF] 	... 25 more
[JBossINF] Caused by: javax.transaction.xa.XAException
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:207)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:159)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)
[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:401)
[JBossINF] 	... 29 more
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 13
[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.reportErrorAfterWait(StateTransferLockImpl.java:159)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:98)
[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:97)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:249)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:87)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)
[JBossINF] 	... 31 more
{code}

Link to server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/2/console-perf20/",2017/02/10 8:40 AM
WFLY-6316,This cache isn't used for anything.,2016/03/02 7:04 PM
WFLY-6224,"During a 2clusters test eap-7x-failover-ejb-2clusters-ejbremote-shutdown-repl-async (where 2clusters test = standalone EJB client -> 2-node ""forwarder"" cluster -> 2-node ""target"" cluster -> back to ""forwarder"" -> back to standalone client), I'm seeing {{IllegalStateException: Transaction is not in a valid state to be invoking cache operations on}}:

{code}
05:12:09,813 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-40) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=352}, status=3} is not in a valid state to be invoking cache operations on.
	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)
	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)
	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)
	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:176)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:153)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
	at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:443)
	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:85)
	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:49)
	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:238)
	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:137)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)
	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)
	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:476)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.subordinate.SubordinateAtomicAction.doOnePhaseCommit(SubordinateAtomicAction.java:247)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.subordinate.TransactionImple.doOnePhaseCommit(TransactionImple.java:283)
	at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionCommitTask.manageTransaction(XidTransactionCommitTask.java:85)
	at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
	at org.jboss.as.ejb3.remote.protocol.versionone.TransactionRequestHandler.processMessage(TransactionRequestHandler.java:139)
	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.processMessage(VersionOneProtocolChannelReceiver.java:213)
	at org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.processMessage(VersionTwoProtocolChannelReceiver.java:76)
	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.handleMessage(VersionOneProtocolChannelReceiver.java:159)
	at org.jboss.remoting3.remote.RemoteConnectionChannel$5.run(RemoteConnectionChannel.java:456)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor$1.run(EndpointImpl.java:717)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{code}

The difference from WFLY-4678 is the circumstances.

In the following text, I'm refering to the nodes by their real names: {{perf17}} is the standalone EJB client, the ""forwarder"" cluster is {{perf20}} and {{perf21}}, and the ""target"" cluster is {{perf18}} and {{perf19}}.

The stack trace above is the first occurence of the exception, it appears on perf19 (https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-2clusters-ejbremote-shutdown-repl-async/21/console-perf19/). At that time, perf18 is just shutting down gracefully, but the perf19 log clearly shows that both Infinispan and JGroups have already figured out that perf18 went away. Still, the absence of graceful shutdown for transactions might be an explanation... except that there's no reason why the cache on perf19 would be in an invalid state if it's perf18 who is going down. So maybe perf19 had to reach out to perf18 for some reason and the exception actually comes from perf18... but the cache is REPL, so perf19 should have all data locally already and it shouldn't really have to reach out to perf18.

So, not really sure why it happens.",2016/02/16 7:47 AM
WFLY-6841,"Currently, singleton services are started on the primary node only - no service is started on the backup nodes.  We can generalize this use case by building a singleton service using 2 services: one to be started on the primary node, and the other to be installed on backup nodes.  When a node is elected as the primary provider, we stop the backup service, and start the primary service.  Conversely, when a primary node loses a re-election, it stops its primary service and starts its backup service.",2016/07/18 3:47 PM
WFLY-7858,"The {{security-domain}} element in {{batch-jberet}} subsystem is not placed correctly in {{standalone-elytron.xml}} profile.

The current configuration in the profile is:

{code:xml}
<subsystem xmlns=""urn:jboss:domain:batch-jberet:2.0"">
    <default-job-repository name=""in-memory""/>
    <security-domain name=""ApplicationDomain""/>
    <default-thread-pool name=""batch""/>
    <job-repository name=""in-memory"">
        <in-memory/>
    </job-repository>
    <thread-pool name=""batch"">
        <max-threads count=""10""/>
        <keepalive-time time=""30"" unit=""seconds""/>
    </thread-pool>
</subsystem>
{code}

And XSD ({{wildfly-batch-jberet_2_0.xsd}}) says:
{code:xml}
<xs:sequence>
    <xs:element name=""default-job-repository"" type=""namedType"" minOccurs=""1"" maxOccurs=""1"">
    </xs:element>
    <xs:element name=""default-thread-pool"" type=""namedType"" minOccurs=""1"" maxOccurs=""1"">
    </xs:element>
    <xs:element name=""restart-jobs-on-resume"" type=""booleanType"" minOccurs=""0"" maxOccurs=""1"">
    </xs:element>
    <xs:element name=""security-domain"" type=""namedType"" minOccurs=""0"" maxOccurs=""1"">
    </xs:element>
    <xs:element name=""job-repository"" type=""job-repositoryType"" minOccurs=""1"" maxOccurs=""unbounded""/>
    <xs:element name=""thread-pool"" type=""thread-poolType"" minOccurs=""1"" maxOccurs=""unbounded""/>
    <xs:element name=""thread-factory"" type=""threads:thread-factory"" minOccurs=""0"" maxOccurs=""unbounded""/>
</xs:sequence>
{code}

As a result the profile XML validation ends with error:
{code}
cvc-complex-type.2.4.a: Invalid content was found starting with element 'security-domain'. One of '{""urn:jboss:domain:batch-jberet:2.0"":default-thread-pool}' is expected.
{code}",2017/01/06 4:48 PM
WFLY-6888,NoData,2016/07/28 4:20 AM
WFLY-6025,NoData,2016/01/18 1:37 PM
WFLY-6604,NoData,2016/05/11 11:10 AM
WFLY-6200,"Per the comments on WFLY-6157 and WFLY-6198, connection-url is ignored in a datasource if datasource-class is defined. However, connection-url is currently mandatory. If it is not present, WildFly fails to start:
{noformat}
09:51:18,216 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 8) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""datasources""),
    (""data-source"" => ""GamingPortalDS"")
]) - failure description: ""WFLYCTL0155: connection-url may not be null""
{noformat}",2016/02/12 9:53 AM
WFLY-6081,"Access log valves are not automatically migrated, it should be either printed warning for them to be migrated automatically or migrated automatically.",2016/01/27 9:22 AM
WFLY-6011,"The use case is as follow:

Client makes a call to a bean on server-1
bean (server-1) inserts a row into table-1
bean (server-1) calls to a bean on server-2
bean (server-2) inserts a row into table-2
bean (server-2) goes to sleep for 3 minutes

periodic recovery (server-1) flags the remote branchof the transaction  (on server-2) as in doubt and rolls it back. 

(server-1 log)
{noformat}
11:53:37,991 TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) RecoveryXids _whenFirstSeen toRecover no RecoveryOnlyEJBXAResource{receiverContext=EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@322f7790, receiver=Remoting connection EJB receiver [connection=Remoting connection <2c1ab3f6>,channel=jboss.ejb,nodename=server2]}, transactionOriginNodeIdentifier='server1'} 1452599607985 === 1452599617991
11:53:37,991 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Have 1 Xids to recover on this pass.


11:53:37,992 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) No record found for < formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-fa2e9db:5694e833:39, subordinatenodename=server2, eis_name=unknown eis name >
11:53:37,992 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) XAResourceOrphanFilter com.arjuna.ats.internal.jta.recovery.arjunacore.JTATransactionLogXAResourceOrphanFilter voted ABSTAIN
11:53:37,993 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) node name of < formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-fa2e9db:5694e833:39, subordinatenodename=server2, eis_name=unknown eis name > is server1
11:53:37,993 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) XAResourceOrphanFilter com.arjuna.ats.internal.jta.recovery.arjunacore.JTANodeNameXAResourceOrphanFilter voted ROLLBACK
11:53:37,993 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) subordinate node name of < formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-fa2e9db:5694e833:39, subordinatenodename=server2, eis_name=unknown eis name > is server2
11:53:37,993 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Checking whether Xid < formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-fa2e9db:5694e833:39, subordinatenodename=server2, eis_name=unknown eis name > exists in ObjectStore.
11:53:37,993 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Looking for 0:ffffc0a80164:-fa2e9db:5694e833:2c and /StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction/SubordinateAtomicAction/JCA


11:53:37,993 INFO  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016013: Rolling back < formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-fa2e9db:5694e833:39, subordinatenodename=server2, eis_name=unknown eis name >
{noformat}

(server-2 log)

{noformat}
11:53:37,997 TRACE [com.arjuna.ats.jta] (EJB default - 5) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE
11:53:37,998 TRACE [com.arjuna.ats.arjuna] (EJB default - 5) BasicAction::phase2Abort() for action-id 0:ffffc0a80164:-41fcd6d0:5694e85a:34
11:53:37,998 TRACE [com.arjuna.ats.arjuna] (EJB default - 5) BasicAction::doAbort (XAResourceRecord < resource:XAResourceWrapperImpl@3de8e444[xaResource=org.jboss.jca.adapters.jdbc.xa.XAManagedConnection@6440856e pad=false overrideRmValue=false productName=PostgreSQL productVersion=9.4.1 jndiName=java:jboss/datasources/testJBossDS], txid:< formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-41fcd6d0:5694e85a:3e, subordinatenodename=server2, eis_name=java:jboss/datasources/testJBossDS >, heuristic: TwoPhaseOutcome.FINISH_OK, product: PostgreSQL/9.4.1, jndiName: java:jboss/datasources/testJBossDS com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord@32ff4c6d >)
11:53:37,998 TRACE [com.arjuna.ats.jta] (EJB default - 5) XAResourceRecord.topLevelAbort for XAResourceRecord < resource:XAResourceWrapperImpl@3de8e444[xaResource=org.jboss.jca.adapters.jdbc.xa.XAManagedConnection@6440856e pad=false overrideRmValue=false productName=PostgreSQL productVersion=9.4.1 jndiName=java:jboss/datasources/testJBossDS], txid:< formatId=131077, gtrid_length=35, bqual_length=43, tx_uid=0:ffffc0a80164:-fa2e9db:5694e833:2c, node_name=server1, branch_uid=0:ffffc0a80164:-41fcd6d0:5694e85a:3e, subordinatenodename=server2, eis_name=java:jboss/datasources/testJBossDS >, heuristic: TwoPhaseOutcome.FINISH_OK, product: PostgreSQL/9.4.1, jndiName: java:jboss/datasources/testJBossDS com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord@32ff4c6d >, record id=0:ffffc0a80164:-41fcd6d0:5694e85a:3f
11:53:37,998 TRACE [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$MyXaMCF] (EJB default - 5) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0
11:53:37,998 TRACE [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$MyXaMCF] (EJB default - 5) Owner: Thread[EJB default - 5,5,EJB default]
11:53:37,999 TRACE [com.arjuna.ats.arjuna] (EJB default - 5) BasicAction::doAbort() result for action-id (0:ffffc0a80164:-41fcd6d0:5694e85a:34) on record id: (0:ffffc0a80164:-41fcd6d0:5694e85a:3f) is (TwoPhaseOutcome.FINISH_OK) node id: (server2)
11:53:37,999 TRACE [com.arjuna.ats.arjuna] (EJB default - 5) BasicAction::updateState() for action-id 0:ffffc0a80164:-41fcd6d0:5694e85a:34
11:53:37,999 TRACE [com.arjuna.ats.jta] (EJB default - 5) SynchronizationImple.afterCompletion
{noformat}

bean (server-2) wake up 
bean (server-1) updates the row in table-1

at this point the parent transaction gets committed without an error

{noformat}
11:55:31,104 TRACE [com.arjuna.ats.arjuna] (EJB default - 3) BasicAction::removeChildThread () action 0:ffffc0a80164:-fa2e9db:5694e833:2c removing TSThread:1
11:55:31,104 TRACE [com.arjuna.ats.arjuna] (EJB default - 3) BasicAction::removeChildThread () action 0:ffffc0a80164:-fa2e9db:5694e833:2c removing TSThread:1 result = true
11:55:31,104 TRACE [com.arjuna.ats.arjuna] (EJB default - 3) TransactionReaper::remove ( BasicAction: 0:ffffc0a80164:-fa2e9db:5694e833:2c status: ActionStatus.COMMITTED )
{noformat}

client call ends



When I look at the table in the database I see a row in table-1 but no row in table-2. I would expect to see both tables empty.

When I switch to JTS and run the same use case it all works as expected.",2016/01/15 3:07 PM
WFLY-6453,Stumbled upon while fixing WFLY-6294; mod_cluster is the only consumer of this at the moment.,2016/04/01 2:11 PM
WFLY-6473,"*org.jboss.as.test.integration.pojo.test.BeanFactoryTestCase*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.pojo.test.BeanFactoryTestCase -Dsecurity.manager}}

Fails with: 
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/bean-factory.jar <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at org.jboss.modules.Module.getClassLoader(Module.java:421)
	at org.jboss.as.pojo.descriptor.BaseBeanFactory.create(BaseBeanFactory.java:44)
	... 19 more
{code}",2016/04/04 6:25 AM
WFLY-6189,"*org.jboss.as.test.integration.ee.lifecycle.servlet.FilterLifecycleCallbackInterceptionTestCase#testFilterPreDestroyInterception*
 *org.jboss.as.test.integration.ee.lifecycle.servlet.ListenerLifecycleCallbackInterceptionTestCase#testListenerPreDestroyInterception*
 *org.jboss.as.test.integration.ee.lifecycle.servlet.ServletLifecycleCallbackInterceptionTestCase#testServletPreDestroyInterception*
 
 {{./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=org.jboss.as.test.integration.ee.lifecycle.servlet.FilterLifecycleCallbackInterceptionTestCase#testFilterPreDestroyInterception}}
  
 {{./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=org.jboss.as.test.integration.ee.lifecycle.servlet.ListenerLifecycleCallbackInterceptionTestCase#testListenerPreDestroyInterception}}
 
 {{./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=org.jboss.as.test.integration.ee.lifecycle.servlet.ServletLifecycleCallbackInterceptionTestCase#testServletPreDestroyInterception}}
 

fails with:

{code}
WFLYEE0006: Failed to destroy component instance org.jboss.as.ee.component.BasicComponentInstance@1cc08e61: java.lang.RuntimeException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""10.16.92.107:8080"" ""connect,resolve"")"" in code source ""(vfs:/content/remote.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.jboss.as.test.integration.ee.lifecycle.servlet.InfoClient.notify(InfoClient.java:40)
	at org.jboss.as.test.integration.ee.lifecycle.servlet.LifecycleCallbackInterceptor.preDestroy(LifecycleCallbackInterceptor.java:45)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:74)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContext.invokeNext(WeldInvocationContext.java:83)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContext.proceed(WeldInvocationContext.java:115)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeLifecycleInterception(InterceptorMethodHandler.java:78)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:74)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:50)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:84)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:61)
	at org.jboss.as.test.integration.ee.lifecycle.servlet.RemoteFilter$Proxy$_$$_WeldSubclass.lifecycle_mixin_$$_preDestroy(Unknown Source)
	at org.jboss.weld.interceptor.util.InterceptionUtils.executePredestroy(InterceptionUtils.java:67)
	at org.jboss.weld.interceptor.util.InterceptionUtils.executePredestroy(InterceptionUtils.java:79)
	at org.jboss.weld.injection.producer.DefaultLifecycleCallbackInvoker.preDestroy(DefaultLifecycleCallbackInvoker.java:89)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.preDestroy(BasicInjectionTarget.java:131)
	at org.jboss.as.weld.deployment.processors.WeldComponentIntegrationProcessor$4.run(WeldComponentIntegrationProcessor.java:201)
	at org.jboss.as.weld.deployment.processors.WeldComponentIntegrationProcessor$AbstractInjectionTargetDelegatingInterceptor.processInvocation(WeldComponentIntegrationProcessor.java:259)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.ManagedReferenceReleaseInterceptor.processInvocation(ManagedReferenceReleaseInterceptor.java:56)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessController.doPrivilegedWithCombiner(AccessController.java:568)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:75)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.BasicComponentInstance.destroy(BasicComponentInstance.java:125)
	at org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReference.release(ComponentRegistry.java:106)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$6$1.release(UndertowDeploymentInfoService.java:1375)
	at io.undertow.servlet.core.ManagedFilter.stop(ManagedFilter.java:100)
	at io.undertow.servlet.core.DeploymentManagerImpl.stop(DeploymentManagerImpl.java:548)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:141)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$2.run(UndertowDeploymentService.java:121)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""10.16.92.107:8080"" ""connect,resolve"")"" in code source ""(vfs:/content/remote.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.SecurityManager.checkConnect(SecurityManager.java:1051)
	at org.wildfly.security.manager.WildFlySecurityManager.checkConnect(WildFlySecurityManager.java:407)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:510)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:211)
	at sun.net.www.http.HttpClient.New(HttpClient.java:308)
	at sun.net.www.http.HttpClient.New(HttpClient.java:326)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1169)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:933)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1513)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)
	at org.jboss.as.test.integration.ee.lifecycle.servlet.InfoClient.notify(InfoClient.java:38)
	... 46 more
{code}",2016/02/12 4:42 AM
WFLY-6933,"*org.jboss.as.test.xts.annotation.compensationScoped.CompensationScopedTestCase#shouldSeeDifferentValuesInDifferentTransactions*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.xts -Dtest=org.jboss.as.test.xts.annotation.compensationScoped.CompensationScopedTestCase#shouldSeeDifferentValuesInDifferentTransactions -Dsecurity.manager}}

{code}
15:26:29,602 ERROR [stderr] (default task-2) java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.reflect.ReflectPermission"" ""suppressAccessChecks"")"" in code source ""(vfs:/content/test.war/WEB-INF/lib/arquillian-core.jar <no signer certificates>)"" of ""null"")
15:26:29,603 ERROR [stderr] (default task-2) 	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
15:26:29,604 ERROR [stderr] (default task-2) 	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
15:26:29,604 ERROR [stderr] (default task-2) 	at java.lang.reflect.AccessibleObject.setAccessible(AccessibleObject.java:128)
15:26:29,612 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.container.test.spi.util.ServiceLoader.createInstance(ServiceLoader.java:220)
15:26:29,618 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.container.test.spi.util.ServiceLoader.reload(ServiceLoader.java:181)
15:26:29,619 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.container.test.spi.util.ServiceLoader.getProviders(ServiceLoader.java:286)
15:26:29,619 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.container.test.spi.util.TestRunners.getTestRunner(TestRunners.java:57)
15:26:29,620 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.container.test.spi.util.TestRunners.getTestRunner(TestRunners.java:44)
15:26:29,621 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.executeTest(ServletTestRunner.java:169)
15:26:29,621 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.execute(ServletTestRunner.java:135)
15:26:29,624 ERROR [stderr] (default task-2) 	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.doGet(ServletTestRunner.java:98)
15:26:29,624 ERROR [stderr] (default task-2) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
15:26:29,636 ERROR [stderr] (default task-2) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
15:26:29,638 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
15:26:29,639 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
15:26:29,639 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
15:26:29,640 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
15:26:29,641 ERROR [stderr] (default task-2) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:26:29,642 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
15:26:29,642 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
15:26:29,643 ERROR [stderr] (default task-2) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:26:29,644 ERROR [stderr] (default task-2) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
15:26:29,644 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
15:26:29,645 ERROR [stderr] (default task-2) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
15:26:29,646 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
15:26:29,646 ERROR [stderr] (default task-2) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
15:26:29,647 ERROR [stderr] (default task-2) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
15:26:29,648 ERROR [stderr] (default task-2) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:26:29,649 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
15:26:29,650 ERROR [stderr] (default task-2) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:26:29,651 ERROR [stderr] (default task-2) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:26:29,651 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
15:26:29,652 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
15:26:29,652 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
15:26:29,653 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
15:26:29,653 ERROR [stderr] (default task-2) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
15:26:29,654 ERROR [stderr] (default task-2) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
15:26:29,654 ERROR [stderr] (default task-2) 	at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)
15:26:29,655 ERROR [stderr] (default task-2) 	at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)
15:26:29,655 ERROR [stderr] (default task-2) 	at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)
15:26:29,656 ERROR [stderr] (default task-2) 	at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)
15:26:29,656 ERROR [stderr] (default task-2) 	at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)
15:26:29,657 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
15:26:29,658 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
15:26:29,658 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
15:26:29,659 ERROR [stderr] (default task-2) 	at java.security.AccessController.doPrivileged(Native Method)
15:26:29,660 ERROR [stderr] (default task-2) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
15:26:29,661 ERROR [stderr] (default task-2) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
15:26:29,662 ERROR [stderr] (default task-2) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)
15:26:29,663 ERROR [stderr] (default task-2) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
15:26:29,664 ERROR [stderr] (default task-2) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
15:26:29,664 ERROR [stderr] (default task-2) 	at java.lang.Thread.run(Thread.java:745)
{code}",2016/08/09 9:31 AM
WFLY-7236,"*org.jboss.as.test.integration.jca.datasource.DatasourceNonCcmTestCase#testJTADS*
*org.jboss.as.test.integration.jca.datasource.DatasourceNonCcmTestCase#testNonJTADS*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.jca.datasource.DatasourceNonCcmTestCase -Dsecurity.manager}}

{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/dummy.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.dummy.jar:main"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at org.jboss.remoting3.Remoting.createEndpoint(Remoting.java:85)
	at org.jboss.remoting3.Remoting.createEndpoint(Remoting.java:112)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:120)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:64)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:139)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:114)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 146 more

{code}",2016/09/29 2:44 AM
WFLY-7308,"*org.wildfly.test.integration.jsp.JspELTestCase#testJavaLangImplicitClassELEvaluation*
{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=JspELTestCase -Dsecurity.manager}}

{code}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /d0ead681-8b75-48ba-8af6-7f08323da424/index.jsp: org.apache.jasper.JasperException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/d0ead681-8b75-48ba-8af6-7f08323da424.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@14183b28"")
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:402)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:346)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:810)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/d0ead681-8b75-48ba-8af6-7f08323da424.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@14183b28"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:1528)
	at java.lang.Thread.getContextClassLoader(Thread.java:1440)
	at javax.el.ImportHandler.getClassFor(ImportHandler.java:176)
	at javax.el.ImportHandler.resolveClassFor(ImportHandler.java:165)
	at javax.el.ImportHandler.resolveClass(ImportHandler.java:128)
	at org.wildfly.extension.undertow.ImportedClassELResolver.getValue(ImportedClassELResolver.java:58)
	at org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:96)
	at com.sun.el.parser.AstIdentifier.getValue(AstIdentifier.java:116)
	at com.sun.el.parser.AstValue.getBase(AstValue.java:150)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:199)
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:917)
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:100)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
	... 43 more
{code}",2016/10/13 8:07 AM
WFLY-6477,"*org.jboss.as.test.integration.security.jacc.context.PolicyContextTestCase#testHttpServletRequestFromPolicyContext*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.security.jacc.context.PolicyContextTestCase#testHttpServletRequestFromPolicyContext -Dsecurity.manager}}

Fails with:
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""getPolicy"")"" in code source ""(vfs:/content/ear-jacc-context.ear/ear-jacc-context.jar <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:99)
	at org.jboss.as.test.integration.security.jacc.context.PolicyContextTestBean.getHttpServletRequestFromPolicyContext(PolicyContextTestBean.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	... 67 more
{code}",2016/04/04 8:14 AM
WFLY-6320,"*org.jboss.as.test.integration.deployment.jcedeployment.JCETestCase#testJCE*

Steps to reproduce:
{{./integration-tests.sh -Dts.basic -Dts.noSmoke -DtestLogToFile=false -Dsecurity.manager -Dtest=org.jboss.as.test.integration.deployment.jcedeployment.JCETestCase#testJCE}}

Fails with:

{code}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /test/controller: javax.servlet.ServletException: Cannot install the certificate to the validator.
	at org.jboss.as.test.integration.deployment.jcedeployment.ControllerServlet.init(ControllerServlet.java:80)
	at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)
	at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)
	at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)
	at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:231)
	at io.undertow.servlet.core.ManagedServlet.getServlet(ManagedServlet.java:170)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:180)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:177)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""../jcetest.keystore"" ""read"")"" in code source ""(vfs:/content/jcetest.ear/test.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:377)
	at java.io.FileInputStream.<init>(FileInputStream.java:127)
	at java.io.FileInputStream.<init>(FileInputStream.java:93)
	at org.jboss.as.test.integration.deployment.jcedeployment.ControllerServlet.init(ControllerServlet.java:65)
	... 34 more
{code}",2016/03/04 9:52 AM
WFLY-6468,"*org.jboss.as.test.integration.security.vault.ExternalPasswordCommandsTestCase#testCmdPassword*
*org.jboss.as.test.integration.security.vault.ExternalPasswordCommandsTestCase#testExtPassword*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.security.vault.ExternalPasswordCommandsTestCase -Dsecurity.manager}}

Fail with:
{code}
[io.undertow.request] (default task-1) UT005023: Exception handling request to /vault//check: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.vault.SecurityVaultFactory.get"")"" in code source ""(vfs:/content/vault.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at org.jboss.security.vault.SecurityVaultFactory.get(SecurityVaultFactory.java:58)
	at org.jboss.security.vault.SecurityVaultFactory.get(SecurityVaultFactory.java:44)
	at org.jboss.security.vault.SecurityVaultUtil.getValue(SecurityVaultUtil.java:92)
	at org.jboss.as.test.integration.security.vault.CheckVaultedPassServlet.doGet(CheckVaultedPassServlet.java:59)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:181)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:178)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{code}


*org.jboss.as.test.integration.security.vault.VaultDatasourceTestCase#testAccessThroughVaultDatasource*
*org.jboss.as.test.integration.security.vault.VaultDatasourceTestCase#testRejectWrongPasswordThroughVaultDatasource*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.security.vault.VaultDatasourceTestCase -Dsecurity.manager}}

Fail with:
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getProtectionDomain"")"" in code source ""(vfs:/content/test.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.Class.getProtectionDomain(Class.java:2299)
	at org.jboss.as.test.integration.security.vault.VaultDatasourceTestCase.<clinit>(VaultDatasourceTestCase.java:204)
	... 62 more
{code}



*org.jboss.as.test.integration.security.vault.VaultSystemPropertiesTestCase#testVaultedSystemProperty*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=org.jboss.as.test.integration.security.vault.VaultSystemPropertiesTestCase#testVaultedSystemProperty -Dsecurity.manager}}

Fails with:
{code}
SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-3-thread-1) Failed: org.jboss.as.test.integration.security.vault.VaultSystemPropertiesTestCase.testVaultedSystemProperty: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.util.PropertyPermission"" ""vault.testing.property"" ""read"")"" in code source ""(vfs:/content/vault.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:273)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPropertyAccess(WildFlySecurityManager.java:496)
	at java.lang.System.getProperty(System.java:717)
	at org.jboss.as.test.integration.security.vault.VaultSystemPropertiesTestCase.testVaultedSystemProperty(VaultSystemPropertiesTestCase.java:62)
(...)
{code}
",2016/04/04 3:02 AM
WFLY-6602,NoData,2016/05/11 11:02 AM
WFLY-6603,NoData,2016/05/11 11:08 AM
WFLY-6776,"When there is already a long-running thread pool for a work manager and you try to create another one:
{{/subsystem=jca/workmanager=default/long-running-threads=custom:add(max-threads=30, queue-length=30)}}
you only get an opaque error message:
{{""failure-description"" => ""WFLYCTL0086: Failed to persist configuration change: WFLYCTL0084: Failed to marshal configuration"",}} with a, also useless, {{java.lang.IllegalArgumentException}} in the server log.
It should be more obvious that the error is that you cannot create two long-running thread pools",2016/06/27 2:00 AM
WFLY-6906,Integrate MANUAL eviction strategy introduced in ISPN-6911.,2016/08/02 9:04 AM
WFLY-7130,"While working on the unit test for WFLY-7075, I noticed that PersistenceContext properties are not being passed correctly to the Injected EntityManager, we should fix that.

For Example:
{quote}
@PersistenceContext(type = PersistenceContextType.TRANSACTION, unitName = ""mypc"", properties={@PersistenceProperty(name=""wildfly.jpa.allowjoinedunsync"", value=""true"")})
private EntityManager allowjoinedunsyncEm;
{quote}

Is passing an incorrect form of the property values.",2016/09/16 1:45 PM
WFLY-7412,"A security-domain can only load login-modules from a single JBoss module.  Even though the security-domain configuration will allow each login module defined within a single security-domain to have a ""module"" attribute, the only module that is used to load the login-modules is the last ""module"" attribute that the parsing system locates.  

For example, with the following configuration, it looks like ""org.jboss.example.CustomLoginModule"" should be loaded from the ""org.jboss.example"" jboss-module and ""org.jboss.example.CustomBaseCertLoginModule"" should be loaded from the ""org.jboss.another.example"" jboss-module:

  <security-domain name=""jmx-console"" cache-type=""default"">
      <authentication>
          <login-module code=""org.jboss.example.CustomLoginModule"" module=""org.jboss.example"" flag=""required"">
              <module-option name=""usersProperties"" value=""${jboss.server.config.dir}/users.properties""/>
              <module-option name=""rolesProperties"" value=""${jboss.server.config.dir}/roles.properties""/>
          </login-module>
          <login-module code=""org.jboss.example.CustomBaseCertLoginModule"" module=""org.jboss.another.example"" flag=""required"">
              <module-option name=""usersProperties"" value=""${jboss.server.config.dir}/users.properties""/>
              <module-option name=""rolesProperties"" value=""${jboss.server.config.dir}/roles.properties""/>
          </login-module>

      </authentication>
  </security-domain>

Unfortunately, it does not work like this.  Only the ""org.jboss.another.example"" jboss-module is used to load the custom login modules.",2016/10/28 1:50 PM
WFLY-7680,Remove {{Ignore}} test annotations in {{MaximumPermissionsTestCase}} to enable regression testing for JBEAP-408/WFLY-4882.,2016/11/25 7:58 AM
WFLY-6008,"A command containing the following code:
{noformat}
public class MyCommand implements Command<Void, Void> {
    public Void execute(Void context) throws Exception {
        Thread.currentThread().getClassLoader().loadClass(this.getClass().getName());
    }
}
{noformat}

currently throws a ClassNotFoundException.
A command executed with the command dispatcher should be able to load application classes using the TCCL.

In fact, the following application callbacks from the clustering API all use the wrong TCCL:
* CommandDispatcher command execution
* CommandDispatcherFactory cluster membership listener
* Cache topology membership listener
* Registry listener
* ServiceProviderRegistry listener",2016/01/15 9:56 AM
WFLY-6695,"build.bat clean install failed with
-------------------------------------------------------------------------------
Test set: org.jboss.as.test.integration.jsp.JspTagTestCase
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.768 sec <<< FAILURE! - in org.jboss.as.test.integration.jsp.JspTagTestCase
test(org.jboss.as.test.integration.jsp.JspTagTestCase)  Time elapsed: 0.486 sec  <<< FAILURE!
org.junit.ComparisonFailure: expected:<This is a header[


<div>tag</div>

Static content]
> but was:<This is a header[


<div>tag</div>

Static content
]
>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.integration.jsp.JspTagTestCase.test(JspTagTestCase.java:67)

Replacing all occurence of ""\n"" with System.getProperty(""line.separator"") in the expected String solved the problem for me.",2016/06/09 11:20 AM
WFLY-6770,"https://ci.wildfly.org/project.html?projectId=WF&buildTypeId=&tab=testDetails&testNameId=-3160751679448962118&order=TEST_STATUS_DESC&branch_WF=__all_branches__&itemsCount=50

Test will be @Ignored until this is resolved.",2016/06/24 12:30 PM
WFLY-7915,"When running on JDK9-ea there are ConncurrentModificationExceptions happening in WildFlyJobXmlResolver

Problem can happen also on JDK8 but it looks like it is easier to reproduce on JDK9.
{code}
Caused by: java.util.ConcurrentModificationException at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1138) 
at org.wildfly.extension.batch.jberet.deployment.WildFlyJobXmlResolver.addJob(WildFlyJobXmlResolver.java:290) 
at org.wildfly.extension.batch.jberet.deployment.WildFlyJobXmlResolver.init(WildFlyJobXmlResolver.java:280) 
at org.wildfly.extension.batch.jberet.deployment.WildFlyJobXmlResolver.create(WildFlyJobXmlResolver.java:231) 
at org.wildfly.extension.batch.jberet.deployment.WildFlyJobXmlResolver.forDeployment(WildFlyJobXmlResolver.java:110) 
at org.wildfly.extension.batch.jberet.deployment.BatchEnvironmentProcessor.deploy(BatchEnvironmentProcessor.java:77) 
at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
{code}

see https://ci.wildfly.org/viewLog.html?buildId=41982&tab=buildResultsDiv&buildTypeId=WF_MasterLinuxJdk9ea for failures",2017/01/19 10:24 AM
WFLY-7695,"Occured on server during scenario eap-7x-failover-ejb-ejbservlet-shutdown-dist-async.

Server log stacktrace:
{code}
11:07:31,390 WARN  [org.infinispan.transaction.impl.TransactionTable] (ServerService Thread Pool -- 87) ISPN000100: Stopping, but there are 1 local transactions and 4 remote transactions that did not finish in time.
[JBossINF] [11:07:31,391 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 87) WFLYCLINF0003: Stopped clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container
[JBossINF] [11:07:31,393 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web
[JBossINF] [11:07:31,393 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web
[JBossINF] [11:07:31,394 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (default task-65) ISPN000073: Unexpected error while replicating: java.lang.NullPointerException
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:611)
[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotelyAsync(RpcManagerImpl.java:144)
[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:185)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:268)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataReadCommand(PessimisticLockingInterceptor.java:79)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitGetKeyValueCommand(AbstractLockingInterceptor.java:80)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:346)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:331)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:177)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:154)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:443)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:74)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:64)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:36)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:60)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:38)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:228)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:142)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:772)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:802)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:806)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:572)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.doErrorDispatch(HttpServletResponseImpl.java:171)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:327)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:810)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] 
[JBossINF] [11:07:31,394 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (default task-65) ISPN000073: Unexpected error while replicating: java.lang.NullPointerException
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:611) ...
{code}

There were two occurences of this ERROR in a direct sequence when the server was shutting down.

This ERROR occured afterwards on the server:
{code}
07:31,397 ERROR [org.infinispan.transaction.impl.TransactionCoordinator] (default task-65) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.IllegalLifecycleStateException: ISPN000323: Cache 'routing' is in 'TERMINATED' state and so it does not accept new invocations. Either restart it or recreate the cache container.
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:101) ...
{code}

JvmRoute changed occured on client at the same time:
{code}
2016/10/05 11:07:31:452 EDT [INFO ][Runner - 874] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Failover detected, JvmRoute changed. dev213 -> dev212
{code}

Link to server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-dist-async/30/console-dev213/",2016/11/29 9:02 AM
WFLY-7051,The version 4.0 of the schema is slightly behind the recent changes in version 3.1 of the schema.,2016/09/05 12:09 PM
WFLY-7717,"statistics-enabled attribute is nillable but when calling undefine on it {{/subsystem=undertow:undefine-attribute(name=statistics-enabled)}}, it fails with IllegalArgumentException:
{noformat}
18:04:41,824 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 15) WFLYCTL0013: Operation (""undefine-attribute"") failed - address: ([(""subsystem"" => ""undertow"")]): java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.asBoolean(ModelValue.java:69)
	at org.jboss.dmr.ModelNode.asBoolean(ModelNode.java:267)
	at org.wildfly.extension.undertow.UndertowRootDefinition$1.applyUpdateToRuntime(UndertowRootDefinition.java:194)
	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:921)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:664)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:383)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1364)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:416)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:237)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:193)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:237)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:212)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:185)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}",2016/12/01 12:14 PM
WFLY-6996,"Customer is deploying clustered application to EAP 7.0.1 and notices high CPU utilization by Infinispan (default configuration). Customer took thread dumps (attachment high-cpu1.zip and high-cpu1.zip) during the occurrence of the issue in question. Reports [1] show high CPU utilization with Infinispan. 

Customer then gave us an app to reproduce the issue in question (attachment webapp3.zip). The attachment includes the app, which consist of JSP pages and code that can be used to test the app. During the test, we notice CPU utilization increases upwards to 80% -90% and remains there until the test is finished. If I deploy the same app to clustered EAP 6.4/Java 8 (with dist mode like default EAP 7), CPU utilization remains low (~2%) during the running of the test.

Customer is under the assumption that the high CPU is due to the number of entries in the cache (web cache). As the number of entries increases, so does the likelihood of the high CPU utilization by Infinispan. Inside the test code (SessionReplicationTest.java) provided by the customer, they included (commented out) a call to a JSP file (index3.jsp) that invalidates the session (thus removing it from cache). High CPU is not experienced when they invalidate the session.    


[1]
https://access.redhat.com/labs/jvmpeg/results/8712a840-5da6-11e6-8f83-277d70f61057
https://access.redhat.com/labs/jvmpeg/results/56bc07a0-6322-11e6-b64b-2ddd7b4e30bc",2016/08/24 10:00 AM
WFLY-7464,"{noformat}
[standalone@embedded /] /subsystem=infinispan/cache-container=server/local-cache=default:write-attribute(name=statistics-enabled, value=true){allow-resource-service-restart=true}

14:22:34,146 ERROR [org.jboss.as.controller.management-operation] (AeshProcess: 11) WFLYCTL0013: Operation (""write-attribute"") failed - address: ([
    (""subsystem"" => ""infinispan""),
    (""cache-container"" => ""server""),
    (""local-cache"" => ""default"")
]): org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.infinispan.cache-configuration.server.default.module is already registered
	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158)
	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236)
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317)
	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:2174)
	at org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.installServices(CacheServiceHandler.java:82)
	at org.jboss.as.clustering.controller.RestartWriteAttributeHandler.restartServices(RestartWriteAttributeHandler.java:67)
	at org.jboss.as.clustering.controller.RestartWriteAttributeHandler.applyUpdateToRuntime(RestartWriteAttributeHandler.java:51)
	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:940)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:683)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:382)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1361)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:411)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:701)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:691)
	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:68)
	at org.jboss.as.cli.embedded.ThreadContextsModelControllerClient.execute(ThreadContextsModelControllerClient.java:69)
	at org.jboss.as.cli.impl.CommandExecutor.execute(CommandExecutor.java:652)
	at org.jboss.as.cli.impl.CommandContextImpl.lambda$execute$1(CommandContextImpl.java:857)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:877)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:856)
	at org.jboss.as.cli.handlers.OperationRequestHandler.handle(OperationRequestHandler.java:90)
	at org.jboss.as.cli.impl.CommandContextImpl.handle(CommandContextImpl.java:801)
	at org.jboss.as.cli.impl.CommandContextImpl.handleSafe(CommandContextImpl.java:902)
	at org.jboss.as.cli.impl.CommandContextImpl$2.execute(CommandContextImpl.java:436)
	at org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}",2016/11/03 2:46 PM
WFLY-6988,EJB method invocation hangs when a bean is configured with both @Startup annotation and <init-on-startup> in ejb-jar.xml,2016/08/23 8:36 AM
WFLY-7047,"host-elytron.xml, different jvm settings, unnecesarry unsecure interface

When I compare host-elytron.xml to host.xml, 

1) jvm settings use permgen element
2) probably unnecesarry configuration of unsecure profile stays there

Is it worth provide elytron-like host-master/host-slave configuration files for convenience?
",2016/09/05 9:38 AM
WFLY-7597,The messaging-activemq integration code erroneously uses the GenericSQLProvider.Factory() implementation when Artemis server is started which overrides the factory that is configured with the journal-sql-provider-factory attribute.,2016/11/15 9:17 AM
WFLY-7713,NoData,2016/11/30 4:09 PM
WFLY-6629,Create test for issue [WFCORE-1479]: Jar sub deployment has as first dependency parent ear,2016/05/19 10:29 AM
WFLY-7021,"jdr.sh script should have better help message. There is no general description about this script. There is only list of attributes.
{code:bash}
./jdr.sh -h
{code}",2016/08/29 2:09 PM
WFLY-7044,"When I compare standalone-elytron.xml to standalone.xml, there is additional section

{noformat}
         </interface>
         <!-- TODO - only show this if the jacorb subsystem is added  -->
         <interface name=""unsecure"">
             <!--
               ~  Used for IIOP sockets in the standard configuration.
               ~                  To secure IIOP connections you need to setup SSL 
               -->
             <inet-address value=""${jboss.bind.address.unsecure:127.0.0.1}""/>
{noformat}

Is it necessary?",2016/09/05 8:56 AM
WFLY-7601,NoData,2016/11/15 11:47 AM
WFLY-8067,This issue impacts log in when using any stateful mechanism. It is basically a fix to WFLY-7111.,2017/02/09 1:47 PM
WFLY-7386,NoData,2016/10/26 7:56 AM
WFLY-6564,"*Description of problem:*
Show-resources operation of jaxrs subsystem shows wrong path in resource-methods attribute. There are double slash in path. Eg.: ""/jaxrs-eap//sample"", but correct path is ""/jaxrs-eap/sample"" (http://localhost:8080/jaxrs-eap/sample) 

This operation was added by WFLY-3045.

*How reproducible:*
Always

*Steps to Reproduce:*
# ./standalone.sh 
# deploy /home/mkopecky/playground/resteasy/single-application/target/jaxrs-eap.war
# /deployment=jaxrs-eap.war/subsystem=jaxrs:show-resources

*Actual results:*
{noformat}
...
""resource-methods"" => [""GET /jaxrs-eap//sample - org.resteasy.simple.deployment.AdvancedService.get()""]
...
{noformat}

*Expected results:*
{noformat}
...
""resource-methods"" => [""GET /jaxrs-eap/sample - org.resteasy.simple.deployment.AdvancedService.get()""]
...
{noformat}",2016/04/27 11:53 AM
WFLY-7282,"At EJBRemoteTransactionPropagatingInterceptor, a transaction that has been already open at current server could be ignored, thus causing the transaction to be reimported, resulting in the double diamond problem and a deadlock.

Issue created based on discussion at jboss-support-transactions list: http://post-office.corp.redhat.com/archives/jboss-support-transactions/2016-September/msg00000.html

Current jboss remoting implementation on JTA does not provide correct handling of double diamond transaction propagation problem.

If transaction is propagated from one server to other one and then back to the first one then such situation can cause deadlock. Remote calls and transactions are processed but when servers using the same remote resource the prepare phase of 2PC can stuck. Transaction is timed-out later and recovery process rolls it back.

IIOP/JTS does not suffer with this flaw.
",2016/10/11 1:53 AM
WFLY-8159,The elytron profile in {{testsuite/integration}} should only be activated in child modules. There should also be a possibility to provide custom CLI script (as for instance the web module uses very slim server configuration.,2017/02/17 8:08 AM
WFLY-7118,"e.g.
* Duration/Instant/etc.
* Date (java.sql variants)
* Locale
* TimeZone
* Atomic[Boolean|Integer|Long]",2016/09/15 10:23 AM
WFLY-8099,"Specify what should be used if both ssl and ssl-context are set in modcluster subsystem.

There is no warning that both are set, nor error when ssl-context is different

It looks that ssl-context has priority 
",2017/02/13 10:38 AM
WFLY-7570,"A NullPointerException is thrown, when using a runtime-name for a batch job.

 Exception
{noformat}
    ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 13) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([  
        (""deployment"" => ""batch-chunk-csv-database.war""),  
        (""subsystem"" => ""batch-jberet""),  
        (""job"" => ""myJob"")  
    ]): java.lang.NullPointerException  
        at org.wildfly.extension.batch.jberet.deployment.JobOperationStepHandler.execute(JobOperationStepHandler.java:68)  
        at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)  
        at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)  
        at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:230)  
        at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:988)  
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:921)  
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:664)  
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:383)  
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1364)  
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:416)  
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:237)  
        at org.wildfly.security.auth.client.PeerIdentity.runAsAll(PeerIdentity.java:431)  
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:206)  
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:237)  
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)  
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)  
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)  
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)  
        at org.wildfly.security.auth.client.PeerIdentity.runAsAll(PeerIdentity.java:464)  
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:225)  
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:185)  
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)  
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)  
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)  
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)  
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)  
        at java.lang.Thread.run(Thread.java:745)  
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)  
{noformat}",2016/11/14 6:38 AM
WFLY-7410,"Calling Future.get() on a response from CommandDispatcher.submitOnCluster(...) will always throw an NPE.
We also need to handle the case where the response from a node was filtered.",2016/10/28 12:24 PM
WFLY-7887,"The behavior EAP 7.1 is not completely correct as without the requisite deployment dependencies, there is a race condition between the start of the custom cache configuration service and the cache creation by the region factory.

See [JBEAP-8219] for context",2017/01/14 11:13 AM
WFLY-7544,"While cross-vm calls to beans through remote interfaces while their @PostConstruct is not done yet should be disallowed, in-vm calls should be able to proceed normally.",2016/11/09 11:43 AM
WFLY-7485,"{code}
/subsystem=transactions/:read-resource-description
{code}
*transcation*
{noformat}
""jdbc-action-store-table-prefix"" => {
                ""type"" => STRING,
                ""description"" => ""Optional prefix for table used to write transcation logs in configured jdbc action store."",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""requires"" => [""use-jdbc-store""],
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""jvm""
            },

""jdbc-communication-store-table-prefix"" => {
                ""type"" => STRING,
                ""description"" => ""Optional prefix for table used to write transcation logs in configured jdbc communication store."",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""requires"" => [""use-jdbc-store""],
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""jvm""
            },

""jdbc-state-store-table-prefix"" => {
                ""type"" => STRING,
                ""description"" => ""Optional prefix for table used to write transcation logs in configured jdbc state store."",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""requires"" => [""use-jdbc-store""],
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""jvm""
            },
{noformat}
*sghould*
{noformat}
""jdbc-store-datasource"" => {
                ""type"" => STRING,
                ""description"" => ""Jndi name of non-XA datasource used. Datasource sghould be define in datasources subsystem. For this would work the non-XA datasource has to be marked as jta=\""false\""."",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""jvm""
            },
{noformat}
",2016/11/04 8:32 AM
WFLY-7671,"The test DeploymentDescriptorTestCase appears to be assuming it will only be run after 'mvn clean'.

If I run the test manually I get the failure: -

{noformat}
Running org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.763 sec <<< FAILURE! - in org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase
namedJdbcTest(org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase)  Time elapsed: 0.127 sec  <<< FAILURE!
java.lang.AssertionError: expected:<1> but was:<6>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase.testCompletion(DeploymentDescriptorTestCase.java:127)
	at org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase.namedJdbcTest(DeploymentDescriptorTestCase.java:115)
{noformat}

Next time I run it I get: -

{noformat}
Running org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.986 sec <<< FAILURE! - in org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase
namedJdbcTest(org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase)  Time elapsed: 0.129 sec  <<< FAILURE!
java.lang.AssertionError: expected:<1> but was:<7>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase.testCompletion(DeploymentDescriptorTestCase.java:127)
	at org.jboss.as.test.integration.batch.deployment.DeploymentDescriptorTestCase.namedJdbcTest(DeploymentDescriptorTestCase.java:115)
{noformat}

So the execution IDs are not getting set back to 0 before the test starts.
",2016/11/24 11:53 AM
WFLY-6491,"ListenerResourceDefinition registers the LISTENER_CAPABILITY regardless of the value of the 'enabled' attribute. But the contract provided by that capability is only fulfilled if the attribute is 'true'.

Even worse, the attribute supports expressions, which can only be reliably resolved in Stage.RUNTIME, which is too late for recording a capability.

Fortunately, it's vault resolution that makes it necessary to resolve in RUNTIME and reality is people are highly unlikely to use the vault for this expression, so we can try and resolve and hope for the best.

This enabled stuff is just the worst. DON'T USE THIS CONCEPT IN YOUR MODEL!",2016/04/04 3:08 PM
WFLY-7140,"The injection with @EJB should work the same way in a Rest service (CDI Bean) as it does in a Servlet.

@EJB(lookup = ""ejb:jboss-ejb-multi-server-app-one/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne"")

is not working correct if used in a CDI Bean in the reproducer example.

Reproducer can be found here:
    git@github.com:wfink/jboss-eap-quickstarts.git
    BRANCH: 6.4.x_ejb-multi-server_reproducerEJB-injection
    SubProject: ejb-multi-server  (used only a part of it to have a web-app and a ejb-app)
                      see ejb-multi-server/README-reproducerEJB-injection
",2016/09/19 12:30 PM
WFLY-7061,"Looking into wildfly-undertow_4_0.xsd and wildfly-ejb3_5_0.xsd .Both undertow and ejb subsystem enables to map deployment security domain to elytron security domain using application-security-domains element. 

However, each in little different way, what could be IMHO misleading. 

Ejb subsystem defines:
* name attribute for deployment security domain
* security-domain for elytron security domain
 
Undertow subsystem defines:
* security-domain for deployment security domain

Could this be unified? 
Also is it possible mention explicitly in comment in undertow subsystem, that elytron security domain is configured in http-authentication-factory.
",2016/09/06 8:06 AM
WFLY-7752,"[5:02 PM] Radoslav Husar: org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, java.util.function.Supplier<org.jboss.staxmapper.XMLElementReader<java.util.List<org.jboss.dmr.ModelNode>>>)
[5:02 PM] Radoslav Husar: I mean we want to be using^
[5:02 PM] Radoslav Husar: but we are using org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, org.jboss.staxmapper.XMLElementReader<java.util.List<org.jboss.dmr.ModelNode>>)",2016/12/07 11:10 AM
WFLY-6653,"The default values for min and max pool size are confusing
""max-pool-size"" => -1,
""min-pool-size"" => -1,

They should either say default

""max-pool-size"" => default,
""min-pool-size"" => default,

or display the default JCA values which I believe are 2 and 20

""max-pool-size"" => 20,
""min-pool-size"" => 2,
",2016/05/25 10:35 PM
WFLY-7038,"Various problems with licenses were found.
- bsd.txt file contains BSD license template
- some licenses are incorrect",2016/09/05 4:05 AM
WFLY-6250,"If you connect to JBoss over JMX when it has many rars deployed (over 500), long running high CPU is seen in the following calls:

{code}
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:188)
        at org.jboss.as.jmx.model.ResourceAccessControlUtil.getResourceAccess(ResourceAccessControlUtil.java:85)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:51)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)
        at org.jboss.as.jmx.model.RootResourceIterator.iterate(RootResourceIterator.java:43)
{code}

It's evident that it is iterating over each deployment (each resource adapter counting as a deployment), but for each deployment, it is also iterating over all resource adapter's and their config properties.  So it would iterate over all 500+ resource adapters once for each deployment, so it iterates over all 500 adapters at least 500 times.  Is there anyway we could avoid that n^2 iteration for deployed rars?",2016/02/19 8:16 AM
WFLY-7732,Replace with setRequired(...).,2016/12/05 11:57 AM
WFLY-8011,The related issue JBEAP-411/WFLY-4886 was rejected so the tests don't check expected behavior.,2017/02/02 7:22 AM
WFLY-7751,"We need to make use of the new API method: 

org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, java.util.function.Supplier<org.jboss.staxmapper.XMLElementReader<java.util.List<org.jboss.dmr.ModelNode>>>)",2016/12/07 9:51 AM
WFLY-7603,NoData,2016/11/15 11:48 AM
WFLY-7281,"Occured on server during scenario eap-7x-failover-http-granular-shutdown-repl-sync.

Server log stacktrace:
{code}
23:04:41,857 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-97) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=19027}, status=1} is not in a valid state to be invoking cache operations on.
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:395)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:351)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:345)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:331)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:177)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:154)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.fine.FineImmutableSessionAttributes.getAttribute(FineImmutableSessionAttributes.java:59)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$findListeners$13(InfinispanSessionManager.java:406)
[JBossINF] 	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
[JBossINF] 	at java.util.concurrent.ConcurrentHashMap$KeySpliterator.forEachRemaining(ConcurrentHashMap.java:3527)
[JBossINF] 	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
[JBossINF] 	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
[JBossINF] 	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
[JBossINF] 	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
[JBossINF] 	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:406)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPrePassivationEvents(InfinispanSessionManager.java:389)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.close(InfinispanSessionManager.java:457)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:80)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:814)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:572)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.doErrorDispatch(HttpServletResponseImpl.java:171)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:327)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:810)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
{code}

Link to server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-granular-shutdown-repl-sync/14/console-dev214/

WARN occured on client at the same time:
{code}
2016/09/21 23:04:41:857 EDT [WARN ][Runner - 1402] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>
	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:163)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:745)
{code}

Link to client log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-granular-shutdown-repl-sync/14/console-dev220/",2016/10/10 6:12 AM
WFLY-7536,"testAuthorizedClient and testNotAuthorizedClient tests from RemotingLoginModuleUseNewClientCertTestCase fails on IBM jdk with {{javax.net.ssl.SSLException: Received fatal alert: handshake_failure)}}

*reproduce*
{noformat}
$ ./integration-tests.sh -Dts.noSmoke -Dts.basic -Dtest=RemotingLoginModuleUseNewClientCertTestCase
{noformat}
{noformat}
testNotAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase)  Time elapsed: 0.079 sec  <<< ERROR!
javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]
	at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)
	at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)
	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)
	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)
	at javax.naming.InitialContext.lookup(InitialContext.java:428)
	at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase.testNotAuthorizedClient(RemotingLoginModuleUseNewClientCertTestCase.java:180)

testAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase)  Time elapsed: 0.046 sec  <<< ERROR!
javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]
	at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)
	at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)
	at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)
	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)
	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)
	at javax.naming.InitialContext.lookup(InitialContext.java:428)
	at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase.testAuthorizedClient(RemotingLoginModuleUseNewClientCertTestCase.java:166)

{noformat}
",2016/11/09 5:24 AM
WFLY-7387,NoData,2016/10/26 7:57 AM
WFLY-7962,"org.jboss.as.weld.services.bootstrap.ManagedReferenceFactoryToResourceReferenceFactoryAdapter
org.jboss.as.weld.services.bootstrap.ManagedReferenceToResourceReferenceAdapter

Refer to this tattletale report:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/view/EAP7/view/EAP7-Acceptance/job/eap-7x-acceptance-tattletale/javadoc/classlocation/index.html",2017/01/25 5:48 AM
WFLY-7733,"Currently, there are 2 attributes for defining the DataSource of a JDBC-based cache store:
1. ""data-store"", which references a named DataSource capability
2. ""datasource"", the legacy attribute which specifies the jndi name of a DataSource

Both attributes are currently nullable.  Consequently, the model does not require either to be specified, which would cause the runtime to fail.
The data-source attribute should be required, with ""datasource"" set as an alternative.

No transformer is necessary since ""datasource"" was a required attribute in older versions of the model.",2016/12/05 4:54 PM
WFLY-8223,resolved password from {{recovery-credential-reference}} from xa datasource or resource adapter isn't propagated further to ironjacamar,2017/02/23 12:33 PM
WFLY-7045,"When I compare domain-elytron.xml to domain.xml, 

1) There is missing org.wildfly.extension.clustering.singleton extension installed.

2) There is changed ejb cache configuration
1254c1129
<                     <stateful default-access-timeout=""5000"" cache-ref=""simple"" passivation-disabled-cache-ref=""simple""/>
---
>                     <stateful default-access-timeout=""5000"" cache-ref=""distributable"" passivation-disabled-cache-ref=""simple""/>",2016/09/05 9:12 AM
WFLY-8242,"This exception occurs sometimes:
java.lang.NullPointerException
        at org.jboss.as.ejb3.suspend.EJBSuspendHandlerService.doneSuspended(EJBSuspendHandlerService.java:303) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.as.ejb3.suspend.EJBSuspendHandlerService.decrementTransactionCount(EJBSuspendHandlerService.java:315) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.as.ejb3.suspend.EJBSuspendHandlerService.afterCompletion(EJBSuspendHandlerService.java:285) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:542)
        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1216)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
        at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
        at org.wildfly.transaction.client.LocalTransaction.commitAndDissociate(LocalTransaction.java:69) [wildfly-transaction-client-1.0.0.Beta17.jar:1.0.0.Beta17]
        at org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:61) [wildfly-transaction-client-1.0.0.Beta17.jar:1.0.0.Beta17]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:349) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:68) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-7.1.0.Alpha1-redhat-SNAPSHOT.jar:7.1.0.Alpha1-redhat-SNAPSHOT]
",2017/02/26 3:39 PM
WFLY-7709,"Analyzing the lists of boot ops from the core and minimalistic configs, I've identified differences in the following operations.

These operations are executed when the minimalistic config is loaded:
{code}
  /core-service=management/security-realm=ManagementRealm:add # map-groups-to-roles is true by default
  /socket-binding-group=standard-sockets/socket-binding=management-http:add(interface=""management"",port=""9990"")
  /socket-binding-group=standard-sockets/socket-binding=management-native:add(interface=""management"",port=""\${jboss.management.native.port:9999}"")
  /core-service=management/management-interface=http-interface:add(console-enabled=""false"",security-realm=""ManagementRealm"",http-upgrade={""enabled"" => true},socket-binding=""management-http"")
  /core-service=management/management-interface=native-interface:add(security-realm=""ManagementRealm"",socket-binding=""management-native"") # UNIQUE
  /socket-binding-group=standard-sockets:add(default-interface=""public"")
{code}
These operations are executed as part of the default core config:
{code}
  /core-service=management/security-realm=ManagementRealm:add(map-groups-to-roles=""false"")
  /socket-binding-group=standard-sockets/socket-binding=management-http:add(interface=""management"",port=""\${jboss.management.http.port:9990}"") # accepts system prop
  /socket-binding-group=standard-sockets/socket-binding=management-https:add(interface=""management"",port=""\${jboss.management.https.port:9993}"") # https instead of native
  /core-service=management/management-interface=http-interface:add(security-realm=""ManagementRealm"",http-upgrade={""enabled"" => true},socket-binding=""management-http"") # console-enabled is true by default
  /socket-binding-group=standard-sockets:add(default-interface=""public"",port-offset=""\${jboss.socket.binding.port-offset:0}"") # accepts system prop
{code}",2016/11/30 10:22 AM
WFLY-8326,"{noformat}
/subsystem=infinispan/cache-container=ejb/distributed-cache=dist:write-attribute(name=statistics-enabled,value=true){allow-resource-service-restart=true}
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}

{noformat}",2017/03/08 10:49 PM
WFLY-8253,"If composite operation is performed on naming subsystem and member operation are in wrong order the composite operation is not performed and all changes are rolled back. See https://issues.jboss.org/browse/JBEAP-6418?focusedCommentId=13314862&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13314862
and https://issues.jboss.org/browse/JBEAP-6418?focusedCommentId=13314879&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13314879",2017/02/27 4:16 PM
WFLY-7924,"All attributes of subsystems _datasources_ and _resource-adapters_ defines in its description that there is not necessary to do {{reload}} or {{restart}} for any of them. But reality is different. If you tries to change some of such attributes you are informed that reload is necessary.

All settable attributes are defined as
{code}
 ""restart-required"" => ""no-services""
{code}

Description of attributes should match reality of demands for {{reload}} being processed.

{quote}
* /subsystem=resource-adapters:read-resource-description(recursive=true)
* /subsystem=datasources:read-resource-description(recursive=true)
{quote}",2017/01/20 6:23 AM
WFLY-7109,"This allows it to run outside the transaction interceptor, so the scope will still be active when the transaction completes.",2016/09/14 11:59 PM
WFLY-8270,"There are 4 tests in https://github.com/wildfly/wildfly/blob/master/testsuite/elytron/src/test/java/org/wildfly/test/integration/elytron/ssl/UndertowSslSecurityDomainTestCase.java#L122 and each is creating client and making the call.

But the client is never closed.

I checked https://github.com/wildfly/wildfly/blob/master/testsuite/shared/src/main/java/org/jboss/as/test/integration/security/common/Utils.java#L397 but it doesn't close the client either.

I think it makes sense to enhance those 4 tests with {{client.close();}} lines.
Changing Utils class can cause regressions when client is used for multiple calls.",2017/03/01 10:21 AM
WFLY-7487,"The management operations specified in the description for: https://issues.jboss.org/browse/WFLY-7486
... should fail during model validation due to a missing capability, since the default-cache was not defined.  However, the commands will succeed, even though the singleton policy will fail at runtime due to a missing service dependency.",2016/11/04 11:10 AM
WFLY-7488,"Analog of WFLY-7487, but for the optional default channel attribute of the JGroups subsystem.",2016/11/04 11:11 AM
WFLY-8331,The deployment overlay tests in {{testsuite/integration/basic}} module have to be updated. The current implementation hide problems which occur before adding the overlay (as there is another failure in {{finally}} section.,2017/03/10 1:41 AM
WFLY-7025,"This does not match the {{org.jboss.weld.bootstrap.spi.BeanDeploymentArchive}} contract.

The use case is described in https://issues.jboss.org/browse/WELD-2165?focusedCommentId=13286271&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13286271.",2016/08/31 5:40 AM
WFLY-7221,"This can cause problems if the server starts suspended (which is not possible at the moment, but will be in future)",2016/09/27 12:23 AM
WFLY-7000,"Hibernate Search is creating a batch job which embedded in a WildFly module. Any user of Hibernate Search should be able to the launch this batch job, no matter if they're using a batch-app. However, it seems that jobs are only resolvable for batch-app. More explicitly, WildFly requires deployed web-app to have the below structure to enable the job resolver:

    META-INF/batch-jobs

For those who don't have this batch folder in their webapp, they cannot use the jobs from installed module. And an error ""JBERET000601: Failed to get job xml file for job"" will be raised.",2016/08/25 1:55 AM
WFLY-6982,The value of {{session-max-alive-time}} is incorrectly counted. It looks as it is counted in miliseconds instead of seconds + the value is double of expected one.,2016/08/23 3:08 AM
WFLY-7264,"In {{standalone-ha.xml}} and {{standalone-full-ha.xml}} a {{modcluster}} socket-binding is defined. It has multicast-address parameter which has hard-coded value 224.0.1.105. I need to change this value when I use IPv6 addresses and I can't do it without modifying configuration xml. Although the modcluster is not related to messaging, when the multicast address is IPv4, servers don't create cluster on IPv6 addresses.",2016/01/25 6:06 AM
WFLY-7465,"{noformat}
[standalone@embedded /] /subsystem=jgroups/channel=ee:write-attribute(name=statistics-enabled, value=true){allow-resource-service-restart=true}

14:40:24,676 ERROR [org.jboss.as.controller.management-operation] (AeshProcess: 3) WFLYCTL0013: Operation (""write-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee"")
]): org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.jgroups.channel-cluster.ee is already registered
	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158)
	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236)
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317)
	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:2174)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.installServices(ChannelServiceHandler.java:61)
	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.restartServices(WriteAttributeStepHandler.java:67)
	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.applyUpdateToRuntime(WriteAttributeStepHandler.java:51)
	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:940)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:683)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:382)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1361)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:411)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:701)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:691)
	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:68)
	at org.jboss.as.cli.embedded.ThreadContextsModelControllerClient.execute(ThreadContextsModelControllerClient.java:69)
	at org.jboss.as.cli.impl.CommandExecutor.execute(CommandExecutor.java:652)
	at org.jboss.as.cli.impl.CommandContextImpl.lambda$execute$1(CommandContextImpl.java:857)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:877)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:856)
	at org.jboss.as.cli.handlers.OperationRequestHandler.handle(OperationRequestHandler.java:90)
	at org.jboss.as.cli.impl.CommandContextImpl.handle(CommandContextImpl.java:801)
	at org.jboss.as.cli.impl.CommandContextImpl.handleSafe(CommandContextImpl.java:902)
	at org.jboss.as.cli.impl.CommandContextImpl$2.execute(CommandContextImpl.java:436)
	at org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}",2016/11/03 2:47 PM
WFLY-8271,"I found case of comparison of incompatible types for equality: String.equals(org.jboss.dmr.ModelNode)

https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/subsystem/TransactionSubsystem14Parser.java#L221

{code}
...
 final String value = reader.getAttributeValue(i);
...
if (!value.equals(TransactionSubsystemRootResourceDefinition.OBJECT_STORE_PATH.getDefaultValue())) {
     needsDefaultRelativeTo = false;
}
{code}

https://github.com/wildfly/wildfly-core/blob/master/controller/src/main/java/org/jboss/as/controller/AttributeDefinition.java#L349
{code}
public ModelNode getDefaultValue() {
    return defaultValue;
}
{code}

Please fix the code to compare the right types.",2017/03/02 2:11 AM
WFLY-8315,"By default, statistics collection should be disabled. ",2017/03/07 5:33 PM
WFLY-6997,Test case for https://issues.jboss.org/browse/JBERET-117 and https://issues.jboss.org/browse/JBERET-231,2016/08/24 10:40 AM
WFLY-8232,"The {{SecurityAuditingTestCase}} fails when executed with Elytron profile ({{-Delytron}}) in AS TS.

{code}
cd testsuite/integration/basic
mvn clean test -Dtest=SecurityAuditingTestCase -Delytron
...
Failed tests: 
  SecurityAuditingTestCase.testSingleMethodAnnotationsUser1Template:181->AnnSBTest.testSingleMethodAnnotationsUser1Template:156->AnnSBTest.lambda$testSingleMethodAnnotationsUser1Template$1:169 EJBAccessException not expected

Tests run: 2, Failures: 1, Errors: 0, Skipped: 0
{code}",2017/02/24 7:00 AM
WFLY-7745, The deprecated APIs used are org.jboss.as.controller.ExtensionContext#isRegisterTransformers and org.jboss.as.controller.transform.description.TransformationDescription.Tools#register(...).,2016/12/06 12:46 PM
WFLY-7602,NoData,2016/11/15 11:47 AM
WFLY-7916,"Description of the ""max-post-size"" stays 
{noformat}
""max-post-size"" => {
                ""type"" => LONG,
                ""description"" => ""The maximum size of a post that will be accepted, in bytes."",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => 10485760L,
                ""unit"" => ""BYTES"",
                ""min"" => 1L,
                ""max"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            },
{noformat}

but when trying to set long value this error is printed.

{noformat}
[standalone@localhost:9990 /]  /subsystem=undertow/server=default-server/http-listener=default:write-attribute(name=max-post-size, value=9223372036854775807)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0097: Wrong type for 'max-post-size'. Expected [INT] but was STRING. Couldn't convert \""9223372036854775807\"" to [INT]"",
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{noformat}",2017/01/19 11:48 AM
WFLY-8004,"A number of elytron subsystem attributes are configured as being required even though they have a default value (which implies not requiring a user-provided setting).

Once WFCORE-2249 is fixed which results in proper validation of complex object attributes, this bug results in the server failing to boot:

{code}

2017-01-31 12:28:04,055 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 13) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""elytron""),
    (""mechanism-provider-filtering-sasl-server-factory"" => ""elytron"")
]) - failure description: ""WFLYCTL0155: 'version-comparison' may not be null""
{code}

Simple fix, just change the definition.

I found 13 attributes like this.",2017/01/31 4:35 PM
WFLY-8015,"{noformat}
[standalone@embedded /] /subsystem=jgroups/stack=udp:export-native-configuration()
11:40:20,261 ERROR [org.jboss.as.controller.management-operation] (AeshProcess: 2) WFLYCTL0013: Operation (""export-native-configuration"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""stack"" => ""udp"")
]): java.util.NoSuchElementException: No child 'name' exists
	at org.jboss.dmr.ModelValue.requireChild(ModelValue.java:387)
	at org.jboss.dmr.ObjectModelValue.requireChild(ObjectModelValue.java:302)
	at org.jboss.dmr.ModelNode.require(ModelNode.java:875)
	at org.jboss.as.clustering.controller.Operations.getAttributeName(Operations.java:81)
	at org.jboss.as.clustering.controller.ExecutionHandler.executeRuntimeStep(ExecutionHandler.java:59)
	at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:53)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:921)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:664)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:383)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1390)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:419)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$0(ModelControllerImpl.java:224)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:193)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:224)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:716)
	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:706)
	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:68)
	at org.jboss.as.cli.embedded.ThreadContextsModelControllerClient.execute(ThreadContextsModelControllerClient.java:69)
	at org.jboss.as.cli.impl.CommandExecutor.execute(CommandExecutor.java:653)
	at org.jboss.as.cli.impl.CommandContextImpl.lambda$execute$1(CommandContextImpl.java:862)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:882)
	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:861)
	at org.jboss.as.cli.handlers.OperationRequestHandler.handle(OperationRequestHandler.java:90)
	at org.jboss.as.cli.impl.CommandContextImpl.handle(CommandContextImpl.java:806)
	at org.jboss.as.cli.impl.CommandContextImpl.handleSafe(CommandContextImpl.java:907)
	at org.jboss.as.cli.impl.CommandContextImpl$2.execute(CommandContextImpl.java:442)
	at org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.util.NoSuchElementException: No child 'name' exists"",
    ""rolled-back"" => true
}
{noformat}
",2017/02/02 11:50 AM
WFLY-6624,NoData,2016/05/18 11:14 AM
WFLY-6565,"*Description of problem:*
""add"" and ""remove"" operation of jaxrs subsystem under deployment are useles and should not be available.

This operations were added by WFLY-3045.

*How reproducible:*
Always

*Steps to Reproduce (remove):*
# ./standalone.sh 
# deploy /home/mkopecky/playground/resteasy/single-application/target/jaxrs-eap.war
# /deployment=jaxrs-eap.war/subsystem=jaxrs:remove
#  :reload
# # jaxrs subsystem is not removed

*Steps to Reproduce (add):*
# deploy /home/mkopecky/playground/resteasy/empty-deployment/target/empty-eap.war
# /deployment=empty-eap.war/subsystem=jaxrs:add()
# :reload
# # jaxrs subsystem is not added",2016/04/27 11:54 AM
WFLY-7636,"After ending a remote method invocation in application client container, the following exception is produced:
{code}[mjurc@tigris app-client]$ $JBOSS_HOME/bin/appclient.sh ear/target/jboss-app-client.ear#simpleClient.jar Hello from command line

.
.
.

08:24:57,312 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha12-redhat-1) started in 1675ms - Started 230 of 234 services (19 services are lazy, passive or on-demand)
08:24:57,316 INFO  [org.jboss.as.server] (Thread-40) WFLYSRV0010: Deployed ""jboss-app-client.ear"" (runtime-name : ""jboss-app-client.ear"")
08:24:57,327 INFO  [org.jboss.ejb.client] (Thread-47) JBoss EJB Client version 3.0.0.Beta2
08:24:57,332 INFO  [org.jboss.as.quickstarts.appclient.acc.client.Main] (Thread-47) Main started with arguments
08:24:57,333 INFO  [org.jboss.as.quickstarts.appclient.acc.client.Main] (Thread-47)             [Hello, from, command, line]
08:24:57,338 INFO  [org.wildfly.security] (Thread-47) ELY00001: WildFly Elytron version 1.1.0.Beta13
08:24:57,390 INFO  [org.jboss.remoting] (Thread-47) JBoss Remoting version 5.0.0.Beta7
08:24:57,420 INFO  [org.xnio] (Thread-47) XNIO version 3.4.1.Final-redhat-1
08:24:57,431 INFO  [org.xnio.nio] (Thread-47) XNIO NIO Implementation Version 3.4.1.Final-redhat-1
08:24:57,557 INFO  [org.jboss.ejb.client.remoting] (Remoting (anonymous) task-5) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]
08:24:57,563 INFO  [org.jboss.ejb.client.remoting] (Thread-47) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@7a5bd5ec, receiver=Remoting connection EJB receiver [connection=Remoting connection <2f5c9eb> on endpoint (anonymous) <3ccd44ca>,channel=jboss.ejb,nodename=tigris]} on channel Channel ID e8f58e71 (outbound) of Remoting connection 28455490 to localhost/127.0.0.1:8080 of endpoint (anonymous) <3ccd44ca>
08:24:57,566 INFO  [org.jboss.as.quickstarts.appclient.acc.client.interceptor.ClientInterceptor] (Thread-47) Adding jboss.node.name (tigris) to the invocation context
08:24:57,614 INFO  [org.jboss.as.quickstarts.appclient.acc.client.Main] (Thread-47) Hello from StatelessSessionBean@tigris
08:24:57,615 INFO  [org.jboss.as.quickstarts.appclient.acc.client.interceptor.ClientInterceptor] (Thread-47) Adding jboss.node.name (tigris) to the invocation context
08:24:57,622 INFO  [org.jboss.ejb.client.remoting] (Remoting (anonymous) task-9) EJBCLIENT000016: Channel Channel ID e8f58e71 (outbound) of Remoting connection 28455490 to localhost/127.0.0.1:8080 of endpoint (anonymous) <3ccd44ca> can no longer process messages
08:24:57,632 ERROR [stderr] (Thread-47) Exception in thread ""Thread-47"" java.lang.UnsupportedOperationException: COM00100: Method ""close"" of class ""org.jboss.remoting3.UncloseableEndpoint"" is not implemented
08:24:57,632 ERROR [stderr] (Thread-47) 	at org.wildfly.common.Assert.unsupported(Assert.java:373)
08:24:57,633 ERROR [stderr] (Thread-47) 	at org.jboss.remoting3.UncloseableEndpoint.close(UncloseableEndpoint.java:231)
08:24:57,633 ERROR [stderr] (Thread-47) 	at org.jboss.as.appclient.service.LazyConnectionContextSelector.close(LazyConnectionContextSelector.java:134)
08:24:57,633 ERROR [stderr] (Thread-47) 	at org.jboss.as.appclient.service.ApplicationClientStartService$1.run(ApplicationClientStartService.java:143)
08:24:57,633 ERROR [stderr] (Thread-47) 	at java.lang.Thread.run(Thread.java:745)
08:24:57,640 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
08:24:57,642 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0019: Stopped Driver service with driver-name = h2
08:24:57,648 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0208: Stopped subdeployment (runtime-name: simpleClient.jar) in 15ms
08:24:57,649 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0208: Stopped subdeployment (runtime-name: ejb.jar) in 15ms
08:24:57,651 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment jboss-app-client.ear (runtime-name: jboss-app-client.ear) in 17ms
08:24:57,653 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha12-redhat-1) stopped in 20ms
{code}",2016/11/21 9:18 AM
WFLY-7668,"Singleton subsystem downgrades after configuration change is performed on server:

{code}
3a4
> 
37a39,44
> 
>     <system-properties>
>         <property name=""foo"" value=""bar""/>
>     </system-properties>
> 
> 
92a100
> 
423c431
<         <subsystem xmlns=""urn:jboss:domain:singleton:2.0"">
---
>         <subsystem xmlns=""urn:jboss:domain:singleton:1.0"">
473a482
> 
487a497
> 
{code}",2016/11/24 7:49 AM
WFLY-7454,"{{/subsystem=mail/mail-session=default:read-operation-description(name=remove)}} description says that it is about adding mail session, which is incorrect, it should be about removing mail session.

",2016/11/02 9:30 AM
WFLY-7373,"Both {{DatabaseTimerServiceMultiNodeExecutionDisabledTestCase}} and {{DatabaseTimerServiceMultiNodeTestCase}} rely on specifying the {{jboss.naming.client.ejb.context}} property during {{InitialContext}} creation in order to ensure that an {{EJBClientContext}} will get set up properly with an appropriate {{EJBReceiver}}. Since the new WildFly naming client doesn't currently handle this property, we need to manually set the {{EJBClientConfiguration}} in this test for now. We need to revisit this modification when the new WildFly naming client and EJB client are being integrated. Note that without this modification, the tests fail with the following error:

{code}
java.lang.IllegalStateException: EJBCLIENT000025: No EJB receiver available for handling [appName:, moduleName:testTimerServiceSimple, distinctName:] combination for invocation context org.jboss.ejb.client.EJBClientInvocationContext@6548bb7d
	at org.jboss.ejb.client.EJBClientContext.requireEJBReceiver(EJBClientContext.java:774)
	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:128)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)
	at com.sun.proxy.$Proxy24.scheduleTimer(Unknown Source)
	at org.jboss.as.test.multinode.ejb.timer.database.DatabaseTimerServiceMultiNodeExecutionDisabledTestCase.testEjbTimeoutOnOtherNode(DatabaseTimerServiceMultiNodeExecutionDisabledTestCase.java:197)
{code}",2016/10/25 10:46 AM
WFLY-6778,"Undertow exposes a single instance-id for the whole subsystem.  This id is used by a load balancer to uniquely identify the node among other nodes in the load balancing group.  However, this granularity is not correct.

Undertow can define multiple servers, each with a unique set of listeners.  From the perspective of the load balancer, these servers are distinct and thus must use distinct names.  Thus, rather than installing a single SessionIdentifierCodec for the subsystem, we should install one instance per server.",2016/06/27 9:14 AM
WFLY-6903,"To reproduce run e.g. 

{noformat}
/subsystem=undertow/servlet-container=default/setting=session-cookie:add(http-only=true)
{noformat}

yields NPE when registering with the proxy

{noformat}2016-08-01 14:42:20,623 ERROR [org.jboss.modcluster] (UndertowEventHandlerAdapter - 1) MODCLUSTER000042: Error MEM sending STATUS command to apache-server/10.0.0.1:6666, configuration will be reset: MEM: Can't read node
2016-08-01 14:42:30,626 ERROR [org.jboss.mod_cluster.undertow] (UndertowEventHandlerAdapter - 1) null: java.lang.NullPointerException
    at org.jboss.modcluster.mcmp.impl.DefaultMCMPRequestFactory.createConfigRequest(DefaultMCMPRequestFactory.java:128)
    at org.jboss.modcluster.mcmp.impl.ResetRequestSourceImpl.getResetRequests(ResetRequestSourceImpl.java:89)
    at org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler.status(DefaultMCMPHandler.java:399)
    at org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler.status(DefaultMCMPHandler.java:365)
    at org.jboss.modcluster.ModClusterService.status(ModClusterService.java:457)
    at org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapter.run(UndertowEventHandlerAdapter.java:179)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
    at org.jboss.threads.JBossThread.run(JBossThread.java:320)

{noformat}",2016/08/02 5:34 AM
WFLY-6264,"This is because the org.wildfly.clustering.singleton.SingletonPolicy interface references org.wildfly.clustering.service.Builder from the org.wildfly.clustering.service module, but this module is not exported to deployments.

{noformat}
&amp#27;[0m&amp#27;[31m13:22:08,386 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""singleton.war"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""singleton.war"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""singleton.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NoClassDefFoundError: org/wildfly/clustering/service/Builder
	at org.jboss.as.test.clustering.cluster.singleton.service.AbstractServiceActivator.install(AbstractServiceActivator.java:59)
	at org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.activate(MyServiceActivator.java:38)
	at org.jboss.as.server.deployment.service.ServiceActivatorProcessor.deploy(ServiceActivatorProcessor.java:74)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
	... 5 more
Caused by: java.lang.ClassNotFoundException: org.wildfly.clustering.service.Builder from [Module ""deployment.singleton.war:main"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)
	... 9 more
{noformat}",2016/02/23 2:19 PM
WFLY-6064,"A distributed SFSB is stored in 2 cache entries, one mapping the bean ID to a serialization group ID, and another mapping the group ID to a map of bean instances.
We ensure that both cache entries will hash to the local node, but following a topology change, these entries could get re-mapped to different nodes.
If we made the group ID = the bean Id of the first bean in the group, this solves the problem for 90% of use cases.",2016/01/25 3:18 PM
WFLY-6566,"If using a <value-factory> or <inject> element with ""parameter"" attribute in jboss-service.xml to inject a value from one bean to another, a ""java.lang.IllegalArgumentException: object is not an instance of declaring class"" error is raised during deployment.

jboss-service.xml
{noformat}
<server xmlns=""urn:jboss:service:7.0"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""urn:jboss:service:7.0 jboss-service_7_0.xsd"">

    <mbean code=""com.test.redhat.mbean.OtherValueFactory"" name=""test:type=OtherValueFactory"">
        <attribute name=""WelcomeString"">Welcome</attribute>
        <attribute name=""CustName"">Other</attribute>
    </mbean>

    <mbean code=""com.test.redhat.mbean.TestValueFactory"" name=""test:type=SarTestValueFactory"">
        <depends>test:type=OtherValueFactory</depends>
        <attribute name=""WelcomeString"">Welcome</attribute>
        <attribute name=""CustName"">
            <value-factory bean=""test:type=OtherValueFactory"" method=""getNameOfCustomer"">
                <parameter class=""java.lang.String"">Foo</parameter>
            </value-factory>
        </attribute>
    </mbean>
</server>
{noformat}

Full error:
{noformat}
16:54:36,505 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of ""test.sar"" (runtime-name: ""test.sar"")
16:54:36,690 WARN  [org.jboss.msc.inject] (MSC service thread 1-2) MSC000100: Unexpected failure to uninject public void com.test.redhat.mbean.TestValueFactory.setCustName(java.lang.String): java.lang.NullPointerException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.msc.value.MethodValue.getValue(MethodValue.java:62)
	at org.jboss.msc.value.CachedValue.getValue(CachedValue.java:54)
	at org.jboss.msc.value.Values.getValues(Values.java:68)
	at org.jboss.msc.value.Values.getValues(Values.java:82)
	at org.jboss.msc.inject.MethodInjector.uninject(MethodInjector.java:119)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.performInjections(ServiceControllerImpl.java:1923)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1876)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

16:54:36,691 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.mbean.service.test:type=SarTestValueFactory.create: org.jboss.msc.service.StartException in service jboss.mbean.service.test:type=SarTestValueFactory.create: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jboss.msc.inject.InjectionException: Injection failed
	at org.jboss.msc.inject.MethodInjector.inject(MethodInjector.java:102)
	at org.jboss.msc.service.ServiceControllerImpl.doInject(ServiceControllerImpl.java:1672)
	at org.jboss.msc.service.ServiceControllerImpl.access$2000(ServiceControllerImpl.java:51)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.performInjections(ServiceControllerImpl.java:1917)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1876)
	... 3 more
Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.msc.value.MethodValue.getValue(MethodValue.java:62)
	at org.jboss.msc.value.CachedValue.getValue(CachedValue.java:54)
	at org.jboss.msc.value.Values.getValues(Values.java:68)
	at org.jboss.msc.value.Values.getValues(Values.java:82)
	at org.jboss.msc.inject.MethodInjector.inject(MethodInjector.java:92)
	... 7 more

16:54:36,697 INFO  [com.test.redhat.mbean.OtherValueFactory] (ServerService Thread Pool -- 58)  >> TestValuFactory.start() invoked
16:54:36,698 INFO  [stdout] (ServerService Thread Pool -- 58) TestValuFactory.start() invoked
16:54:36,776 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""test.sar"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.mbean.service.test:type=SarTestValueFactory.create"" => ""org.jboss.msc.service.StartException in service jboss.mbean.service.test:type=SarTestValueFactory.create: Failed to start service
    Caused by: org.jboss.msc.inject.InjectionException: Injection failed
    Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class""}}
{noformat}

",2016/04/27 12:26 PM
WFLY-6570,"Vault.sh can create keystore when doesn't exist.

But there is a bug. Defined file in -k, --keystore parameter has to exist.",2016/04/28 3:23 AM
WFLY-6221,NoData,2016/02/15 7:24 PM
WFLY-6322,"The WFLY-6049 work brought some module classification changes forward from EAP review work. The changes there to 'private' are fine, but 'unsupported' is an EAP-only classification that doesn't apply upstream. Upstream such a module is public.

WildFly doesn't support any modules in the sense that EAP uses the term.",2016/03/04 2:02 PM
WFLY-6645,"The method org.jboss.as.connector.deployers.ds.processors.DriverProcessor.deploy() should catch java.lang.Throwable instead of only java.lang.Exception because class loading can also produce Throwables of type java.lang.Error.


{noformat}
08:29:48,196 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit.""reporting.war"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""reporting.war"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""reporting.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsatisfiedLinkError: Unable to load library 'odbc': Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)
	at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:277)
	at com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:403)
	at com.sun.jna.Library$Handler.<init>(Library.java:147)
	at com.inet.odbc.OdbcLibrary$1.<init>(OdbcLibrary.java:34)
	at com.inet.odbc.OdbcLibrary.<clinit>(OdbcLibrary.java:34)
	at com.inet.odbc.OdbcDriver.<clinit>(OdbcDriver.java:21)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at org.jboss.as.connector.deployers.ds.processors.DriverProcessor.deploy(DriverProcessor.java:65)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
	... 5 more

08:29:48,213 ERROR [org.jboss.as.controller.management-operation] (management task-7) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""reporting"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""reporting.war\"".INSTALL"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""reporting.war\"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \""reporting.war\""
    Caused by: java.lang.UnsatisfiedLinkError: Unable to load library 'odbc': Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)""}}
08:29:48,217 ERROR [org.jboss.as.server] (management task-7) WFLYSRV0021: Deploy of deployment ""reporting.war"" was rolled back with the following failure message: 
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""reporting.war\"".INSTALL"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""reporting.war\"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \""reporting.war\""
    Caused by: java.lang.UnsatisfiedLinkError: Unable to load library 'odbc': Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)""}}
{noformat}",2016/05/24 4:27 AM
WFLY-6118,"EJB3SubsystemAdd adds capability org.wildfly.ejb3.clustered.singleton but then EJB3SubsystemRemove does not remove it.

This breaks use cases where the subsystem is repeatedly added, particularly a cycle of 

/profile=foo:clone(to-profile=bar)
... make some adjustments to bar
... oops, screwed up on those adjustments, lets start over!
/profile=bar:remove
/profile=foo:clone(to-profile=bar)

The last step will fail with:


{code}
[Host Controller] &amp#27;[33m&amp#27;[0m&amp#27;[31m12:05:13,818 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation (""add"") failed - address: ([&amp#27;[0m
[Host Controller] &amp#27;[31m    (""profile"" => ""clone""),&amp#27;[0m
[Host Controller] &amp#27;[31m    (""subsystem"" => ""ejb3"")&amp#27;[0m
[Host Controller] &amp#27;[31m]): java.lang.IllegalStateException: WFLYCTL0363: Capability 'org.wildfly.ejb3.clustered.singleton' is already registered in context 'profile=clone'.&amp#27;[0m
[Host Controller] &amp#27;[31m	at org.jboss.as.controller.CapabilityRegistry.registerCapability(CapabilityRegistry.java:146)&amp#27;[0m
[Host Controller] &amp#27;[31m	at org.jboss.as.controller.OperationContextImpl.registerCapability(OperationContextImpl.java:1430)&amp#27;[0m
[Host Controller] &amp#27;[31m	at org.jboss.as.controller.OperationContextImpl.registerCapability(OperationContextImpl.java:1417)&amp#27;[0m
[Host Controller] &amp#27;[31m	at org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.recordCapabilitiesAndRequirements(EJB3SubsystemAdd.java:178)&amp#27;[0m
{code}",2016/02/03 1:19 PM
WFLY-6434,"JaccService of security subsystem does not use the system property 'org.jboss.as.security.jacc-module' for class loader.
Due to this ""not using"", the custom JACC module is not used.

This property was introduced by WFLY-5340",2016/03/29 3:03 AM
WFLY-6090,"The upgrade to Undertow 1.3.16.Final causes this test to fail frequently (but not every time). 

The change that makes this more frequent was the change to send the response before closing the session. If you are having trouble reproducing this you can add the following code to the bottom of the SessionOperationServlet doGet method to make it 100% reproducible (this should work with any version of Undertow):

{code}
        resp.getOutputStream().close();
        try {
            Thread.sleep(100);
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }
{code}

The underlying problem here is the way the passivation/activation listeners are called.

Previously if you did not close the response in the Servlet the session would be closed before the response would be sent, which guaranteed that prePassivate would be called. This also had the side effect that the test would only ever require a single request to see the first session passivating. 

This is no longer the case, which means the following:
- Sometimes session1 has not had its passivation listener called before the session2 request is made
- The second session2 request can result in a call to sessionActivated (which makes the test fail). This is especially bogus as there is a chance session2 has not had sessionWillPassivate called yet.

The underlying cause of all this is the way listeners are handled in InfinispanSessionManager when persistent is true. Basically:

- Requests can cause a session to activate before the passivation listener has been called, resulting in out of order invocations
- Multiple concurrent requests to a session will result in multiple activation callbacks, followed by multiple passivation callbacks. 

Basically at the moment the ordering these events is completely broken.


",2016/01/28 8:09 PM
WFLY-6522,"Currently, mutable session attributes require a transactional cache configuration in order to replicate properly.  To support non-tx caches, we can record which mutable session attributes were accessed on a given session and re-set them at the end of the request.",2016/04/14 3:16 PM
WFLY-6234,Currently uses org.jboss.as.network.SocketBinding#getPort,2016/02/16 2:37 PM
WFLY-6223,"If I want to enable statistics for Web Services subsystem, I do it in CLI:
{noformat}
[standalone@localhost:9990 /] /subsystem=webservices:write-attribute(name=statistics-enabled, value=true)
{""outcome"" => ""success""}
{noformat}

Via web console, I navigate to Configuration->Subsystems->Web Services->View
I click edit and click checkbox for statistics enabled attribute. Now when I submit the value by clicking Save, dialog appears with reload require information.

There is no need to require reload just for enabling statistics, by the way statistics are accessible even before reload (Runtime->Subsystems->Webservices and try to get wsdl for the web service for several times).

Note: if there is no active deployment, reload is not required in web console (correct). To reproduce the issue you must have some active WS deployment",2016/02/16 2:16 AM
WFLY-6387,This breaks range requests,2016/03/16 6:32 PM
WFLY-6125,"There is missing warning if following configuration is migrated to messaging-activemq subsystem:
{code}
<remoting-interceptors>
                <class-name>
                    org.jboss.qa.hornetq.apps.interceptors.LargeMessagePacketInterceptorImpl
                </class-name>
                <class-name>
                    org.jboss.qa.hornetq.apps.interceptors.LargeMessagePacketInterceptorImpl
                </class-name>
</remoting-interceptors>
{code}

There should be warning like:
{{WFLYMSG0082: Classes providing the remoting-incoming-interceptors are discarded during the migration. To use them in the new messaging-activemq subsystem, you will have to extend the Artemis-based Interceptor.}}

as for migration of remoting-incoming-interceptors and remoting-outgoing-interceptors.",2016/02/04 4:24 AM
WFLY-6141,"When migrating AccessLogValve it results in printing migration warning for attributes which are not even defined with the valve.

The attributes are: ""resolveHosts"", ""fileDateFormat"", ""renameOnRotate"", ""encoding"", ""locale"", ""requestAttributesEnabled"", ""buffered"".

Such warning should only be printed for attributes which were actually used with the valve and not when they are actually not used.",2016/02/08 10:28 AM
WFLY-6027,NoData,2016/01/19 5:44 AM
WFLY-6438,"There is discrepancy in undertow schema definition of [listener attribute 'max-header-size' default value here|https://github.com/jbossas/jboss-eap7/blob/EAP_7.0.0.ER7-dev/undertow/src/main/resources/schema/wildfly-undertow_3_1.xsd#L93] and [ListenerResourceDefinition here|https://github.com/jbossas/jboss-eap7/blob/EAP_7.0.0.ER7-dev/undertow/src/main/java/org/wildfly/extension/undertow/ListenerResourceDefinition.java#L140].

Note: Default value in ListenerResourceDefinition java file was changed by [this commit|https://github.com/undertow-io/undertow/commit/9cfd0c7dca671bd008923d4379eac89865bd775b]

These two default values should be unified so they match.

NOTE: I set GA as a target release as this is probably trivial change in Undertow schema definition which is better to do before GA as after that any change into schema is difficult.",2016/03/29 10:35 PM
WFLY-6124,"The XSD for the Infinispan subsystem ({{jboss-as-infinispan_4_0.xsd}}) says that the default isolation level is {{REPEATABLE_READ}}:

{code}
<xs:complexType name=""locking"">
    <xs:attribute name=""isolation"" type=""tns:isolation"" default=""REPEATABLE_READ"">
        <xs:annotation>
            <xs:documentation>Sets the cache locking isolation level.</xs:documentation>
        </xs:annotation>
    </xs:attribute>
...
{code}

However, the {{LockingResourceDefinition}} class, which is the ultimate source of truth, disagrees:

{code}
enum Attribute implements org.jboss.as.clustering.controller.Attribute {
    ...
        ISOLATION(""isolation"", ModelType.STRING, new ModelNode(IsolationLevel.READ_COMMITTED.name()), new EnumValidatorBuilder<>(IsolationLevel.class)),
...
{code}

I'm not sure myself which one should be the default, but this difference is surely a bug.",2016/02/04 4:19 AM
WFLY-6792,"All batch deployment operations get the service registry as a modifiable registry which uses locks that are not required for read-only ops. Operations like {{start}}, {{stop}} and {{restart}} will need to continue using a modifiable service registry, but read ops should not acquire a modifiable service registry.",2016/06/29 12:02 PM
WFLY-6068,"Attribute {{failback-delay=""6000""}} is not migrated. 

The migrated configuration should like:
{code}
<shared-store-master failover-on-server-shutdown=""true"" failback-delay=""6000"" />
{code}

but there is just:
{code}
<shared-store-master failover-on-server-shutdown=""true"" />
{code}

See failed test in Jenkins:
[1] https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap7-migration-standalone/8/testReport/org.jboss.qa.eap6to7migration.hornetq2artemis/ColocatedReplicatedTopologyTest/migrate/",2016/01/26 6:03 AM
WFLY-6838,"RPCs sent to a FORK channel that is not currently running are not responded to correctly, causing the caller to eventually time out.

An error response is being sent by org.jboss.as.clustering.jgroups.JChannelFactory, but the request ID is hard-coded to 0 so the reply can not be routed back to the sender and gets dropped.",2016/07/15 5:43 PM
WFLY-6674,"Infinispan subsystem configuration is lost when cache is created.

If it is helpful, I made a simple test project to validate the problem. It is prepared to run with Wildfly 8 and 10.
https://github.com/arielcarrera/test-infinispan-wildfly10

After startup and created the cache, it is not configured with the specified settings in Wildfly's Infinispan Subsystem. 
This can be verified by monitoring the jboss.infinispan nodes with JConsole retrieving the cache settings or running my simple test project.
Entities never expire/invalidate. The lifespan/max-entries are set to -1.

I found an old issue (https://issues.jboss.org/browse/WFLY-3858) about wildfly 8 but this problem talks about a security config problem and is a little different. It is a problem about wildfly 10 configuration and it is working OK on wildfly 8.2.
",2016/06/06 10:40 AM
WFLY-6197,"The default singleton policy happens to be named ""default"" in our default configuration.  However, the EJB subsystem should not rely on this - as a user can change this.  Part of the problem is, there is no registered capability that specifically refers to the default singleton policy.",2016/02/12 9:08 AM
WFLY-6026,"Currently there is not possible to specify maximum packet size for AJP listener in Undertow. In EAP6 there was possible to use {{org.apache.coyote.ajp.MAX_PACKET_SIZE}} system property for this purpose, see also [this jira|https://issues.jboss.org/browse/AS7-4151].

This is missing feature compared to EAP6 therefore we should add this otherwise some customers might miss it.

Proposed solution: add a new attribute into AJP listener that would specify max packet size.",2016/01/19 5:02 AM
WFLY-6139,"{code}
unzip jboss-eap-6.4.0.zip
unzip wildfly-10.0.0.Final.zip

cp jboss-eap-6.4/standalone/configuration/standalone-full-ha.xml jboss-eap-7.0/standalone/configuration/
./wildfly-10.0.0.Final/bin/standalone.sh -c standalone-full-ha.xml --admin-only
{code}

During boot, the server lists {{threads}}, {{cmp}}, {{jaxr}}, {{messaging}} and {{jacorb}} as legacy:

{code}
11:26:55,792 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 5) WFLYCTL0402: Subsystems [jacorb] provided by legacy extension 'org.jboss.as.jacorb' are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.
11:26:55,795 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 8) WFLYCTL0402: Subsystems [cmp] provided by legacy extension 'org.jboss.as.cmp' are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.
11:26:55,793 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 12) WFLYCTL0402: Subsystems [threads] provided by legacy extension 'org.jboss.as.threads' are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.
11:26:55,800 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 18) WFLYCTL0402: Subsystems [messaging] provided by legacy extension 'org.jboss.as.messaging' are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.
11:26:55,800 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 9) WFLYCTL0402: Subsystems [jaxr] provided by legacy extension 'org.jboss.as.jaxr' are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.
{code}

However, {{web}} is missing. IMHO it should be there.",2016/02/08 5:33 AM
WFLY-6610,"Currently, the ""org.wildfly.clustering.singleton.policy"" capability name is used by 2 capabilities:
1. The default singleton policy, using the static name
2. A named singleton policy, using a dynamic name

Even though this works, it's not future-proof, as determined by a chat session from today:
{noformat}
Paul Ferraro·15:11
@BrianStansberry question - is it valid for a capability to be both static and dynamic?
@BrianStansberry e.g. I have 2 resources, one registers a capability using a static name, the other resource registers a capability using the same name, but dynamic
@BrianStansberry it works fine - but it occurs to me, when completing my capability.adoc, that the DYNAMIC field is intended to be true or false - not both
@BrianStansberry I could certainly use a different name for the static variant, but I'm wondering if that is really necessary
Brian Stansberry·15:17
@PaulFerraro the intent is they have different names
basically because for a dynamic capability the way you learn its contract is by looking up the static part of the name
I suppose if the static and dynamic had the same contract except for that one piece of data it could be ok
but it sounds like something that some day would bite us in the rear
Paul Ferraro·15:18
@BrianStansberry an example of this is the SingletonPolicy capability
@BrianStansberry there are named policies (i.e. dynamic), and there is the default policy, which references a named policy, but registers itself using the same name (but is static)
Brian Stansberry·15:20
hmm, yeah i can see the advantage of just using the static name
Paul Ferraro·15:20
so, a dependency on org.wildfly.clustering.singleton.policy gives you the default policy, but a dependency on so, a dependency on org.wildfly.clustering.singleton.policy.foo gives you the foo policy
Brian Stansberry·15:21
is org.wildfly.clustering.singleton.default-policy better?
I'd need to poke a bit to see if I can identify any real problems
I mean the registry info could just say (in template.adoc) DYNAMIC: true | false | both
or something
Paul Ferraro·15:22Hide card
I used ""both"", https://github.com/wildfly/wildfly-capabilities/pull/4
 
Add missing capability description for singleton policy. by pferraro · Pull Request #4 · wildfly/wildfly-capabilities
github.com
 wildfly-capabilities - Registry of capabilities accessible via the management layer of a WildFly Core base server
Brian Stansberry·15:22
the capability names are just string so the dynamic business is just string concatenation
hmm, maybe it would be a problem with the ""possible"" capability thing
Paul Ferraro·15:23
""possible""?
what is that?
Brian Stansberry·15:24
caps are declared in the ResourceDefintion. so when the RD is used to create a ManagementResourceRegistration, the cap info is associated with the MRR
and is part of the resource def metadata
but, for a typical MRR there is no dynamic part
the point of all this is tools that are trying to help a user create a config can see which addresses could provide the cap if a resource was added
i.e. what caps are ""possible"" given the set of extensions that are available
but your case becomes ambiguous
maybe that's not a big problem; it's kind of a question of data representation
Brian Stansberry goes to look how it's displayed now
Brian Stansberry·15:29
ok, good so far; it's a list not a map keyed on the static cap name:
[standalone@embedded socket-binding=management-http] :read-resource-description
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""description"" => ""Configuration information for a socket."",
        ""capabilities"" => [{
            ""name"" => ""org.wildfly.network.socket-binding"",
            ""dynamic"" => true
        }],
Show more
Alexey Loubyansky joined the room
Brian Stansberry·15:30
@ctomc @HaraldPehl I'm curious what your thoughts are on ^^^ (tomorrow is fine)
Paul Ferraro·15:33
@BrianStansberry Here are the resource descriptions containing the singleton policy capability:
[standalone@localhost:9990 /] /subsystem=singleton:read-resource-description 
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""description"" => ""The configuration of the singleton subsystem"",
        ""capabilities"" => [{
            ""name"" => ""org.wildfly.clustering.singleton.policy"",
            ""dynamic"" => false
        }],
        ""attributes"" => {""default"" => {
            ""type"" => STRING,
            ""description"" => ""The default singleton policy"",
            ""expressions-allowed"" => false,
            ""nillable"" => false,
            ""capability-reference"" => ""org.wildfly.clustering.singleton.policy"",
            ""min-length"" => 1L,
            ""max-length"" => 2147483647L,
            ""access-type"" => ""read-write"",
            ""storage"" => ""configuration"",
            ""restart-required"" => ""resource-services""
        }},
        ""operations"" => undefined,
        ""notifications"" => undefined,
        ""children"" => {""singleton-policy"" => {
            ""description"" => ""A singleton policy"",
            ""model-description"" => undefined
        }}
    }
}
[standalone@localhost:9990 /] /subsystem=singleton/singleton-policy=default:read-resource-description
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""description"" => ""A singleton policy"",
        ""capabilities"" => [{
            ""name"" => ""org.wildfly.clustering.singleton.policy"",
            ""dynamic"" => true
        }],
        ""attributes"" => {
            ""cache"" => {
                ""type"" => STRING,
                ""description"" => ""The cache backing the singleton policy's singleton service"",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""default"" => ""default"",
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            },
            ""cache-container"" => {
                ""type"" => STRING,
                ""description"" => ""The cache container backing the singleton policy's singleton service"",
                ""expressions-allowed"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            },
            ""quorum"" => {
                ""type"" => INT,
                ""description"" => ""The minimum number of nodes required before this singleton service will start"",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""default"" => 1,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            }
        },
        ""operations"" => undefined,
        ""notifications"" => undefined,
        ""children"" => {""election-policy"" => {
            ""description"" => ""The election policy of this singleton policy"",
            ""model-description"" => undefined
        }}
    }
}
Show more
Kabir Khan joined the room
Brian Stansberry·15:34
@PaulFerraro ok, so there it's not even the same MRR registering both variants, so list vs map doesn't matter
I think @HaraldPehl 's input is important as he's the one who'd need to deal with this situation
the fact that the same string can have two different meanings
it may not be a big deal for what he's doing now though
which is probably focused on giving people the valid values for attributes
and those are always for dynamic caps
Harald Pehl·15:45
@BrianStansberry For me it's important to get the possible resources for an attribute which declares a ""capability-reference"" in its metadata
For instance the ""profile"" attribute in ""/server-group=*:read-resource-description"" has a ""capability-reference"" => ""org.wildfly.domain.profile""
So I need a way to resolve this reference to a list of resource names which the admin can select from
Brian Stansberry·15:50
@HaraldPehl thanks. that confirms what I thought; for right now you need to find out dynamic capabilities
I think the tricky thing for you would be if the string ""org.wildfly.domain.profile"" appeared in two different forms, one dynamic (the one you want) and one static (irrelevant to you)
you'd have to dig a bit deeper to make sure you were looking at the right one
@BrianStansberry I think that is addressed by @ctomc PR: https://github.com/wildfly/wildfly-core/pull/1554
 
WFCORE-1540 Expose capability registry via mgmt api by ctomc · Pull Request #1554 · wildfly/wildfly-core
github.com
 wildfly-core - The core runtime that is used by the Wildfly application server
Harald Pehl·15:53
It introduces some mgmt ops to query capabilities
Harald Pehl·15:54
1. /core-service=capability-registry:read-resource which returns a list of
possible capabilities
2. /core-service=capability-registry:get-provider-points(name=org.wildfly.domain.profile)
Harald Pehl·15:56
which returns the address for a given capability
Brian Stansberry·15:56
@HaraldPehl with what @PaulFerraro is proposing, you'd probably need a 2nd param for your #2
and probably some more parsing of the result of your #1 to get the particular data you want
""probably"" as I'm just guessing what you do with #1
Harald Pehl·15:58
I use #1 to bootstrap a registry of all known capabilities when the console starts
Brian Stansberry·15:58
does that registry include whether the cap is dynamic?
Harald Pehl·15:58
and #2 if I cannot find a capability in that registry
yes
Brian Stansberry·15:59
is the name the registry key?
Harald Pehl·16:00
yes its actually a Map<String, CapabilityInfo> with the capability name as key and some info about that cap as value (including dynamic)
Brian Stansberry·16:01
yeah, so you need some kind of custom type as the key, or a List<CapabilityInfo> as the value
tbh @PaulFerraro doing this sounds like a likely bug nest
Harald, I should have said ""you *would* need..."" -- you don't now
Paul Ferraro·16:02
@BrianStansberry ok - I'll give the static capabilities a separate name
Kabir Khan joined the room
Paul Ferraro·16:03
not a huge deal - just one more capability name to keep track of
Brian Stansberry·16:04
yeah, it's a good thought though. perhaps it will be easier for users anyway, since 2 names for two things may require less brainpower to understand
{noformat}",2016/05/12 7:06 PM
WFLY-5944,Our test coverage of parsing and marshaling compatibility has holes.,2016/01/06 3:38 PM
WFLY-6591,"When using optimistic locking on the web cache, data from expired sessions is not removed from the web cache by the org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler and leaks forever.

Session seems to be invalidated correctly and isn't accessible anymore.

After tracing the code, org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove() doesn't remove the metadata entries when ""this.properties.isLockOnWrite()"" returns false (which is always the case for optimistic locking). Then in org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(), the call to attributesFactory.remove(id) also gets skipped.


We've tried to adjust the code of org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove() to the following:
{code}
    private boolean remove(String id, Cache<SessionCreationMetaDataKey, SessionCreationMetaDataEntry<L>> creationMetaDataCache) {
        SessionCreationMetaDataKey key = new SessionCreationMetaDataKey(id);
        if (this.properties.isLockOnWrite()) {
            if (creationMetaDataCache.getAdvancedCache().withFlags(Flag.ZERO_LOCK_ACQUISITION_TIMEOUT, Flag.FAIL_SILENTLY).lock(key)) {
                creationMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(key);
                this.accessMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(new SessionAccessMetaDataKey(id));
                return true;
            }
            return false;
        } else {
            creationMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(key);
            this.accessMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(new SessionAccessMetaDataKey(id));
            return true;
        }
    }
{code}

With that change, the memory leaks disappears.",2016/05/05 10:58 AM
WFLY-5922,"We use Orbacus as our CORBA implementation, and in our application we wish to use CORBA classes only from the orbacus module, and not the JDK/WildFly bundled CORBA.

In the {{jboss-deployment-structure.xml}} file of our {{ear}} file, we have the following:

{code:xml}
<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-deployment-structure>
    <ear-subdeployments-isolated>false</ear-subdeployments-isolated>
    <deployment>
        <exclusions>
            <module name=""javax.orb.api"" />
            <module name=""org.omg.api"" />
        </exclusions>
        <dependencies>
            <module name=""com.ooc.orbacus"" export=""true""/>
            <module name=""org.apache.commons.logging"" export=""true"" />
            <module name=""org.apache.commons.collections"" export=""true"" />
            <module name=""org.apache.log4j"" export=""true"" />
            <module name=""org.dom4j"" export=""true"" />
            <module name=""org.jdom"" export=""true"" />
            <module name=""javax.faces.api"" slot=""mojarra-2.1.23"" export=""true""/>
            <module name=""com.sun.jsf-impl"" slot=""mojarra-2.1.23"" export=""true""/>
            <module name=""org.jboss.ejb-client"" export=""true"" />
            <module name=""org.jboss.remote-naming"" export=""true"" />
            <module name=""org.jboss.remoting3"" export=""true"" />
            <module name=""org.apache.xerces"" />
            <!-- dependency for richfaces -->
            <module name=""com.google.guava"" slot=""11.0.2"" export=""true""/>
        </dependencies>
    </deployment>
...
{code}

However, despite excluding the {{javax.orb.api}} module, I can see that {{org.omg.PortableServer.Servant}} is loaded from that module instead of being loaded from our {{com.ooc.orbacus}} module.  This causes our application to fail.

Debugging through the jboss module loader, I can see that it considers both {{javax.orb.api}} and {{com.ooc.orbacus}} as prodivers of the {{org/omg/PortableServer}} path.  I am not sure why {{javax.orb.api}} is being considered when it has been excluded in the deployment descriptor for the application.",2016/01/04 9:29 AM
WFLY-6021,"It seems that transaction subsystem attribute {{default-timeout}} does not have any effect for EJB if it's redefined. It means if I set the default transaction timeout in transaction subystem for second (and next) time it's not applied for EJB beans. It's used the firstly set value.

The transaction timeout is not changed for EJB when server is reloaded. When server is restarted it refreshes all settings and EJB starts using the expected value for timeout settings.

If the value is read from subsystem
{{/subsystem=transactions:read-attribute(name=default-timeout)}}
it shows correct value (that one set for second time). But EJB seems not applying it.

",2016/01/18 5:21 AM
WFLY-6501,"Having:
{code}
@Stateless
@Interceptors(AroundConstructInterceptor.class)
public class AroundConstructSLSB {
...
}
{code}

and 
{code}
public class AroundConstructInterceptor {

    public static volatile boolean intercepted = false;

    @AroundConstruct
    private Object aroundConstruct(InvocationContext ctx) throws Exception {
        intercepted = true;
        return ctx.proceed();
    }
}
{code}
fails with following exception:
{noformat}
08:18:55,464 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit.""bcc899ab-39cf-44dc-a2ba-e364d53091cc.war"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""bcc899ab-39cf-44dc-a2ba-e364d53091cc.war"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""bcc899ab-39cf-44dc-a2ba-e364d53091cc.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component AroundConstructSLSB
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:96)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)
	... 5 more
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0175: No method found with id: Method aroundConstruct(javax.interceptor.InvocationContext) on class (or its super class) class org.jboss.as.test.integration.ejb.interceptor.aroundconstruct.returnObject.AroundConstructInterceptor
	at org.jboss.as.server.deployment.reflect.ClassReflectionIndexUtil.findRequiredMethod(ClassReflectionIndexUtil.java:79)
	at org.jboss.as.ee.component.DefaultInterceptorConfigurator$1.handleInterceptorClass(DefaultInterceptorConfigurator.java:177)
	at org.jboss.as.ee.component.DefaultInterceptorConfigurator$1.handle(DefaultInterceptorConfigurator.java:158)
	at org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)
	at org.jboss.as.ee.component.DefaultInterceptorConfigurator.configure(DefaultInterceptorConfigurator.java:188)
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:82)
	... 6 more
{noformat}
I cannot see any statement in Interceptor spec forbidding this. Testcase is available at https://github.com/tremes/wildfly/tree/intercept_ejb. I think the problem is class description having this method return type as void. I guess it occurs at first at https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/component/ClassDescriptionTraversal.java#L46 ",2016/04/07 3:18 AM
WFLY-6550,"The ModuleIdentifier.create(String) method is a convenience method for creating an id with a slot of ""main"". Using this method for user-provided module names prevents the user from encoding a slot into their string. Better is to use ModuleIdentifier.fromString(String) which will parse out a slot if present.

WFCORE-1499 is due to this problem; reviewing the PR for it led me to investigate core and full for other occurrences. Found a few.",2016/04/22 5:24 PM
WFLY-6969,See: https://ci.wildfly.org/project.html?tab=testDetails&projectId=WF_PullRequest&testNameId=2516785978928573613,2016/08/17 1:41 PM
WFLY-6439,"Schema definition of Undertow access log {{prefix}} and {{suffix}} attributes [in this file|https://github.com/jbossas/jboss-eap7/blob/EAP_7.0.0.ER7-dev/undertow/src/main/resources/schema/wildfly-undertow_3_1.xsd#L253] do not match what is [in access log definition|https://github.com/jbossas/jboss-eap7/blob/EAP_7.0.0.ER7-dev/undertow/src/main/java/org/wildfly/extension/undertow/AccessLogDefinition.java#L58] - see the difference in
{{access_log}} -> {{access_log.}} and {{.log}} -> {{log}}

There was a change [in this commit|https://github.com/jbossas/jboss-eap7/commit/f47aa52bf67f4d8a469ba3e22a6c616955caeb4f].

Those values should match and according to mentioned commit I propose to edit schema definition to what is in access log definition file (therefore: prefix = ""access_log."" and suffix = ""log"").

NOTE: I am setting target for GA as this is trivial change in schema definition and better to change it before GA as after this any change to schema definition is difficult.",2016/03/29 10:41 PM
WFLY-6817,"JASPICSecureResponseHandler.handleRequest can throw a NPE for a redirect from a CONFIDENTIAL transport guarantee:
{code}
java.lang.NullPointerException
        at org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler.handleRequest(JASPICSecureResponseHandler.java:35)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
{code}

This occurs because io.undertow.security.handlers.AbstractConfidentialityHandler generates the redirect before any JASPICContext is placed on the request, so JASPICSecureResponseHandler sees the null.",2016/07/11 4:57 PM
WFLY-6806,"When deployed attached ""ugspa.war"" into EAP 7.0.0 GA, error shows:
~~~
2016-06-23 08:53:11,036 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 76) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./ugspa: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./ugspa: java.lang.RuntimeException: java.lang.IllegalStateException: Duplicate Filter registration for 'multipartFilter'. Check to ensure the Filter is only configured once.
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: Duplicate Filter registration for 'multipartFilter'. Check to ensure the Filter is only configured once.
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:231)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)
	... 6 more
Caused by: java.lang.IllegalStateException: Duplicate Filter registration for 'multipartFilter'. Check to ensure the Filter is only configured once.
	at org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer.registerFilter(AbstractSecurityWebApplicationInitializer.java:216)
	at org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer.registerFilters(AbstractSecurityWebApplicationInitializer.java:198)
	at org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer.insertFilters(AbstractSecurityWebApplicationInitializer.java:162)
	at sg.edu.nus.ugspa.config.security.SecurityWebApplicationInitializer.beforeSpringSecurityFilterChain(SecurityWebApplicationInitializer.java:11)
	at org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer.onStartup(AbstractSecurityWebApplicationInitializer.java:112)
	at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:184)
	... 8 more
---And if deploy again---
2016-06-23 09:30:30,819 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 136) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./ugspa: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./ugspa: java.lang.RuntimeException: java.lang.NullPointerException
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.RuntimeException: java.lang.NullPointerException
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:231)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)
	... 6 more
Caused by: java.lang.NullPointerException
	at sg.edu.nus.ugspa.config.web.WebApplicationInitializer.onStartup(WebApplicationInitializer.java:43)
	at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:184)
	... 8 more
~~~",2016/07/06 11:42 PM
WFLY-7427,NoData,2016/10/31 10:04 AM
WFLY-5937,"{noformat}
12:01:56,218 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-3) ISPN000136: Error executing command RemoveCommand, writing keys [Sf8r85DK_NGB_rSVIogBvj6HJ9q5MLL6lf81KEz5]: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.StackOverflowError] while invoking method [public void org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] on listener instance: org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager@15b5cd92
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:291)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:756)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:760)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:557)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:331)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.StackOverflowError
	at org.infinispan.commons.util.concurrent.jdk8backported.EquivalentConcurrentHashMapV8.get(EquivalentConcurrentHashMapV8.java:948)
	at org.infinispan.transaction.impl.TransactionTable.getOrCreateLocalTransaction(TransactionTable.java:411)
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:71)
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:63)
	at org.infinispan.cache.impl.CacheImpl.getInvocationContextForWrite(CacheImpl.java:738)
	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:825)
	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)
	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)
	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)
{noformat}",2016/01/05 12:42 PM
WFLY-6167,"Remove pre-build, external jandex artifacts that only exist for 2 CXF artifacts.

These are the only ones that are being created currently in wildly and don't see to be essential.

Use the attached patch for experimentation if needed.
I can send a PR if you want to go ahead with the change.",2016/02/10 10:53 AM
WFLY-6179,"As seen in QE jobs by [~mvinkler1@redhat.com]:

{noformat}
[JBossINF] �[0m�[31m00:03:59,091 ERROR [org.jgroups.protocols.UDP] (unicast receiver,ee,perf20) perf20: failed submitting DONT_BUNDLE message to thread pool: java.util.concurrent.RejectedExecutionException: Task org.jgroups.protocols.TP$SingleMessageHandler@cf4fccc rejected from java.util.concurrent.ThreadPoolExecutor@122a91ad[Running, pool size = 300, active threads = 3, queued tasks = 0, completed tasks = 57909800]. Msg: RequestCorrelator: id=200, type=REQ, id=39088476, rsp_expected=true, FORK: ee:web, UNICAST3: DATA, seqno=21476211, conn_id=2, UDP: [cluster_name=ee]
{noformat}",2016/02/11 10:12 AM
WFLY-7873,"A jaxrs WAR archive must provide a servlet declaration either as a class that extends javax.ws.rs.core.Application or declare a servlet class in web.xml.  If neither is provided
a warning messages should be provided during the deployment process.

This addresses the issue flagged in https://issues.jboss.org/browse/JBEAP-8163",2017/01/10 3:17 PM
WFLY-7431,"{code}
/subsystem=jgroups/channel=ee:read-attribute(name=stats-enabled)
{code}

Other subsystems usually use attribute name {{statistics-enabled}}, we should deprecate the current attribute name and support the unified attribute name. This is the case in the transaction subsystem. This issue is similar to JBEAP-6501.",2016/10/31 11:31 AM
WFLY-8149,Test adds deployments to the server and then leaves them behind. Tests should clean up after themselves.,2017/02/16 6:24 PM
WFLY-7220,"With fix for JBEAP-3668 there was introduced discrepancy between model in Java code and {{wildfly-undertow_4_0.xsd}}.

Currently {{/subsystem=undertow/configuration=filter/request-limit\[queue-size\]}} is set to 0 by default but this change is not reflected in the mentioned .xsd file. {{.xsd}} should be updated appropriately to keep in sync with what is implemented in java.",2016/09/26 9:12 PM
WFLY-8304,"[Documentation|http://modcluster.io/documentation/#proxy-configuration-1]
{noformat}
Maximum number of failover attempts before giving up. The minimum value is 0, i.e. no failover. The default value is 1, i.e. do a one failover attempt.
{noformat}
Max-attemps minimal value is
{noformat}
""max-attempts"" => {
                ""type"" => INT,
                ""description"" => ""Max attempts to process an idempotent request."",
                ""expressions-allowed"" => true,
                ""nillable"" => true,
                ""default"" => 1,
                ""min"" => -1L,
                ""max"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },
{noformat}
Min value to 0. In the mod_cluster subsystem(worker side). 
And max-attemps handling on the balancer side. Balancer has minimal value of 1 and therefore any value lower than that is ignored. Should be 0.",2017/02/06 5:38 AM
WFLY-8317,"When adding foo=""bar"" attribute to <stack> element in JGroups subsystem and running the EAP, the XML validation passes. 

There should Validation error thrown instead.

{code:xml|title=JGroups subsystem configuration}
<subsystem xmlns=""urn:jboss:domain:jgroups:4.1"">
    <channels default=""ee"" foo=""bar"">
	<channel name=""ee"" stack=""udp""/>
    </channels>
    <stacks>
	<stack name=""udp"" foo=""bar"">
	    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
	    <protocol type=""PING""/>
	    <protocol type=""MERGE3""/>
	    <protocol type=""FD_SOCK""/>
	    <protocol type=""FD_ALL""/>
	    <protocol type=""VERIFY_SUSPECT""/>
	    <protocol type=""pbcast.NAKACK2""/>
	    <protocol type=""UNICAST3""/>
	    <protocol type=""pbcast.STABLE""/>
	    <protocol type=""pbcast.GMS""/>
	    <protocol type=""UFC""/>
	    <protocol type=""MFC""/>
	    <protocol type=""FRAG2""/>
	</stack>
    </stacks>
</subsystem>
{code} ",2017/03/08 7:07 AM
WFLY-6900,"The method is called twice with different deployment names as a param, but the cleanup logic in the finally block hard codes one of the names, leading to log noise in later tests as the leftover deployment fails to deploy.",2016/08/01 5:31 PM
WFLY-7256,"Following up on JBEAP-3093, there are still differences in these 2 subsystems:

{noformat}
258a255
>             <orb socket-binding=""iiop"" ssl-socket-binding=""iiop-ssl""/>
337c334
<                     <role name=""guest"" delete-non-durable-queue=""true"" create-non-durable-queue=""true"" consume=""true"" send=""true""/>
---
>                     <role name=""guest"" send=""true"" consume=""true"" create-non-durable-queue=""true"" delete-non-durable-queue=""true""/>
339,341c336,338
<                 <address-setting name=""#"" redistribution-delay=""1000"" message-counter-history-day-limit=""10"" page-size-bytes=""2097152"" max-size-bytes=""10485760"" expiry-address=""jms.queue.ExpiryQueue"" dead-letter-address=""jms.queue.DLQ""/>
<                 <http-connector name=""http-connector"" endpoint=""http-acceptor"" socket-binding=""http""/>
<                 <http-connector name=""http-connector-throughput"" endpoint=""http-acceptor-throughput"" socket-binding=""http"">
---
>                 <address-setting name=""#"" dead-letter-address=""jms.queue.DLQ"" expiry-address=""jms.queue.ExpiryQueue"" max-size-bytes=""10485760"" page-size-bytes=""2097152"" message-counter-history-day-limit=""10"" redistribution-delay=""1000""/>
>                 <http-connector name=""http-connector"" socket-binding=""http"" endpoint=""http-acceptor""/>
>                 <http-connector name=""http-connector-throughput"" socket-binding=""http"" endpoint=""http-acceptor-throughput"">
353c350
<                 <cluster-connection name=""my-cluster"" discovery-group=""dg-group1"" connector-name=""http-connector"" address=""jms""/>
---
>                 <cluster-connection name=""my-cluster"" address=""jms"" connector-name=""http-connector"" discovery-group=""dg-group1""/>
356,358c353,355
<                 <connection-factory name=""InVmConnectionFactory"" entries=""java:/ConnectionFactory"" connectors=""in-vm""/>
<                 <connection-factory name=""RemoteConnectionFactory"" reconnect-attempts=""-1"" block-on-acknowledge=""true"" ha=""true"" entries=""java:jboss/exported/jms/RemoteConnectionFactory"" connectors=""http-connector""/>
<                 <pooled-connection-factory name=""activemq-ra"" transaction=""xa"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm""/>
---
>                 <connection-factory name=""InVmConnectionFactory"" connectors=""in-vm"" entries=""java:/ConnectionFactory""/>
>                 <connection-factory name=""RemoteConnectionFactory"" ha=""true"" block-on-acknowledge=""true"" reconnect-attempts=""-1"" connectors=""http-connector"" entries=""java:jboss/exported/jms/RemoteConnectionFactory""/>
>                 <pooled-connection-factory name=""activemq-ra"" transaction=""xa"" connectors=""in-vm"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory""/>

{noformat}",2016/10/03 11:02 AM
WFLY-7269,NoData,2016/10/06 10:44 AM
WFLY-8328,"When RAR is deployed the EJB endpoint creation requires too much {{RuntimePermission}} to be defined in deployment itself. It's needed to define

{code}
new RuntimePermission(""accessDeclaredMembers"")
new RuntimePermission(""defineClassInPackage.*"")
new RuntimePermission(""getClassLoader"")
{code}

These permissions should not be required as are needed by internal endpoind creation operations launched from {{org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory}}

Stacktraces of security manager exceptions are added in attachment.",2017/03/09 9:35 AM
WFLY-7626,"This jira contains some small typo findings and suggestions for user experience enhancements when working with the {{datasources}} subsystem:

1, Schema file contains a typo on line 1037: ""Thios tag is not used ..."" -> ""This tag is not used ..."".
2, Description for {{flush-strategy}} attribute on both {{data-source}} and {{xa-data-source}} says there are only three valid values, when in fact there are ten. When setting the attribute value to something invalid, the error message correctly lists all ten, except {{UNKNOWN}} is listed as {{null}}.
3, Description of {{pool-fair}} attribute on both {{data-source}} and {{xa-data-source}} has, IMHO, weird word order: ""Defines if pool should use be fair"" -> ""Defines if pool use should be fair"".
4, Although the description of the attribute {{transaction-isolation}} lists valid values for the attribute, there is no validation. It is possible to assign any value to the attribute. Could the validation be added in a similar manner like it exists for {{flush-strategy}} attribute? This is the case for the attribute on both {{data-source}} and {{xa-data-source}}.
5, The description of {{background-validation}} attribute on {{data-source}} and {{xa-data-source}} says server needs restart when the attribute value is changed on an enabled data source. However, it's {{restart-required}} value is {{no-services}} and the CLI does not warn the user that server needs to be restarted once the {{background-validation}} value is actually changed.",2016/11/18 9:21 AM
WFLY-7548,"Servletcontext.getServerInfo() returns WildFly 2.2.0.Final - 1.4.0.Final instead of 10.1.0.Final. I saw WildFly 2.2.0.Final is the Wildfly Core version.
Additionally the admin interfacde shows:
Product name: 	WildFly Full	 
Product version: 	10.1.0.Final	 
Profile: 	COMMUNITY	 
HAL version: 	2.8.27.Final	 
Core version: 	2.8.27.Final	

Wildfly 8 is produced Wildfly 8 version sting on getServerInfo() call.",2016/11/10 4:55 AM
WFLY-8291,"Please repair description in following operations as they are outdated, undertow proxy
is able to process this messages.
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""disable"",
        ""description"" => ""Tell Apache httpd that all contexts of the node can't process new requests."",
        ""request-properties"" => {},
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""disable-context"",
        ""description"" => ""Tell Apache httpd that the context can't process new requests."",
        ""request-properties"" => {
            ""virtualhost"" => {
                ""type"" => STRING,
                ""description"" => ""virtual host"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            },
            ""context"" => {
                ""type"" => STRING,
                ""description"" => ""context"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            }
        },
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""enable"",
        ""description"" => ""Tell Apache httpd that all contexts of the node are ready receive requests."",
        ""request-properties"" => {},
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""enable-context"",
        ""description"" => ""Tell Apache httpd that the context is ready receive requests."",
        ""request-properties"" => {
            ""virtualhost"" => {
                ""type"" => STRING,
                ""description"" => ""Virtual host"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            },
            ""context"" => {
                ""type"" => STRING,
                ""description"" => ""Context"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            }
        },
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""stop"",
        ""description"" => ""Tell Apache httpd that all contexts of the node can't process requests."",
        ""request-properties"" => {""waittime"" => {
            ""type"" => INT,
            ""description"" => ""wait timeout"",
            ""expressions-allowed"" => false,
            ""required"" => false,
            ""nillable"" => true,
            ""default"" => 10,
            ""unit"" => ""SECONDS""
        }},
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}
{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""stop-context"",
        ""description"" => ""Tell Apache httpd that the context can't process requests."",
        ""request-properties"" => {
            ""virtualhost"" => {
                ""type"" => STRING,
                ""description"" => ""Virtual host"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            },
            ""context"" => {
                ""type"" => STRING,
                ""description"" => ""Context"",
                ""expressions-allowed"" => false,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L
            },
            ""waittime"" => {
                ""type"" => INT,
                ""description"" => ""wait timeout"",
                ""expressions-allowed"" => false,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => 10,
                ""unit"" => ""SECONDS""
            }
        },
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}",2017/03/05 11:59 AM
WFLY-7625,"Some parts of the JCA scheme file ({{docs/schema/wildfly-jca_4_0.xsd}}) could use some improvements. It's nothing critical, the docs inside are already pretty good.

1, {{short-running-threads}} vs. {{long-running threads}} - no description for these. What's the difference between the two and why would I want to configure them separately?
2, {{bootstrap-context}} - I wasn't able to infer its function based on the descriptions of its attributes, maybe a better description on the {{bootstrap-contexts}} element would help.
3, {{cached-connection-managerType}} has no description in its child elements.",2016/11/18 9:14 AM
WFLY-8025,"modcluster resource contains the following attribute definition for ""load-balancing-group""
{code}
""load-balancing-group"" => {
    ""type"" => STRING,
    ""description"" => ""loadBalancingGroup name."",
    ""expressions-allowed"" => true,
    ""required"" => false,
    ""nillable"" => true,
    ""alternatives"" => [""domain""],
    ""min-length"" => 1L,
    ""max-length"" => 2147483647L,
    ""access-type"" => ""read-write"",
    ""storage"" => ""configuration"",
    ""restart-required"" => ""all-services""
},
{code}

But the alternatives constraint specifies a ""domain"" attribute that doesn't exist.",2017/02/03 10:28 AM
WFLY-6705,"Namespaces / schema versions of module.xml are out of sync:
{code}
grep ""urn:jboss:module"" jboss-eap-7.0/modules/ -R | cut -d: -f 5 | cut -d\"" -f1 | sort | uniq -c
        5 1.1
      352 1.3
        1 1.5
{code}

1.5 is used by:
  ./modules/system/layers/base/javax/transaction/api/main/module.xml

1.1 is used by:
  ./modules/system/layers/base/org/jboss/as/domain-http-error-context/eap/module.xml
  ./modules/system/layers/base/org/jboss/as/product/eap/module.xml
  ./modules/system/layers/base/org/hibernate/search/backend-jgroups/main/module.xml
  ./modules/system/layers/base/org/hibernate/search/serialization-avro/main/module.xml
  ./modules/system/layers/base/org/hibernate/search/backend-jms/main/module.xml
",2016/06/13 6:16 AM
WFLY-7503,"There is a typo ""attributed"" in the log message:

{code}
@Message(id = 60, value = ""Binding type %s requires attributed named %s defined"")
OperationFailedException bindingTypeRequiresAttributeDefined(BindingType bindingType, String attributeName);
{code}
",2016/11/07 8:19 AM
WFLY-7811,"org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.Attribute#L1_LIFESPAN

Fixes the log message from

{noformat}
[standalone@embedded /] /subsystem=infinispan/cache-container=web/distributed-cache=dist/:write-attribute(name=l1-lifespan,value=-1
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCLCOM0001: -1.00000 is not a valid value for parameter l1-lifespan. The value must be >= 0.00000"",
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{noformat}

to 

{noformat}
*[standalone@embedded /] /subsystem=infinispan/cache-container=web/distributed-cache=dist/:write-attribute(name=l1-lifespan,value=-1.0
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0117: -1 is an invalid value for parameter l1-lifespan. A minimum value of 0 is required"",
    ""rolled-back"" => true
}
{noformat}",2016/12/16 10:26 AM
WFLY-6835,"Vault.sh advise to insert vault xml snippet as follows:

{code}
Vault Configuration in AS7 config file:
********************************************
...
</extensions>
<vault>
  <vault-option name=""KEYSTORE_URL"" value=""EAP_HOME/vault/vault.keystore""/>
  <vault-option name=""KEYSTORE_PASSWORD"" value=""MASK-5dOaAVafCSd""/>
  <vault-option name=""KEYSTORE_ALIAS"" value=""vault""/>
  <vault-option name=""SALT"" value=""1234abcd""/>
  <vault-option name=""ITERATION_COUNT"" value=""120""/>
  <vault-option name=""ENC_FILE_DIR"" value=""EAP_HOME/vault/""/>
</vault><management> ...
********************************************
{code}

1. User can insert this snippet on wrong place. See forum link for example. Pobably CLI command would be more suitable?
{code}
/core-service=vault:add(vault-options=[(""KEYSTORE_URL"" => ""PATH_TO_KEYSTORE""),(""KEYSTORE_PASSWORD"" => ""MASKED_PASSWORD""),(""KEYSTORE_ALIAS"" => ""ALIAS""),(""SALT"" => ""SALT""),(""ITERATION_COUNT"" => ""ITERATION_COUNT""),(""ENC_FILE_DIR"" => ""ENC_FILE_DIR"")])
{code}

2. There is still reference to AS7 ",2016/07/15 7:37 AM
WFLY-6175,"Seen in these scenario in ER5:
* ejb-ejbremote-undeploy-dist-async

When node perf18 redeployed application after failover, perf20 logged this error one time:

{code}
[JBossINF] [0m[31m14:09:48,463 ERROR [org.jboss.as.ejb3.invocation] (default task-128) WFLYEJB0034: EJB Invocation failed on component RemoteStatefulSBImpl for method public abstract int org.jboss.test.clusterbench.common.ejb.CommonStatefulSB.getSerialAndIncrement(): javax.ejb.EJBException: java.lang.IllegalStateException: WFLYCLEJBINF0008: Stateful session bean UnknownSessionID [6656507065535253656953675267696656535768687065555351556565676951] refers to an invalid bean group 0180085f-a4a0-44c3-8f02-eeee4c5ab77f
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:187)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:322)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:68)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:201)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.processMessage(MethodInvocationMessageHandler.java:254)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.processMessage(VersionOneProtocolChannelReceiver.java:213)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.processMessage(VersionTwoProtocolChannelReceiver.java:76)
[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.handleMessage(VersionOneProtocolChannelReceiver.java:159)
[JBossINF] 	at org.jboss.remoting3.remote.RemoteConnectionChannel$5.run(RemoteConnectionChannel.java:456)
[JBossINF] 	at org.jboss.remoting3.EndpointImpl$TrackingExecutor$1.run(EndpointImpl.java:717)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: java.lang.IllegalStateException: WFLYCLEJBINF0008: Stateful session bean UnknownSessionID [6656507065535253656953675267696656535768687065555351556565676951] refers to an invalid bean group 0180085f-a4a0-44c3-8f02-eeee4c5ab77f
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.createBean(InfinispanBeanFactory.java:76)
[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:243)
[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:119)
[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:58)
[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
[JBossINF] 	... 44 more
[JBossINF] 
{code}

Right before that, JBEAP-1102 was logged (javax.ejb.NoSuchEJBException: WFLYEJB0168: Could not find EJB with id UnknownSessionID)

Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-undeploy-dist-async/14/console-perf20/
",2016/02/11 6:44 AM
WFLY-6772,"172 runs / 5 failures / 0 ignored Success rate: 97.1%

org.jboss.as.test.clustering.cluster.web (1)
     ConcurrentFineWebFailoverTestCase(SYNC-tcp).testGracefulUndeployFailover  — Muted on 07 Jun 16 14:48 by Tomaz Cerar	
 
First failure:	pull/1628	#2988 	Changes (73) 	22 Jun 16 16:47
java.lang.AssertionError: Session failed to replicate after container 1 was shutdown. expected:<7> but was:<6>
    at org.junit.Assert.fail(Assert.java:88)
    at org.junit.Assert.failNotEquals(Assert.java:834)
    at org.junit.Assert.assertEquals(Assert.java:645)
    at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testFailover(AbstractWebFailoverTestCase.java:207)
    at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testGracefulUndeployFailover(AbstractWebFailoverTestCase.java:103)

https://ci.wildfly.org/viewLog.html?buildId=19454&tab=buildResultsDiv&buildTypeId=WildFlyCore_PullRequest_WildFlyCoreFullIntegration#testNameId2219954691680252460

",2016/06/24 11:48 AM
WFLY-6337,NoData,2016/03/08 10:55 AM
WFLY-6303,"org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase starts failing with the latest IBM jdk.

{noformat}
./integration-tests.sh clean test -Dmaven.repo.local=$REPO -Dts.noSmoke -Dts.basic -Dtest=RemotingLoginModuleTestCase
Running org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase
Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.546 sec <<< FAILURE! - in org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase
testNotAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase)  Time elapsed: 0.031 sec  <<< ERROR!
javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]
        at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)
        at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)
        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)
        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)
        at javax.naming.InitialContext.lookup(InitialContext.java:428)
        at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase.testNotAuthorizedClient(RemotingLoginModuleTestCase.java:179)
 
testAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase)  Time elapsed: 0.026 sec  <<< ERROR!
javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]
        at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)
        at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)
        at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)
        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)
        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)
        at javax.naming.InitialContext.lookup(InitialContext.java:428)
        at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase.testAuthorizedClient(RemotingLoginModuleTestCase.java:165)
{noformat}",2016/03/01 6:02 AM
WFLY-6115,This should really be optional,2016/02/02 1:59 PM
WFLY-6152,"If a timer is canceled inside of the @timeout method the scheduler will log an ERROR if the timer duration is longer than the intervall and an overlapping execution should be fired.
This is due to internal validatons.

This will not happen if the timer is canceled by an external process, here the scheduler is removed.

The log message is like this:
ERROR [org.jboss.as.ejb3] (EJB default - 3) WFLYEJB0164: Exception running timer task for timer [id=0bd9870b-568b-42f5-9bda-e1525c3500aa timedObjectId=ejb30-timer.ejb30-timer.SimpleTimerBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@53ba1a7f initialExpiration=Tue Feb 09 17:19:32 CET 2016 intervalDuration(in milli sec)=5000 nextExpiration=Tue Feb 09 17:19:37 CET 2016 timerState=CANCELED info=SimpleTimerInfo description=A timer started every 5 seconds] on EJB ejb30-timer.ejb30-timer.SimpleTimerBean: javax.ejb.NoSuchObjectLocalException: WFLYEJB0331: Timer was canceled
	at org.jboss.as.ejb3.timerservice.TimerImpl.assertTimerState(TimerImpl.java:459)
	at org.jboss.as.ejb3.timerservice.TimerImpl.isPersistent(TimerImpl.java:215)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.shouldRun(TimerServiceImpl.java:1117)
	at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:124)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1221)
	at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
",2016/02/09 11:44 AM
WFLY-6548,"jboss-as-infinispan_4_0.xsd says 30000 ms (https://github.com/wildfly/wildfly/blob/10.0.0.Final/clustering/infinispan/extension/src/main/resources/schema/jboss-as-infinispan_4_0.xsd#L296)

but actually used is 10000 ms (https://github.com/wildfly/wildfly/blob/10.0.0.Final/clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/TransactionResourceDefinition.java#L82)

Default for infinispan is also 30000 ms (https://github.com/infinispan/infinispan/blob/master/core/src/main/java/org/infinispan/configuration/cache/TransactionConfiguration.java#L25)



",2016/04/22 9:55 AM
WFLY-6704,"https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/javax/xml/rpc/api/main/module.xml#L25

javax.api is duplicated, see line 27 and 30.",2016/06/13 5:57 AM
WFLY-6539,"There are two tests
* SingletonDeploymentDescriptorTestCase 
* SingletonDeploymentJBossAllTestCase
that fails because http-trace is disallowed
{code:java}
 Error Details

expected:<200> but was:<405>

 Stack Trace

java.lang.AssertionError: expected:<200> but was:<405>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentTestCase.test(SingletonDeploymentTestCase.java:107)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
...
{code}

We need to enable http-trace requests in clustering configurations.",2016/04/20 5:26 AM
WFLY-6424,The file reference the BOMs org.jboss.as:jboss-as-ejb-client-bom and org.jboss.as:jboss-as-jms-client-bom which have been moved to the org.wildfly namespace ,2016/03/24 5:20 AM
WFLY-6586,package name in source https://github.com/wildfly/wildfly/tree/master/security/subsystem/src/main/java/org/jboss/as/security/org/jboss/as/security/lru is odd. There is redundant org/jboss/as/security/,2016/05/05 5:38 AM
WFLY-6576,"{noformat}
17:05:56,822 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.2.Final
17:05:56,833 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364
{noformat}

{noformat}
[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""advertise"" => false,
        ""advertise-security-key"" => undefined,
        ""advertise-socket"" => undefined,
{noformat}",2016/04/29 11:47 AM
WFLY-6326,"Comments of xsd schema under docs/schema/jboss-as-iiop-openjdk_1_0.xsd contains terms _on_ and _off_ but those values are wrong to be set into management model. For openjdk iiop values _true_ and _false_ are valid.

Comments should be in sync with variables which are real to be set.",2016/03/07 4:44 AM
WFLY-6922,"Default value for ""realm"" option in RealmUsersRolesLoginModule isn't set.

I can see default value for ""realm"" option in documentation https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/7.0/single/login-module-reference/#realmusersroles_login_module.
But I have to set this option explicitly otherwise I will get NPE exception.

In my opinion problem is here https://github.com/jbossas/jboss-eap7/blob/7.x/security/subsystem/src/main/java/org/jboss/as/security/RealmUsersRolesLoginModule.java#L61.

{code}
2016-08-04 10:58:19,415 DEBUG [org.jboss.security] (management task-9) PBOX00206: Login failure: javax.security.auth.login.LoginException: java.lang.NullPointerException
	at org.jboss.sasl.util.UsernamePasswordHashUtil.stringToByte(UsernamePasswordHashUtil.java:86)
	at org.jboss.sasl.util.UsernamePasswordHashUtil.generateHashedURP(UsernamePasswordHashUtil.java:131)
	at org.jboss.sasl.util.UsernamePasswordHashUtil.generateHashedHexURP(UsernamePasswordHashUtil.java:156)
	at org.jboss.sasl.util.UsernamePasswordHashUtil.generateHashedHexURP(UsernamePasswordHashUtil.java:162)
	at org.jboss.as.security.RealmUsersRolesLoginModule.createPasswordHash(RealmUsersRolesLoginModule.java:71)
	at org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:263)
	at org.jboss.security.auth.spi.UsersRolesLoginModule.login(UsersRolesLoginModule.java:171)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)
	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
	at javax.security.auth.login.LoginContext.login(LoginContext.java:587)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:406)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:323)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:406)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:367)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:347)
	at org.jboss.as.domain.management.security.JaasCallbackHandler.handle(JaasCallbackHandler.java:174)
	at org.jboss.as.domain.management.security.SecurityRealmService$1.handle(SecurityRealmService.java:175)
	at org.jboss.as.domain.http.server.security.RealmIdentityManager.verify(RealmIdentityManager.java:162)
	at org.jboss.as.domain.http.server.security.RealmIdentityManager.verify(RealmIdentityManager.java:141)
	at io.undertow.security.impl.BasicAuthenticationMechanism.authenticate(BasicAuthenticationMechanism.java:161)
	at org.jboss.as.domain.http.server.security.AuthenticationMechanismWrapper.authenticate(AuthenticationMechanismWrapper.java:52)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:239)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:257)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:225)
	at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:124)
	at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)
	at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:50)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:856)
	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
	at javax.security.auth.login.LoginContext.login(LoginContext.java:587)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:406)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:323)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:406)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:367)
	at org.jboss.as.security.service.SimpleSecurityManager.authenticate(SimpleSecurityManager.java:347)
	at org.jboss.as.domain.management.security.JaasCallbackHandler.handle(JaasCallbackHandler.java:174)
	at org.jboss.as.domain.management.security.SecurityRealmService$1.handle(SecurityRealmService.java:175)
	at org.jboss.as.domain.http.server.security.RealmIdentityManager.verify(RealmIdentityManager.java:162)
	at org.jboss.as.domain.http.server.security.RealmIdentityManager.verify(RealmIdentityManager.java:141)
	at io.undertow.security.impl.BasicAuthenticationMechanism.authenticate(BasicAuthenticationMechanism.java:161)
	at org.jboss.as.domain.http.server.security.AuthenticationMechanismWrapper.authenticate(AuthenticationMechanismWrapper.java:52)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:239)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:257)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:225)
	at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:124)
	at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)
	at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:50)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{code}",2016/08/04 6:02 AM
WFLY-7083,"These descriptions of wm-security may want to be reviewed.

* There is a typo in the resource description of {{wm-security}}: 
bq. Toggle on/off wm.security for this resource-adapter. In case of false all wm-security-* parameters are ignored, even thei defaults.

* For  {{wm-security-mapping-required}}, the description seems to refer to documentation sections:
bq. Defines if a mapping is required for security credentials. A value of false means Case 1 as defined in section 16.4.3, and a value of true means Case 2 as defined in section 16.4.4.
However these sections can me moved or removed, and the numbers will often change. I'm not even sure what content this refers to. We shouldn't hard-code documentation references. 
* Ending the description with a full stop is also missing on many descriptions.

",2016/09/09 10:27 AM
WFLY-7357,"In Undertow https-listener, there is an attribute 'enabled-cipher-suites' witch description 'Configures Enabled SSL cyphers'. See that attribute contains 'cipher' and description 'cypher'. I believe we should keep those consistent.

I have grepped source codebase of Undertow, Wildfly and EAP docs and it seems that except this (and related) we prefer 'cipher' spelling. Thus we should reword description of mentioned attribute too.

Appropriate change needs to be done also in documentation, where https-listener attributes description is mentioned.",2016/10/20 9:12 AM
WFLY-7430,"/subsystem=batch-jberet/thread-pool=batch:read-resource-description()
returns 
""description"" => ""... be greaterthan 3...""
Please split  'greaterthan' to 'greater than'",2016/10/31 11:22 AM
WFLY-7088,"Multiple typos and grammar issues with the descriptions.

I will create a diff with the issues, and suggested fixes.

",2016/09/09 4:24 PM
WFLY-7068,"There is a typo in Passivation paragraph. ""f false, the cache store contains a copy of the contents in memory, so writes to cache result in cache store writes.""
There should be ""If"" instead of ""f""",2016/09/07 4:20 AM
WFLY-6790,"In XA and non-XA datasource configuration screen of datasource subsystem configuration view, in attributes tab, the Need help? window reads out
{quote}Statistics enabled?: 	define if runtime statistics is enabled or not.{quote}
Other field descriptions are capitalised, so maybe this one should be too. I would also reformulate it to something along the lines of ""Define whether the runtime statistics are enabled or not."".",2016/06/29 5:14 AM
WFLY-6003,"- there are few typos in CLI description text for 
- missing size units for some of attributes for better UX
- add more info to {{undertow.listener.max-connections}} so user can more easily understand how to configure it properly",2016/01/15 3:41 AM
WFLY-6411,"* When I install EAP and access http://localhost:8080/ welcome page is returned. - OK
* When I deploy my custom web application with the app defined for root context => in jboss-web.xml there is defined {{<context-root>/</context-root>}}, after accessing http://localhost:8080/ the content of my application is returned. - OK
* When I undeploy the previously custom application used as default welcome page and try to access http://localhost:8080/, the 404 is returned (I would expect 200 is returned with the original welcome page defined by the welcome-file handler.

Note: Reloading the server configuration makes the original welcome page again accessible.",2016/03/21 10:20 AM
WFLY-7309,"Actually some tests cases fails when running against a remote eap instance. 

In this specific case instances running on Openshift v3.
In order to get those tests working we have to modify some classes to configure the authentication.
Example: 

org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase, had to change this:

{code:java}
    private MBeanServerConnection getMBeanServerConnection() throws IOException {
        final String address = managementClient.getMgmtAddress()+"":""+managementClient.getMgmtPort();
        connector = JMXConnectorFactory.connect(new JMXServiceURL(""service:jmx:http-remoting-jmx://""+address));
        return connector.getMBeanServerConnection();

    }
{code}

To:

{code:java}

    private MBeanServerConnection getMBeanServerConnection() throws IOException {
        HashMap<String, String[]> propEnv = new HashMap<String, String[]>();
        String[] credentials = {  System.getProperty(""jboss.management.user"",""""), System.getProperty(""jboss.management.password"","""") };
        propEnv.put(JMXConnector.CREDENTIALS, credentials);
        final String address = managementClient.getMgmtAddress()+"":""+managementClient.getMgmtPort();
        connector = JMXConnectorFactory.connect(new JMXServiceURL(""service:jmx:http-remoting-jmx://""+address),propEnv);
        return connector.getMBeanServerConnection();
    }
{code}


Could these kind of authentication being configurable?
It is important to us because this allows the tests to be executed against the docker images running in openshift.",2016/10/13 10:14 AM
