bug_report_id,bug_report_desc,bug_report_time
WFLY-8652,"*Scenario:*
* There are two servers called ""JMS servers""
* There are two servers called ""MDB servers""
* JMS servers are configured to be in cluster. They have destinations and hold all messages.
* MDB servers have MDB applications which connect remotely via resource adapter to JMS servers.
* Resource adapter on MDB servers is configured to use Jgroups TCP ping discovery protocol to find JMS servers.

*Expectation:* MDB applications on MDB servers are able to receive and sent messages from InQueue to OutQueue which are deployed on JMS servers.

*Reality:* MDB applications don't receive any message.

*Customer impact:* Customers which use aforementioned scenario with Jgroups TCP ping are affected. Their applications stop working after migration to EAP 7.1.

This is regression against EAP 7.1.0.DR15. I tried to use both Artemis jars and messaging integration jars from DR15 but it didn't help. I saw the same issue. I compared JGroups versions between DR15 and DR16 but they are the same.
There was also update of XNIO from 3.5.0.Beta2 to 3.5.0.Beta4 but I wasn't able to run the DR16 with 3.5.0.Beta2 because there was change in API.",2017/04/26 10:32 PM
WFLY-8673,"I found that currently, when configuring {{ASYM_ENCRYPT}} in legacy way, an elytron key-store reference is always automatically created. That should not happen as people who want to use the legacy security may want to remove the Elytron subsystem entirely. JGroups boot would fail in that case.

{noformat}
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT:add()
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT/property=encrypt_entire_message:add(value=true)
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT/property=sym_keylength:add(value=512)
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT/property=sym_algorithm:add(value=AES/ECB/PKCS5Padding)
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT/property=asym_keylength:add(value=512)
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT/property=asym_algorithm:add(value=RSA)
{noformat}

Here, I removed the elytron subsystem and used configuration from JBEAP-8405.
{noformat}
12:56:22,202 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 18) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""stack"" => ""tcp""),
    (""protocol"" => ""ASYM_ENCRYPT"")
]) - failure description: ""WFLYCLJG0026: No add operation registered at /subsystem=elytron/key-store=jgroups-tcp""
{noformat}",2017/04/28 4:55 PM
WFLY-8474,"The operation adding Elytron SSO configuration to Undertow subsystem returns {{\{""outcome"" => ""success""\}}}. However the SSO does not work without performing {{reload}}. It is very confusing for an administrator.

The {{reload}} should not be required, or a response header requiring reload should be returned.",2017/03/30 8:05 AM
WFLY-8340,"- Batch job is submitted by user A
- While the job is running, the server gets suspended
- When user B calls the {{resume}} operation, the Batch execution is attempted to be restarted. However, this only works if anonymous identity has the permission {{org.wildfly.security.auth.permission.RunAsPrincipalPermission}} for user A, which is not the case in the default configuration. 

I find this a UX issue because you have to add a special permission to make this work when it should work out-of-the-box, and also one might not want to give this permission to {{anonymous}} because it could be potentially abused in other places.

{noformat}
14:59:53,729 TRACE [org.wildfly.security] (management-handler-thread - 4) Permission mapping: identity [anonymous] with roles [] implies (""org.wildfly.security.auth.permission.RunAsPrincipalPermission"" ""user1"") = false
14:19:53,842 ERROR [org.wildfly.extension.batch] (management-handler-thread - 4) WFLYBATCH000016: Failed to restart execution 1 for job server-suspend on deployment server-suspend.war: org.wildfly.security.authz.AuthorizationFailureException: ELY01088: Attempting to run as ""user1"" authorization operation failed
	at org.wildfly.security.auth.server.SecurityIdentity.createRunAsIdentity(SecurityIdentity.java:628)
	at org.wildfly.security.auth.server.SecurityIdentity.createRunAsIdentity(SecurityIdentity.java:603)
	at org.wildfly.extension.batch.jberet.deployment.JobOperatorService$BatchJobServerActivity.privilegedRunAs(JobOperatorService.java:520)
	at org.wildfly.extension.batch.jberet.deployment.JobOperatorService$BatchJobServerActivity.restartStoppedJobs(JobOperatorService.java:495)
	at org.wildfly.extension.batch.jberet.deployment.JobOperatorService$BatchJobServerActivity.resume(JobOperatorService.java:430)
	at org.jboss.as.server.suspend.SuspendController.resume(SuspendController.java:127)
	at org.jboss.as.server.operations.ServerResumeHandler$1$1.handleResult(ServerResumeHandler.java:79)
	at org.jboss.as.controller.AbstractOperationContext$Step.invokeResultHandler(AbstractOperationContext.java:1493)
	at org.jboss.as.controller.AbstractOperationContext$Step.handleResult(AbstractOperationContext.java:1475)
	at org.jboss.as.controller.AbstractOperationContext$Step.finalizeInternal(AbstractOperationContext.java:1437)
	at org.jboss.as.controller.AbstractOperationContext$Step.finalizeStep(AbstractOperationContext.java:1410)
	at org.jboss.as.controller.AbstractOperationContext$Step.access$400(AbstractOperationContext.java:1284)
	at org.jboss.as.controller.AbstractOperationContext.executeResultHandlerPhase(AbstractOperationContext.java:856)
	at org.jboss.as.controller.AbstractOperationContext.executeDoneStage(AbstractOperationContext.java:842)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:748)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:441)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1388)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:421)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:258)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:277)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}",2017/03/10 2:37 PM
WFLY-8441,Looks to be the result of a botched merge/rebase.,2017/03/23 9:23 PM
WFLY-8355,"JDR don't report name of created zip file

This is regression against EAP 7.0.0 and EAP 7.1.0.DR7

*Steps to reproduce:*
# ./standalone.sh
# ./jdr.sh

*Actual results:*
{noformat}
[mkopecky@dhcp-10-40-4-133 bin]$ ./jdr.sh 
Initializing JBoss Diagnostic Reporter...
[mkopecky@dhcp-10-40-4-133 bin]$ 
{noformat}

*Expected results:*
{noformat}
[mkopecky@dhcp-10-40-4-133 bin]$ ./jdr.sh 
Initializing JBoss Diagnostic Reporter...
JDR started: Fri Nov 25 13:25:49 CET 2016
JDR ended: Fri Nov 25 13:25:51 CET 2016
JDR location: /home/mkopecky/playground/eap/7.1.0.DR6/jboss-eap-7.1/standalone/tmp/jdr_16-11-25_01-25-49_dhcp-10-40-4-133.zip
[mkopecky@dhcp-10-40-4-133 bin]$ 
{noformat}
",2017/03/13 8:20 PM
WFLY-8553,"The logic in ContextNames.BindInfo.setupLookupInjection(...) does not correctly establish dependencies for non-external context in the presence of external contexts.
Take the resource: java:jboss/infinispan/cache/mycontainer/mycache
The service registered under this name is installed on-demand.  When no external contexts are defined, ExternalContexts.getParentExternalContext(...) returns null and the dependency is established correctly.  However, when there are external contexts whose name is lexicographically larger than the external context, the ExternalContexts.getParentExternalContext(...) returns the ServiceName of the lexicographically smallest external context, i.e. the result of NavigableSet.lower(...), where the set contains the ServiceName of all external contexts.  Therefore, if a user defines an external context with name ""java:global/foo"", a call to ContextNames.BindInfo.setupLookupInjection(...) for the jndi name above will establish a dependency on ""java:global/foo"" instead of the correct service name corresponding to the non-external context.",2017/04/10 6:09 PM
WFLY-8540,"With a random election policy, this situation is likely to happen:
1. After a topology change, new singleton provider is elected
2. Former singleton provider undeploys the singleton application, which causes it to leave a cluster for a while
3. This topology change triggers another election
4. Loop continues",2017/04/07 11:25 AM
WFLY-8581,"Regression introduced by https://github.com/wildfly/wildfly/commit/1e7b6ddb7cce2caf7ca0f2ab99747bde9215573d#diff-1c030568ca03790991fd6f6e7b6a3724
",2017/04/13 5:43 PM
WFLY-8430,"The {{remote-outbound-connection}} with user authentication configured, doesn't work with Elytron because the SASL authentication fails.

Scenario:
* from a deployment is made a remote EJB call through defined remote-outbound-connection (which specifies valid username and legacy security realm with valid password)

Current behavior:
* The call fails with authentication exception (for Elytron configuration).

Expected behavior:
* The remote EJB call is allowed with Elytron configured as the default security provider
",2017/03/23 9:45 AM
WFLY-8615,"After starting a two server cluster with ASYM_ENCRYPT, the servers establish a view and then fail to send any more messages, because those can't be decrypted. One of the servers logs the following:
{noformat}
15:29:42,058 WARN  [org.jboss.as.clustering.jgroups.protocol.ASYM_ENCRYPT] (thread-14) node2: unable to process received public key
{noformat}

The servers throw ReplicationTimeoutExceptions after some timeout period.

I'm using the following configuration for the Elytron key-store and ASYM_ENCRYPT:
{noformat}
/subsystem=elytron/key-store=jgroups-udp2:add(type=jks,path=/tmp/key3.keystore,credential-reference={clear-text=password}, required=true)
/subsystem=jgroups/stack=udp2/protocol=ASYM_ENCRYPT:add(key-store=jgroups-udp2,key-alias=alias,credential-reference={clear-text=password})
{noformat}
and the following command to create the key stores:
{noformat}
keytool -genkeypair -alias alias -keypass password -storepass password -storetype jks -keystore key3.keystore -keyalg RSA
{noformat}",2017/04/20 10:33 AM
WFLY-8548,"If a stateless session bean contains overloaded methods  the annotations on these methods are sometimes mixed up. This happens for example, if two methods with the same name, the same return type and the same number of arguments exists. If both methods have different annotations or annotation values the values of the 'first' method are used.

To make things more complicated, the 'first' method depends on the JVM in use.

The bug lives in the class org.jboss.as.ejb3.deployment.ApplicableMethodInformation. I have already create a pull request to fix the issue: https://github.com/wildfly/wildfly/pull/9922",2017/04/10 9:13 AM
WFLY-8364,"{code}
        <subsystem xmlns=""urn:jboss:domain:modcluster:3.0"">
            <mod-cluster-config advertise-socket=""modcluster"" connector=""ajp"">
                <simple-load-provider factor=""5""/>
                <dynamic-load-provider>
                    <load-metric type=""cpu""/>
                </dynamic-load-provider>
            </mod-cluster-config>
        </subsystem>
{code}

However, it would be ideal if this was reworked into correct resources, like the following:

{{/subsystem=modcluster/proxy=default/load-provider=dynamic}}
{{/subsystem=modcluster/proxy=default/load-provider=simple}}

Jira for that is WFLY-10471.",2017/03/14 6:03 PM
WFLY-8446,"Currently, one can create a file-store with an invalid relative-to path reference, which will not be discovered until runtime.  This should be validated by the model via capability references.",2017/03/24 8:49 AM
WFLY-8661,"I created a pull request to enable the TxTimeoutTestCase ([JBEAP-10550] + [WFLY-5319]) which required a test change, however, the test is failing for me locally, due to org.wildfly.transaction.client.LocalTransaction.suspend() calling notifyAssociationListeners(false) in the TM reaper ""tx timeout"" thread, which is wrong, as the app client thread may still be associated with the same transaction. 

[https://gist.github.com/scottmarlow/1ae4a4abe98851b3fe6b1e602ba273d7] shows another reaper thread association call being made, that shouldn't be.  

I'm not sure of how the Narayana org.jboss.tm.listener.TransactionListenerRegistry SPI, internally ensured that the reaper thread didn't incorrectly perform association/disassociation but what we have now in WildFly (appears) to be different.  




",2017/04/27 11:54 AM
WFLY-8557,"From [https://issues.jboss.org/browse/WFLY-2387?focusedCommentId=13391617&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13391617]
{quote}
I just tried this out in wildfly 11.0.0.Alpha1 and it works fine, when our application is deployed directly as WAR archive. But as soon as I add that same WAR to an EAR file and deploy that, we get the following exception:

{{java.lang.RuntimeException: org.hibernate.HibernateException: CDI not initialized as expected
at org.hibernate.jpa.event.internal.jpa.ListenerCallback.performCallback(ListenerCallback.java:48)
at org.hibernate.jpa.event.internal.jpa.CallbackRegistryImpl.callback(CallbackRegistryImpl.java:94)
at org.hibernate.jpa.event.internal.jpa.CallbackRegistryImpl.preCreate(CallbackRegistryImpl.java:54)
at org.hibernate.jpa.event.internal.core.JpaPersistEventListener.saveWithGeneratedId(JpaPersistEventListener.java:66)
at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:189)
at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:132)
at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:58)
at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:778)
at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:751)
at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:756)
at org.hibernate.jpa.spi.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:1146)
at org.jboss.as.jpa.container.AbstractEntityManager.persist(AbstractEntityManager.java:580)
at com.hp.murcs.dao.AbstractDAO.save(AbstractDAO.java:41)
at com.hp.murcs.rest.resource.v2.ClientResource.setClientConfiguration(ClientResource.java:143)
at com.hp.murcs.rest.resource.v2.ClientResource$Proxy$_$$_WeldSubclass.setClientConfiguration$$super(Unknown Source)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:49)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInCallerTx(TransactionalInterceptorBase.java:129)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:55)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:76)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:47)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:64)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.hp.murcs.utils.interceptor.TxInterceptor.handleTransaction(TxInterceptor.java:36)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:64)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.hp.murcs.utils.interceptor.TxInterceptor.handleTransaction(TxInterceptor.java:36)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
at com.hp.murcs.rest.resource.v2.ClientResource$Proxy$_$$_WeldSubclass.setClientConfiguration(Unknown Source)
at com.hp.murcs.DefaultAdminClientImporter.importDefaultAdminClient(DefaultAdminClientImporter.java:34)
at com.hp.murcs.DefaultAdminClientImporter$Proxy$_$$_WeldSubclass.importDefaultAdminClient$$super(Unknown Source)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:49)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:117)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:53)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:76)
at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:47)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:64)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.hp.murcs.utils.interceptor.TxInterceptor.handleTransaction(TxInterceptor.java:36)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:64)
at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:77)
at com.hp.murcs.utils.interceptor.TxInterceptor.handleTransaction(TxInterceptor.java:36)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
at com.hp.murcs.DefaultAdminClientImporter$Proxy$_$$_WeldSubclass.importDefaultAdminClient(Unknown Source)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:88)
at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:78)
at org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:129)
at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:299)
at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:277)
at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:255)
at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:269)
at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:258)
at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:154)
at org.jboss.weld.bootstrap.BeanDeploymentModule.fireEvent(BeanDeploymentModule.java:94)
at org.jboss.weld.servlet.HttpContextLifecycle.fireEventForApplicationScope(HttpContextLifecycle.java:156)
at org.jboss.weld.servlet.HttpContextLifecycle.contextInitialized(HttpContextLifecycle.java:143)
at org.jboss.weld.servlet.WeldInitialListener.contextInitialized(WeldInitialListener.java:105)
at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)
at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:205)
at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)
at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$36(SecurityContextThreadSetupAction.java:105)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$40(UndertowDeploymentInfoService.java:1706)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$40(UndertowDeploymentInfoService.java:1706)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$40(UndertowDeploymentInfoService.java:1706)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$40(UndertowDeploymentInfoService.java:1706)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$40(UndertowDeploymentInfoService.java:1706)
at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:239)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:99)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
at java.util.concurrent.FutureTask.run(FutureTask.java:266)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
at java.lang.Thread.run(Thread.java:745)
at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: org.hibernate.HibernateException: CDI not initialized as expected
at org.hibernate.jpa.event.internal.jpa.ListenerFactoryBeanManagerExtendedImpl$ListenerImpl.getListener(ListenerFactoryBeanManagerExtendedImpl.java:114)
at org.hibernate.jpa.event.internal.jpa.ListenerCallback.performCallback(ListenerCallback.java:35)
... 127 more}}
{quote}",2017/04/11 7:59 AM
WFLY-8586,"When deploying my application (ear with a couple of jar and war files) on Wildfly 11.0.0.Beta1-SNAPSHOT I get warnings like this one for all the war files:
{noformat}
WARN  [org.jboss.as.jaxrs#deploy] WFLYRS0015: No Servlet declaration found for JAX-RS application.  In ws-common.war either provide a class that extends javax.ws.rs.core.Application or declare a servlet class in web.xml.  
{noformat}
When deploying the same ear file on a Wildfly 10.1. this warning message does not appear.

Those war files raising the warnings do not contain RESTful Webservices, only SOAP based Webservices, and therefore do not need either servlet or class.
Only 2 sub modules contain RESTful Webservices and have a class extending javax.ws.rs.core.Application.
Following jaikiran's analysis, the existence of at least one JAX-RS subdeployment triggers the warning message for all other web modules in the war.",2017/04/17 12:02 PM
WFLY-8644,NoData,2017/04/26 11:18 AM
WFLY-8410,"A number of places in the full WildFly test suite depend on the incorrect behavior that WFCORE-1762 is meant to fix. Tests execute operations that should fail and assume they will succeed.

InterDeploymentDependenciesTestCase and InterDeploymentDependenciesEarTestCase are like this. There may be (many) others.",2017/03/20 9:42 PM
WFLY-8533,"{{org.jboss.as.ee.concurrent.SecurityIdentityUtils#getSecurityIdentity()}} calls {{SecurityDomain.getCurrent()}} in order to get a security domain. {{SecurityDomain.getCurrent()}} then needs a {{ElytronPermission(""getSecurityDomain"")}} in order to pass if Security Manager is enabled.

As {{SecurityIdentityUtils#getSecurityIdentity()}} is a private static method and it is invoked from package protected static methods only, I think it should be safe to wrap the {{SecurityDomain.getCurrent()}} invocation by the privileged block there.

See the stacktrace catched by {{EEConcurrencySuspendTestCase}}:
{noformat}
2017-04-07 11:27:09,445 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ee-suspend/ShutdownServlet: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.wildfly.security.permission.ElytronPermission"" ""getSecurityDomain"")"" in code source ""(vfs:/content/ee-suspend.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ee-suspend.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at org.wildfly.security.auth.server.SecurityDomain.getCurrent(SecurityDomain.java:154)
	at org.jboss.as.ee.concurrent.SecurityIdentityUtils.getSecurityIdentity(SecurityIdentityUtils.java:66)
	at org.jboss.as.ee.concurrent.SecurityIdentityUtils.doIdentityWrap(SecurityIdentityUtils.java:57)
	at org.jboss.as.ee.concurrent.ManagedExecutorServiceImpl.execute(ManagedExecutorServiceImpl.java:71)
	at org.glassfish.enterprise.concurrent.ManagedExecutorServiceAdapter.execute(ManagedExecutorServiceAdapter.java:97)
	at org.jboss.as.test.integration.ee.suspend.ShutdownServlet.doGet(ShutdownServlet.java:47)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:46)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1706)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1706)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1706)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1706)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:211)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:809)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{noformat}
",2017/04/07 6:53 AM
WFLY-8376,"*org.jboss.as.test.integration.jca.poolattributes.ResourceAdapterPoolAttributesTestCase#testModifyPoolAttributes*

{{./integration-tests.sh -DtestLogToFile=false -Dts.noSmoke -Dts.basic -Dtest=ResourceAdapterPoolAttributesTestCase -Dsecurity.manager}}

{code}
SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-3-thread-1) Failed: org.jboss.as.test.integration.jca.poolattributes.ResourceAdapterPoolAttributesTestCase.testModifyPoolAttributes: java.lang.AssertionError: WFSM000001: Permission check failed (permission ""(""java.lang.reflect.ReflectPermission"" ""suppressAccessChecks"")"" in code source ""(vfs:/content/pool-attributes-test.rar/pool-attributes-test.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.pool-attributes-test.rar"" from Service Module Loader"")
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.jca.JcaTestsUtil.extractConnectionManager(JcaTestsUtil.java:144)
	at org.jboss.as.test.integration.jca.JcaTestsUtil.exctractPoolConfiguration(JcaTestsUtil.java:89)
	at org.jboss.as.test.integration.jca.poolattributes.ResourceAdapterPoolAttributesTestCase.testModifyPoolAttributes(ResourceAdapterPoolAttributesTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:124)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:58)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:249)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:150)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:264)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:831)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:813)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1512)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:731)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:277)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(Thread.java:785)
{code}",2017/03/15 9:17 AM
WFLY-8482,"*Description of problem:*
ObjectStoreTypeTestCase fails intermittently on IPv6. This test is *not* from wf-core.

*How reproducible:*
* 5%
* this issue is more common on pure IPv6 machines with IBM JDK

*Actual results:*
Maven logs:
{noformat}
12:52:47 Running org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase
12:55:18 Tests run: 5, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 151.197 sec <<< FAILURE! - in org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase
12:55:18 testJdbcObjectStore(org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase)  Time elapsed: 38.363 sec  <<< FAILURE!
12:55:18 java.lang.AssertionError: Failed to execute line 'data-source remove --name=ObjectStoreTestDS': org.jboss.as.cli.CommandFormatException: The command is not available in the current context (e.g. required subsystems or connection to the controller might be unavailable).
12:55:18 	at org.junit.Assert.fail(Assert.java:88)
12:55:18 	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:166)
12:55:18 	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:188)
12:55:18 	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.removeDataSource(ObjectStoreTypeTestCase.java:261)
12:55:18 	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJdbcObjectStore(ObjectStoreTypeTestCase.java:140)
12:55:18 
12:55:18 testJournalObjectStore(org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase)  Time elapsed: 29.533 sec  <<< FAILURE!
12:55:18 org.junit.ComparisonFailure: expected:<[default]> but was:<[jdbc]>
12:55:18 	at org.junit.Assert.assertEquals(Assert.java:115)
12:55:18 	at org.junit.Assert.assertEquals(Assert.java:144)
12:55:18 	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJournalObjectStore(ObjectStoreTypeTestCase.java:98)
12:55:18 
12:55:18 testUseJdbcStoreWithoutDatasource(org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase)  Time elapsed: 27.734 sec  <<< FAILURE!
12:55:18 java.lang.AssertionError: Failed to execute line 'data-source add --name=ObjectStoreTestDS --jndi-name=java:jboss/datasources/ObjectStoreTestDS --driver-name=h2 --connection-url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1 --jta=false': org.jboss.as.cli.CommandLineException: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => ""WFLYCTL0212: Duplicate resource [
12:55:18     (\""subsystem\"" => \""datasources\""),
12:55:18     (\""data-source\"" => \""ObjectStoreTestDS\"")
12:55:18 ]""}}
12:55:18 	at org.junit.Assert.fail(Assert.java:88)
12:55:18 	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:166)
12:55:18 	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:188)
12:55:18 	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.createDataSource(ObjectStoreTypeTestCase.java:257)
12:55:18 	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testUseJdbcStoreWithoutDatasource(ObjectStoreTypeTestCase.java:151)
{noformat}
*org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJdbcObjectStore*
StackTrace:
{noformat}
java.lang.AssertionError: Failed to execute line 'data-source remove --name=ObjectStoreTestDS': org.jboss.as.cli.CommandFormatException: The command is not available in the current context (e.g. required subsystems or connection to the controller might be unavailable).
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:166)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:188)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.removeDataSource(ObjectStoreTypeTestCase.java:261)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJdbcObjectStore(ObjectStoreTypeTestCase.java:140)
{noformat}
Standard output:
{noformat}
12:52:47,276 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance
12:52:47,545 WARNING [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Bundles path is deprecated and no longer used.
12:52:47,560 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [/qa/tools/opt/amd64/ibm-java-80/bin/java, -D[Standalone], -Dorg.jboss.ejb.client.wildfly-testsuite-hack=true, -Xmx512m, -XX:MetaspaceSize=128m, -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1, -Djava.net.preferIPv4Stack=false, -Djava.net.preferIPv6Addresses=true, -server, -Dts.timeout.factor=100, -Dnode0=2620:52:0:105f::ffff:192, -Dnode1=2620:52:0:105f::ffff:193, -Dmcast=ff0e:52:0:105f::ffff:195, -Dmcast.ttl=0, -Djbossas.ts.submodule.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode, -Djbossas.ts.integ.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/.., -Djbossas.ts.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../.., -Djbossas.project.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../../.., -Djava.io.tmpdir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target, -Djboss.inst=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.node.name=default-jbossas, -ea, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Dorg.jboss.boot.log.file=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log/server.log, -Dlogging.configuration=file:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/logging.properties, -jar, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/jboss-modules.jar, -mp, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/modules, org.jboss.as.standalone, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.server.base.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone, -Djboss.server.log.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log, -Djboss.server.config.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration, -Dts.wildfly.version=7.1.0.Alpha1-redhat-11, -c=standalone-ha.xml]
12:52:48,082 INFO  [org.jboss.remoting] (main) JBoss Remoting version 5.0.0.Beta12-redhat-1
12:52:48,164 INFO  [org.xnio] (main) XNIO version 3.4.3.Final-redhat-1
12:52:48,287 INFO  [org.xnio.nio] (main) XNIO NIO Implementation Version 3.4.3.Final-redhat-1
12:52:49,068 INFO  [org.wildfly.security] (main) ELY00001: WildFly Elytron version 1.1.0.Beta18-redhat-1
&amp#27;[0m12:52:51,269 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Beta3-redhat-1
&amp#27;[0m&amp#27;[0m12:52:53,468 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:52:54,015 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:52:54,668 INFO  [org.jboss.as.domain.management] (MSC service thread 1-2) WFLYDM0136: Registered OpenSSL provider
&amp#27;[0m&amp#27;[0m12:52:59,007 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:52:59,191 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 10) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:53:00,425 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:53:00,462 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:00,507 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:00,832 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:53:00,925 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 5.0.0.Beta12-redhat-1
&amp#27;[0m&amp#27;[0m12:53:00,931 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:53:01,147 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]
&amp#27;[0m&amp#27;[0m12:53:01,159 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m12:53:01,209 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m12:53:01,309 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:53:01,317 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[33m12:53:01,454 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:53:01,512 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:53:01,545 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m12:53:01,733 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:53:01,801 INFO  [org.wildfly.security] (MSC service thread 1-2) ELY00001: WildFly Elytron version 1.1.0.Beta18-redhat-1
&amp#27;[0m&amp#27;[0m12:53:02,025 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:53:02,027 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m12:53:02,169 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:53:02,479 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:02,833 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:53:02,834 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:53:03,020 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:53:03,089 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:53:03,091 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:53:03,447 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:03,696 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:03,723 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:03,772 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:195:23364
&amp#27;[0m&amp#27;[0m12:53:04,334 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:04,335 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:04,338 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:05,306 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:53:05,331 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-1) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:53:05,575 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:05,581 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:53:05,883 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[0m12:53:08,210 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:192]:9990/management
&amp#27;[0m&amp#27;[0m12:53:08,212 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:192]:9990
&amp#27;[0m&amp#27;[0m12:53:08,212 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 19241ms - Started 351 of 670 services (471 services are lazy, passive or on-demand)
&amp#27;[0m&amp#27;[0m12:53:08,215 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 64) WFLYSRV0212: Resuming server
&amp#27;[0m12:53:14,504 INFO  [org.jboss.as.cli.CommandContext] (main) Warning! The CLI is running in a non-modular environment and cannot load commands from management extensions.
12:53:15,001 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""default""
}
&amp#27;[0m12:53:15,570 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0098: Bound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m12:53:16,773 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
12:53:17,319 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
&amp#27;[0m12:53:17,429 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:53:17,430 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:17,433 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:17,439 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 19) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:53:17,437 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:53:17,511 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:53:17,513 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:17,514 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:53:17,515 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:17,426 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:17,572 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:17,622 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:53:17,623 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:17,672 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:53:17,870 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:53:18,039 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 696ms
&amp#27;[0m&amp#27;[0m12:53:18,042 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:53:19,098 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:53:19,281 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 27) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:53:20,041 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:53:20,160 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:53:20,219 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:53:20,196 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:53:20,274 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m12:53:20,282 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:53:20,306 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:20,314 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m12:53:20,329 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m12:53:20,344 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[33m12:53:20,348 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:53:20,359 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[0m12:53:20,579 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:53:20,606 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:53:20,608 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:53:20,613 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:53:20,642 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:53:20,643 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:53:20,646 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:53:20,758 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:20,759 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:53:20,769 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:20,773 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:195:23364
&amp#27;[0m&amp#27;[0m12:53:20,768 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0098: Bound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:53:20,843 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:21,211 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:21,213 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:21,213 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:22,444 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:53:22,447 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:53:22,448 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:53:22,478 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:22,479 INFO  [org.jboss.ws.common.management] (MSC service thread 1-1) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[33m12:53:23,156 WARN  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$WildFlyXaMCF] (Periodic Recovery) IJ030000: Unable to load connection listener: IJ031002: Error during loading connection listener plugin: javax.resource.ResourceException: IJ031002: Error during loading connection listener plugin
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.loadConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:929)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.getConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:978)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.getWrappedConnection(BaseWrapperManagedConnection.java:1203)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.getConnection(BaseWrapperManagedConnection.java:462)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryImpl.openConnection(XAResourceRecoveryImpl.java:438)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryImpl.getXAResources(XAResourceRecoveryImpl.java:199)
	at com.arjuna.ats.internal.jbossatx.jta.XAResourceRecoveryHelperWrapper.getXAResources(XAResourceRecoveryHelperWrapper.java:51)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.resourceInitiatedRecoveryForRecoveryHelpers(XARecoveryModule.java:545)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:184)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:765)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:377)
Caused by: java.lang.ClassNotFoundException: org.jboss.as.test.manualmode.jca.connectionlistener.TestConnectionListener
	at java.lang.Class.forNameImpl(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.loadConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:923)
	... 10 more

&amp#27;[0m&amp#27;[33m12:53:23,161 WARN  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$WildFlyXaMCF] (Periodic Recovery) IJ030000: Unable to load connection listener: IJ031002: Error during loading connection listener plugin: javax.resource.ResourceException: IJ031002: Error during loading connection listener plugin
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.loadConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:929)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.getConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:978)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.returnHandle(BaseWrapperManagedConnection.java:563)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.closeHandle(BaseWrapperManagedConnection.java:541)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.returnConnection(WrappedConnection.java:298)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.close(WrappedConnection.java:256)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.jca.core.recovery.DefaultRecoveryPlugin.close(DefaultRecoveryPlugin.java:107)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryImpl.closeConnection(XAResourceRecoveryImpl.java:469)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryImpl.getXAResources(XAResourceRecoveryImpl.java:212)
	at com.arjuna.ats.internal.jbossatx.jta.XAResourceRecoveryHelperWrapper.getXAResources(XAResourceRecoveryHelperWrapper.java:51)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.resourceInitiatedRecoveryForRecoveryHelpers(XARecoveryModule.java:545)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:184)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:765)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:377)
Caused by: java.lang.ClassNotFoundException: org.jboss.as.test.manualmode.jca.connectionlistener.TestConnectionListener
	at java.lang.Class.forNameImpl(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.loadConnectionListenerPlugin(BaseWrapperManagedConnectionFactory.java:923)
	... 17 more

&amp#27;[0m&amp#27;[0m12:53:23,749 INFO  [org.jboss.as.protocol] (management I/O-2) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 4,5,management-handler-thread]
&amp#27;[0m&amp#27;[0m12:53:24,045 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 64) WFLYSRV0212: Resuming server
&amp#27;[0m12:53:24,078 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance
&amp#27;[0m12:53:24,099 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:192]:9990/management
&amp#27;[0m&amp#27;[0m12:53:24,101 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:192]:9990
&amp#27;[0m&amp#27;[0m12:53:24,101 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 6053ms - Started 357 of 676 services (472 services are lazy, passive or on-demand)
&amp#27;[0m&amp#27;[0m12:53:24,326 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0236: Suspending server with no timeout.
&amp#27;[0m&amp#27;[0m12:53:24,382 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
&amp#27;[0m&amp#27;[0m12:53:24,557 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:24,572 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:24,574 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:24,765 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:53:24,828 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:53:24,857 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:53:24,859 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:24,859 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:53:24,860 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:24,965 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:53:24,967 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:24,972 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:53:24,973 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:53:24,978 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:25,073 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 492ms
&amp#27;[0m
{noformat}
*org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJournalObjectStore*
StackTrace:
{noformat}
org.junit.ComparisonFailure: expected:<[default]> but was:<[jdbc]>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testJournalObjectStore(ObjectStoreTypeTestCase.java:98)
{noformat}
Standard output:
{noformat}
12:53:25,500 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance
12:53:25,523 WARNING [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Bundles path is deprecated and no longer used.
12:53:25,547 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [/qa/tools/opt/amd64/ibm-java-80/bin/java, -D[Standalone], -Dorg.jboss.ejb.client.wildfly-testsuite-hack=true, -Xmx512m, -XX:MetaspaceSize=128m, -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1, -Djava.net.preferIPv4Stack=false, -Djava.net.preferIPv6Addresses=true, -server, -Dts.timeout.factor=100, -Dnode0=2620:52:0:105f::ffff:192, -Dnode1=2620:52:0:105f::ffff:193, -Dmcast=ff0e:52:0:105f::ffff:195, -Dmcast.ttl=0, -Djbossas.ts.submodule.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode, -Djbossas.ts.integ.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/.., -Djbossas.ts.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../.., -Djbossas.project.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../../.., -Djava.io.tmpdir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target, -Djboss.inst=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.node.name=default-jbossas, -ea, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Dorg.jboss.boot.log.file=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log/server.log, -Dlogging.configuration=file:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/logging.properties, -jar, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/jboss-modules.jar, -mp, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/modules, org.jboss.as.standalone, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.server.base.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone, -Djboss.server.log.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log, -Djboss.server.config.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration, -Dts.wildfly.version=7.1.0.Alpha1-redhat-11, -c=standalone-ha.xml]
&amp#27;[0m12:53:28,442 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Beta3-redhat-1
&amp#27;[0m&amp#27;[0m12:53:31,091 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:31,660 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:53:32,467 INFO  [org.jboss.as.domain.management] (MSC service thread 1-2) WFLYDM0136: Registered OpenSSL provider
&amp#27;[0m&amp#27;[0m12:53:37,670 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:53:37,965 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 21) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:53:40,066 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:53:40,279 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:40,364 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[33m12:53:40,699 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:53:40,791 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m12:53:40,824 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:53:40,920 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m12:53:40,941 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]
&amp#27;[0m&amp#27;[0m12:53:41,430 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m12:53:41,485 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:53:41,489 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[0m12:53:41,508 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 5.0.0.Beta12-redhat-1
&amp#27;[0m&amp#27;[0m12:53:41,678 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:53:41,691 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:53:41,701 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m12:53:41,905 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:53:41,912 INFO  [org.wildfly.security] (MSC service thread 1-2) ELY00001: WildFly Elytron version 1.1.0.Beta18-redhat-1
&amp#27;[0m&amp#27;[0m12:53:41,909 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:53:42,064 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:53:42,159 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:53:42,659 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:43,061 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:53:43,209 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:53:43,362 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:53:43,363 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:53:44,187 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:44,206 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:44,213 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0098: Bound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:53:44,295 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:53:44,304 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:195:23364
&amp#27;[0m&amp#27;[0m12:53:46,834 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:46,835 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:46,837 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:46,989 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:53:47,003 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:53:47,005 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:53:47,364 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:48,055 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[0m12:53:50,639 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:192]:9990/management
&amp#27;[0m&amp#27;[0m12:53:50,640 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:192]:9990
&amp#27;[0m&amp#27;[0m12:53:50,641 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 24187ms - Started 357 of 676 services (472 services are lazy, passive or on-demand)
&amp#27;[0m&amp#27;[0m12:53:50,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 64) WFLYSRV0212: Resuming server
&amp#27;[0m12:53:51,263 INFO  [org.jboss.as.cli.CommandContext] (main) Warning! The CLI is running in a non-modular environment and cannot load commands from management extensions.
12:53:51,444 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""jdbc""
}
12:53:51,506 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""jdbc""
}
12:53:52,356 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
12:53:52,835 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
12:53:53,259 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
12:53:53,715 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
12:53:53,775 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance
&amp#27;[0m12:53:53,803 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0236: Suspending server with no timeout.
&amp#27;[0m&amp#27;[0m12:53:53,873 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
&amp#27;[0m&amp#27;[0m12:53:54,090 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:53:54,152 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:53:54,154 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:53:54,346 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:53:54,414 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:53:54,508 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:53:54,539 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:53:54,601 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:53:54,627 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:53:54,536 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:53:54,630 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:53:54,633 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:53:54,665 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:53:54,670 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:53:54,738 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 533ms
&amp#27;[0m
{noformat}
*org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testUseJdbcStoreWithoutDatasource*
StackTrace:
{noformat}
java.lang.AssertionError: Failed to execute line 'data-source add --name=ObjectStoreTestDS --jndi-name=java:jboss/datasources/ObjectStoreTestDS --driver-name=h2 --connection-url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1 --jta=false': org.jboss.as.cli.CommandLineException: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => ""WFLYCTL0212: Duplicate resource [
    (\""subsystem\"" => \""datasources\""),
    (\""data-source\"" => \""ObjectStoreTestDS\"")
]""}}
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:166)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:188)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.createDataSource(ObjectStoreTypeTestCase.java:257)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testUseJdbcStoreWithoutDatasource(ObjectStoreTypeTestCase.java:151)
{noformat}
Standard output:
{noformat}
12:53:54,968 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance
12:53:54,976 WARNING [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Bundles path is deprecated and no longer used.
12:53:54,996 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [/qa/tools/opt/amd64/ibm-java-80/bin/java, -D[Standalone], -Dorg.jboss.ejb.client.wildfly-testsuite-hack=true, -Xmx512m, -XX:MetaspaceSize=128m, -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1, -Djava.net.preferIPv4Stack=false, -Djava.net.preferIPv6Addresses=true, -server, -Dts.timeout.factor=100, -Dnode0=2620:52:0:105f::ffff:192, -Dnode1=2620:52:0:105f::ffff:193, -Dmcast=ff0e:52:0:105f::ffff:195, -Dmcast.ttl=0, -Djbossas.ts.submodule.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode, -Djbossas.ts.integ.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/.., -Djbossas.ts.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../.., -Djbossas.project.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../../.., -Djava.io.tmpdir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target, -Djboss.inst=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.node.name=default-jbossas, -ea, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Dorg.jboss.boot.log.file=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log/server.log, -Dlogging.configuration=file:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/logging.properties, -jar, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/jboss-modules.jar, -mp, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/modules, org.jboss.as.standalone, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.server.base.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone, -Djboss.server.log.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log, -Djboss.server.config.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration, -Dts.wildfly.version=7.1.0.Alpha1-redhat-11, -c=standalone-ha.xml]
&amp#27;[0m12:53:57,625 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Beta3-redhat-1
&amp#27;[0m&amp#27;[0m12:54:00,279 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:54:00,857 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:54:01,702 INFO  [org.jboss.as.domain.management] (MSC service thread 1-2) WFLYDM0136: Registered OpenSSL provider
&amp#27;[0m&amp#27;[0m12:54:06,509 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:54:06,719 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 22) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:54:08,905 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:54:09,017 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:54:09,056 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:54:09,516 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:54:09,652 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:54:09,658 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:54:09,699 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[33m12:54:09,791 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:54:09,859 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]
&amp#27;[0m&amp#27;[0m12:54:09,918 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:54:10,021 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:54:10,083 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m12:54:10,150 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m12:54:10,161 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m12:54:10,371 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:54:10,372 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[0m12:54:10,449 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 5.0.0.Beta12-redhat-1
&amp#27;[0m&amp#27;[0m12:54:10,938 INFO  [org.wildfly.security] (MSC service thread 1-2) ELY00001: WildFly Elytron version 1.1.0.Beta18-redhat-1
&amp#27;[0m&amp#27;[0m12:54:11,007 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:54:11,381 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:54:12,044 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:54:12,045 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:54:12,049 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:54:12,572 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:54:13,204 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:54:13,207 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:54:13,232 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:54:13,239 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0098: Bound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:54:13,246 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:54:13,290 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:195:23364
&amp#27;[0m&amp#27;[0m12:54:13,573 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:54:13,608 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:54:13,614 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:54:14,914 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:54:15,209 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:54:15,212 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:54:15,495 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:54:16,087 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[0m12:54:19,422 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 64) WFLYSRV0212: Resuming server
&amp#27;[0m&amp#27;[0m12:54:19,422 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:192]:9990/management
&amp#27;[0m&amp#27;[0m12:54:19,471 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:192]:9990
&amp#27;[0m&amp#27;[0m12:54:19,472 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 23779ms - Started 357 of 676 services (472 services are lazy, passive or on-demand)
&amp#27;[0m12:54:20,014 INFO  [org.jboss.as.cli.CommandContext] (main) Warning! The CLI is running in a non-modular environment and cannot load commands from management extensions.
12:54:20,148 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""default""
}
12:54:20,584 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""default""
}
12:54:21,270 INFO  [org.jboss.as.cli.CommandContext] (main) operation-requires-reload: true            
process-state:             reload-required 
12:54:21,342 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance
&amp#27;[0m12:54:21,433 INFO  [org.jboss.as.server] (management-handler-thread - 4) WFLYSRV0236: Suspending server with no timeout.
&amp#27;[0m&amp#27;[0m12:54:21,498 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
&amp#27;[0m&amp#27;[0m12:54:21,698 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:54:21,775 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:54:21,777 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:54:21,976 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/ObjectStoreTestDS
&amp#27;[0m&amp#27;[0m12:54:22,019 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:54:22,123 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:54:22,151 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:54:22,166 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:54:22,169 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:192]:8009
&amp#27;[0m&amp#27;[0m12:54:22,173 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:192]:8443
&amp#27;[0m&amp#27;[0m12:54:22,180 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:54:22,246 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:54:22,247 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:192]:8080
&amp#27;[0m&amp#27;[0m12:54:22,323 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:54:22,428 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 611ms
&amp#27;[0m
{noformat}
*org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testHornetQObjectStore*
StackTrace:
{noformat}
java.lang.AssertionError: Failed to execute line '/subsystem=transactions/log-store=log-store:read-attribute(name=type)': org.jboss.as.cli.CommandFormatException: No connection to the controller.
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:166)
	at org.jboss.as.test.integration.management.util.CLIWrapper.sendLine(CLIWrapper.java:188)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.readObjectStoreType(ObjectStoreTypeTestCase.java:265)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.setDefaultObjectStore(ObjectStoreTypeTestCase.java:275)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.setDefaultObjectStore(ObjectStoreTypeTestCase.java:271)
	at org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.testHornetQObjectStore(ObjectStoreTypeTestCase.java:89)
{noformat}
Standard output:
{noformat}
12:03:49,027 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance
12:03:49,033 WARNING [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Bundles path is deprecated and no longer used.
12:03:49,036 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [/qa/tools/opt/amd64/ibm-java-80/bin/java, -D[Standalone], -Dorg.jboss.ejb.client.wildfly-testsuite-hack=true, -Xmx512m, -XX:MetaspaceSize=128m, -Djboss.dist=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1, -Djava.net.preferIPv4Stack=false, -Djava.net.preferIPv6Addresses=true, -server, -Dts.timeout.factor=100, -Dnode0=2620:52:0:105f::ffff:196, -Dnode1=2620:52:0:105f::ffff:197, -Dmcast=ff0e:52:0:105f::ffff:199, -Dmcast.ttl=0, -Djbossas.ts.submodule.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode, -Djbossas.ts.integ.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/.., -Djbossas.ts.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../.., -Djbossas.project.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/../../.., -Djava.io.tmpdir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target, -Djboss.inst=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.node.name=default-jbossas, -ea, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Dorg.jboss.boot.log.file=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log/server.log, -Dlogging.configuration=file:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/logging.properties, -jar, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/jboss-modules.jar, -mp, /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/jboss-eap-7.1/modules:/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/modules, org.jboss.as.standalone, -Djboss.home.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas, -Djboss.server.base.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone, -Djboss.server.log.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/log, -Djboss.server.config.dir=/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration, -Dts.wildfly.version=7.1.0.Alpha1-redhat-12, -c=standalone-ha.xml]
&amp#27;[0m12:03:50,917 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Beta4-redhat-1
&amp#27;[0m&amp#27;[0m12:03:53,752 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1
&amp#27;[0m&amp#27;[0m12:03:54,152 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:03:54,774 INFO  [org.jboss.as.domain.management] (MSC service thread 1-1) WFLYDM0136: Registered OpenSSL provider
&amp#27;[0m&amp#27;[0m12:03:59,746 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:03:59,994 INFO  [org.wildfly.security] (ServerService Thread Pool -- 6) ELY00001: WildFly Elytron version 1.1.0.Beta21-redhat-1
&amp#27;[0m&amp#27;[0m12:03:59,996 INFO  [org.wildfly.extension.elytron] (ServerService Thread Pool -- 6) WFLYELY00001: Activating Elytron Subsystem Elytron Version=1.1.0.Beta21-redhat-1, Subsystem Version=1.0.0.Beta2
&amp#27;[0m&amp#27;[0m12:04:00,083 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 28) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:04:01,997 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:04:02,081 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:04:02,112 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.4.3.Final-redhat-1
&amp#27;[0m&amp#27;[0m12:04:02,472 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 41) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:04:02,526 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 60) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[33m12:04:02,569 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 62) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:04:02,942 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 49) WFLYJSF0007: Activated the following JSF Implementations: [main]
&amp#27;[0m&amp#27;[0m12:04:02,994 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 46) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:04:03,030 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 52) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m12:04:03,072 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 42) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:04:03,084 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 64) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m12:04:03,094 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[0m12:04:03,134 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 5.0.0.Beta12-redhat-1
&amp#27;[0m&amp#27;[0m12:04:03,602 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 37) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:04:03,688 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.1.Final)
&amp#27;[0m&amp#27;[0m12:04:04,386 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:04:04,555 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:04:04,556 INFO  [org.jboss.as.naming] (MSC service thread 1-2) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:04:04,628 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:04:04,804 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:04:04,871 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 63) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:04:04,899 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:04:05,546 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:04:06,048 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:196]:8009
&amp#27;[0m&amp#27;[0m12:04:06,116 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:04:06,279 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000001: Initializing mod_cluster version 1.3.6.CR1
&amp#27;[0m&amp#27;[0m12:04:06,302 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:196]:8080
&amp#27;[0m&amp#27;[0m12:04:06,494 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:199:23364
&amp#27;[0m&amp#27;[0m12:04:06,714 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:04:06,714 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:04:06,813 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:04:07,765 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:04:07,962 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:04:07,965 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:04:08,245 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:196]:8443
&amp#27;[0m&amp#27;[0m12:04:08,821 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.1.7.Final (Apache CXF 3.1.9) 
&amp#27;[0m&amp#27;[0m12:04:11,110 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 66) WFLYSRV0212: Resuming server
&amp#27;[0m&amp#27;[0m12:04:11,146 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:196]:9990/management
&amp#27;[0m&amp#27;[0m12:04:11,148 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:196]:9990
&amp#27;[0m&amp#27;[0m12:04:11,149 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) started in 21534ms - Started 376 of 695 services (475 services are lazy, passive or on-demand)
&amp#27;[0m12:04:11,579 INFO  [org.jboss.as.cli.CommandContext] (main) Warning! The CLI is running in a non-modular environment and cannot load commands from management extensions.
12:04:11,637 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""result"" => ""default""
}
12:04:12,297 INFO  [org.jboss.as.cli.CommandContext] (main) {
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-restart"" => true,
        ""process-state"" => ""restart-required""
    }
}
&amp#27;[0m12:04:12,438 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:04:12,439 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:04:12,459 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:04:12,466 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:04:12,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:04:12,474 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:196]:8009
&amp#27;[0m&amp#27;[0m12:04:12,475 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:04:12,476 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:196]:8443
&amp#27;[0m&amp#27;[0m12:04:12,491 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:04:12,550 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:04:12,676 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:04:12,678 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:196]:8080
&amp#27;[0m&amp#27;[0m12:04:12,688 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:04:12,936 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:04:12,984 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) stopped in 670ms
&amp#27;[0m&amp#27;[0m12:04:12,988 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) starting
&amp#27;[0m&amp#27;[0m12:04:14,141 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:04:14,319 INFO  [org.wildfly.extension.elytron] (ServerService Thread Pool -- 14) WFLYELY00001: Activating Elytron Subsystem Elytron Version=1.1.0.Beta21-redhat-1, Subsystem Version=1.0.0.Beta2
&amp#27;[0m&amp#27;[0m12:04:14,346 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 25) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m12:04:14,928 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m12:04:15,085 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 60) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m12:04:15,088 INFO  [org.jboss.as.security] (MSC service thread 1-2) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[33m12:04:15,097 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 62) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m12:04:15,123 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 46) WFLYCLJG0001: Activating JGroups subsystem.
&amp#27;[0m&amp#27;[0m12:04:15,155 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 52) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m12:04:15,161 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 64) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m12:04:15,176 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 41) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
&amp#27;[0m&amp#27;[0m12:04:15,211 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 42) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m12:04:15,237 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.1.Final)
&amp#27;[0m&amp#27;[0m12:04:15,241 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m12:04:15,306 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m12:04:15,345 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m12:04:15,347 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m12:04:15,268 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 63) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m12:04:15,674 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m12:04:15,675 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m12:04:15,701 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:196]:8080
&amp#27;[0m&amp#27;[0m12:04:15,702 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m12:04:15,812 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on [2620:52:0:105f::ffff:196]:8009
&amp#27;[0m&amp#27;[0m12:04:15,826 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000001: Initializing mod_cluster version 1.3.6.CR1
&amp#27;[0m&amp#27;[0m12:04:15,831 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000032: Listening to proxy advertisements on /ff0e:52:0:105f:0:0:ffff:199:23364
&amp#27;[0m&amp#27;[0m12:04:15,896 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 37) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m12:04:15,929 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:04:16,002 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:04:16,006 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:04:15,937 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:04:16,815 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m12:04:16,852 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m12:04:16,854 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/1d07701d/testsuite/integration/manualmode/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m12:04:16,892 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:196]:8443
&amp#27;[0m&amp#27;[0m12:04:16,895 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.1.7.Final (Apache CXF 3.1.9) 
&amp#27;[0m12:04:18,708 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance
&amp#27;[0m12:04:18,760 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:196]:9990/management
&amp#27;[0m&amp#27;[0m12:04:18,762 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:196]:9990
&amp#27;[0m&amp#27;[0m12:04:18,762 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) started in 5768ms - Started 376 of 695 services (475 services are lazy, passive or on-demand)
&amp#27;[0m&amp#27;[0m12:04:18,767 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 66) WFLYSRV0212: Resuming server
&amp#27;[0m&amp#27;[0m12:04:18,906 INFO  [org.jboss.as.server] (management-handler-thread - 3) WFLYSRV0236: Suspending server with no timeout.
&amp#27;[0m&amp#27;[0m12:04:18,964 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
&amp#27;[0m&amp#27;[0m12:04:19,116 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m12:04:19,139 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatXaDS]
&amp#27;[0m&amp#27;[0m12:04:19,140 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/StatDS]
&amp#27;[0m&amp#27;[0m12:04:19,236 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m12:04:19,244 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000002: Initiating mod_cluster shutdown
&amp#27;[0m&amp#27;[0m12:04:19,367 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow AJP listener ajp suspending
&amp#27;[0m&amp#27;[0m12:04:19,369 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to [2620:52:0:105f::ffff:196]:8009
&amp#27;[0m&amp#27;[0m12:04:19,370 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m12:04:19,371 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:196]:8443
&amp#27;[0m&amp#27;[0m12:04:19,421 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m12:04:19,480 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m12:04:19,481 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:196]:8080
&amp#27;[0m&amp#27;[0m12:04:19,483 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m12:04:19,562 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha22-redhat-1) stopped in 375ms
&amp#27;[0m
{noformat}
*Expected results:*
No errors",2017/03/31 6:53 AM
WFLY-8656,"The CDI spec specifies that the {{beans.xml}} file may set the ""bean discovery mode"" for a given bean archive: https://docs.jboss.org/cdi/spec/1.1/cdi-spec.html#bean_archive
Possible values include ""all"" (all classes should be considered as CDI beans) and ""annotated"" (only classes with class-level CDI annotations should b considered as CDI beans).

In Wildfly, this bean discovery mode is taken into account correctly for deployments, but not for the modules they depend on. For those modules, provided there is a {{beans.xml}}, and irrespective of the bean discovery mode set inside this file, every single class is considered as a bean and added to the CDI context.

----

This behavior is not related to the bean discovery mode defined in the ""beans.xml"" of the deployment. Actually, the code responsible for handling bean discovery in deployments and in their dependency is clearly separated. It seems that {{ExternalBeanArchiveProcessor}} is responsible for bean discovery in dependencies, and this class completely ignores the bean discovery mode defined in the {{bean.xml}} and always populate the archive with every single discovered class:

{code}
final BeansXml beansXml = parseBeansXml(url, parser, deploymentUnit);

final UrlScanner urlScanner = new UrlScanner();

final List<String> discoveredClasses = new ArrayList<String>();
if (!urlScanner.handleBeansXml(url, discoveredClasses)) {
    continue;
}
discoveredClasses.removeAll(componentClassNames);

/*
 * Below, the archive is populated with every discovered class,
 * irrespective of beansXML.getBeanDiscoveryMode()
 */
final BeanDeploymentArchiveImpl bda = new BeanDeploymentArchiveImpl(new HashSet<String>(discoveredClasses), beansXml, dependency, beanArchiveIdPrefix + url.toExternalForm(), BeanArchiveType.EXTERNAL);
{code}

There seems to be hard-coded exceptions for {{jsf-impl-2.2}} and {{resteasy-cdi}}, so I suspect this problem has been noticed before, but I couldn't find any open ticket.",2017/04/27 9:25 AM
WFLY-8341,This externalizer class is missing from the generated /META-INF/services/org.wildfly.clustering.marshalling.Externalizer resource.,2017/03/11 10:28 AM
WFLY-8389,"Setting ssl-context in modcluster subsystem
{noformat}
/subsystem=modcluster/mod-cluster-config=configuration:write-attribute(name=ssl-context,value=clientSSLContext)
{noformat}
when ssl is configured
{noformat}
/subsystem=modcluster/mod-cluster-config=configuration/ssl=configuration
{noformat}
shouldn't end as success 
{noformat}
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
{noformat}
as {noformat}reload{noformat}
triggers exception in server log 
{noformat}
2017-03-13 10:13:45,394 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 51) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""modcluster"")]): java.lang.IllegalStateException: WFLYMODCLS0020: Only one of 'ssl-context' attribute or 'ssl' resource can be defined!
        at org.wildfly.extension.mod_cluster.ModClusterConfigurationServiceBuilder.configure(ModClusterConfigurationServiceBuilder.java:225)
        at org.wildfly.extension.mod_cluster.ModClusterSubsystemAdd.performBoottime(ModClusterSubsystemAdd.java:80)
        at org.jboss.as.controller.AbstractBoottimeAddStepHandler.performBoottime(AbstractBoottimeAddStepHandler.java:157)
        at org.jboss.as.controller.AbstractBoottimeAddStepHandler.performRuntime(AbstractBoottimeAddStepHandler.java:116)
        at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:151)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:979)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:722)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:441)
        at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:381)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.lang.Thread.run(Thread.java:785)
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}

User shouldn't be allowed to set ssl-context in this scenario or be warned.",2017/03/16 7:22 AM
WFLY-8394,"These implementations are inefficient and are being removed without replacement in Infinispan 9.0.
As string-keyed-jdbc-store will be the only remaining implementation, we can rename this to jdbc-store.",2017/03/16 6:44 PM
WFLY-8406,"When using credential-reference pointing only to store without password, it results in using password ""undefined""

As providing password which is incorrect one is very bad from security point of view, marking as blocker for GA.",2017/03/20 6:05 AM
WFLY-8426,"The ServerSetupTask instance {{EJBClientDescriptorTestCase.EJBClientDescriptorTestCaseSetup}} has a wrong order of operations in {{tearDown}} method, so already the first operation fails.",2017/03/23 4:19 AM
WFLY-8342,The binary-keyed-jdbc-store and mixed-keyed-jdbc-store are going away in Infinispan 9. EAP  needs to support string-based-jdbc-store.,2017/03/12 1:08 PM
WFLY-8371,"https-listener with set ssl-context
{noformat}
<https-listener name=""https"" socket-binding=""https"" ssl-context=""serverSSLContext"" verify-client=""REQUIRED""/>
{noformat} 
is not verifying client
{noformat}
verify-client=""REQUIRED""
{noformat}
Request 
{noformat}
 curl https://192.168.122.196:8847/ -k
{noformat}
should be rejected, but isn't
{noformat}
$ curl https://192.168.122.196:8847/ -k
<!DOCTYPE html>
<html>
<head>

    <title>JBoss EAP 7</title>
    <!-- proper charset -->
    <meta http-equiv=""content-type"" content=""text/html;charset=utf-8"" />
    <meta http-equiv=""X-UA-Compatible"" content=""IE=EmulateIE8"" />
    <link rel=""stylesheet"" type=""text/css"" href=""eap.css"" />
    <link rel=""shortcut icon"" href=""favicon.ico"" />
</head>

<body>

<div id=""container"" style=""position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;"">
  
  <!-- header -->
  <div class=""header-panel"">
    <div class=""header-line"">&nbsp;</div>
    <div class=""header-top"">
      <img class=""prod-title"" src=""images/product_title.png""/><span class=""prod-version"">7</span>                	
    </div>
    <div class=""header-bottom"">&nbsp;</div>
  </div>
  
  
  <!-- main content -->
  <div id=""content"">

    <div class=""section"">

      <h1>Welcome to JBoss EAP 7</h1>

      <h3>Your Red Hat JBoss Enterprise Application Platform is running.</h3>

      <p>
        <a href=""/console"">Administration Console</a> | 
        <a href=""https://access.redhat.com/documentation/en/jboss-enterprise-application-platform/"">Documentation</a> |
        <a href=""https://access.redhat.com/discussions"">Online User Groups</a> <br/>
      </p>

      <sub>To replace this page simply deploy your own war with / as its context path.<br/>
        To disable it, remove the ""welcome-content"" handler for location / in the undertow subsystem.</sub>

    </div>

  </div>


  <div id=""footer"">&nbsp;</div>

</div>

</body >
</html>
{noformat}",2017/03/15 7:12 AM
WFLY-8447,"I was speaking to [~rhn-engineering-bban] on performance tuning recommendations for the upcoming EAP 7.1 Performance Tuning Guide.

He mentioned that he could see no reason why the default JGroups TCP stack should be using FD instead of FD_ALL for failure detection. (the UDP stack already has FD_ALL as the default).

Rather than instruct customers to change the protocol manually, it would be better if the default TCP stack could be changed to use FD_ALL by default. 

Here are the default stacks taken from `standalone-ha.xml` in 7.1.0.DR14:

{code:xml}
<stacks>
    <stack name=""udp"">
        <transport type=""UDP"" socket-binding=""jgroups-udp""/>
        <protocol type=""PING""/>
        <protocol type=""MERGE3""/>
        <protocol type=""FD_SOCK""/>
        <protocol type=""FD_ALL""/>
        <protocol type=""VERIFY_SUSPECT""/>
        <protocol type=""pbcast.NAKACK2""/>
        <protocol type=""UNICAST3""/>
        <protocol type=""pbcast.STABLE""/>
        <protocol type=""pbcast.GMS""/>
        <protocol type=""UFC""/>
        <protocol type=""MFC""/>
        <protocol type=""FRAG2""/>
    </stack>
    <stack name=""tcp"">
        <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
        <socket-protocol type=""MPING"" socket-binding=""jgroups-mping""/>
        <protocol type=""MERGE3""/>
        <protocol type=""FD_SOCK""/>
        <protocol type=""FD""/>
        <protocol type=""VERIFY_SUSPECT""/>
        <protocol type=""pbcast.NAKACK2""/>
        <protocol type=""UNICAST3""/>
        <protocol type=""pbcast.STABLE""/>
        <protocol type=""pbcast.GMS""/>
        <protocol type=""MFC""/>
        <protocol type=""FRAG2""/>
    </stack>
</stacks>
{code}
",2017/03/24 9:16 AM
WFLY-8539,Update relevant tests in [wildfly '...integration/web/security testsuite..'|https://github.com/wildfly/wildfly/tree/master/testsuite/integration/web/src/test/java/org/jboss/as/test/integration/web/security] so they are able to run with Elytron too.,2017/04/07 11:06 AM
WFLY-8628,"The two SwitchIdentityTestCase classes both attempt a DIGEST-MD5 authentication.  For some reason the authentication is rejected.  A debug session shows the user name, password, host name, and protocol all seem to match between client and server.",2017/04/21 9:08 AM
WFLY-8427,"I am going to ignore this test, until the ironjacamar upgrade which fixes the following (from [~msimka@redhat.com]'s mail)

{quote}
I might be completely wrong, but it seems to me like race condition between PoolFiller and CapacityFiller in IronJacamar. 

I think what happens is: 
 - Both add connections to pool in different threads
 - PoolFiller creates connection, then checks pools size and because pool has already certain size, it doesn't add connection and instead it destroys connection which increases destroyedCount

see https://github.com/ironjacamar/ironjacamar/blob/1.4/core/src/main/java/org/jboss/jca/core/connectionmanager/pool/mcp/SemaphoreConcurrentLinkedDequeManagedConnectionPool.java#L1163

@Stefano, @Flavia could you please take a look? 

I'm attaching logs with enabled TRACE on org.jboss.jca and jdbc.spy. 

This might have been hidden until https://issues.jboss.org/browse/JBJCA-1330 was fixed in DR11.
{quote}",2017/03/23 8:42 AM
WFLY-8653,"Clean up method in {{EjbElytronDomainSetup}} server setup class currently calls management operations on server that require a reload, but the method implicitly states not to reload the server, leaving the server in improperly cleaned up state after test case run, causing multiple tests that use incorrectly cleaned up services to fail with error: 
{code:java|title=EjbElytronDomainSetup.java}@Override
    public void tearDown(final ManagementClient managementClient, final String containerId) {
        System.out.println(""tearing down..."");

        List<ModelNode> updates = new LinkedList<>();
        updates.add(createRemoveIgnoring(undertowDomainAddress));
        updates.add(createRemoveIgnoring(httpAuthenticationAddress));
        updates.add(Util.getWriteAttributeOperation(ejbRemoteAddress, ""connector-ref"", ""http-remoting-connector""));
        updates.add(createRemoveIgnoring(ejbDomainAddress));
        updates.add(createRemoveIgnoring(remotingConnectorAddress));
        updates.add(createRemoveIgnoring(saslAuthenticationAddress));
        updates.add(createRemoveIgnoring(domainAddress));
        updates.add(createRemoveIgnoring(realmAddress));

        try {
            applyUpdates(managementClient.getControllerClient(), updates, true);
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    private static ModelNode createRemoveIgnoring(PathAddress address) {
        ModelNode remove = Util.createRemoveOperation(address);
        // Don't rollback when the AS detects the war needs the module
        remove.get(OPERATION_HEADERS, ROLLBACK_ON_RUNTIME_FAILURE).set(false);
        remove.get(OPERATION_HEADERS, ALLOW_RESOURCE_SERVICE_RESTART).set(false);
        return remove;
    }

    protected static void applyUpdates(final ModelControllerClient client, final List<ModelNode> updates, boolean allowFailure) {
        for (ModelNode update : updates) {
            try {
                applyUpdate(client, update, allowFailure);
            } catch (Exception e) {
                throw new RuntimeException(e);
            }
        }
    }{code}
{code:title=mvn clean test -Dtest=org.jboss.as.test.integration.ejb.security.**.* -Delytron -Dwildfly.tmp.enable.elytron.profile.tests}Running org.jboss.as.test.integration.ejb.security.EJBInWarDefaultSecurityDomainTestCase
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.274 sec - in org.jboss.as.test.integration.ejb.security.EJBInWarDefaultSecurityDomainTestCase
Running org.jboss.as.test.integration.ejb.security.EJBSecurityTestCase
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.374 sec - in org.jboss.as.test.integration.ejb.security.EJBSecurityTestCase
Running org.jboss.as.test.integration.ejb.security.InherritanceAnnSFSBTestCase
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 0.396 sec <<< FAILURE! - in org.jboss.as.test.integration.ejb.security.InherritanceAnnSFSBTestCase
testSingleMethodAnnotationsUser1(org.jboss.as.test.integration.ejb.security.InherritanceAnnSFSBTestCase)  Time elapsed: 0.166 sec  <<< ERROR!
javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up ""/inherritanceAnnOnlySFSB//InherritanceAnnOnlyCheckSFSB!org.jboss.as.test.integration.ejb.security.authorization.SimpleAuthorizationRemote?stateful"" [Root exception is java.lang.IllegalStateException: EJBCLIENT000024: Not able to find EJB matching ""StatelessEJBLocator for ""/inherritanceAnnOnlySFSB/InherritanceAnnOnlyCheckSFSB"", view is interface org.jboss.as.test.integration.ejb.security.authorization.SimpleAuthorizationRemote, affinity is None""]
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:144)
	at org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:88)
	at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:149)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.test.integration.ejb.security.AnnSBTest.getBean(AnnSBTest.java:94)
	at org.jboss.as.test.integration.ejb.security.AnnSBTest.lambda$testSingleMethodAnnotationsUser1Template$1(AnnSBTest.java:165)
	at org.wildfly.common.context.Contextual.runCallable(Contextual.java:127)
	at org.jboss.as.test.integration.ejb.security.AnnSBTest.testSingleMethodAnnotationsUser1Template(AnnSBTest.java:163)
	at org.jboss.as.test.integration.ejb.security.InherritanceAnnSFSBTestCase.testSingleMethodAnnotationsUser1(InherritanceAnnSFSBTestCase.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:108)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:78)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.IllegalStateException: EJBCLIENT000024: Not able to find EJB matching ""StatelessEJBLocator for ""/inherritanceAnnOnlySFSB/InherritanceAnnOnlyCheckSFSB"", view is interface org.jboss.as.test.integration.ejb.security.authorization.SimpleAuthorizationRemote, affinity is None""
	at org.jboss.ejb.client.EJBClientContext.discoverAffinityNone(EJBClientContext.java:719)
	at org.jboss.ejb.client.EJBClientContext.performLocatedAction(EJBClientContext.java:701)
	at org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:681)
	at org.jboss.ejb.client.EJBClient.createSession(EJBClient.java:288)
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:142)
	... 135 more
	Suppressed: org.xnio.http.UpgradeFailedException: Invalid response code 200
		at org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:471)
		at org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:400)
		at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
		at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
		at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
		at org.xnio.nio.WorkerThread.run(WorkerThread.java:567)
		at ...asynchronous invocation...(Unknown Source)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:537)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:503)
		at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:84)
		at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:57)
		at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:458)
		at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:403)
		at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:55)
		at org.jboss.remoting3.Endpoint.getConnectedIdentity(Endpoint.java:126)
		at org.jboss.remoting3.Endpoint.getConnectedIdentity(Endpoint.java:139)
		at org.jboss.remoting3.Endpoint.getConnection(Endpoint.java:216)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.lambda$discover$0(RemotingEJBDiscoveryProvider.java:103)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.discover(RemotingEJBDiscoveryProvider.java:103)
		at org.wildfly.discovery.impl.AggregateDiscoveryProvider.discover(AggregateDiscoveryProvider.java:58)
		at org.wildfly.discovery.ConfiguredProvider.discover(ConfiguredProvider.java:45)
		at org.wildfly.discovery.Discovery.discover(Discovery.java:94)
		at org.jboss.ejb.client.EJBClientContext.discover(EJBClientContext.java:442)
		at org.jboss.ejb.client.EJBClientContext.discoverAffinityNone(EJBClientContext.java:714)
		... 139 more

{code}

If no test with {{EjbElytronDomainSetup}} is ran before these failing tests, they will be successful.",2017/04/27 2:37 AM
WFLY-8593,"When binding Wildfly to an ephemeral port (i.e., by specifying port 0), Wildfly does not log the port that it actually binds to, but instead logs the port as 0.

{{09:11:18,955 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:0}}

Instead, Wildfly should log the ephemeral port that it actually bound to:

{{09:11:58,769 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:52928}}
",2017/04/18 9:17 AM
WFLY-8576,"*Description of problem:*
SocketsAndInterfacesTestCase fails on IPv6

This is regression against EAP 7.0.0 and EAP 7.1.0.DR6.

*How reproducible:*
66% on IPv6

*Steps to Reproduce:*
{noformat}
export MYTESTIPV6_1_I=`ip -6 -o ad | grep $MYTESTIPV6_1 | awk '{print $2}'`
export MYTESTIPV6_2_I=`ip -6 -o ad | grep $MYTESTIPV6_2 | awk '{print $2}'`
./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIPV6_1 -Dnode1=$MYTESTIPV6_2 -Dmcast=$MCAST_ADDRV6 -Dipv6 -DallTests -Djboss.dist=$JBOSS_DIST -DproxySet=true -DproxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -DproxyPort=3128 -Dhttp.proxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -Dhttp.proxyPort=3128 -Dhttps.proxyHost=proxy-01-ipv6.mw.lab.eng.bos.redhat.com -Dhttps.proxyPort=3128 -DnonProxyHosts=""localhost|localhost.localdomain|[0:0:0:0:0:0:0:1]|127.*|[::0]|[::1]|[$MYTESTIPV6_2]|[$MYTESTIPV6_1]"" -Dhttp.nonProxyHosts=""localhost|localhost.localdomain|127.*|[::0]|[::1]|[0:0:0:0:0:0:0:1]|[$MYTESTIPV6_2]|[$MYTESTIPV6_1]|[${MYTESTIPV6_1}%${MYTESTIPV6_1_I}]|[${MYTESTIPV6_2}%${MYTESTIPV6_2_I}]""
{noformat}

*Actual results:*
StackTrace:
{noformat}
java.lang.AssertionError: Could not connect to created connector: http://[fe80::213:72ff:fe4c:f817%eth0]:9695/<>/fe80:0:0:0:213:72ff:fe4c:f817%eth0...name:eth0 (eth0).>undefined
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.jboss.as.test.integration.management.api.SocketsAndInterfacesTestCase.testAddUpdateRemove(SocketsAndInterfacesTestCase.java:145)
{noformat}
Standard output:
{noformat}
&amp#27;[0m18:48:26,823 INFO  [org.jboss.as.repository] (management-handler-thread - 2) WFLYDR0001: Content added at location /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/standalone/data/content/ce/06c03dd366af9764d08457fc790260aab3bf3e/content
&amp#27;[0m&amp#27;[0m18:48:26,826 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name: ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[33m18:48:26,838 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment ""deployment.SocketsAndInterfacesTestCase-dummy.jar"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[0m18:48:26,841 INFO  [org.jboss.as.arquillian] (MSC service thread 1-4) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config.""SocketsAndInterfacesTestCase-dummy.jar"",unit=SocketsAndInterfacesTestCase-dummy.jar,tests=[org.jboss.as.test.integration.management.api.SocketsAndInterfacesTestCase]]
&amp#27;[0m&amp#27;[0m18:48:26,855 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0010: Deployed ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name : ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[0m18:48:26,910 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener test listening on [fe80::213:72ff:fe4c:f817]:9695
&amp#27;[0m&amp#27;[0m18:48:27,195 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m18:48:27,198 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m18:48:27,199 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTP listener test suspending
&amp#27;[0m&amp#27;[0m18:48:27,200 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTP listener test stopped, was bound to [fe80::213:72ff:fe4c:f817]:9695
&amp#27;[0m&amp#27;[33m18:48:27,204 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (ServerService Thread Pool -- 65) IJ000615: Destroying active connection in pool: ExampleDS (org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@13db944)
&amp#27;[0m&amp#27;[0m18:48:27,207 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m18:48:27,212 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment arquillian-service (runtime-name: arquillian-service) in 32ms
&amp#27;[0m&amp#27;[0m18:48:27,212 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m18:48:27,212 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment SocketsAndInterfacesTestCase-dummy.jar (runtime-name: SocketsAndInterfacesTestCase-dummy.jar) in 32ms
&amp#27;[0m&amp#27;[0m18:48:27,213 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:32]:8443
&amp#27;[0m&amp#27;[0m18:48:27,215 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m18:48:27,216 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:32]:8080
&amp#27;[0m&amp#27;[0m18:48:27,216 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m18:48:27,225 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-5) WFLYCLINF0003: Stopped jpa_SecondLevelCacheTestCase.jar#mypc.org.jboss.as.test.integration.jpa.secondlevelcache.Employee-pending-puts cache from hibernate container
&amp#27;[0m&amp#27;[0m18:48:27,232 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-5) WFLYCLINF0003: Stopped jpa_SecondLevelCacheTestCase.jar#mypc2.org.jboss.as.test.integration.jpa.secondlevelcache.Employee-pending-puts cache from hibernate container
&amp#27;[0m&amp#27;[0m18:48:27,242 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m18:48:27,247 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 67ms
&amp#27;[0m&amp#27;[0m18:48:27,248 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m18:48:27,312 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:27,331 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 20) WFLYCTL0028: Attribute 'username' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:27,331 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 20) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:27,331 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 20) WFLYCTL0028: Attribute 'protocol' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:27,345 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 27) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:27,351 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m18:48:27,378 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 33) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m18:48:27,405 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 37) WFLYIO001: Worker 'default' has auto-configured to 8 core threads with 64 task threads based on your 4 available processors
&amp#27;[0m&amp#27;[0m18:48:27,406 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m18:48:27,406 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m18:48:27,416 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m18:48:27,417 INFO  [org.jboss.as.connector] (MSC service thread 1-7) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m18:48:27,418 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m18:48:27,444 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 46) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m18:48:27,454 INFO  [org.jboss.as.naming] (MSC service thread 1-5) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m18:48:27,454 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-5) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m18:48:27,474 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 53) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m18:48:27,475 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[33m18:48:27,479 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 54) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m18:48:27,482 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m18:48:27,541 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 56) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m18:48:27,546 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 55) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m18:48:27,579 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m18:48:27,599 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m18:48:27,600 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:32]:8080
&amp#27;[0m&amp#27;[0m18:48:27,600 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m18:48:27,643 INFO  [org.jboss.as.patching] (MSC service thread 1-6) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[33m18:48:27,643 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-5) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m18:48:27,643 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of ""arquillian-service"" (runtime-name: ""arquillian-service"")
&amp#27;[0m&amp#27;[0m18:48:27,643 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name: ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[0m18:48:27,650 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-7) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m18:48:27,664 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:32]:8443
&amp#27;[0m&amp#27;[0m18:48:27,665 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[33m18:48:27,922 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-7) WFLYSRV0018: Deployment ""deployment.SocketsAndInterfacesTestCase-dummy.jar"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:27,924 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-5) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.jmx:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:27,925 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-5) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.server:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:27,925 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-5) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.jandex:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:27,925 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-5) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:27,944 WARN  [org.jboss.weld.deployer] (MSC service thread 1-5) WFLYWELD0013: Deployment arquillian-service contains CDI annotations but no bean archive was found (no beans.xml or class with bean defining annotations was present).
&amp#27;[0m&amp#27;[0m18:48:27,989 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name : ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[0m18:48:27,992 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""arquillian-service"" (runtime-name : ""arquillian-service"")
&amp#27;[0m&amp#27;[0m18:48:28,108 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 58) WFLYSRV0212: Resuming server
&amp#27;[0m&amp#27;[0m18:48:28,111 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:32]:9990/management
&amp#27;[0m&amp#27;[0m18:48:28,111 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:32]:9990
&amp#27;[0m&amp#27;[0m18:48:28,112 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 862ms - Started 449 of 702 services (445 services are lazy, passive or on-demand)
&amp#27;[0m&amp#27;[0m18:48:28,209 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m18:48:28,215 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) WFLYJCA0019: Stopped Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m18:48:28,226 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment arquillian-service (runtime-name: arquillian-service) in 47ms
&amp#27;[0m&amp#27;[0m18:48:28,229 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment SocketsAndInterfacesTestCase-dummy.jar (runtime-name: SocketsAndInterfacesTestCase-dummy.jar) in 51ms
&amp#27;[0m&amp#27;[0m18:48:28,228 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow HTTPS listener https suspending
&amp#27;[0m&amp#27;[0m18:48:28,233 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to [2620:52:0:105f::ffff:32]:8443
&amp#27;[0m&amp#27;[0m18:48:28,235 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping
&amp#27;[0m&amp#27;[0m18:48:28,237 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending
&amp#27;[0m&amp#27;[0m18:48:28,237 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to [2620:52:0:105f::ffff:32]:8080
&amp#27;[0m18:48:28,224 WARN  [org.jboss.as.protocol.connection] (Remoting ""management-client"" task-5) WFLYPRT0018: No such request (1) associated with channel Channel ID dd074194 (outbound) of Remoting connection 0131579f to /2620:52:0:105f:0:0:ffff:32:9990 of endpoint ""management-client"" <1f6b4c9>
&amp#27;[0m18:48:28,241 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0004: Undertow 1.4.8.Final-redhat-1 stopping
&amp#27;[0m&amp#27;[0m18:48:28,256 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-4) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m18:48:28,263 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0050: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) stopped in 88ms
&amp#27;[0m&amp#27;[0m18:48:28,264 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) starting
&amp#27;[0m&amp#27;[0m18:48:28,351 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:28,373 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 13) WFLYCTL0028: Attribute 'username' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:28,373 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 13) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:28,373 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 13) WFLYCTL0028: Attribute 'protocol' in the resource at address '/subsystem=remoting/remote-outbound-connection=ejb-client-descriptor-test-remote-outbound-connection' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:28,379 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 27) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
&amp#27;[0m&amp#27;[0m18:48:28,417 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
&amp#27;[0m&amp#27;[0m18:48:28,436 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 33) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
&amp#27;[0m&amp#27;[0m18:48:28,446 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 37) WFLYIO001: Worker 'default' has auto-configured to 8 core threads with 64 task threads based on your 4 available processors
&amp#27;[0m&amp#27;[0m18:48:28,447 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
&amp#27;[0m&amp#27;[0m18:48:28,447 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
&amp#27;[0m&amp#27;[0m18:48:28,455 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.
&amp#27;[0m&amp#27;[0m18:48:28,456 INFO  [org.jboss.as.connector] (MSC service thread 1-8) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.0.Final-redhat-1)
&amp#27;[0m&amp#27;[0m18:48:28,458 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) WFLYJCA0018: Started Driver service with driver-name = h2
&amp#27;[0m&amp#27;[0m18:48:28,495 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 46) WFLYNAM0001: Activating Naming Subsystem
&amp#27;[0m&amp#27;[0m18:48:28,496 INFO  [org.jboss.as.naming] (MSC service thread 1-3) WFLYNAM0003: Starting Naming Service
&amp#27;[0m&amp#27;[0m18:48:28,496 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
&amp#27;[0m&amp#27;[0m18:48:28,547 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 53) WFLYSEC0002: Activating Security Subsystem
&amp#27;[0m&amp#27;[0m18:48:28,548 INFO  [org.jboss.as.security] (MSC service thread 1-7) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3-redhat-1
&amp#27;[0m&amp#27;[33m18:48:28,550 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 54) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.
&amp#27;[0m&amp#27;[0m18:48:28,553 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 56) WFLYWS0002: Activating WebServices Extension
&amp#27;[0m&amp#27;[0m18:48:28,562 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 1.4.8.Final-redhat-1 starting
&amp#27;[0m&amp#27;[0m18:48:28,576 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 55) WFLYUT0014: Creating file handler for path '/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
&amp#27;[0m&amp#27;[0m18:48:28,589 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
&amp#27;[0m&amp#27;[0m18:48:28,618 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0012: Started server default-server.
&amp#27;[0m&amp#27;[0m18:48:28,620 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
&amp#27;[0m&amp#27;[0m18:48:28,621 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTP listener default listening on [2620:52:0:105f::ffff:32]:8080
&amp#27;[0m&amp#27;[33m18:48:28,630 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-3) WFLYDM0111: Keystore /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
&amp#27;[0m&amp#27;[0m18:48:28,630 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of ""arquillian-service"" (runtime-name: ""arquillian-service"")
&amp#27;[0m&amp#27;[0m18:48:28,631 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name: ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[0m18:48:28,637 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-3) WFLYDS0013: Started FileSystemDeploymentService for directory /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-ipv6/7dc59048/testsuite/integration/basic/target/jbossas/standalone/deployments
&amp#27;[0m&amp#27;[0m18:48:28,646 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
&amp#27;[0m&amp#27;[0m18:48:28,684 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTPS listener https listening on [2620:52:0:105f::ffff:32]:8443
&amp#27;[0m&amp#27;[0m18:48:28,684 INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBossWS 5.1.6.Final-redhat-1 (Apache CXF 3.1.8.redhat-1) 
&amp#27;[0m&amp#27;[33m18:48:28,996 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment ""deployment.SocketsAndInterfacesTestCase-dummy.jar"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:28,997 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.jmx:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:28,997 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.server:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:28,998 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.jandex:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:28,998 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m18:48:29,016 WARN  [org.jboss.weld.deployer] (MSC service thread 1-8) WFLYWELD0013: Deployment arquillian-service contains CDI annotations but no bean archive was found (no beans.xml or class with bean defining annotations was present).
&amp#27;[0m&amp#27;[0m18:48:29,048 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""SocketsAndInterfacesTestCase-dummy.jar"" (runtime-name : ""SocketsAndInterfacesTestCase-dummy.jar"")
&amp#27;[0m&amp#27;[0m18:48:29,048 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""arquillian-service"" (runtime-name : ""arquillian-service"")
&amp#27;[0m&amp#27;[0m18:48:29,179 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 58) WFLYSRV0212: Resuming server
&amp#27;[0m&amp#27;[0m18:48:29,179 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[2620:52:0:105f::ffff:32]:9990/management
&amp#27;[0m&amp#27;[0m18:48:29,179 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[2620:52:0:105f::ffff:32]:9990
&amp#27;[0m&amp#27;[0m18:48:29,179 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.0.Alpha1 (WildFly Core 3.0.0.Alpha17-redhat-1) started in 914ms - Started 449 of 701 services (444 services are lazy, passive or on-demand)
&amp#27;[0m
{noformat}

*Expected results:*
No error",2017/04/13 6:56 AM
WFLY-8657,"Because we configure our JGroups transport via a socket-binding, we already leverage the port-offset feature to mitigate port conflicts - thus removing the need to rely on the port_range property.  The use of port_range is troublesome from a management perspective, as it means that the actual port can differ from the ports reported by the management layer.",2017/04/27 9:26 AM
WFLY-8684,"In case when {{ldap-realm}} is configured with {{direct-verification=false}} and no {{identity-mapping.user-password-mapper}} is provided then deployment which using this realm fails with Exception:
{code}
ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 62) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./print-roles: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./print-roles: java.lang.RuntimeException: java.lang.IllegalStateException: WFLYUT0085: The required mechanism 'BASIC' is not available from the HttpAuthenticationFactory.
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:84)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: WFLYUT0085: The required mechanism 'BASIC' is not available from the HttpAuthenticationFactory.
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:241)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:99)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
	... 6 more
Caused by: java.lang.IllegalStateException: WFLYUT0085: The required mechanism 'BASIC' is not available from the HttpAuthenticationFactory.
	at org.wildfly.extension.undertow.ApplicationSecurityDomainDefinition$ApplicationSecurityDomainService.lambda$initialSecurityHandler$6(ApplicationSecurityDomainDefinition.java:492)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at org.wildfly.extension.undertow.ApplicationSecurityDomainDefinition$ApplicationSecurityDomainService.initialSecurityHandler(ApplicationSecurityDomainDefinition.java:489)
	at org.wildfly.extension.undertow.ApplicationSecurityDomainDefinition$ApplicationSecurityDomainService.lambda$applyElytronSecurity$2(ApplicationSecurityDomainDefinition.java:425)
	at io.undertow.servlet.core.DeploymentManagerImpl.setupSecurityHandlers(DeploymentManagerImpl.java:415)
	at io.undertow.servlet.core.DeploymentManagerImpl.access$600(DeploymentManagerImpl.java:119)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:211)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1704)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1704)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1704)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1704)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:239)
	... 8 more
{code}

Throwing exception is correct since deployment has no possibility how to verify a password through given ldap-realm. However message given to user is confusing, it says ""The required mechanism 'BASIC' is not available from the HttpAuthenticationFactory."". Information that ldap-realm is insufficiently configured for given deployment should be propagated to the user.",2017/03/28 6:30 AM
WFLY-8638,"*""elytron-enabled"" => ""myWM""*

{noformat}
[standalone@localhost:9990 /] /subsystem=jca/workmanager=myWM:add(name=myWM, elytron-enabled=true
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=jca/workmanager=myWM:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""elytron-enabled"" => ""myWM"",
        ""name"" => ""myWM"",
        ""long-running-threads"" => undefined,
        ""short-running-threads"" => undefined
    }
}
[standalone@localhost:9990 /] /subsystem=jca/workmanager=myWM:read-attribute(name=elytron-enabled) 
{
    ""outcome"" => ""success"",
    ""result"" => ""myWM""
}
{noformat}",2017/04/25 10:32 AM
WFLY-8487,The CredentialReference class in core was not handling capability references correctly with the 'store' field in CR attributes. WFCORE-2433 corrects that; this JIRA is to update WF full's use of the class to take advantage of the fix.,2017/03/31 6:04 PM
WFLY-8508,"As the original issue JBEAP-9106 is fixed now, the {{FormAuthUnitTestCase}} should be unignored.",2017/04/04 10:39 AM
WFLY-8622,"In all other subsystems, the attributes for enabling statistics are named {{statistics-enabled}}, except EJB3, where it is {{enable-statistics}}. 
Actually, in the transactions subsystem, there are both, where {{enable-statistics}} is kept as a deprecated attribute for backward compatibility. I think that the EJB3 subsystem should use the same approach.",2017/04/21 6:22 AM
WFLY-8614,"There is a performance regression in clustering stress tests testing performance of the cluster under increasing load (number of concurrent clients). All tests use a 4-node EAP cluster and 5 nodes that generate load.
During heavyread tests majority of requests don't write to the session, only read. This should simulate real client behaviour.

Scenarios affected:
stress-heavyread-session-dist-sync
stress-heavyread-session-repl-sync

There is a difference in throughput graph between 7.1.0.DR15 and 7.1.0.DR16 in both scenarios. This issue is probably causing performance drop after the number of clients reached 4000 (in case of dist-sync scenario). There is also a significant number of sampling errors at that time (comparing to no sampling errors in 7.1.0.DR15).

See the performance report for heavyread-session-dist-sync scenario:
http://download.eng.brq.redhat.com/scratch/dcihak/2017-04-19_14-28-37/stress.html

and for heavyread-session-repl-sync scenario:
http://download.eng.brq.redhat.com/scratch/dcihak/2017-04-19_14-40-09/stress.html

There are results of another run of the heavyread-session-dist-sync scenario:
http://download.eng.brq.redhat.com/scratch/dcihak/2017-04-19_16-10-26/stress.html

When number of sessions reached 4400 clients start logging following WARN message:
{code}
2017/04/06 18:14:07:058 EDT [WARN ][Runner - 15] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 503 Content: <!DOCTYPE HTML PUBLIC ""-//IETF//DTD HTML 2.0//EN"">
<html><head>
<title>503 Service Temporarily Unavailable</title>
</head><body>
<h1>Service Temporarily Unavailable</h1>
<p>The server is temporarily unable to service your
request due to maintenance downtime or capacity
problems. Please try again later.</p>
<hr>
<address>Apache/2.2.26 (@VENDOR@) Server at dev224 Port 8080</address>
</body></html>
>
{code}

Link to client log:
http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/eap-7x-stress-heavyread-session-dist-sync/41/console-dev224/

At the same time server starts logging:
{code}
33m18:13:18,784 WARN  [org.jgroups.protocols.pbcast.GMS] (thread-13) dev213: not member of view [dev212|4]; discarding it
[JBossINF] [0m[31m18:13:18,886 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-75) ISPN000136: Error executing command PrepareCommand, writing keys [SessionAccessMetaDataKey(fS0csQoHO532jD_tHe4XmfRoPQkCI0gg6xv0tvp-), SessionCreationMetaDataKey(fS0csQoHO532jD_tHe4XmfRoPQkCI0gg6xv0tvp-)]: org.infinispan.remoting.RemoteException: ISPN000217: Received exception from dev212, see cause for remote stack trace
[JBossINF] 	at org.infinispan.remoting.transport.AbstractTransport.checkResponse(AbstractTransport.java:44)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:821)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$1(JGroupsTransport.java:648)
[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.futureDone(RspListFuture.java:40)
[JBossINF] 	at org.jgroups.blocks.Request.checkCompletion(Request.java:152)
[JBossINF] 	at org.jgroups.blocks.GroupRequest.receiveResponse(GroupRequest.java:115)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.dispatch(RequestCorrelator.java:427)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:357)
[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:245)
[JBossINF] 	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:664)
[JBossINF] 	at org.jgroups.JChannel.up(JChannel.java:738)
[JBossINF] 	at org.jgroups.fork.ForkProtocolStack.up(ForkProtocolStack.java:120)
[JBossINF] 	at org.jgroups.stack.Protocol.up(Protocol.java:380)
[JBossINF] 	at org.jgroups.protocols.FORK.up(FORK.java:114)
[JBossINF] 	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:390)
[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:390)
[JBossINF] 	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1037)
[JBossINF] 	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)
[JBossINF] 	at org.jgroups.protocols.UNICAST3.deliverMessage(UNICAST3.java:1077)
[JBossINF] 	at org.jgroups.protocols.UNICAST3.handleDataReceived(UNICAST3.java:792)
[JBossINF] 	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:433)
[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:649)
[JBossINF] 	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)
[JBossINF] 	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:200)
[JBossINF] 	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:325)
[JBossINF] 	at org.jgroups.protocols.MERGE3.up(MERGE3.java:292)
[JBossINF] 	at org.jgroups.protocols.Discovery.up(Discovery.java:296)
[JBossINF] 	at org.jgroups.protocols.TP.passMessageUp(TP.java:1657)
[JBossINF] 	at org.jgroups.protocols.TP$SingleMessageHandler.run(TP.java:1872)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at org.jboss.as.clustering.jgroups.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:52)
[JBossINF] 	at java.lang.Thread.run(Thread.java:745)
[JBossINF] Caused by: org.infinispan.commons.CacheException: ISPN000332: Remote transaction GlobalTransaction:<dev213>:7915312:remote rolled back because originator is no longer in the cluster
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.verifyRemoteTransaction(TxInterceptor.java:518)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:161)
[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:145)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:39)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:229)
[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:87)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:110)
[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:79)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:176)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.perform(PrepareCommand.java:100)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:92)
[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
[JBossINF] 	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
[JBossINF] 	... 1 more
{code}

Link to server log:
http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/eap-7x-stress-heavyread-session-dist-sync/41/console-dev213/",2017/04/20 10:18 AM
WFLY-8594,"Custom cache store allow a cache store to be loaded from a class.  This is only really useful when the cache store implementation resides in the module specified by the cache.  However, custom cache stores are currently only loaded from the infinispan subsystem module rather than the module specified by the cache.",2017/04/18 11:00 AM
WFLY-8597,"If vault does not like keystore, it fails with this message, but no exception is logged and it does not provide any indication of the issue.

{code} 
WFLYSEC0059: Exception encountered:WFLYSEC0045: Exception encountered:
{code}

{code}
keytool -genkey -alias jbosseap -keyalg RSA -keysize 1024 -keystore jbosseap.keystore -validity 3650 -keypass jbosseap -storepass jbosseap
...
{code}

{code}
./bin/vault.sh
Please enter a Digit::   0: Start Interactive Session   1: Remove Interactive Session  2: Exit
0
Starting an interactive session
Enter directory to store encrypted files: .
Enter Keystore URL: jbosseap.keystore
Enter Keystore password: 
Enter Keystore password again: 
Values match
Enter 8 character salt: 12345678
Enter iteration count as a number (e.g.: 44): 44
Enter Keystore Alias: jbosseap
WFLYSEC0056: Initializing Vault
WFLYSEC0059: Exception encountered:WFLYSEC0045: Exception encountered:
Please enter a Digit::   0: Start Interactive Session   1: Remove Interactive Session  2: Exit
{code}",2017/04/19 7:34 AM
WFLY-8495,"WF TS should pass with non-""en_US.UTF-8"" locale settings. These tests needs to be fixed:
* org.jboss.as.test.integration.ee.injection.resource.jndi.bad.BadResourceTestCase#testBadDU
* org.jboss.as.test.integration.jca.workmanager.WorkManagerThreadsCheckTestCase#testOneLongRunningThreadPool
* org.jboss.as.test.integration.jca.workmanager.WorkManagerThreadsCheckTestCase#testOneShortRunningThreadPool
* org.jboss.as.test.integration.jpa.epcpropagation.slsbxpc.FailBecauseOfXPCNotInSFSBTestCase#testSerialization
* org.jboss.as.test.integration.jpa.epcpropagation.unsync.TestForMixedSynchronizationTypes#testShouldGetEjbExceptionBecauseEPCIsAddedToTxAfterPc
* org.jboss.as.test.integration.ws.authentication.EJBEndpointNoClassLevelSecurityAnnotationAuthenticationTestCase#accessHelloWithAuthenticatedUser",2017/04/03 6:16 AM
WFLY-8655,"TCPPING and TCPGOSSIP are notoriously awkward to configure and manage.  This can be addressed by using capability references to outbound-socket-bindings.
e.g.
<sockets-protocol type=""TCPPING"" outbound-socket-bindings=""binding1 binding2""/>

Additionally, TCPPING port_range can be auto-configured from the port_range specified by the transport.",2017/04/27 9:25 AM
WFLY-8439,"New error message in proxy balancer log
{noformat}
2017-03-21 15:22:24,957 INFO  [io.undertow] (default task-23) UT005047: Unregistering context wildfly-services, from node jboss-eap-7.1-1
2017-03-21 15:22:24,962 ERROR [io.undertow] (default task-23) UT005043: Error in processing MCMP commands: Type:MEM, Mess: MEM: Can't update or insert context
2017-03-21 15:22:28,694 INFO  [io.undertow] (default task-29) UT005047: Unregistering context wildfly-services, from node jboss-eap-7.1-2
2017-03-21 15:22:28,696 ERROR [io.undertow] (default task-29) UT005043: Error in processing MCMP commands: Type:MEM, Mess: MEM: Can't update or insert context
{noformat}
",2017/03/23 7:32 PM
WFLY-8585,Removal of a fork channel leaves a residual fork stack registered with the fork protocol of the parent channel.  Fork channel removal should remove any resources associated with any custom fork stack on the parent channel.,2017/04/17 8:40 AM
WFLY-8567,"The {{SecurityTestCase#testFailedAuthenticationBlankUserPass()}} test fails when executed with Elytron profile ({{-Delytron}}).

{code}
cd testsuite/integration/basic
mvn clean test -Dtest=SecurityTestCase -Delytron -Dwildfly.tmp.enable.elytron.profile.tests=true
...
Failed tests: 
  SecurityTestCase.testFailedAuthenticationBlankUserPass:84 must not allow to create a session without any authentication

Tests run: 6, Failures: 1, Errors: 0, Skipped: 0
{code}",2017/04/12 9:09 AM
WFLY-8500,"*Description of problem:*
JMXPropertyEditorsTestCase fails on some Windows machines, because some Windows machines doesn't have defined USERNAME env property.

*How reproducible:*
70%

*Steps to Reproduce:*
{noformat}
cd testsuite
cmd /c ""mvn.cmd -version""
cmd /c ""mvn.cmd install -B -Dmaven.repo.local=%MAVEN_REPO_LOCAL% -fae -Dmaven.test.failure.ignore=true -s %SETTINGS_XML% -llr -Dnode0=%MYTESTIP_1% -Dnode1=%MYTESTIP_2% -Dmcast=%MCAST_ADDR% -Dts.basic -Djboss.dist=%JBOSS_DIST%"" -Dtest=JMXPropertyEditorsTestCase
{noformat}

*Actual results:*
StackTrace:
{noformat}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy: Properties-property-editors-beans.sar
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:141)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:121)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:83)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:236)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.deploy(ClientDeployer.java:93)
	at org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase.testProperties(JMXPropertyEditorsTestCase.java:1206)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:108)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:78)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.Exception: {
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment \""Properties-property-editors-beans.sar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSAR0006: Failed to parse service xml [\""/W:/workspace/eap-7x-as-testsuite-test-integ-windows-sactc/8d745675/testsuite/integration/basic/target/workdir/content/Properties-property-editors-beans.sar/META-INF/jboss-service.xml\""]
    Caused by: java.lang.IllegalStateException: Failed to resolve expression: env.USERNAME""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE""]
}
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:135)
	... 171 more
{noformat}
Standard output:
{noformat}
02:01:27,822 WARN  [org.jboss.remotingjmx.Util] (main) The protocol 'http-remoting-jmx' is deprecated, instead you should use 'remote+http'.
02:01:27,822 WARN  [org.jboss.remotingjmx.Util] (main) The protocol 'http-remoting-jmx' is deprecated, instead you should use 'remote+http'.
02:01:27,942 INFO  [org.jboss.as.repository] (management-handler-thread - 4) WFLYDR0001: Content added at location W:\workspace\eap-7x-as-testsuite-test-integ-windows-sactc\8d745675\testsuite\integration\basic\target\jbossas\standalone\data\content\a8\7a7403bd32ecf0437fefcfceb1b03b0fa13423\content
02:01:27,944 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of ""Properties-property-editors-beans.sar"" (runtime-name: ""Properties-property-editors-beans.sar"")
02:01:28,505 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.""Properties-property-editors-beans.sar"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""Properties-property-editors-beans.sar"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment ""Properties-property-editors-beans.sar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:172)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSAR0006: Failed to parse service xml [""/W:/workspace/eap-7x-as-testsuite-test-integ-windows-sactc/8d745675/testsuite/integration/basic/target/workdir/content/Properties-property-editors-beans.sar/META-INF/jboss-service.xml""]
	at org.jboss.as.service.ServiceDeploymentParsingProcessor.deploy(ServiceDeploymentParsingProcessor.java:103)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:165)
	... 5 more
Caused by: java.lang.IllegalStateException: Failed to resolve expression: env.USERNAME
	at org.jboss.metadata.property.DefaultExpressionReplacer.parseAndResolve(DefaultExpressionReplacer.java:232)
	at org.jboss.metadata.property.DefaultExpressionReplacer.resolveExpressionStringRecursively(DefaultExpressionReplacer.java:92)
	at org.jboss.metadata.property.DefaultExpressionReplacer.replaceProperties(DefaultExpressionReplacer.java:76)
	at org.jboss.as.service.descriptor.JBossServiceXmlDescriptorParser.parseAttribute(JBossServiceXmlDescriptorParser.java:368)
	at org.jboss.as.service.descriptor.JBossServiceXmlDescriptorParser.parseMBean(JBossServiceXmlDescriptorParser.java:268)
	at org.jboss.as.service.descriptor.JBossServiceXmlDescriptorParser.readElement(JBossServiceXmlDescriptorParser.java:192)
	at org.jboss.as.service.descriptor.JBossServiceXmlDescriptorParser.readElement(JBossServiceXmlDescriptorParser.java:48)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:122)
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:76)
	at org.jboss.as.service.ServiceDeploymentParsingProcessor.deploy(ServiceDeploymentParsingProcessor.java:96)
	... 6 more

02:01:28,509 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""Properties-property-editors-beans.sar"")]) - failure description: {
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment \""Properties-property-editors-beans.sar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSAR0006: Failed to parse service xml [\""/W:/workspace/eap-7x-as-testsuite-test-integ-windows-sactc/8d745675/testsuite/integration/basic/target/workdir/content/Properties-property-editors-beans.sar/META-INF/jboss-service.xml\""]
    Caused by: java.lang.IllegalStateException: Failed to resolve expression: env.USERNAME""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE""]
}
02:01:28,512 ERROR [org.jboss.as.server] (management-handler-thread - 4) WFLYSRV0021: Deploy of deployment ""Properties-property-editors-beans.sar"" was rolled back with the following failure message: 
{
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment \""Properties-property-editors-beans.sar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSAR0006: Failed to parse service xml [\""/W:/workspace/eap-7x-as-testsuite-test-integ-windows-sactc/8d745675/testsuite/integration/basic/target/workdir/content/Properties-property-editors-beans.sar/META-INF/jboss-service.xml\""]
    Caused by: java.lang.IllegalStateException: Failed to resolve expression: env.USERNAME""},
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""Properties-property-editors-beans.sar\"".PARSE""]
}
02:01:28,514 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment Properties-property-editors-beans.sar (runtime-name: Properties-property-editors-beans.sar) in 1ms
02:01:28,520 INFO  [org.jboss.as.controller] (management-handler-thread - 4) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.""Properties-property-editors-beans.sar"".PARSE

02:01:28,557 WARN  [org.jboss.as.arquillian.container.ArchiveDeployer] (main) Cannot undeploy: Properties-property-editors-beans.sar: org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper$ServerDeploymentException: java.lang.Exception: ""WFLYCTL0216: Management resource '[(\""deployment\"" => \""Properties-property-editors-beans.sar\"")]' not found""
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.undeploy(ServerDeploymentHelper.java:114)
	at org.jboss.as.arquillian.container.ArchiveDeployer.undeploy(ArchiveDeployer.java:111)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.undeploy(CommonDeployableContainer.java:242)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$4.call(ContainerDeployController.java:205)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$4.call(ContainerDeployController.java:185)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.undeploy(ContainerDeployController.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.deployment.ClientDeployer.undeploy(ClientDeployer.java:132)
	at org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase.testProperties(JMXPropertyEditorsTestCase.java:1240)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:108)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:78)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:54)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.Exception: ""WFLYCTL0216: Management resource '[(\""deployment\"" => \""Properties-property-editors-beans.sar\"")]' not found""
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.undeploy(ServerDeploymentHelper.java:107)
	... 163 more
{noformat}

*Expected results:*
No error

*Additional info:*
See [Jenkins reproducer job run|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/view/EAP7/view/EAP7-AS-Testsuite/view/EAP7-AS-Testsuite-Reproducers/job/eap-7x-as-testsuite-test-integ-windows-sactc/6/]

",2017/04/03 10:31 AM
WFLY-8333,"Right now, no INFO message with JGroups version is logged during EAP startup, which makes difficult to recognize what JGroups version is currently used. ",2017/03/10 6:46 AM
WFLY-8374,"[rhusar@syrah wildfly-11.0.0.Alpha1-SNAPSHOT]$ diff standalone/configuration/standalone-full-ha.xml standalone/configuration/standalone_xml_history/standalone-full-ha.initial.xml
snip elytron reported as https://issues.jboss.org/browse/JBEAP-9592
557c553
<             <object-store path=""tx-object-store"" relative-to=""jboss.server.data.dir""/>
---
>             <object-store relative-to=""jboss.server.data.dir"" path=""tx-object-store""/>
596d591
<
611d605
<",2017/03/15 8:09 AM
WFLY-8368,"org.jboss.as.test.integration.deployment.dependencies.ear.InterDeploymentDependenciesEarTestCase is expects to catch ISE in case that one of dependent deployments is not available
{code:java}
        deployer.undeploy(DEP_APP1);
        try {
            helloApp2.getLog();
            fail(""Calling EJB from dependent application should fail"");
        } catch (IllegalStateException e) {
            //OK
        }
{code}
ISE stack trace
{noformat}
java.lang.IllegalStateException: EJBCLIENT000024: Not able to find EJB matching ""StatelessEJBLocator for ""app2/hello/LogAccessBean"", view is interface org.jboss.as.test.integration.deployment.dependencies.ear.LogAccess, affinity is None""
	at org.jboss.ejb.client.EJBClientContext.discoverAffinityNone(EJBClientContext.java:708)
	at org.jboss.ejb.client.EJBClientContext.performLocatedAction(EJBClientContext.java:690)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:150)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:100)
	at com.sun.proxy.$Proxy22.getLog(Unknown Source)
	at org.jboss.as.test.integration.deployment.dependencies.ear.InterDeploymentDependenciesEarTestCase.test(InterDeploymentDependenciesEarTestCase.java:142)
{noformat}

But in [our CI jobs|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/eap-7x-as-testsuite-test-vmg-nfs-noip-localws/lastCompletedBuild/jdk=java1.8,label_exp=vmg110||vmg111||vmg112||vmg113||vmg114||vmg115||vmg116/testReport/org.jboss.as.test.integration.deployment.dependencies.ear/InterDeploymentDependenciesEarTestCase/test/], test intermittently fails with NoSuchEJBException
{noformat}
javax.ejb.NoSuchEJBException: No such EJB: app2/hello/LogAccessBean
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:354)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:75)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:357)
	at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:609)
	at org.jboss.ejb.client.EJBInvocationHandler.lambda$invoke$0(EJBInvocationHandler.java:164)
	at org.jboss.ejb.client.EJBClientContext.discoverAffinityNone(EJBClientContext.java:429)
	at org.jboss.ejb.client.EJBClientContext.performLocatedAction(EJBClientContext.java:388)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:150)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:100)
	at com.sun.proxy.$Proxy65.getLog(Unknown Source)
	at org.jboss.as.test.integration.deployment.dependencies.ear.InterDeploymentDependenciesEarTestCase.test(InterDeploymentDependenciesEarTestCase.java:142)
{noformat}",2017/03/15 4:09 AM
WFLY-8582,"Can the error message be improved to recognise that not only is there no operation registered at the address, but there is no subsystem registered with that name.

Example: If ASYM_ENCRYPT is configured, without the elytron subsystem being present, there is a runtime error which doesn't make it obvious how to address the problem.
Customers porting EAP 7.0.x domain config to EAP 7.1.0 with fix for CVE-2016-2141 will see this

Runtime Error:
[Host Controller] 16:21:35,148 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
[Host Controller] (""profile"" => ""full-ha""),
[Host Controller] (""subsystem"" => ""jgroups""),
[Host Controller] (""stack"" => ""tcpping""),
[Host Controller] (""protocol"" => ""ASYM_ENCRYPT"")
[Host Controller] ]) - failure description: ""WFLYCLJG0026: No add operation registered at /profile=full-ha/subsystem=elytron/key-store=jgroups-tcpping""
[Host Controller] 16:21:35,164 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) WFLYHC0034: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.
[Host Controller] 16:21:35,170 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) WFLYHC0178: Aborting with exit code 99",2017/04/13 6:27 PM
WFLY-8654,"Cli operation description
{noformat}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-operation-description(name=stop
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""operation-name"" => ""stop"",
        ""description"" => ""Tell reverse proxies that all contexts on the node can't process requests."",
        ""request-properties"" => {""waittime"" => {
            ""type"" => INT,
            ""description"" => ""Timeout to wait for all contexts to stop."",
            ""expressions-allowed"" => false,
            ""required"" => false,
            ""nillable"" => true,
            ""default"" => 10,
            ""unit"" => ""SECONDS""
        }},
        ""reply-properties"" => {},
        ""read-only"" => false,
        ""runtime-only"" => true
    }
}
{noformat}

Documentation

{noformat}
 Stopping a context with waittime set to 0, meaning no timeout, instructs the balancer to stop routing any request to it immediately, which forces failover to another available context.

If you set a timeout value using the waittime argument, no new sessions are created on this context, but existing sessions will continue to be directed to this node until they complete or the specified timeout has elapsed. The waittime argument defaults to 10 seconds. 
{noformat}


There is difference, documentation basically says that till timeout is hit, node is disabled, cli description isn't that specific. Could you elaborate this?
",2017/04/27 6:47 AM
WFLY-8583,"Related to JBEAP-9006. When I was adding the {{SYM_ENCRYPT}} protocol in a wrong way, the following exception was thrown:

{noformat}
08:08:40,847 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""stack"" => ""udp2""),
    (""protocol"" => ""SYM_ENCRYPT"")
]): java.lang.IllegalArgumentException: newValue is null
	at org.jboss.dmr.ModelNode.set(ModelNode.java:664)
	at org.jboss.as.clustering.jgroups.subsystem.EncryptProtocolResourceDefinition$1.execute(EncryptProtocolResourceDefinition.java:146)
	at org.jboss.as.clustering.controller.AddStepHandler.populateModel(AddStepHandler.java:122)
	at org.jboss.as.controller.AbstractAddStepHandler.execute(AbstractAddStepHandler.java:145)
	at org.jboss.as.clustering.controller.AddStepHandler.execute(AddStepHandler.java:111)
	at org.jboss.as.clustering.controller.RestartParentResourceAddStepHandler.execute(RestartParentResourceAddStepHandler.java:45)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:979)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:722)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:441)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1397)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:421)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}

The exception does not say what attributes or properties should have been defined (e.g. {{key-store}}, when configuring via Elytron, property {{keystore_name}} when legacy).",2017/04/14 10:47 AM
WFLY-8392,"The description of undertow subsystem is: {{A deployment}}

Steps to reproduce:
# Deploy an application, e.g. the logging quickstart
# Click Deployments -> deployment name -> View -> expand subsystem -> undertow

Other subsystems have better description, for example logging subsystem:
Information about the logging configuration for this deployment. Note that this may not be accurate if the deployment is using some other means of configuring a log manager such as logback. The resolved configuration is what loggers not covered by the deployments specific log manager would use.",2017/03/16 2:18 PM
WFLY-11418,"There is regression in backward compatibility of messaging client. JMSReplyTo destination set by new client contains incorrect address which causes that reply message does not have correct binding and such message is lost. 

Impact: Applications will stop work after upgrading client to WF14/EAP 7.2.0.CD14/EAP 7.2.0.GA.

Test Scenario:
* Start EAP 7.1.x/7.2.0.CD13 server (Artemis 1.5.x) with deployed InQueue and OutQueue
* Send message to InQueue by new EAP 7.2.0.GA.CR1 client to InQueue. Message has JMSReplyTo header set to OutQueue. Client got ""OutQueue"" queue from JNDI lookup from EAP 7.1.x/7.2.0.CD13
* Deploy MDB to server
** MDB consumes message from InQueue and sends new message to destination defined in JMSReplyTo header (so to OutQueue)
* Receive message from OutQueue

Result:
No message is received from OutQueue. There is ERROR message in server log:
{code}
15:52:46,005 ERROR [org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply] (Thread-0 (ActiveMQ-client-global-threads)) Invalid address queue://jms.queue.OutQueue: javax.jms.JMSRuntimeException: Invalid address queue://jms.queue.OutQueue
	at org.apache.activemq.artemis.jms.client.ActiveMQDestination.fromAddress(ActiveMQDestination.java:119)
	at org.apache.activemq.artemis.jms.client.ActiveMQMessage.getJMSReplyTo(ActiveMQMessage.java:356)
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply.onMessage(LocalMdbFromQueueJMSReply.java:103) [mdb-reply:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_181]
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:255) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:334) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:239) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609) [wildfly-elytron-1.1.10.Final-redhat-1.jar:1.1.10.Final-redhat-1]
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply$$$view1.onMessage(Unknown Source) [mdb-reply:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_181]
	at org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply$$$endpoint1.onMessage(Unknown Source) [mdb-reply:]
	at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:303)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1001)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:49)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1124)
	at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:122)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_181]
{code}",2018/11/26 9:05 AM
WFLY-10986,"Start of a WildFly with resource adapter configured to remote messaging broker sometimes fails with following error.
{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.resourceadapters.ra.""wmq.jmsra"".CF: org.jboss.msc.service.StartException in service jboss.resourceadapters.ra.""wmq.jmsra"".CF: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.ConcurrentModificationException
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)
	at java.util.ArrayList$Itr.next(ArrayList.java:859)
	at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1042)
	at org.jboss.as.connector.metadata.api.resourceadapter.ActivationSecurityUtil.isLegacySecurityRequired(ActivationSecurityUtil.java:41)
	at org.jboss.as.connector.subsystems.resourceadapters.ConnectionDefinitionService.start(ConnectionDefinitionService.java:68)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more
{code}

This issue was introduced in fix for WFLY-9978 in [this commit |https://github.com/ehsavoie/wildfly/commit/8d35c77130c8ba8c47008e1de1225971fa5d8c2e]",2018/09/06 8:18 AM
WFLY-10814,"*Scenario*
* There are two Wildfly servers configured in cluster
* Both servers have deployment with clustered singleton MDB
* Start both servers
* Check that MDB is active only on one server
* Shutdown server with active MDB
* Check that MDB get activated on the second server.

Sometimes happens that MDB doesn't get activated on the second server. The test waits 60 seconds for it. Always when this issue happens, I can see following exception in the log of the second server which is logged after the first server is shutdown.

The issue was hit with WildFly master built on 9th August (6675410).
*Blocker* priority was set  because it is regression against WF 13.

{code}
09:12:45,274 WARN  [org.wildfly.clustering.server] (DistributedSingletonService - 1) WFLYCLSV0012: Failed to notify server/default service provider registration listener of new providers: [node-2]: java.util.con
current.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@151e803d rejected from java.util.concurrent.ThreadPoolExecutor@46fff41f[Terminated, pool size = 
0, active threads = 0, queued tasks = 0, completed tasks = 2]
        at java.util.concurrent.CompletableFuture.reportJoin(CompletableFuture.java:375) [rt.jar:1.8.0_171]
        at java.util.concurrent.CompletableFuture.join(CompletableFuture.java:1934) [rt.jar:1.8.0_171]
        at org.jgroups.blocks.UnicastRequest.lambda$join$0(UnicastRequest.java:110) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.blocks.UnicastRequest.around(UnicastRequest.java:137) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.blocks.UnicastRequest.join(UnicastRequest.java:110) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.wildfly.clustering.server.singleton.AbstractDistributedSingletonService.providersChanged(AbstractDistributedSingletonService.java:121) [wildfly-clustering-server-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.B
eta2-SNAPSHOT]
        at org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.lambda$modified$5(CacheServiceProviderRegistry.java:285) [wildfly-clustering-server-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0_171]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_171]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_171]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_171]
        at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
        at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_171]
        at org.jboss.threads.JBossThread.run(JBossThread.java:485) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@151e803d rejected from java.util.concurrent.ThreadPoolExecutor@46fff41f[Terminated, pool size = 0, active threads 
= 0, queued tasks = 0, completed tasks = 2]
        at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) [rt.jar:1.8.0_171]
        at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) [rt.jar:1.8.0_171]
        at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379) [rt.jar:1.8.0_171]
        at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112) [rt.jar:1.8.0_171]
        at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.handle(ChannelCommandDispatcherFactory.java:143) [wildfly-clustering-server-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
        at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:383) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.blocks.RequestCorrelator.dispatch(RequestCorrelator.java:356) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:307) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:582) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.JChannel.up(JChannel.java:816) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:893) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FORK.up(FORK.java:130) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FRAG3.up(FRAG3.java:171) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FlowControl.up(FlowControl.java:351) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FlowControl.up(FlowControl.java:359) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.pbcast.GMS.up(GMS.java:873) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:240) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:375) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:600) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:130) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:203) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:253) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.MERGE3.up(MERGE3.java:280) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.Discovery.up(Discovery.java:269) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.protocols.TP.passMessageUp(TP.java:1248) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at org.jgroups.util.SubmitToThreadPool$SingleMessageHandler.run(SubmitToThreadPool.java:87) [jgroups-4.0.13.Final.jar:4.0.13.Final]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_171]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_171]
        at org.jboss.as.clustering.jgroups.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:52)
        at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_171]
{code}",2018/08/09 5:59 AM
WFLY-10463,"Remote EJB client with {{InitialContext}} setting up weak affinity will not hold up the affinity, resulting in a behaviour that's different to previous releases of WildFly. In previous versions of WildFly, {{java.naming.provider.url}} property of {{InitialContext}} was enough to enforce weak affinity to a node in remote EJB client.

This is a regression compared to WildFly 12. The client version does not change the behaviour, which leads me to believe the issue is server-side.

Update: The issue affects only stateful bean invocations.

{code}
while (true) {
            try {
                final Properties props = new Properties();
                props.put(Context.INITIAL_CONTEXT_FACTORY, WildFlyInitialContextFactory.class.getName());
                props.put(Context.PROVIDER_URL, ""remote+http://127.0.0.1:8080"");
                final InitialContext ejbCtx = new InitialContext(props);
                final HelloBeanRemote bean = (HelloBeanRemote) ejbCtx
                        .lookup(""ejb:/server/HelloBean!"" + HelloBeanRemote.class.getName() + ""?stateful"");
                for (int i = 0; i < 10; i++) {
                    System.out.println(bean.hello());
                }
            } catch(Exception e) {
                System.out.println(""Call failed!!!!"");
                e.printStackTrace();
            }
        final Properties props = new Properties();
        props.put(Context.INITIAL_CONTEXT_FACTORY, WildFlyInitialContextFactory.class.getName());
        props.put(Context.PROVIDER_URL, ""remote+http://127.0.0.1:8080"");
{code}
{code}11:56:02,452 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 0
11:56:02,460 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 1
11:56:02,465 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 2
11:56:02,472 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 3
11:56:02,477 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 4
11:56:02,488 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 5
11:56:02,496 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 6
11:56:02,502 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 7
11:56:02,507 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 8
11:56:02,515 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node1""): 
node1, 9
11:56:03,535 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 0
11:56:03,544 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 1
11:56:03,555 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 2
11:56:03,561 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 3
11:56:03,568 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 4
11:56:03,586 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 5
11:56:03,595 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 6
11:56:03,602 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 7
11:56:03,616 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 8
11:56:03,628 DEBUG [org.jboss.ejb.client.EJBInvocationHandler:164] Calling invoke(module = /server/HelloBean, strong affinity = Cluster ""ejb"", weak affinity = Node ""node2""): 
node2, 9
{code}",2018/05/28 6:02 AM
WFLY-10039,"Deploying jboss-kitchensink quickstart on server using migrated configuration from EAP 6.4 fails with 
{noformat}
12:21:17,131 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.ejb.client-mappings: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.ejb.client-mappings: Failed to start service
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1706)
        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1540)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000424: Eviction size value cannot be less than or equal to zero if eviction is enabled
        at org.infinispan.configuration.cache.MemoryConfigurationBuilder.validate(MemoryConfigurationBuilder.java:185)
        at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:233)
        at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:290)
        at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:280)
        at org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.start(ConfigurationBuilder.java:88)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1714)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1693)
        ... 6 more
{noformat}
*Introduced by:*
https://issues.jboss.org/browse/WFLY-9344 - Let Infinispan manage eviction for distributed web sessions and @Stateful EJBs
https://github.com/wildfly/wildfly/pull/10986

*Steps to reproduce:*
{noformat}
# https://access.qa.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/migration_guide/#management_cli_migration_operation
WORKSPACE=`pwd`
CONFIG=standalone-full-ha.xml

unzip -q jboss-eap-6.4.19-full-build.zip
EAP6_HOME=${WORKSPACE}/jboss-eap-6.4
# workaround https://issues.jboss.org/browse/WFLY-9877
pushd ${EAP6_HOME}/standalone/configuration/
grep -lr 'NAKACK' . | xargs sed -i 's/NAKACK/NAKACK2/g'
grep -lr 'UNICAST2' . | xargs sed -i 's/UNICAST2/UNICAST3/g'
grep -lr 'MERGE2' . | xargs sed -i 's/MERGE2/MERGE3/g'
popd

cp -r ${WILDFLY}/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT .
EAP7_HOME=${WORKSPACE}/wildfly-13.0.0.Alpha1-SNAPSHOT

cp ${EAP6_HOME}/standalone/configuration/${CONFIG} ${EAP7_HOME}/standalone/configuration
${EAP7_HOME}/bin/standalone.sh -c ${CONFIG} --start-mode=admin-only &
${EAP7_HOME}/bin/jboss-cli.sh --connect --controller=remote://localhost:9999
/subsystem=jacorb:migrate
/subsystem=messaging:migrate
/subsystem=web:migrate
/subsystem=cmp:remove
/extension=org.jboss.as.cmp:remove
/subsystem=jaxr:remove
/extension=org.jboss.as.jaxr:remove
/subsystem=threads:remove
/extension=org.jboss.as.threads:remove
/subsystem=logging/pattern-formatter=COLOR-PATTERN:add(pattern=""%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n"")
/subsystem=logging/console-handler=CONSOLE:add(level=INFO, named-formatter=COLOR-PATTERN)
/subsystem=logging/root-logger=ROOT:add-handler(name=CONSOLE)
reload
deploy jboss-kitchensink.war
{noformat}

*server side log*
{noformat}
12:21:17,131 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.ejb.client-mappings: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.ejb.client-mappings: Failed to start service
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1706)
        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1540)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000424: Eviction size value cannot be less than or equal to zero if eviction is enabled
        at org.infinispan.configuration.cache.MemoryConfigurationBuilder.validate(MemoryConfigurationBuilder.java:185)
        at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:233)
        at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:290)
        at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:280)
        at org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.start(ConfigurationBuilder.java:88)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1714)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1693)
        ... 6 more

12:21:17,137 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ({""deployment"" => ""jboss-kitchensink.war""}) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [
        ""jboss.ejb.association"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START"",
        ""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START"",
        ""jboss.deployment.discovery.\""jboss-kitchensink.war\"""",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START""
    ],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".WeldEndInitService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service is missing [jboss.deployment.discovery.\""jboss-kitchensink.war\""]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.discovery.\""jboss-kitchensink.war\"" is missing [jboss.ejb.association]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".deploymentCompleteService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.undertow.deployment.default-server.default-host./jboss-kitchensink, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".moduleDeploymentRuntimeInformationStart is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START]""
    ]
}
12:21:17,141 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""jboss-kitchensink.war"" was rolled back with the following failure message:
{
    ""WFLYCTL0412: Required services that are not installed:"" => [
        ""jboss.ejb.association"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START"",
        ""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START"",
        ""jboss.deployment.discovery.\""jboss-kitchensink.war\"""",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START""
    ],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".WeldEndInitService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service is missing [jboss.deployment.discovery.\""jboss-kitchensink.war\""]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.discovery.\""jboss-kitchensink.war\"" is missing [jboss.ejb.association]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".deploymentCompleteService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.undertow.deployment.default-server.default-host./jboss-kitchensink, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",
        ""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",
        ""jboss.deployment.unit.\""jboss-kitchensink.war\"".moduleDeploymentRuntimeInformationStart is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START]""
    ]
}
{noformat}

*client side log*
{noformat}
{""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-2"" => {""WFLYCTL0412: Required services that are not installed:"" => [""jboss.ejb.association"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START"",""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START"",""jboss.deployment.discovery.\""jboss-kitchensink.war\"""",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START""],""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".WeldEndInitService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service is missing [jboss.deployment.discovery.\""jboss-kitchensink.war\""]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.discovery.\""jboss-kitchensink.war\"" is missing [jboss.ejb.association]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".deploymentCompleteService is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.undertow.deployment.default-server.default-host./jboss-kitchensink, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".ejb3.client-context.registration-service]"",""jboss.undertow.deployment.default-server.default-host./jboss-kitchensink is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.faces.webapp.FacetTag\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START, jboss.deployment.unit.\""jboss-kitchensink.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".START]"",""jboss.deployment.unit.\""jboss-kitchensink.war\"".moduleDeploymentRuntimeInformationStart is missing [jboss.deployment.unit.\""jboss-kitchensink.war\"".component.MemberRegistration.START]""]}}}
{noformat}",2018/03/16 8:41 AM
WFLY-9746,"There is regression If Artemis is configured to JGroups tcp stack to form cluster then server does not start and fail with:
{code}
13:24:02,424 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 5.1.9.Final (Apache CXF 3.1.12) 
13:24:02,428 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""messaging-activemq""),
    (""server"" => ""default"")
]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [
        ""jboss.messaging-activemq.default"",
        ""org.wildfly.clustering.command-dispatcher-factory.tcp""
    ],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.messaging-activemq.default.jms.manager is missing [jboss.messaging-activemq.default]"",
        ""jboss.messaging-activemq.default is missing [org.wildfly.clustering.command-dispatcher-factory.tcp]""
    ]
}
13:24:02,438 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.messaging-activemq.default (unavailable) dependents: [service jboss.messaging-activemq.default.jms.manager] 
      service org.wildfly.clustering.command-dispatcher-factory.tcp (missing) dependents: [service jboss.messaging-activemq.default] 

13:24:02,485 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
13:24:02,487 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:11990/management
13:24:02,487 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:11990

{code}

Configuration of jgroups and messaging-activemq subsystem:
{code}
        <subsystem xmlns=""urn:jboss:domain:jgroups:5.0"">
            <channels default=""ee"">
                <channel name=""ee"" stack=""udp"" cluster=""ejb""/>
            </channels>
     ...
                <stack name=""tcp"">
                    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
                    <protocol type=""org.jgroups.protocols.TCPPING"">
                        <property name=""port_range"">
                            10
                        </property>
                        <property name=""num_initial_members"">
                            1
                        </property>
                        <property name=""initial_hosts"">
                            127.0.0.1[9600]
                        </property>
                        <property name=""timeout"">
                            3000
                        </property>
                    </protocol>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK""/>
                    <protocol type=""FD""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""UFC""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG2""/>
                    <protocol type=""RSVP""/>
                </stack>
            </stacks>
        </subsystem>
....
        <subsystem xmlns=""urn:jboss:domain:messaging-activemq:2.0"">
            <server name=""default"" persistence-enabled=""true"" id-cache-size=""200000"">
                <broadcast-group name=""bg-group1"" jgroups-stack=""tcp"" jgroups-channel=""activemq-cluster"" broadcast-period=""2000"" connectors=""connector""/>
                <discovery-group name=""dg-group1"" jgroups-stack=""tcp"" jgroups-channel=""activemq-cluster"" refresh-timeout=""10000""/>
                <cluster-connection name=""my-cluster"" address=""jms"" connector-name=""connector"" check-period=""30000"" connection-ttl=""60000"" call-timeout=""30000"" discovery-group=""dg-group1""/>
...
            </server>
        </subsystem>
{code}

Attaching the whole config: standalone-full-ha.xml",2018/01/31 6:30 AM
WFLY-9877,"This is only an issue for EAP, which has different versions than WFLY, for that reason, all the versions mentioned here are EAP ones.

After some discussion with people who test migrations, we found that these protocols that were deprecated in JGroups 3.6.x present in 7.1.0 and were removed in JGroups 4.0.10 present in 7.2.0 should be brought back in some form:
{noformat}
NAKACK --> NAKACK2
UNICAST2 --> UNICAST3
MERGE2 --> MERGE3
{noformat}

These are not in the default 7.0 or 7.1 configuration, so why do we need to translate these like we do it for NAKACK2? Because these protocols can be expected to be present in the 7.1 configuration due to migration from 6.x, where they are by default. Since, after migration from 6.x, these will work with the 7.1 configuration, and since there is a reason to expect them being used even if they are deprecated, we should not just silently remove these protocols with the JGroups upgrade that is in 7.2 - the configuration file from 7.1 should always work with 7.2.

Cc [~msvehla@redhat.com] [~pkremens]",2018/02/21 8:11 AM
WFLY-10795,"When running scenario, where connection between worker and balancer is secured with SSL, worker fails to register on balancer.

Worker obviously tries to send INFO commands, though it sends it as a 'plain text' to a secured channel.
I enabled SSL debugging, and such unsecured-secured communication causes this error:

{code}
09:42:20,456 INFO  [stdout] (default I/O-4) Using SSLEngineImpl.
09:42:20,458 INFO  [stdout] (default I/O-4) Allow unsafe renegotiation: false
09:42:20,458 INFO  [stdout] (default I/O-4) Allow legacy hello messages: true
09:42:20,458 INFO  [stdout] (default I/O-4) Is initial handshake: true
09:42:20,459 INFO  [stdout] (default I/O-4) Is secure renegotiation: false
09:42:20,459 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLSv1
09:42:20,460 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLSv1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLSv1.1
09:42:20,461 INFO  [stdout] (default I/O-4) Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLSv1.1
09:42:20,479 INFO  [stdout] (default I/O-4) default I/O-4, fatal error: 80: problem unwrapping net record
09:42:20,480 INFO  [stdout] (default I/O-4) javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, SEND TLSv1.2 ALERT:  fatal, description = internal_error
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, WRITE: TLSv1.2 Alert, length = 2
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, called closeInbound()
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLException: Inbound closed before receiving peer's close_notify: possible truncation attack?
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, called closeOutbound()
09:42:20,480 INFO  [stdout] (default I/O-4) default I/O-4, closeOutboundInternal()
{code}

What bothers me, that there are no other errors (bad certificate, CLI error...) in log regarding this. Apart from:

{code}
09:45:42,653 WARN  [org.infinispan.topology.ClusterTopologyManagerImpl] (transport-thread--p14-t16) ISPN000197: Error updating cluster member list: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 6 from wildfly-14.0.0.Beta2-SNAPSHOT-2
        at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:167)
        at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:87)
        at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:22)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
        Suppressed: org.infinispan.util.logging.TraceException
                at org.infinispan.remoting.transport.Transport.invokeRemotely(Transport.java:75)
                at org.infinispan.topology.ClusterTopologyManagerImpl.confirmMembersAvailable(ClusterTopologyManagerImpl.java:525)
                at org.infinispan.topology.ClusterTopologyManagerImpl.updateCacheMembers(ClusterTopologyManagerImpl.java:508)
                at org.infinispan.topology.ClusterTopologyManagerImpl.handleClusterView(ClusterTopologyManagerImpl.java:321)
                at org.infinispan.topology.ClusterTopologyManagerImpl.access$500(ClusterTopologyManagerImpl.java:87)
                at org.infinispan.topology.ClusterTopologyManagerImpl$ClusterViewListener.lambda$handleViewChange$0(ClusterTopologyManagerImpl.java:731)
                at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:175)
                at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:37)
                at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:227)
                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
                at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
                ... 1 more
{code}

Configuration using non-Elytron configuration was possible before, hence this is a regression.",2018/08/06 4:51 AM
WFLY-10688,"In the messaging subsystem there is an attribute {{jdbc-network-timeout}} with default value 20 seconds. However this parameter is passed to ActiveMQ Artemis as 20 000 000 milliseconds (20 000 seconds).

For reproducing the issue just configure JDBC persistence store and attach debugger with breakpoint on {{AbstractJDBCDriver::connect}}.

*Blocker* priority was set because it is regression against Wildfly 12.",2018/07/10 9:34 AM
WFLY-10937,"Starting WFLY scripts with JDK 11 blows up with ModuleNotFoundException java.se

*Affected scripts*
* appclient
* jdr
* wsconsume
* wsprovide

*Example of logs*
{noformat}
[mkopecky@dhcp-10-40-4-197 bin]$ ./jdr.sh 
org.jboss.modules.ModuleNotFoundException: java.se
	at org.jboss.modules.Module.addPaths(Module.java:1266)
	at org.jboss.modules.Module.link(Module.java:1622)
	at org.jboss.modules.Module.relinkIfNecessary(Module.java:1650)
	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:296)
	at org.jboss.modules.Main.main(Main.java:437)
[mkopecky@dhcp-10-40-4-197 bin]$ 
{noformat}
",2018/08/28 1:51 AM
WFLY-10834,"Everything works in version with old subsytem with this settings (load is properly reported to balancer):

{code:xml}
<subsystem
	xmlns=""urn:jboss:domain:modcluster:3.0"">
	<mod-cluster-config advertise-socket=""modcluster"" auto-enable-contexts=""true"" connector=""ajp"">
		<dynamic-load-provider>
			<load-metric type=""cpu""/>
		</dynamic-load-provider>
	</mod-cluster-config>
</subsystem>
{code}

Same configuration for latest snapshot doesn't work (load remains at 1):
{code:xml}
<subsystem
	xmlns=""urn:jboss:domain:modcluster:4.0"">
	<proxy name=""default"" advertise-socket=""modcluster"" auto-enable-contexts=""true"" connector=""ajp"">
		<dynamic-load-provider>
			<load-metric type=""cpu"" weight=""1""/>
		</dynamic-load-provider>
	</proxy>
</subsystem>
{code}",2018/08/14 1:35 AM
WFLY-10836,"Uncovered by [~jkasik].

Credential stores are opened with wrong password. Regression caused by WFLY-9613 [1].

{code}
09:43:29,686 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 60) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""modcluster"")]): java.lang.IllegalStateException: java.io.IOException: Keystore was tampered with, or password was incorrect
	at org.jboss.modcluster.mcmp.impl.JSSESocketFactory.<init>(JSSESocketFactory.java:113)
	at org.wildfly.extension.mod_cluster.ProxyConfigurationServiceConfigurator.configure(ProxyConfigurationServiceConfigurator.java:315)
	at org.wildfly.extension.mod_cluster.ModClusterSubsystemServiceHandler.installServices(ModClusterSubsystemServiceHandler.java:79)
	at org.jboss.as.clustering.controller.AddStepHandler.performRuntime(AddStepHandler.java:179)
	at org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:338)
	at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:159)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.io.IOException: Keystore was tampered with, or password was incorrect
	at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:780)
	at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)
	at sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)
	at sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)
	at java.security.KeyStore.load(KeyStore.java:1445)
	at org.jboss.modcluster.mcmp.impl.JSSESocketFactory.getStore(JSSESocketFactory.java:230)
	at org.jboss.modcluster.mcmp.impl.JSSESocketFactory.getKeystore(JSSESocketFactory.java:179)
	at org.jboss.modcluster.mcmp.impl.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:251)
	at org.jboss.modcluster.mcmp.impl.JSSESocketFactory.<init>(JSSESocketFactory.java:98)
	... 15 more
Caused by: java.security.UnrecoverableKeyException: Password verification failed
	at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:778)
	... 23 more
{code}

[1] https://github.com/wildfly/wildfly/pull/10708/files#diff-fabeb2ec71da4fcaf9944716768c9efdR251",2018/08/14 4:33 AM
WFLY-10883,We need to add agroal to the host excludes.,2018/08/17 1:30 PM
WFLY-11092,"Compilation failure on JDK 11 introduced by https://github.com/wildfly/wildfly/pull/11702
{noformat}
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project wildfly-xts: Compilation failure
[ERROR] /home/pkremens/devel/wildfly/xts/target/generated-sources/annotations/org/jboss/as/xts/logging/XtsAsLogger_$logger.java:[11,22] '.' expected
{noformat}",2018/10/01 2:33 AM
WFLY-10562,"*Scenario:*
* There are two Wildfly servers configured as messaging live-backup pair
* Live server is killed

*Expectation:* Backup server will become active.

*Reality:* Backup server doesn't become active because of failure in initialisation \[1\].

*Users impact:* Messaging HA does not work.

*Blocker priority* was chosen because this is regression against Wildfly 13 and breaks all messaging HA scenarios.

I found out that the regression is caused by WFLY-10538.

The issue can be reproduced in Wildfly version: 5e5ac8378d7780a2b4c614670e0dd88ca30470d5

\[1\]
{code}
19:59:17,028 ERROR [org.apache.activemq.artemis.core.server] (AMQ119000: Activation for server ActiveMQServerImpl::serverUUID=fde2ba47-6e7a-11e8-b92f-fa163e6eb24b) AMQ224000: Failure in initialisation: java.lang.IllegalStateException: Lifecycle context is no longer valid
        at org.jboss.msc.service.ServiceControllerImpl$StartContextImpl.getChildTarget(ServiceControllerImpl.java:2016) [jboss-msc-1.4.2.Final.jar:1.4.2.Final]
        at org.wildfly.extension.messaging.activemq.jms.JMSService$3.activated(JMSService.java:163) [wildfly-messaging-activemq-14.0.0.Beta1-SNAPSHOT.jar:14.0.0.Beta1-SNAPSHOT]
        at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.callActivateCallbacks(ActiveMQServerImpl.java:1897) [artemis-server-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
        at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart2(ActiveMQServerImpl.java:2112) [artemis-server-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
        at org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation.run(SharedStoreBackupActivation.java:90) [artemis-server-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
        at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$ActivationThread.run(ActiveMQServerImpl.java:2514) [artemis-server-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
{code}",2018/06/13 6:22 AM
WFLY-10783,"Trying to deploy kitchensink quickstart on the server with configuration migrated from EAP 6.4.x fails with {{java.lang.IllegalStateException: java.lang.Exception: failed to open a port in range 55200-55200}}.

*Reproduce*
{noformat}
WORKSPACE=`pwd`
CONFIG=standalone-ha.xml

unzip -q jboss-eap-6.4.20.zip
cp -r ${WILDFLY}/dist/target/wildfly-14.0.0.Beta2-SNAPSHOT wildfly

SOURCE_HOME=${WORKSPACE}/jboss-eap-6.4
TARGET_HOME=${WORKSPACE}/wildfly

cp ${SOURCE_HOME}/standalone/configuration/${CONFIG} ${TARGET_HOME}/standalone/configuration
${TARGET_HOME}/bin/standalone.sh -c ${CONFIG} --start-mode=admin-only &
${TARGET_HOME}/bin/jboss-cli.sh --connect --controller=remote://localhost:9999

# Migrate
/subsystem=web:migrate
/subsystem=threads:remove
/extension=org.jboss.as.threads:remove
reload

deploy jboss-kitchensink.war
{noformat}
   
*Outcome*
{noformat}
14:44:13,799 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 56) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee-ejb: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee-ejb: java.lang.IllegalStateException: java.lang.Exception: failed to open a port in range 55200-55200
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_171]
	at org.jboss.threads.JBossThread.run(JBossThread.java:485) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
Caused by: java.lang.IllegalStateException: java.lang.Exception: failed to open a port in range 55200-55200
	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:116)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:58)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	... 7 more
Caused by: java.lang.Exception: failed to open a port in range 55200-55200
	at org.jgroups.protocols.UDP.createMulticastSocketWithBindPort(UDP.java:519)
	at org.jgroups.protocols.UDP.createSockets(UDP.java:357)
	at org.jgroups.protocols.UDP.start(UDP.java:300)
	at org.jgroups.stack.ProtocolStack.startStack(ProtocolStack.java:861)
	at org.jgroups.JChannel.startStack(JChannel.java:1023)
	at org.jgroups.JChannel._preConnect(JChannel.java:886)
	at org.jgroups.JChannel.connect(JChannel.java:390)
	at org.jgroups.JChannel.connect(JChannel.java:384)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:112)
	... 9 more
{noformat}

This works fine with EAP 7.1.3 as a TARGET_SERVER, thus marking as a blocker due to a regression.",2018/08/02 8:50 AM
WFLY-9221,"The version of {{Apache Avro}} was updated and is now no longer compatible with {{Hibernate Search}}, which is as far as I know the only user for it.",2017/08/11 5:34 PM
WFLY-9246,"This issue was hit during pre-testing of fixes for EAP 7.1.0.ER3. After the discussion with [~kkhan1@redhat.com] and [~bstansberry] it was decided to create new Jira for the issue.

*Test scenario:*
* There are 4 EAP servers.
* Servers 1, 3 are in cluster. They hold messages and they will be referenced in this text as JMS servers.
* Servers 2, 4 are not in cluster. They have RA configured to connect to servers 1 and 3 using discovery-group, which uses JGroups. They have MDBs which resend messages from InQueue to OutQueue. Servers 2, 4 will be referenced in this text as MDB servers.

*Expectation:* MDBs on MDB servers are able to discover and conenct to JMS servers.
*Reality:* During activation of resource adapter on MDB servers, NPE is thrown.

*Customer impact:* Resource adapter cannot be configured to dynamically discover JMS servers.

This is *regression* against *7.0.z*.

This issue wasn't hit before, because with EAP 7.1.0.ER3 the server did not start with this configuration. See JBEAP-12526 for details.

*Detail description of issue*
The following NPE arises when MDBs on MDB servers tries to connect to JMS servers via pooled-connection-factory configured to use JGroups for discovery.

{code}
org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@e77d2b4c destination=jms/queue/InQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): ActiveMQInternalErrorException[errorType=INTERNAL_ERROR message=AMQ119004: Failed to initialise session factory]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.initialise(ServerLocatorImpl.java:308) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:741) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:311) [artemis-ra-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.reconnect(ActiveMQActivation.java:658) [artemis-ra-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:698) [artemis-ra-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.jboss.jca.core.workmanager.WorkWrapper.runWork(WorkWrapper.java:445)
	at org.jboss.as.connector.services.workmanager.WildflyWorkWrapper.runWork(WildflyWorkWrapper.java:68)
	at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)
	at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)
	at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)
	at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)
	at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_131]
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.NullPointerException
	at org.apache.activemq.artemis.api.core.jgroups.JChannelWrapper.<init>(JChannelWrapper.java:50) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.api.core.jgroups.JChannelManager.getJChannel(JChannelManager.java:74) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint.initChannel(JGroupsBroadcastEndpoint.java:108) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.api.core.ChannelBroadcastEndpointFactory.createBroadcastEndpoint(ChannelBroadcastEndpointFactory.java:72) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.core.cluster.DiscoveryGroup.<init>(DiscoveryGroup.java:95) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createDiscoveryGroup(ServerLocatorImpl.java:315) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.initialise(ServerLocatorImpl.java:300) [artemis-core-client-1.5.5.006-redhat-1.jar:1.5.5.006-redhat-1]
	... 13 more
{code}",2017/08/21 3:28 AM
WFLY-10890,"CLI client in jconsole doesn't work with JDK11.

JConsole uses CLI. CLI uses WildFlySecurityManager (Elytron 1.5.4.Final). WildFlySecurityManager uses sun.misc.Unsafe. Unsafe works just with adding of {{--add-modules=jdk.unsupported}} to JConsole:
{code:diff}
--- a/jconsole.sh
+++ b/jconsole.sh
@@ -79,4 +79,4 @@ CLASSPATH=$CLASSPATH:./bin/client/jboss-cli-client.jar
 echo CLASSPATH $CLASSPATH
 
 cd ""$JBOSS_HOME""
-$JAVA_HOME/bin/jconsole -J-Djava.class.path=""$CLASSPATH"" ""$@""
+$JAVA_HOME/bin/jconsole -J--add-modules=jdk.unsupported -J-Djava.class.path=""$CLASSPATH"" ""$@""
\ No newline at end of file
{code}
But ""jdk.unsupported"" module is not a correct fix.

*Logs:*
{noformat}
Exception in thread ""AWT-EventQueue-0"" java.lang.NoClassDefFoundError: sun/misc/Unsafe
	at org.wildfly.security.manager.WildFlySecurityManager.<clinit>(WildFlySecurityManager.java:122)
	at org.jboss.as.cli.CommandContextFactory.getInstance(CommandContextFactory.java:41)
	at org.jboss.as.cli.gui.ConnectDialog$2.actionPerformed(ConnectDialog.java:182)
	at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)
	at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)
	at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)
	at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)
	at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)
	at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)
	at java.desktop/java.awt.Component.processMouseEvent(Component.java:6631)
	at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)
	at java.desktop/java.awt.Component.processEvent(Component.java:6396)
	at java.desktop/java.awt.Container.processEvent(Container.java:2263)
	at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)
	at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)
	at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)
	at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)
	at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)
	at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)
	at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)
	at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)
	at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)
	at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)
	at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)
	at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
	at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)
	at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)
Caused by: java.lang.ClassNotFoundException: sun.misc.Unsafe
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 39 more
{noformat}

*cc:* [~kkhan1@redhat.com], [~jperkins-rhn], [~darranl], [~mchoma@redhat.com], [~msvehla@redhat.com], [~okotek], [~rsvoboda@redhat.com]",2018/08/21 7:10 AM
WFLY-10782,"Trying to boot the server with configuration migrated from EAP 6.4.x fails with {{IllegalArgumentException: Cannot require dependency more than once:service jboss.binding.messaging-throughput}}.
     

*Reproduce*
{noformat}
WORKSPACE=`pwd`
CONFIG=standalone-full.xml

unzip -q jboss-eap-6.4.20.zip
cp -r ${WILDFLY}/dist/target/wildfly-14.0.0.Beta2-SNAPSHOT wildfly

SOURCE_HOME=${WORKSPACE}/jboss-eap-6.4
TARGET_HOME=${WORKSPACE}/wildfly

cp ${SOURCE_HOME}/standalone/configuration/${CONFIG} ${TARGET_HOME}/standalone/configuration
${TARGET_HOME}/bin/standalone.sh -c ${CONFIG} --start-mode=admin-only &
${TARGET_HOME}/bin/jboss-cli.sh --connect --controller=remote://localhost:9999

# Migrate
/subsystem=jacorb:migrate
/subsystem=messaging:migrate
/subsystem=web:migrate
/subsystem=cmp:remove
/extension=org.jboss.as.cmp:remove
/subsystem=jaxr:remove
/extension=org.jboss.as.jaxr:remove
/subsystem=threads:remove
/extension=org.jboss.as.threads:remove
reload
{noformat}
     

*Outcome*
{noformat}
12:39:40,016 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 47) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""messaging-activemq""),
    (""server"" => ""default"")
]): java.lang.IllegalArgumentException: Cannot require dependency more than once:service jboss.binding.messaging-throughput
{noformat}
     

*Attachments:*
[^standalone-full-6.4.20.xml] - out-of-box 6.4.20 config file
[^standalone-full-wildfly.xml] - out-of-box Wildfly 32910b3 (Thu Aug  2 10:49:25 CEST 2018) config file
[^standalone-full-6.4.20-to-wildfly.xml] - configuration produced by migration
   
This was working with 01852ab revision (Mon Jul 16 07:41:15 CEST 2018), unfortunately my automation for migration tool testing (which helps me to hit the issue) was broken due to galleon2 move, so without more investigation involved I'm unable to tell precise date when the issue appeared.

The issue is regression thus marking as a blocker.",2018/08/02 6:55 AM
WFLY-9208,"I've set this as a blocker because I think it should at least be looked at. Any test in the WildFly testsuite run under Arquillian that uses an injected {{ManagementClient}} will have this issue.

I made an attempt to look at what the issue may be, but I wasn't quite sure what the correct fix is. It seemed like in some cases the {{PrivilegedSaslClient}} was being used, but in others the {{LocalUserClient}} was not wrapped resulting in a security exception.

Here's an example stack trace from a test ran with the security manager enabled:
{code}
Running org.jboss.as.test.integration.batch.deployment.JobControlTestCase
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 58.979 sec <<< FAILURE! - in org.jboss.as.test.integration.batch.deployment.JobControlTestCase
testStart(org.jboss.as.test.integration.batch.deployment.JobControlTestCase)  Time elapsed: 58.848 sec  <<< ERROR!
java.io.IOException: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://127.0.0.1:9990. The connection failed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.batch.deployment.JobControlTestCase.executeOperation(JobControlTestCase.java:278)
	at org.jboss.as.test.integration.batch.deployment.JobControlTestCase.testStart(JobControlTestCase.java:94)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://127.0.0.1:9990. The connection failed
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:126)
	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:259)
	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)
	at org.jboss.as.protocol.mgmt.ManagementClientChannelStrategy$Establishing.getChannel(ManagementClientChannelStrategy.java:162)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:146)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:60)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 148 more
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/jperkins/projects/jboss/wildfly/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local2457028630597193860.challenge"" ""read"")"" in code source ""(vfs:/content/test-batch.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.test-batch.war"" from Service Module Loader"")
   DIGEST-MD5: javax.security.sasl.SaslException: DIGEST-MD5: Server rejected authentication
	at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:400)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:504)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:492)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:194)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:118)
	... 158 more
	Suppressed: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/jperkins/projects/jboss/wildfly/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local2457028630597193860.challenge"" ""read"")"" in code source ""(vfs:/content/test-batch.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.test-batch.war"" from Service Module Loader"")
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
		at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
		at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
		at java.io.FileInputStream.<init>(FileInputStream.java:127)
		at org.wildfly.security.sasl.localuser.LocalUserClient.evaluateMessage(LocalUserClient.java:93)
		at org.wildfly.security.sasl.util.AbstractSaslParticipant.evaluateMessage(AbstractSaslParticipant.java:180)
		at org.wildfly.security.sasl.util.AbstractSaslClient.evaluateChallenge(AbstractSaslClient.java:59)
		at org.wildfly.security.sasl.util.AbstractDelegatingSaslClient.evaluateChallenge(AbstractDelegatingSaslClient.java:54)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.lambda$evaluateChallenge$0(PrivilegedSaslClient.java:55)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.evaluateChallenge(PrivilegedSaslClient.java:55)
		at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.lambda$handleEvent$0(ClientConnectionOpenListener.java:644)
		at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:898)
		... 3 more
	Suppressed: javax.security.sasl.SaslException: DIGEST-MD5: Server rejected authentication
		at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.handleEvent(ClientConnectionOpenListener.java:730)
		at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.handleEvent(ClientConnectionOpenListener.java:572)
		at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
		at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
		at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
		at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
{code}

The easy fix was something like https://github.com/wildfly-security/wildfly-elytron/commit/1a6505e97b88f3dcbeeba6bbcf1e1484cf0a9499. However I really don't think this is correct.",2017/08/03 12:22 PM
WFLY-9670,"There is a missing orphan filter in Narayana that should be added to the WFLY default configuration.

Without it there is a data integrity issue as competing remote servers may rollback each others branches.",2018/01/15 4:57 AM
WFLY-8919,"*Updated descritption:*

Remove case-sensitive attribute from security realm configurations.

As the original filesystem-realm issue JBEAP-8810, which led to introducing the case-sensitive attribute, is fixed, there is no need to have this attribute anymore. It just brings new problems into configuration of the realms.

*Original descritption:*
{{case-sensitive}} attribute with default value to false introduced in DR16 is making problem using kerberos authentication.

{code}
WFLYELY00918: Invalid user name 'jduke@JBOSS.ORG' because the realm fileSystemRealm only supports lower case alias names
{code}

It is common to have uppercase realm name in kerberos authentication. User can workaround issue, but it is really unexpected to not work out of box.
* case-sensitive = true
* use principal-transformer 'jduke@JBOSS.ORG' -> 'jduke'

{code}
    ""case-sensitive"" => {
        ""type"" => BOOLEAN,
        ""description"" => ""Case sensitivity of the properties realm. If case insensitive only lower usernames are allowed."",
        ""expressions-allowed"" => false,
        ""required"" => false,
        ""nillable"" => true,
        ""default"" => false,
        ""access-type"" => ""read-write"",
        ""storage"" => ""configuration"",
        ""restart-required"" => ""resource-services""
    }
{code}

",2017/06/12 3:24 AM
WFLY-9039,"In *RunAsPrincipalTestCase#testSingletonPostconstructSecurityNotPropagating*, when Elytron enabled, identity (including Admin role) is propagated into *StatelessBBean*:

{code}
StatelessSingletonUseBean
SimpleSingletonBean
| check Admin in [Admin] (has required role)
StatelessBBean
{code}

In non-Elytron case the check is unsuccessful as test require, because identity is not propagated:

{code}
StatelessSingletonUseBean
SimpleSingletonBean
| authorize
EXCEPTION
 methodRoles = Admin
 securityContext.subjectInfo = anonymouse
{code}

*This is lack of WFLY-981 fix when Elytron used: Identity is propagated from @PostConstruct method.*
",2017/07/02 4:02 AM
WFLY-9646,"*Description:*
Wsconsume is able to generate jar file from wsdl on WildFly 11. On WildFly master, wsconsume doesn't create any files in ""out"" folder. It leads to Exception from wsdl2java tool.

*Steps to reproduce:*
# cd $\{JBOSS_HOME\}/bin
# # download Echo1.wsdl, Echo1Service.wsdl and Echo1Service_schema1.xsd files, these files are attached to this jira
# mkdir out
# ./wsconsume.sh -j wsClientShort.jar -p org.jboss.test.script -o out Echo1Service.wsdl


*Actual results:*
{noformat}
[mkopecky@dhcp-10-40-4-226 bin]$ ./wsconsume.sh -j wsClientShort.jar -p org.jboss.test.script -o out Echo1Service.wsdl
Could not find log4j.properties or log4j.xml configuration, logging to console.

Loading FrontEnd jaxws ...
Loading DataBinding jaxb ...
wsdl2java -clientjar wsClientShort.jar -compile -exsh false -p org.jboss.test.script -d /home/mkopecky/playground/wf/wfly.08/wfly.08/bin/out/tmp3507583 -verbose -classdir /home/mkopecky/playground/wf/wfly.08/wfly.08/bin/out -allowElementReferences file:/home/mkopecky/playground/wf/wfly.08/wfly.08/bin/Echo1Service.wsdl
wsdl2java - Apache CXF 3.1.12

JBWS024002: Failed to invoke org.apache.cxf.tools.wsdlto.WSDLToJava
org.apache.cxf.tools.common.ToolException: java.security.AccessControlException: access denied (""java.io.FilePermission"" ""/home/mkopecky/playground/wf/wfly.08/wfly.08/bin/out/tmp3507583/org/jboss/test/script/package-info.java"" ""read"")
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:423)
	at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)
	at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:113)
	at org.jboss.wsf.stack.cxf.tools.CXFConsumerImpl.consume(CXFConsumerImpl.java:313)
	at org.jboss.ws.tools.cmd.WSConsume.importServices(WSConsume.java:298)
	at org.jboss.ws.tools.cmd.WSConsume.mainInternal(WSConsume.java:108)
	at org.jboss.ws.tools.cmd.WSConsume.main(WSConsume.java:96)
	at org.jboss.modules.Module.run(Module.java:344)
	at org.jboss.modules.Main.main(Main.java:525)
Caused by: java.security.AccessControlException: access denied (""java.io.FilePermission"" ""/home/mkopecky/playground/wf/wfly.08/wfly.08/bin/out/tmp3507583/org/jboss/test/script/package-info.java"" ""read"")
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)
	at java.security.AccessController.checkPermission(AccessController.java:884)
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at java.io.File.isDirectory(File.java:844)
	at com.sun.tools.javac.file.RegularFileObject.<init>(RegularFileObject.java:69)
	at com.sun.tools.javac.file.RegularFileObject.<init>(RegularFileObject.java:64)
	at com.sun.tools.javac.file.JavacFileManager.getJavaFileObjectsFromFiles(JavacFileManager.java:785)
	at com.sun.tools.javac.file.JavacFileManager.getJavaFileObjectsFromStrings(JavacFileManager.java:185)
	at org.apache.cxf.common.util.Compiler.useJava6Compiler(Compiler.java:192)
	at org.apache.cxf.common.util.Compiler.compileFiles(Compiler.java:141)
	at org.apache.cxf.tools.common.ClassUtils.compile(ClassUtils.java:123)
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:306)
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:164)
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:415)
	... 8 more
[mkopecky@dhcp-10-40-4-226 bin]$ ll out/
total 0
[mkopecky@dhcp-10-40-4-226 bin]$
{noformat}",2018/01/02 2:29 AM
WFLY-9850,"wsprovide.sh script fails on HPUX machines

This issue is caused by WFLY-9538

*Actual results:*
{noformat}
hudson@eap-perf-hpux-02.mw.lab.eng.bos.redhat.com:/mnt/hudson_workspace/workspace/mkopecky/wildfly/bin>./wsprovide.sh 
./wsprovide.sh[86]: JAVA_OPTS=${JAVA_OPTS/-secmgr/}: bad substitution
hudson@eap-perf-hpux-02.mw.lab.eng.bos.redhat.com:/mnt/hudson_workspace/workspace/mkopecky/wildfly/bin>
{noformat}


*Expected results:*
{noformat}
[mkopecky@dhcp-10-40-5-4 bin]$ ./wsprovide.sh 
Error: endpoint implementation was not specified!
WSProvideTask generates portable JAX-WS artifacts for an endpoint implementation.

usage: wsprovide.sh [options] <endpoint class name>

options: 
    -h, --help                  Show this help message
    -k, --keep                  Keep/Generate Java source
    -w, --wsdl                  Enable WSDL file generation
    -a, --address=<address>     The generated port soap:address in wsdl
    -c, --classpath=<path>      The classpath that contains the endpoint
    -o, --output=<directory>    The directory to put generated artifacts
    -r, --resource=<directory>  The directory to put resource artifacts
    -s, --source=<directory>    The directory to put Java source
    -e, --extension             Enable SOAP 1.2 binding extension
    -q, --quiet                 Be somewhat more quiet
    -t, --show-traces           Show full exception stack traces
    -v, --verbose               Show full exception stack traces
    -l, --load-provider         Load the provider and exit (debug utility)
[mkopecky@dhcp-10-40-5-4 bin]$
{noformat}",2018/02/19 7:43 AM
WFLY-10061,"Deploying jboss-kitchensink quickstart on server using migrated configuration from EAP 6.4 fails with 
{noformat}
14:31:31,212 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 17) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee-ejb: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee-ejb: java.lang.Exception: events [GET_DIGEST ] are required by STABLE, but not provided by any of the protocols below it
	at org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.start(ChannelBuilder.java:100)
	at org.wildfly.clustering.service.AsynchronousServiceBuilder.lambda$start$0(AsynchronousServiceBuilder.java:99)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.Exception: events [GET_DIGEST ] are required by STABLE, but not provided by any of the protocols below it
	at org.jgroups.stack.Configurator.sanityCheck(Configurator.java:320)
	at org.jgroups.stack.Configurator.connectProtocols(Configurator.java:197)
	at org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:825)
	at org.jgroups.JChannel.<init>(JChannel.java:200)
	at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:108)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.start(ChannelBuilder.java:98)
	... 7 more
{noformat}
*Steps to reproduce:*
{noformat}
# https://access.qa.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/migration_guide/#management_cli_migration_operation

WORKSPACE=`pwd`
CONFIG=standalone-full-ha.xml

unzip -q jboss-eap-6.4.19-full-build.zip
EAP6_HOME=${WORKSPACE}/jboss-eap-6.4

WF_VERSION=$(mvn -N help:evaluate -Dexpression=project.version -f ${WILDFLY}/pom.xml -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn | grep -v ""^\["")
cp -r ${WILDFLY}/dist/target/wildfly-${WF_VERSION} wildfly
EAP7_HOME=${WORKSPACE}/wildfly

cp ${EAP6_HOME}/standalone/configuration/${CONFIG} ${EAP7_HOME}/standalone/configuration
${EAP7_HOME}/bin/standalone.sh -c ${CONFIG} --start-mode=admin-only &
${EAP7_HOME}/bin/jboss-cli.sh --connect --controller=remote://localhost:9999
/subsystem=jacorb:migrate
/subsystem=messaging:migrate
/subsystem=web:migrate
/subsystem=cmp:remove
/extension=org.jboss.as.cmp:remove
/subsystem=jaxr:remove
/extension=org.jboss.as.jaxr:remove
/subsystem=threads:remove
/extension=org.jboss.as.threads:remove
/subsystem=logging/pattern-formatter=COLOR-PATTERN:add(pattern=""%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n"")
/subsystem=logging/console-handler=CONSOLE:add(level=INFO, named-formatter=COLOR-PATTERN)
/subsystem=logging/root-logger=ROOT:add-handler(name=CONSOLE)
reload
deploy kitchensink.war
{noformat}
*server side log*
{noformat}
14:44:33,760 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /home/pkremens/workspace3/wildfly/standalone/data/content/57/37adbac0c5fa3e4d529f87c719da8a09c894a0/content
14:44:33,790 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""kitchensink.war"" (runtime-name: ""kitchensink.war"")
14:44:34,225 INFO  [org.jboss.as.jpa] (MSC service thread 1-2) WFLYJPA0002: Read persistence.xml for primary
14:44:34,240 WARN  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0091: -ds.xml file deployments are deprecated. Support may be removed in a future version.
14:44:34,309 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:jboss/datasources/KitchensinkQuickstartDS]
14:44:34,310 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service 'kitchensink.war#primary'
14:44:34,332 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 63) HHH000204: Processing PersistenceUnitInfo [
	name: primary
	...]
14:44:34,368 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) WFLYWELD0003: Processing weld deployment kitchensink.war
14:44:34,407 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 63) HHH000412: Hibernate Core {5.1.13.Final}
14:44:34,409 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 63) HHH000206: hibernate.properties not found
14:44:34,410 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 63) HHH000021: Bytecode provider name : javassist
14:44:34,416 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-3) HV000001: Hibernate Validator 5.3.6.Final
14:44:34,452 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 63) HCANN000001: Hibernate Commons Annotations {5.0.2.Final}
14:44:34,500 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-3) WFLYEJB0473: JNDI bindings for session bean named 'MemberRegistration' in deployment unit 'deployment ""kitchensink.war""' are as follows:

	java:global/kitchensink/MemberRegistration!org.jboss.as.quickstarts.kitchensink.service.MemberRegistration
	java:app/kitchensink/MemberRegistration!org.jboss.as.quickstarts.kitchensink.service.MemberRegistration
	java:module/MemberRegistration!org.jboss.as.quickstarts.kitchensink.service.MemberRegistration
	ejb:kitchensink/MemberRegistration!org.jboss.as.quickstarts.kitchensink.service.MemberRegistration
	java:global/kitchensink/MemberRegistration
	java:app/kitchensink/MemberRegistration
	java:module/MemberRegistration

14:44:34,667 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 17) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee-ejb: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee-ejb: java.lang.Exception: events [GET_DIGEST ] are required by STABLE, but not provided by any of the protocols below it
	at org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.start(ChannelBuilder.java:100)
	at org.wildfly.clustering.service.AsynchronousServiceBuilder.lambda$start$0(AsynchronousServiceBuilder.java:99)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.Exception: events [GET_DIGEST ] are required by STABLE, but not provided by any of the protocols below it
	at org.jgroups.stack.Configurator.sanityCheck(Configurator.java:320)
	at org.jgroups.stack.Configurator.connectProtocols(Configurator.java:197)
	at org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:825)
	at org.jgroups.JChannel.<init>(JChannel.java:200)
	at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:108)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.start(ChannelBuilder.java:98)
	... 7 more

14:44:34,722 INFO  [org.jboss.weld.Version] (MSC service thread 1-3) WELD-000900: 3.0.3 (Final)
14:44:34,968 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 17) WFLYJPA0010: Starting Persistence Unit (phase 2 of 2) Service 'kitchensink.war#primary'
14:44:35,193 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 17) HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
14:44:35,201 WARN  [org.hibernate.dialect.H2Dialect] (ServerService Thread Pool -- 17) HHH000431: Unable to determine H2 database version, certain features may not work
14:44:35,267 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 17) Envers integration enabled? : true
14:44:35,775 INFO  [org.hibernate.tool.schema.internal.SchemaCreatorImpl] (ServerService Thread Pool -- 17) HHH000476: Executing import script 'ScriptSourceInputFromUrl(vfs:/content/kitchensink.war/WEB-INF/classes/import.sql)'
14:44:35,932 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-7) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!
14:44:35,942 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-7) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class org.hibernate.validator.internal.cdi.interceptor.ValidationInterceptor is deprecated from CDI 1.1!
14:44:36,454 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""kitchensink.war"" was rolled back with the following failure message: undefined
14:44:36,499 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 17) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service 'kitchensink.war#primary'
14:44:36,500 INFO  [org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl] (ServerService Thread Pool -- 17) HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'
14:44:36,509 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 17) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service 'kitchensink.war#primary'
14:44:36,533 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/KitchensinkQuickstartDS]
14:44:36,543 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment kitchensink.war (runtime-name: kitchensink.war) in 89ms
14:44:36,545 INFO  [org.jboss.as.controller] (management-handler-thread - 1) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service org.wildfly.clustering.jgroups.channel.ee-ejb
WFLYCTL0448: 20 additional services are down due to their dependencies being missing or failed
{noformat}
*client side log*
{noformat}
WFLYCTL0063: Composite operation was rolled back
{noformat}",2018/03/21 9:46 AM
WFLY-9971,"*Description of the issue:*
Wsprovide and wsconsume scripts don't work on Windows. Scripts print jboss-modules help message with any attributes.

*How reproducible:*
Always

*Steps to Reproduce:*
# wsprovide.bat -h
# wsconsume.bat -h

*Actual results:*
{noformat}
C:\Users\Administrator\playground\wfly.12\wildfly\bin>wsprovide.bat -h
Argument expected for option
Usage: java [-jvmoptions...] -jar jboss-modules.jar [-options...] <module-spec> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -jar <jar-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -cp <class-path> <class-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -class <class-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar -addindex [-modify] <jar-name>
where <module-spec> is a valid module specification string
and options include:
    -help         Display this message
    -mp, -modulepath <search path of directories>
                  A list of directories, separated by ';', where modules may be located
                  If not specified, the value of the ""module.path"" system property is used
    -class        Specify that the final argument is a
                  class to load from the class path; not compatible with -jar
    -cp,-classpath <search path of archives or directories>
                  A search path for class files; implies -class
    -dep,-dependencies <module-spec>[,<module-spec>,...]
                  A list of module dependencies to add to the class path;
                  requires -class or -cp
    -deptree      Print the dependency tree of the given module instead of running it
    -debuglog     Enable debug mode output to System.out during bootstrap before any logging manager is installed
    -jar          Specify that the final argument is the name of a
                  JAR file to run as a module; not compatible with -class
    -jaxpmodule <module-spec>
                  The default JAXP implementation to use of the JDK
    -secmgr       Run with a security manager installed; not compatible with -secmgrmodule
    -secmgrmodule <module-spec>
                  Run with a security manager module; not compatible with -secmgr
    -addindex     Specify that the final argument is a
                  jar to create an index for
    -modify       Modify the indexes jar in-place
    -version      Print version and exit

C:\Users\Administrator\playground\wfly.12\wildfly\bin>wsconsume.bat -h
Argument expected for option
Usage: java [-jvmoptions...] -jar jboss-modules.jar [-options...] <module-spec> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -jar <jar-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -cp <class-path> <class-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar [-options...] -class <class-name> [args...]
       java [-jvmoptions...] -jar jboss-modules.jar -addindex [-modify] <jar-name>
where <module-spec> is a valid module specification string
and options include:
    -help         Display this message
    -mp, -modulepath <search path of directories>
                  A list of directories, separated by ';', where modules may be located
                  If not specified, the value of the ""module.path"" system property is used
    -class        Specify that the final argument is a
                  class to load from the class path; not compatible with -jar
    -cp,-classpath <search path of archives or directories>
                  A search path for class files; implies -class
    -dep,-dependencies <module-spec>[,<module-spec>,...]
                  A list of module dependencies to add to the class path;
                  requires -class or -cp
    -deptree      Print the dependency tree of the given module instead of running it
    -debuglog     Enable debug mode output to System.out during bootstrap before any logging manager is installed
    -jar          Specify that the final argument is the name of a
                  JAR file to run as a module; not compatible with -class
    -jaxpmodule <module-spec>
                  The default JAXP implementation to use of the JDK
    -secmgr       Run with a security manager installed; not compatible with -secmgrmodule
    -secmgrmodule <module-spec>
                  Run with a security manager module; not compatible with -secmgr
    -addindex     Specify that the final argument is a
                  jar to create an index for
    -modify       Modify the indexes jar in-place
    -version      Print version and exit

C:\Users\Administrator\playground\wfly.12\wildfly\bin>
{noformat}

*Expected results:*
{noformat}
C:\Users\Administrator\playground\7.1.0.CR4\jboss-eap-7.1\bin>wsprovide.bat -h
WSProvideTask generates portable JAX-WS artifacts for an endpoint implementation.

usage: wsprovide.bat [options] <endpoint class name>

options:
    -h, --help                  Show this help message
    -k, --keep                  Keep/Generate Java source
    -w, --wsdl                  Enable WSDL file generation
    -a, --address=<address>     The generated port soap:address in wsdl
    -c, --classpath=<path>      The classpath that contains the endpoint
    -o, --output=<directory>    The directory to put generated artifacts
    -r, --resource=<directory>  The directory to put resource artifacts
    -s, --source=<directory>    The directory to put Java source
    -e, --extension             Enable SOAP 1.2 binding extension
    -q, --quiet                 Be somewhat more quiet
    -t, --show-traces           Show full exception stack traces
    -v, --verbose               Show full exception stack traces
    -l, --load-provider         Load the provider and exit (debug utility)
C:\Users\Administrator\playground\7.1.0.CR4\jboss-eap-7.1\bin>wsconsume.bat -h
WSConsumeTask is a cmd line tool that generates portable JAX-WS artifacts from a WSDL file.

usage: wsconsume.bat [options] <wsdl-url>

options:
    -h, --help                  Show this help message
    -b, --binding=<file>        One or more JAX-WS or JAXB binding files
    -k, --keep                  Keep/Generate Java source
    -c  --catalog=<file>        Oasis XML Catalog file for entity resolution
    -j  --clientjar=<name>      Create a jar file of the generated artifacts for calling the webservice
    -p  --package=<name>        The target package for generated source
    -w  --wsdlLocation=<loc>    Value to use for @WebService.wsdlLocation
    -o, --output=<directory>    The directory to put generated artifacts
    -s, --source=<directory>    The directory to put Java source
    -t, --target=<2.1|2.2>      The JAX-WS specification target
    -q, --quiet                 Be somewhat more quiet
    -v, --verbose               Show full exception stack traces
    -l, --load-consumer         Load the consumer and exit (debug utility)
    -e, --extension             Enable SOAP 1.2 binding extension
    -a, --additionalHeaders     Enable processing of implicit SOAP headers
    -d  --encoding=<charset>    The charset encoding to use for generated sources
    -n, --nocompile             Do not compile generated sources
C:\Users\Administrator\playground\7.1.0.CR4\jboss-eap-7.1\bin>
{noformat}

*Additional info:*
cc: [~asoldano], [~jbliznak@redhat.com]


",2018/03/07 5:29 AM
WFLY-10517,"When Artemis 1.5.5.jbossorg-0012 was integrated in WFLY-10424, the journal-sql.properties file that is used to provide the SQL statements for its JDBC store was not updated with the latest version from Artemis codebase.

The statements specific to DB2 are missing.

Artemis's file is at https://github.com/rh-messaging/jboss-activemq-artemis/blob/1.5.5.jbossorg-012/artemis-jdbc-store/src/main/resources/journal-sql.properties
WildFly file is at https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/wildfly/extension/messaging-activemq/main/database/journal-sql.properties",2018/06/06 9:52 AM
WFLY-10739,"Regression caused by merged fix for WFLY-10655.

Breaks JSF in EARs.

{noformat}
11:09:30,869 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 72) Critical error during deployment: : com.sun.faces.config.ConfigurationException: Factory 'javax.faces.application.ApplicationFactory' was not configured properly.
	at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:357)
	at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:243)
	at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:443)
	at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:237)
	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:216)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: javax.faces.FacesException: com.sun.faces.application.ApplicationFactoryImpl
	at javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:393)
	at javax.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:255)
	at javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:529)
	at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:292)
	at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:354)
	... 24 more
Caused by: java.lang.ClassNotFoundException: com.sun.faces.application.ApplicationFactoryImpl from [Module ""deployment.clusterbench-ee8.ear.org.jboss.test-clusterbench-ee8-web-3.0.0.Alpha1-SNAPSHOT-granular.war"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:387)
	... 28 more

{noformat}",2018/07/25 5:37 AM
WFLY-10846,"The 3 modules added in https://github.com/wildfly/wildfly/pull/11454 need this in their module.xml:

{code}
    <properties>
        <property name=""jboss.api"" value=""private""/>
    </properties>
{code}

This ensures that we log a WARN if the user tries to _directly_ use these modules as application dependencies. (Directly == via their own deployment configuration, not via our subsystem wiring them in as a dependency. See [1] for the impl.) 

These log WARNs and the setting in the file itself are important both to prevent the user making mistakes and as the formal the mechanism by which we control how we support use of the various libraries we ship in the appserver. Marking modules private, deprecated etc gives us the freedom to rework implementations without worrying about breaking unexpected uses of things.

[1] https://github.com/wildfly/wildfly-core/blob/master/server/src/main/java/org/jboss/as/server/moduleservice/ModuleLoadService.java#L69",2018/08/14 12:06 PM
WFLY-11222,"Wrong grep escaping on wsprovide and wsconsume scripts.

How to reproduce:
On solaris11 with latest upgrade of grep:
{noformat}
[hudson@dev36-03 bin]$ ./wsprovide.sh -h
grep: illegal option -- e
grep: illegal option -- m
grep: illegal option -- g
grep: illegal option -- r
Usage: grep [-c|-l|-q] -bhinsvw pattern file . . .
... wsprovide help message  ...
[hudson@dev36-03 bin]$
{noformat}

On RHEL:
Security manager is activated with any non-related property that contains ""cmgr"" string, example:
{code:bash}
export JAVA_OPTS=""-Daaacmgrbbb=false""
./wsconsume.sh https://raw.githubusercontent.com/jbossws/jbossws-cxf/master/modules/testsuite/shared-tests/src/test/resources/jaxws/smoke/tools/wsdl/TestServiceSoap12.wsdl
{code}
",2018/10/22 7:43 AM
WFLY-11262,"If the server default configuration is used an EJB invocation via @Remote interface is, according to the specification, with call-by-value.

But if the application is configured with jboss-ejb-client.xml to have a remote-outbound-connection the EJB invocation via @Remote is done as call-by-reference no matter whether the configuration is default or
<in-vm-remote-interface-invocation pass-by-value=""true""/>
is used.

This is a violation of the specification and can cause serious unexpected issues at runtime for the application if the parameters or return values are mutable
",2018/10/31 5:49 AM
WFLY-11086,"Java EE7 (which supports EL 3.0 spec) allows JSPs to use EL expressions like:
{code}
<html>
   <body>
      foo: --- ${Boolean.TRUE} ---<br>
      bar: --- ${Integer.MAX_VALUE} ---<br>
   </body>
</html>
{code}
However, the
{code}
${Boolean.TRUE}
{code}
and
{code}
${Integer.MAX_VALUE}
{code}
in the above example aren't evaluated correctly if request is send more than once, and instead a blank string is rendered for them. The [^jsp-expression-lang.war] used in Steps to reproduce works correctly in 7.2.0.CD13.

More details in the linked forum thread https://developer.jboss.org/thread/271825.

The existing tests([JspELTestCase|https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/wildfly/test/integration/jsp/JspELTestCase.java]) doesn't cover the situation when request is sent more than once.",2018/09/27 8:22 AM
WFLY-11543,"Issue cloned from the [community forum|https://developer.jboss.org/thread/279303] for tracking.

{quote}Hello,

 

We are having issues after deploying our application in the latest Wildfly 15.0.0 Final recently released with the following exception:

     java.sql.SQLException: XAER_RMFAIL: The command cannot be executed when global transaction is in the  IDLE state

 

The error occurs when our code calls a transactional EJB method that itself calls a couple more injected SessionBean that handles the database persistence through an EntityManager

The issue only seems to affect the MariaDB port and not oracle.{quote}

{quote}I have hit the same problem, migrated from Wildfly 10.0.0. to 15.0.0, using MySQL, same error, similar situation, cdi managed bean that invokes 2 EJBs that use different persistent units. I dont seem to have the problem in 14.0.1 either.

 

Another error that has surfaced is this (apologies for the weird formatting but struggled to define a simple type-up without cluttering)

 

""javax.persistence.TransactionRequiredException: no transaction is in progress""

Managed bean with injected ejb (with datasource2) and injected entitymanager for datasource1, code is nested as follows

 

Managed bean method save @Transactional(value = TxType.REQUIRED)

{

          ejb save  @TransactionAttribute(TransactionAttributeType.MANDATORY)

          {

                         persist

                         flush

          }

 

          find with lock => LockModeType.PESSIMISTIC_WRITE        at this point the ""no transaction is in progress"" exception is fired 

 

}

                             

Did notice that error does not occur if the invocation is purely ejb rather that cdi managed bean                     {quote}",2018/12/20 2:53 PM
WFLY-9089,"*AsynchronousSecurityTestCase* fails because because anonymous user is used to call asynchronous EJB method requiring given role.

Looks like *identity is lost when creating new thread in JBossThreadFactory* - code in new thread run with anonymous identity.",2017/07/14 10:53 AM
WFLY-9037,"EJB code is not getting a complete cluster topology.

In AssociationImpl, we register cluster topology listeners by adding a {{RegistryCollector.Listener<String, List<ClientMapping>>}}.  Because this listener will only receive updates relative to the time it was registered, we also iterate all the values of the original {{RegistryCollector<String, List<ClientMapping>>}} by using its {{getRegistries()}} method at this time.

However, this iteration always seems to come up empty, or else we're missing notifications some other way.  So we end up with an incomplete cluster view and client invocations fail because of a perceived lack of node availability.
",2017/06/30 3:27 PM
WFLY-9157,"A simple jar containing one class which implements {{org.jboss.ejb.client.EJBClientInterceptor}} and has a {{META-INF/services/org.jboss.ejb.client.EJBClientInterceptor}} file for registering it, will fail to deploy with:

{noformat}
14:59:30,677 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.ejb3.ejbClientContext.deployment.""interceptor-1.0-SNAPSHOT.jar"": org.jboss.msc.service.StartException in service jboss.ejb3.ejbClientContext.deployment.""interceptor-1.0-SNAPSHOT.jar"": Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1978) [jboss-msc-1.2.7.SP1-redhat-1.jar:1.2.7.SP1-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_144]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_144]
Caused by: java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47) [jboss-msc-1.2.7.SP1-redhat-1.jar:1.2.7.SP1-redhat-1]
	at org.jboss.as.ejb3.remote.EJBClientContextService.start(EJBClientContextService.java:101)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032) [jboss-msc-1.2.7.SP1-redhat-1.jar:1.2.7.SP1-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955) [jboss-msc-1.2.7.SP1-redhat-1.jar:1.2.7.SP1-redhat-1]
	... 3 more

14:59:30,682 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""full-replace-deployment"") failed - address: ([]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.ejb3.ejbClientContext.deployment.\""interceptor-1.0-SNAPSHOT.jar\"""" => ""Failed to start service
    Caused by: java.lang.IllegalStateException""}}
{noformat}",2017/08/01 1:55 PM
WFLY-8798,"When keystore (or cerficate in keystore) is changed during server runtime then CLI opertation {{load}} can be used for {{/subsystem=elytron/key-store=...}} to re-reading this keystore in server. However after calling this operation server still works with original keystore/certificate. Then CLI reads current keystore correctly, but in case when ssl-context which uses that key-store is used then original keystore is still used by server. Reload of server is required to correctly re-read the new keystore. See Steps to Reproduce for more details.

We request blocker flag since this issue blocks RFE EAP7-455.",2017/05/17 11:47 AM
WFLY-9170,"when running EJB client from EAP 7.0 (EJB client 2.1.x) or the 7.1 legacy client (3.0.x), against EAP 7.1.0.ER3 (and newer) server on the same machine (with the same standalone.xml), even when the client has explicitly forbidden LOCAL authentication, he is sometimes (intermittently) authenticated as the user {{$local}}.
This does not happen when the server is EAP 7.1.0.ER2, or when using EJB client 4.x.

Impact: the client is intermittently authenticated as a different user than expected, this also makes invocations randomly fail, because the {{$local}} user typically isn't assigned to authorization roles which are typically required for invocations of some methods. Or the other way around, this could actually elevate the user's privileges in some cases.",2017/08/03 8:22 AM
WFLY-8867,"QE Cc [~mnovak1@redhat.com], [~okalman@redhat.com], [~mstyk_jira], [~pkremens@redhat.com]
Cc [~kkhan1@redhat.com], [~jgreene@redhat.com]

See steps to reproduce. The question is, to what degree should CLI commands be backward compatible with 7.0? XML configurations pasted from 7.0 are OK in this case.

I previously thought these changes were OK (once documented in migration guide), but after discussion with the rest of the QE team, the most common opinion is that CLI commands should be 100% backward compatible with 7.0, which is not the case here.

[~bozpeyni@redhat.com] since this is not stated anywhere I know, can you confirm that CLI commands in 7.1 need to be backward compatible with 7.0?",2017/05/31 12:18 PM
WFLY-8741,"Elytron credential-store resources should offer operations instead of alias resource, as for key-stores, as it can be based on any key-store too.

The reason is more described in WFCORE-2691 or related mailing thread on wildfly-dev.
Setting priority to blocker by WFCORE-2691 and WFCORE-2737.",2017/05/10 6:33 AM
WFLY-8778,"Elytron {{filesystem-realm}} should load existing identities from file system. The steps to reproduce results in:

{noformat}
[standalone@localhost:9990 /] /subsystem=elytron/filesystem-realm=realm/identity=user:read-identity
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""subsystem\"" => \""elytron\""),
    (\""filesystem-realm\"" => \""realm\""),
    (\""identity\"" => \""user\"")
]' not found"",
    ""rolled-back"" => true
}
[standalone@localhost:9990 /] /subsystem=elytron/filesystem-realm=realm/identity=user:add
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYELY01000: Identity with name [user] already exists."",
    ""rolled-back"" => true
}
{noformat}",2017/05/16 8:11 AM
WFLY-9247,"licenses.xml contains:
{code}
    <dependency>
      <groupId>org.jboss</groupId>
      <artifactId>jboss-ejb-client</artifactId>
      <version>4.0.0.Beta30-redhat-1</version>
      <licenses>
        <license>
          <name>GNU Lesser General Public License, Version 2.1</name>
          <url>http://repository.jboss.org/licenses/lgpl-2.1.txt</url>
        </license>
      </licenses>
    </dependency>
{code}

However, the POM and source files contain {{Apache License, Version 2.0}}.",2017/08/21 6:47 PM
WFLY-8866,"As discussed in JBEAP-11190, this concerns the following use case:
{noformat:title=#4 Adding TCPPING via add-protocol operation - NOK}
/subsystem=""jgroups""/stack=""tcpping"":add-protocol(type=""TCPPING"")
# throws with DR19
{noformat}
which no longer works in DR19 because it requires socket bindings to be defined.",2017/05/31 12:19 PM
WFLY-9057,"There is one server started with standalone-ha.xml profile (or there can be more servers in a cluster, it doesn't matter). There is a stateful bean [TransactionalBeanStateful.java|http://git.app.eng.bos.redhat.com/git/jbossqe/eap-tests-ejb.git/tree/ejb-multi-server-ts/src/test/java/org/jboss/qa/ejb/tests/transactions/bean/TransactionalBeanStateful.java] provided in the deployment on the server.

The bean has createPerson() method with TransactionAttributeType=MANDATORY.

These steps lead to a TimeoutException:
 - client looks up a TransactionalBeanStateful bean, 
 - client creates a UserTranscation: 
{code}
final UserTransaction tx = (UserTransaction) ctx.lookup(""txn:UserTransaction"");
{code}
 - client begins new transaction
 - client calls createPerson() method twice within the same transaction

See steps to reproduce to reproduce the issue locally.
Test code: http://git.app.eng.bos.redhat.com/git/jbossqe/eap-tests-ejb.git/tree/ejb-multi-server-ts/src/test/java/org/jboss/qa/ejb/tests/transactions/TransactionsInCluster_StatefulBean_TestCase.java#n108

The issue does not occur if:
 - server is not started with *ha.xml profile
 - the bean is stateless

Full stacktrace:
{code}
CLUSTER1_NODE1: 13:57:06,375 ERROR [org.jboss.as.ejb3.invocation] (default task-11) WFLYEJB0034: EJB Invocation failed on component TransactionalBeanStateful for method public abstract void org.jboss.qa.ejb.tests.transactions.bean.TransactionalBeanRemote.createPerson(): javax.ejb.EJBTransactionRolledbackException: ISPN000299: Unable to acquire lock after 15 seconds for key UUIDSessionID [dbf99845-1e0f-4a5b-8b8a-0a81c16d1c0f] and requestor GlobalTransaction:<cluster1-node1>:5:local. Lock is held by GlobalTransaction:<cluster1-node1>:3:local
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:160)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:257)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.mandatory(CMTTxInterceptor.java:296)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:234)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:327)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:84)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:256)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609)
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
        at org.jboss.as.ejb3.remote.AssociationImpl$$Lambda$1237/260509875.apply(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:380)
        at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:479)
        at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:474)
        at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:182)
        at org.jboss.as.ejb3.remote.AssociationImpl$$Lambda$1234/1203786036.run(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key UUIDSessionID [dbf99845-1e0f-4a5b-8b8a-0a81c16d1c0f] and requestor GlobalTransaction:<cluster1-node1>:5:local. Lock is held by GlobalTransaction:<cluster1-node1>:3:local
        at org.infinispan.util.concurrent.locks.impl.DefaultLockManager$KeyAwareExtendedLockPromise.lock(DefaultLockManager.java:238)
        at org.infinispan.interceptors.locking.AbstractLockingInterceptor.lockAndRecord(AbstractLockingInterceptor.java:193)
        at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockKey(AbstractTxLockingInterceptor.java:193)
        at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockOrRegisterBackupLock(AbstractTxLockingInterceptor.java:116)
        at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataReadCommand(PessimisticLockingInterceptor.java:71)
        at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitGetKeyValueCommand(AbstractLockingInterceptor.java:80)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:346)
        at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:331)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:177)
        at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:154)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:110)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:79)
        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)
        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)
        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)
        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
        at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:414)
        at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:443)
        at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:287)
        at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:88)
        at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:50)
        at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:267)
        at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:109)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:240)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:255)
        ... 44 more
{code}

",2017/07/06 5:37 PM
WFLY-9078,"When elytron profile of testsuite enabled, *DefaultManagedThreadFactoryTestCase* fails, because caller principal is not passed into new thread:

{code}
java.lang.IllegalStateException: the caller principal anonymous is not the expected guest
(TestEJBRunnable.java:70)
{code}

Lets have:
{code}
new InitialContext().lookup(""java:comp/EJBContext"").getCallerPrincipal()
{code}
* On *DefaultManagedThreadFactoryTestEJB:63* (in EJB, but outside of new thread yet) it gives correctly ""guest"".
* On *DefaultManagedThreadFactoryTestEJB:70* (inside Runnable) it gives ""anonymous"".",2017/07/12 11:17 AM
WFLY-9481,"Because legacy protocols use the fully qualified protocol class name as their protocol name, no default properties will be applied to these protocols.",2017/10/25 10:46 AM
WFLY-11406,"When running WildFly on JDK12 I'm observing this exception due to Unsafe changes in recent JDK Early Access builds:

&amp#27;[0m&amp#27;[31m16:47:17,739 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.""ws-endpoint-example.war"".IN
<------>at org.jboss.as.server@7.0.0.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
<------>at java.base/java.lang.Thread.run(Thread.java:835)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component TestService
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:106)
<------>at org.jboss.as.server@7.0.0.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
<------>... 8 more
Caused by: java.lang.Error: java.lang.NoSuchFieldException: override
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:394)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:385)
<------>at java.base/java.security.AccessController.doPrivileged(AccessController.java:551)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile.<clinit>(ClassFile.java:385)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractClassFactory.<init>(AbstractClassFactory.java:97)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractSubclassFactory.<init>(AbstractSubclassFactory.java:87)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractProxyFactory.<init>(AbstractProxyFactory.java:69)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.ProxyFactory.<init>(ProxyFactory.java:256)
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:86)
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
<------>... 9 more
Caused by: java.lang.NoSuchFieldException: override
<------>at java.base/java.lang.Class.getDeclaredField(Class.java:2410)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:392)
<------>... 18 more
",2018/11/22 1:07 PM
WFLY-9951,"Affected scenario: stress-ejbremote-repl-sync
If you need the scenario description let me know.

When increasing number of clients from 5600 to 6000, one of the newly created clients logged: 
{code}
2018/03/01 09:06:52:118 EST [ERROR][Runner - 1165] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Lookup failed: javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up ""clusterbench-ee7/clusterbench-ee7-ejb//RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB?stateful"" [Root exception is javax.ejb.EJBException: Failed to read session create response]
2018/03/01 09:06:52:118 EST [WARN ][Runner - 1165] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Could not lookup session bean.>
        
2018/03/01 09:06:52:118 EST [WARN ][Runner - 1165] SFCORE_LOG - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Could not lookup session bean.>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Could not lookup session bean.
	at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.initSession(StatefulSBProcessorFactoryImpl.java:225)
	at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.processRequest(StatefulSBProcessorFactoryImpl.java:71)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up ""clusterbench-ee7/clusterbench-ee7-ejb//RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB?stateful"" [Root exception is javax.ejb.EJBException: Failed to read session create response]
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)
	at org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.initSession(StatefulSBProcessorFactoryImpl.java:211)
	... 4 more
Caused by: javax.ejb.EJBException: Failed to read session create response
	at org.jboss.ejb.protocol.remote.EJBClientChannel$SessionOpenInvocation.getResult(EJBClientChannel.java:869)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.openSession(EJBClientChannel.java:623)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver.createSession(RemoteEJBReceiver.java:149)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:63)
	at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:66)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:102)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:138)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:92)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:100)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:835)
	at org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)
	... 8 more
Caused by: java.lang.ClassNotFoundException: org.infinispan.util.concurrent.TimeoutException
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:123)
	at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:104)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:1025)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1354)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:275)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:223)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1856)
	at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)
	at java.lang.Throwable.readObject(Throwable.java:914)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:317)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1748)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1397)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:275)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:223)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1856)
	at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)
	at java.lang.Throwable.readObject(Throwable.java:914)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:317)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1748)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1397)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:275)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:223)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1856)
	at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)
	at java.lang.Throwable.readObject(Throwable.java:914)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:317)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1748)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1397)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:275)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:223)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1856)
	at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)
	at java.lang.Throwable.readObject(Throwable.java:914)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:317)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1748)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1717)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1397)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:275)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:208)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:76)
	at org.jboss.ejb.protocol.remote.EJBClientChannel$SessionOpenInvocation.getResult(EJBClientChannel.java:816)
	... 24 more
{code} 

Server logs are full of timeout exceptions (WFLY-9890), not sure if it is directly related.",2018/03/05 8:24 AM
WFLY-11124,"The {{org.wildfly:wildfly-testsuite-shared}} has a dependency all the main 3 Galleon feature-packs.
{code:xml}
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-servlet-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>org.wildfly.core</groupId>
    <artifactId>wildfly-core-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
{code}

This means that all tests that which use the shared module, likely all of them, end up with the entirety of WildFly on the test class path. In most cases this is not an issue. However an issue was uncovered with the IBM JDK in WFLY-10529. The tests should definitely not have a transitive dependency on things like that or for example the {{org.wildfly.core:wildfly-controller}}. If dependencies like those are needed they should be explicitly defined as those are not public API's.",2018/10/05 1:43 PM
WFLY-11033,"This message shows up if I try to define module attribute for 'custom-load-metric'. It doesn't make sense, since it says both, that 'module' attribute is and isn't allowed. This also means, that the module attribute is not usable.
{code}
OPVDX001: Validation error in standalone-ha.xml --------------------------------
|
|  448: <proxy name=""default"" advertise-socket=""modcluster"" auto-enable-contexts=""true"" listener=""ajp"">
|  449:     <dynamic-load-provider>
|  450:         <custom-load-metric class=""biz.karms.modcluster.CustomLoadMetric"" module=""org.jboss.mod_cluster"" weight=""1"" capacity=""1000.0"">
|                                                                                 ^^^^ 'module' isn't an allowed attribute for the 'custom-load-metric'
|                                                                                        element
|
|                                                                                      Attributes allowed here are: capacity, class, module, weight
|
|  451:             <property name=""parseexpression"" value=""^LOAD: ([0-9]*)$""/>
|  452:             <property name=""loadfile"" value=""/home/virtual/mod_cluster_workspace/loadfileA""/>
|  453:         </custom-load-metric>
|
| 'module' is allowed on elements:
| - server > profile > {urn:jboss:domain:naming:2.0}subsystem > bindings > object-factory
| - server > profile > {urn:jboss:domain:naming:2.0}subsystem > bindings > external-context
| - server > profile > {urn:jboss:domain:security-manager:1.0}subsystem > deployment-permissions > minimum-set > permission
| - server > profile > {urn:jboss:domain:security-manager:1.0}subsystem > deployment-permissions > maximum-set > permission
| - server > profile > {urn:jboss:domain:datasources:5.0}subsystem > datasources > drivers > driver
| - server > profile > {urn:wildfly:microprofile-config-smallrye:1.0}subsystem > config-source > class
| - server > profile > {urn:wildfly:microprofile-config-smallrye:1.0}subsystem > config-source-provider > class
| - server > extensions > extension
| - server > vault
| - server > management > security-realms > security-realm > plug-ins > plug-in
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > cache-container
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > cache-container > local-cache
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > remote-cache-container
| - server > profile > {urn:jboss:domain:modcluster:4.0}subsystem > proxy > dynamic-load-provider > custom-load-metric
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication > login-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication-jaspi > login-module-stack > login-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication-jaspi > auth-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authorization > policy-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > acl > acl-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > mapping > mapping-module
| (and 26 more)
|
| The primary underlying error message was:
| > ParseError at [row,col]:[450,21]
{code}",2018/09/17 9:47 AM
WFLY-10409,"AIUI the thin build is meant to be the same as the fat dist except the jars are not in the modules; rather their gavs are in the various module.xml and JBoss Modules finds them in a maven repo.

But currently the differences are more than that. For sure the org.jboss.as.product module isn't even present in the thin build. This will lead to test failures in EAP as new tests added in WF 13 will not work if the console module location info from the product module is not available.

Comparing the galleon provisioning plugin config from dist/pom.xml to build/pom.xml gives a sense of the problem. 

Note that this diff is not due to the switch to galleon. The fact that a different galleon config was needed for build vs dist is because that is what was necessary to match what the prevacy legacy build created.

This work should make sure servlet-build is correct as well.",2018/05/19 10:21 AM
WFLY-10435,If a library in the {{EAR/lib}} directory contains descriptors that would enable JSF then JSF would be activated for EAR.,2018/05/23 5:10 PM
WFLY-9816,"Implementation: JTS

Priority is set to critical due to regression (issue is not seen in 7.0) and the fact that some inconsistency might be expected (communication from DB to EAP is halted - resource is commited, but TM doesn't know it)

Failing tests:
org.jboss.as.test.jbossts.crashrec.test.JMSProxyMdbMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA(org.jboss.as.test.jbossts.crashrec.test.JMSProxyMdbMessagingServerCrashRecoveryTestCase)
  Run 1: JMSProxyMdbMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA:276->TestBaseOneServer.checkIfTxLogsAreEmpty:564->TestBaseOneServer.checkIfTransactionManagerLogStoreIsEmpy:619 Recovery failed, some Uids still left in the tx log - number of pending uids before test: 0, pending uids after test: 1. Pending Uids are: 0:ffff7f000001:-5d473c0b:59afe2ee:69[[""0:ffff7f000001:-5d473c0b:59afe2ee:7c""]], 
  Run 2: JMSProxyMdbMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA JBoss log parsed file /home/istraka/repositories/jboss-other-repositories/tests-transactions/jbossts/target/jbossas-jbossts/standalone/log/JMSProxyMdbMessagingServerCrashRecoveryTestCase_haltConnectionAfterDbCommitsWithTestXA_jts_server.log contains not expected string XAException on line 11313 with text '2017-09-06 14:00:32,786 WARN  [com.arjuna.ats.jtax] (Periodic Recovery) ARJUNA024023: XAResourceRecord.commit caused an XA error: XAException.XAER_NOTA from resource XAResourceWrapperImpl@46c7baf5[xaResource=org.jboss.activemq.artemis.wildfly.integration.WildFlyActiveMQXAResourceWrapper@4d2dca8d pad=false overrideRmValue=null productName=ActiveMQ Artemis productVersion=2.0 jndiName=java:/JmsXA NodeId:846be472-92f7-11e7-b284-340286a805f7] in transaction < 131072, 32, 36, 0000000000-1-1127001-94-72-61-1189-81-30-1800010597889871, 0000000000-1-1127001-94-72-61-1189-81-30-1800012300000000 >: javax.transaction.xa.XAException'

org.jboss.as.test.jbossts.crashrec.test.JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommits(org.jboss.as.test.jbossts.crashrec.test.JMSProxyMessagingServerCrashRecoveryTestCase)
  Run 1: JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommits:277->TestBaseOneServer.checkIfTxLogsAreEmpty:564->TestBaseOneServer.checkIfTransactionManagerLogStoreIsEmpy:619 Recovery failed, some Uids still left in the tx log - number of pending uids before test: 0, pending uids after test: 1. Pending Uids are: 0:ffff7f000001:-a865f1e:59afdfbb:64[[""0:ffff7f000001:-a865f1e:59afdfbb:6e""]], 
  Run 2: JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommits JBoss log parsed file /home/istraka/repositories/jboss-other-repositories/tests-transactions/jbossts/target/jbossas-jbossts/standalone/log/JMSProxyMessagingServerCrashRecoveryTestCase_haltConnectionAfterDbCommits_jts_server.log contains not expected string XAException on line 5951 with text '2017-09-06 13:46:42,888 WARN  [com.arjuna.ats.jtax] (Periodic Recovery) ARJUNA024023: XAResourceRecord.commit caused an XA error: XAException.XAER_NOTA from resource XAResourceWrapperImpl@730871ea[xaResource=org.jboss.activemq.artemis.wildfly.integration.WildFlyActiveMQXAResourceWrapper@4028496b pad=false overrideRmValue=null productName=ActiveMQ Artemis productVersion=2.0 jndiName=java:/JmsXA NodeId:846be472-92f7-11e7-b284-340286a805f7] in transaction < 131072, 32, 36, 0000000000-1-1127001-11121-96-3089-81-33-6900010097889871, 0000000000-1-1127001-11121-96-3089-81-33-6900010900000000 >: javax.transaction.xa.XAException'

org.jboss.as.test.jbossts.crashrec.test.JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA(org.jboss.as.test.jbossts.crashrec.test.JMSProxyMessagingServerCrashRecoveryTestCase)
  Run 1: JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA:289->TestBaseOneServer.checkIfTxLogsAreEmpty:564->TestBaseOneServer.checkIfTransactionManagerLogStoreIsEmpy:619 Recovery failed, some Uids still left in the tx log - number of pending uids before test: 0, pending uids after test: 1. Pending Uids are: 0:ffff7f000001:4087749a:59afe058:64[[""0:ffff7f000001:4087749a:59afe058:73""]], 
  Run 2: JMSProxyMessagingServerCrashRecoveryTestCase.haltConnectionAfterDbCommitsWithTestXA JBoss log parsed file /home/istraka/repositories/jboss-other-repositories/tests-transactions/jbossts/target/jbossas-jbossts/standalone/log/JMSProxyMessagingServerCrashRecoveryTestCase_haltConnectionAfterDbCommitsWithTestXA_jts_server.log contains not expected string XAException on line 5996 with text '2017-09-06 13:49:18,766 WARN  [com.arjuna.ats.jtax] (Periodic Recovery) ARJUNA024023: XAResourceRecord.commit caused an XA error: XAException.XAER_NOTA from resource XAResourceWrapperImpl@1bb543cb[xaResource=org.jboss.activemq.artemis.wildfly.integration.WildFlyActiveMQXAResourceWrapper@1e73c422 pad=false overrideRmValue=null productName=ActiveMQ Artemis productVersion=2.0 jndiName=java:/JmsXA NodeId:846be472-92f7-11e7-b284-340286a805f7] in transaction < 131072, 32, 36, 0000000000-1-112700164-121116-10289-81-328800010097889871, 0000000000-1-112700164-121116-10289-81-328800011400000000 >: javax.transaction.xa.XAException'


",2018/02/13 6:01 AM
WFLY-10256,"Shaded bin/client/jboss-client.jar should have Manifest entry

WFCORE-3835 tracks effort for jboss-cli-client.jar
WFCOM-40 tracks effort for WildFly Common
ELY-1567 tracks effort for wildfly-elytron-tool jar


*Older details*
Several jars with MR overlays do not have defined Multi-Release in Manifest

Results with WildFly master from 2018-04-18:
{code}
  DistributionTestCase.checkOverlayDirectoryAndManifestEntryForExpectedMRJars:93
The following 4 assertions failed:
1) [Artifact /Users/rsvoboda/git/wildfly/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT/bin/wildfly-elytron-tool.jar is expected to be Multi-Release JAR, jar.isMultiReleaseJar() returns false] expected:<[tru]e> but was:<[fals]e>
at DistributionTestCase.lambda$checkOverlayDirectoryAndManifestEntryForExpectedMRJars$8(DistributionTestCase.java:90) expected:<[tru]e> but was:<[fals]e>
2) [Artifact /Users/rsvoboda/git/wildfly/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT/bin/client/jboss-cli-client.jar is expected to be Multi-Release JAR, jar.isMultiReleaseJar() returns false] expected:<[tru]e> but was:<[fals]e>
at DistributionTestCase.lambda$checkOverlayDirectoryAndManifestEntryForExpectedMRJars$8(DistributionTestCase.java:90) expected:<[tru]e> but was:<[fals]e>
3) [Artifact /Users/rsvoboda/git/wildfly/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT/bin/client/jboss-client.jar is expected to be Multi-Release JAR, jar.isMultiReleaseJar() returns false] expected:<[tru]e> but was:<[fals]e>
at DistributionTestCase.lambda$checkOverlayDirectoryAndManifestEntryForExpectedMRJars$8(DistributionTestCase.java:90) expected:<[tru]e> but was:<[fals]e>
4) [Artifact /Users/rsvoboda/git/wildfly/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.3.1.Final.jar is expected to be Multi-Release JAR, jar.isMultiReleaseJar() returns false] expected:<[tru]e> but was:<[fals]e>
at DistributionTestCase.lambda$checkOverlayDirectoryAndManifestEntryForExpectedMRJars$8(DistributionTestCase.java:90) expected:<[tru]e> but was:<[fals]e>
{code}

According MR JAR Support in JBoss Parent proposal WildFly Common should have Manifest entry
 * modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.3.1.Final.jar

I believe shaded jars should also have Manifest entry
* bin/wildfly-elytron-tool.jar
* bin/client/jboss-cli-client.jar
* bin/client/jboss-client.jar

Using https://github.com/jboss-eap-qe/jarest/pull/3/files ++ mvn test -Djarest.input.dir=/Users/rsvoboda/git/wildfly/dist/target/wildfly-13.0.0.Alpha1-SNAPSHOT",2018/04/18 7:11 AM
WFLY-10920,"One of the many affected scenarios is [perflab_eap-7x-failover-http-session-shutdown-dist-sync-shared-sessions|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-shared-sessions/1/console-perf18/consoleText]: it is a 4 nodes (running with the standalone-ha.xml configuration) fail-over scenario where the deployed EAR contains two WAR sharing http sessions:

{{clusterbench-ee7-shared-sessions.ear/META-INF/jboss-all.xml}}:
{noformat}
<jboss umlns=""urn:jboss:1.0"">
    <shared-session-config xmlns=""urn:jboss:shared-session-config:1.0"">
        <session-config>
            <cookie-config>
                <path>/</path>
            </cookie-config>
        </session-config>
    </shared-session-config>
</jboss>
{noformat}

During server shut-down the EAR is stopped and we observe the following error:

{noformat}
[JBossINF] [0m[0m05:49:46,803 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 99) WFLYCLINF0003: Stopped clusterbench-ee7-shared-sessions.ear cache from web container
[JBossINF] [0m[0m05:49:46,805 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb
[JBossINF] [0m[31m05:49:46,813 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@6953f688 unexpectedly threw an exception during undeploy phase POST_MODULE of subdeployment ""clusterbench-ee7-web-default-2.war"" of deployment ""clusterbench-ee7-shared-sessions.ear"": java.util.ConcurrentModificationException
[JBossINF] 	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1442)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1476)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1474)
[JBossINF] 	at io.smallrye.config.SmallRyeConfigProviderResolver.releaseConfig(SmallRyeConfigProviderResolver.java:71)
[JBossINF] 	at org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:204)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1792)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1761)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] 
[JBossINF] [0m[31m05:49:46,812 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@6953f688 unexpectedly threw an exception during undeploy phase POST_MODULE of subdeployment ""clusterbench-ee7-web-default-1.war"" of deployment ""clusterbench-ee7-shared-sessions.ear"": java.util.ConcurrentModificationException
[JBossINF] 	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1442)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1476)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1474)
[JBossINF] 	at io.smallrye.config.SmallRyeConfigProviderResolver.releaseConfig(SmallRyeConfigProviderResolver.java:71)
[JBossINF] 	at org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:204)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1792)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1761)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{noformat}

Also other scenarios like [perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer] and [perflab_eap-7x-failover-remote-jdg-session-shutdown-invalidation-sync-hotrod|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-remote-jdg-session-shutdown-invalidation-sync-hotrod] exhibits the same error: I assume it does not depend on the shared sessions configuration mentioned above;

Find attached:
- the complete server log (perf18-consoleText.txt)
- the EAR used for the shared-sessions scenario (clusterbench-ee7-shared-sessions.ear)
- the EAR used for the [perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer] scenario (clusterbench-ee7.ear)

 ",2018/08/24 10:36 AM
WFLY-9920,"Seen in many failover tests:
failover-http-session-jvmkill-repl-sync
failover-http-session-shutdown-dist-sync
failover-http-session-shutdown-repl-sync
failover-http-granular-jvmkill-dist-sync
failover-http-granular-shutdown-repl-sync
failover-ejb-ejbservlet-jvmkill-dist-sync
failover-ejb-ejbservlet-undeploy-dist-sync

During our failover testing, we have seen many occurrences of ""TimeoutException: Timed out waiting for topology X"".

Here are the variants we have identified:
{code:title=ISPN000136: Error executing command PrepareCommand}
[JBossINF] [0m[31m06:14:11,769 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (timeout-thread--p9-t1) ISPN000136: Error executing command PrepareCommand, writing keys [SessionAttributesKey(u8mzm-09YKM6zLEb7aaTZapiXz3-y4i8OOMegJRL), SessionCreationMetaDataKey(u8mzm-09YKM6zLEb7aaTZapiXz3-y4i8OOMegJRL), SessionAccessMetaDataKey(u8mzm-09YKM6zLEb7aaTZapiXz3-y4i8OOMegJRL)]: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 29
[JBossINF] 	at org.infinispan.interceptors.impl.BaseStateTransferInterceptor$CancellableRetry.run(BaseStateTransferInterceptor.java:337)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{code}
link: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-jvmkill-repl-sync/27/console-perf21/

{code:title=ISPN000097: Error while processing a prepare in a single-phase transaction}
[JBossINF] [0m[31m06:14:11,773 ERROR [org.infinispan.transaction.impl.TransactionCoordinator] (default task-65) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 29
[JBossINF] 	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:259)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:137)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:166)
[JBossINF] 	at org.infinispan.transaction.xa.XaTransactionTable.commit(XaTransactionTable.java:126)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:68)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.finishResource(TransactionImpl.java:446)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commitResources(TransactionImpl.java:493)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:335)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:91)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:945)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:577)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:339)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1979)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1481)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1360)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 29
[JBossINF] 	at org.infinispan.interceptors.impl.BaseStateTransferInterceptor$CancellableRetry.run(BaseStateTransferInterceptor.java:337)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	... 1 more
{code}
link: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-jvmkill-repl-sync/27/console-perf21/

{code:title=ISPN000927: exception while committing: javax.transaction.xa.XAException}
[JBossINF] [0m[33m06:14:11,780 WARN  [org.infinispan.commons.tx.TransactionImpl] (default task-65) ISPN000927: exception while committing: javax.transaction.xa.XAException
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:222)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:168)
[JBossINF] 	at org.infinispan.transaction.xa.XaTransactionTable.commit(XaTransactionTable.java:126)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:68)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.finishResource(TransactionImpl.java:446)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commitResources(TransactionImpl.java:493)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:335)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:91)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:945)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:577)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:339)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1979)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1481)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1360)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 29
[JBossINF] 	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:259)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:137)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:166)
[JBossINF] 	... 30 more
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 29
[JBossINF] 	at org.infinispan.interceptors.impl.BaseStateTransferInterceptor$CancellableRetry.run(BaseStateTransferInterceptor.java:337)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	... 1 more
{code}
link: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-jvmkill-repl-sync/27/console-perf21/

{code:title=UT005023: ... HeuristicRollbackException}
[JBossINF] [0m[31m08:57:51,979 ERROR [io.undertow.request] (default task-56) UT005023: Exception handling request to /clusterbench-granular/granular: org.infinispan.commons.CacheException: javax.transaction.HeuristicRollbackException
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:102)
[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.getEntry(CacheRegistry.java:174)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.locate(InfinispanRouteLocator.java:57)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionIdentifierCodec.encode(DistributableSessionIdentifierCodec.java:48)
[JBossINF] 	at org.wildfly.extension.undertow.session.CodecSessionConfig.findSessionId(CodecSessionConfig.java:60)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl$ServletContextSessionConfig.findSessionId(ServletContextImpl.java:1215)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:158)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:858)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:933)
[JBossINF] 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:69)
[JBossINF] 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
[JBossINF] 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1979)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1481)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1360)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] Caused by: javax.transaction.HeuristicRollbackException
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.finishResource(TransactionImpl.java:478)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commitResources(TransactionImpl.java:493)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:335)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
[JBossINF] 	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
[JBossINF] 	... 36 more
[JBossINF] Caused by: javax.transaction.xa.XAException
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:222)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:168)
[JBossINF] 	at org.infinispan.transaction.xa.XaTransactionTable.commit(XaTransactionTable.java:126)
[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:68)
[JBossINF] 	at org.infinispan.commons.tx.TransactionImpl.finishResource(TransactionImpl.java:446)
[JBossINF] 	... 40 more
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 21
[JBossINF] 	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:259)
[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:137)
[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:166)
[JBossINF] 	... 43 more
[JBossINF] Caused by: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 21
[JBossINF] 	at org.infinispan.interceptors.impl.BaseStateTransferInterceptor$CancellableRetry.run(BaseStateTransferInterceptor.java:337)
[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	... 1 more
{code}

link: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-jvmkill-dist-sync/3/console-perf18/

The client is affected, getting 500 as a response:
{code}
2018/02/16 08:57:51:748 EST [WARN ][Runner - 1950] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: <html><head><title>Error</title></head><body>Internal Server Error</body></html>
	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:164)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:748)
{code}
link: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-jvmkill-dist-sync/3/console-perf17/

",2018/02/27 2:37 AM
WFLY-9890,"Seen in SF failover tests - scenarios: 
failover-http-granular-shutdown-repl-sync (replication granularity is set to ATTRIBUTE level)
failover-http-session-jvmkill-repl-sync (replication granularity is set to SESSION level)

Description: In the failover test, each server is shut down and after some time it rejoins the cluster. After joining the cluster again, the load is distributed to this node. It seems that first request for some session handled by that node produces ERROR in the log of some other server until the time another cluster topology change occurs. 

Stacktrace of the error: 
{code}
[JBossINF] [0m[31m10:18:00,256 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (timeout-thread--p12-t1) ISPN000136: Error executing command PrepareCommand, writing keys [SessionCreationMetaDataKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9), SessionAccessMetaDataKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9), SessionAttributeKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9[1])]: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 30250 from perf18
[JBossINF] 	at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:163)
[JBossINF] 	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:86)
[JBossINF] 	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:21)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{code}

Client gets the stale data: 
{code}
2018/02/21 10:18:00:272 EST [WARN ][Runner - 16] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Stale session data received. Expected 60, received 59, Runner: 16>
        org.jboss.smartfrog.loaddriver.RequestProcessingException: Stale session data received. Expected 60, received 59, Runner: 16
	at org.jboss.smartfrog.loaddriver.http.AbstractSerialNumberValidatorFactoryImpl$SerialNumberValidator.processRequest(AbstractSerialNumberValidatorFactoryImpl.java:133)
	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)
	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)
	at java.lang.Thread.run(Thread.java:748)

{code}

Example - timeline:

{code}
4 servers are running, 2000 clients, no issue in the beggining
2018/02/21 10:16:43:234 EST [INFO ][TestController] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Node 0 (perf18) is down. 
- still no issues
2018/02/21 10:17:43:234 EST [INFO ][TestController] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Bringing back node 0 (perf18)
2018/02/21 10:17:55:611 EST [INFO ][TestController] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Node 0 (perf18) is up.
2018/02/21 10:18:00:272 EST [WARN ][Runner - 16] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  <org.jboss.smartfrog.loaddriver.RequestProcessingException: Stale session data received. Expected 60, received 59, Runner: 16>
{code}

perf20 started logging the errors meanwhile and stopped only after perf19 was shut down:
{code}
[JBossINF] [0m[0m10:17:50,227 INFO  [org.infinispan.CLUSTER] (thread-19,ejb,perf20) ISPN000094: Received new cluster view for channel ejb: [perf19|5] (4) [perf19, perf20, perf21, perf18]
[JBossINF] [0m[0m10:17:50,228 INFO  [org.infinispan.CLUSTER] (thread-19,ejb,perf20) ISPN100000: Node perf18 joined the cluster
[JBossINF] [0m[31m10:18:00,256 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (timeout-thread--p12-t1) ISPN000136: Error executing command PrepareCommand, writing keys [SessionCreationMetaDataKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9), SessionAccessMetaDataKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9), SessionAttributeKey(f25_wwXXpvtNC9QTHZUtSwhmEUmg-wI77RL_17b9[1])]: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 30250 from perf18
[JBossINF] 	at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:163)
[JBossINF] 	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:86)
[JBossINF] 	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:21)
[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] 

{code}

There were no issues in this scenario in EAP 7.1.0.GA.

Links:
Clients: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-shutdown-repl-sync/25/console-perf17/
perf18: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-shutdown-repl-sync/25/console-perf18/
perf20: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-shutdown-repl-sync/25/console-perf20/

Another test:
perf19: http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-jvmkill-repl-sync/27/console-perf19/",2018/02/22 8:02 AM
WFLY-10106,The method anotated with @Schedule is executed repeatedly just before entering the day of daylight-saving time.,2018/03/26 8:57 AM
WFLY-8760,"There is missing doPriviliged block in ModuleClassLoaderLocator. Fix of WFLY-7412 for ModuleClassLoaderLocator introduces new CombinedClassLoader innner class which extends SecureClassLoader. Initialization of this class needs to createClassLoader RuntimePermission.

That means:
* All deployment which uses API which internally uses ModuleClassLoaderLocator needs createClassLoader RuntimePermission (which is new in EAP 7.1, the same deployments in EAP 7.0 does not need this permission)
** i.e. getMappingContext(String mappingType) in org.jboss.security.plugins.mapping.JBossMappingManager works internally with ModuleClassLoaderLocator.
* setting createClassLoader RuntimePermission for deployment can be dangerous and it should probably use own permission",2017/05/12 8:19 AM
WFLY-11432,"Upon deployment of an example app from weld examples, there is CNFE from open tracing during the deployment of an EAR (WAR + EJB JAR) artifact. [~manovotn] has already done some investigation and sent his findings to [wildfly-dev mailing list|http://lists.jboss.org/pipermail/wildfly-dev/2018-November/006716.html].

Problematic Weld example test is [this one|https://github.com/weld/core/blob/master/examples/jsf/translator/ftest/src/ftest/java/org/jboss/weld/examples/translator/ftest/TranslatorTest.java].
{code}
2018-11-28 14:35:36,063 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""weld-translator.ear"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""weld-translator.ear"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:186)
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:194)
	at org.jboss.weld.resources.ClassTransformer.getEnhancedAnnotatedType(ClassTransformer.java:232)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.initEnhancedSubclass(SubclassedComponentInstantiator.java:86)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.<init>(SubclassedComponentInstantiator.java:79)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.forInterceptedDecoratedBean(SubclassedComponentInstantiator.java:63)
	at org.jboss.weld.injection.producer.BeanInjectionTarget.initializeAfterBeanDiscovery(BeanInjectionTarget.java:121)
	at org.jboss.weld.injection.producer.InjectionTargetInitializationContext.initialize(InjectionTargetInitializationContext.java:42)
	at org.jboss.weld.injection.producer.InjectionTargetService.initialize(InjectionTargetService.java:63)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:475)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more
Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)
	at java.lang.Class.getDeclaredMethods(Class.java:1975)
	at org.jboss.weld.annotated.slim.backed.SecurityActions.getDeclaredMethods(SecurityActions.java:41)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.computeValue(BackedAnnotatedType.java:197)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.computeValue(BackedAnnotatedType.java:191)
	at org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:46)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$EagerlyInitializedLazyValueHolder.<init>(BackedAnnotatedType.java:159)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.<init>(BackedAnnotatedType.java:191)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.<init>(BackedAnnotatedType.java:191)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.<init>(BackedAnnotatedType.java:66)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.of(BackedAnnotatedType.java:47)
	at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:84)
	at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:79)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.lambda$null$0(ReentrantMapBackedComputingCache.java:55)
	at org.jboss.weld.util.WeakLazyValueHolder$1.computeValue(WeakLazyValueHolder.java:35)
	at org.jboss.weld.util.WeakLazyValueHolder.get(WeakLazyValueHolder.java:53)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:72)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:78)
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:177)
	... 19 more
Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module ""deployment.weld-translator.ear"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 39 more

2018-11-28 14:35:36,073 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""weld-translator.ear"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""weld-translator.ear\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
    Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
    Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module \""deployment.weld-translator.ear\"" from Service Module Loader]""}}
2018-11-28 14:35:36,076 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""weld-translator.ear"" was rolled back with the following failure message: 
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""weld-translator.ear\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
    Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
    Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module \""deployment.weld-translator.ear\"" from Service Module Loader]""}}
{code}

",2018/11/28 8:38 AM
WFLY-10713,"Can't build WF master with 11-ea+22

{code}
[INFO] WildFly: Servlet Galleon Pack ...................... FAILURE [  3.481 s]

[ERROR] Failed to execute goal org.wildfly.galleon-plugins:wildfly-galleon-maven-plugin:
  2.0.0.Alpha4:generate-feature-specs 
  (feature-spec-build) on project wildfly-servlet-galleon-pack:
  Feature spec generator failed: Forked embedded process has failed -> [Help 1]
{code}
",2018/07/19 4:32 AM
WFLY-8720,Regression tests for WFCORE-2392 has to be unignored and updated (fixed) - {{org/wildfly/test/integration/elytron/ejb/AuthenticationTestCase.java}},2017/05/08 10:33 AM
WFLY-9620,"A user has reported in the forums that there appears to be an issue (since 9.0.x till present 11.0.0 WildFly releases) where files like `/etc/passwd` are served by the web container to the clients, when the client requests a crafted URL against a Java EE deployment which has (Java EE) servlet overlays. Please see the referenced forum thread[1] for more details.

Although, the steps noted in that thread involves Spring framework and gets triggered in a very specific way, the root cause appears to be the call to `ServletContext.getResourceAsInputStream` (which is what the spring framework ends up calling with a path like ""/../../../../../../../..//etc/passwd"", ends up actually serving the resource even if the path is outside the scope of the deployment to which the servlet context belongs.

I could reproduce this against the latest WildFly in a simple test case that's here [2]


[1] https://developer.jboss.org/thread/276826
[2] https://github.com/jaikiran/wildfly/commit/ed05258aa824ab91a52ef6554e9707531a2cc83b

P.S: The credit for reporting this issue should go to Laurent Roussel who reported this in the forum thread, but I don't have access to change the ""Reporter"" field of the JIRA",2017/12/19 12:44 AM
WFLY-9885,"configuration of {{authentication-context-and-application}}, {{authentication-context}} and {{recovery-authentication-context}} is ignored in security configuration of RA's {{connection-definition}}

Example:
{code:xml}
            <resource-adapters>
                <resource-adapter id=""activemq-rar.rar"">
                    <archive>activemq-rar.rar</archive>
                    <bootstrap-context>customContext</bootstrap-context>
                    <workmanager>
                        <security>
                            <mapping-required>true</mapping-required>
                            <elytron-security-domain>wm-realm</elytron-security-domain>
                        </security>
                    </workmanager>
                    <config-property name=""ServerUrl"">URL</config-property>
                    <connection-definitions>
                        <connection-definition class-name=""org.apache.activemq.ra.ActiveMQManagedConnectionFactory"" jndi-name=""java:/ConnectionFactory"" enabled=""true"" pool-name=""ConnectionFactory"">
                            <security>
                                <elytron-enabled>true</elytron-enabled>
                                <authentication-context-and-application>AMQ-context</authentication-context-and-application>
                            </security>
                            <recovery/>
                     </connection-definition>
                 </connection-definitions>
                 <admin-objects>
                     <admin-object class-name=""org.apache.activemq.command.ActiveMQQueue"" jndi-name=""java:jboss/queue/testQueue"" enabled=""true"" pool-name=""testQueue""/>
                </admin-objects>
         </resource-adapter>
{code}
",2018/02/22 4:29 AM
WFLY-9507,"*Server* logs WARN message during failover scenario *http-granular-shutdown-dist-sync*.

Server log message:
{code}
21:37:42,027 WARN  [org.wildfly.clustering.web.infinispan] (default task-29) WFLYCLWEBINF0011: Session NG5R9o7K2QmlflRasnUQQQbZRHepRHh4uBWVJtVP is missing cache entry for attribute org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServletSerial
{code}

Message occurs repetitively after new session was created:
{code}
21:35:42,596 INFO  [org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServlet] (default task-85) New session created: XvRFigJkUfFIrpfuDN4xLfpFArKWNS_b1_RMdH_E
{code}

New cluster view was received more than 3 minutes earlier:
{code}
21:34:13,648 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (thread-5) ISPN000094: Received new cluster view for channel hibernate: [perf19|3] (4) [perf19, perf20, perf21, perf18]
{code}

Link to server log:
http://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-granular-shutdown-dist-sync/14/console-perf20/",2017/10/31 12:49 PM
WFLY-9502,"When I create jms bridge on EAP7 that tries to connect to EAP6, it throws following issue when trying to do remote lookup for connection factory or destination on EAP6.

{code}
2017-10-31 09:44:18,769 WARN  [org.apache.activemq.artemis.jms.bridge] (Thread-102) AMQ342010: Failed to connect JMS Bridge N/A: javax.naming.InvalidNameException: WFNAM00007: Invalid URL scheme name ""null""
	at org.wildfly.naming.client.WildFlyRootContext.getProviderContext(WildFlyRootContext.java:808)
	at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:140)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.apache.activemq.artemis.jms.bridge.impl.JNDIFactorySupport.createObject(JNDIFactorySupport.java:46)
	at org.apache.activemq.artemis.jms.bridge.impl.JNDIDestinationFactory.createDestination(JNDIDestinationFactory.java:32)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.setupJMSObjects(JMSBridgeImpl.java:1072)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.setupJMSObjectsWithRetry(JMSBridgeImpl.java:1247)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.access$2600(JMSBridgeImpl.java:75)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl$FailureHandler.run(JMSBridgeImpl.java:1747)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{\code}

When debugging I noticed that WildFlyRootContext.getProviderContext there's no NamingProviderFactory available to resolve the name, so I think the error message is just a consequence of that.",2017/10/31 5:31 AM
WFLY-9777,"After a full test run, {{git status}} reports the following:

{noformat}
Untracked files:
  (use ""git add <file>..."" to include in what will be committed)

	testsuite/integration/basic/user-transaction-access-test.jar
	testsuite/integration/elytron/boot.log
	testsuite/integration/elytron/boot.log.2018-02-05
	testsuite/integration/iiop/CosServices.cfg
	testsuite/integration/iiop/ObjectStore/
	testsuite/integration/ws/jaxws-samples-wsse-policy-trust-client.jar

no changes added to commit (use ""git add"" and/or ""git commit -a"")
{noformat}

This is highly problematic as it's just a matter of time before one of these files ends up getting committed by mistake.

Update the test suite to create temporary files in {{target}} directories only.",2018/02/08 12:45 PM
WFLY-9778,"Something (I think the test suite) is generating non-distribution-related modules into the {{build}} directory of the server, for example {{build/target/wildfly-12.0.0.Alpha1-SNAPSHOT/modules/connlistener}}.  We should not be doing this; these kinds of special modules should be generated elsewhere and overlaid on the test suite images that need them.
",2018/02/08 12:47 PM
WFLY-9903,"Removal of modcluster subsystem first produces an error, and succeeds for the second time:

[standalone@localhost:9990 /] /subsystem=modcluster:remove()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0441: Operation has resulted in failed or missing services 
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service org.wildfly.mod_cluster.undertow (unavailable) dependents: [service org.wildfly.undertow.http-invoker.host.default-host.http-invoker] 
"",
    ""rolled-back"" => true
}
[standalone@localhost:9990 /] /subsystem=modcluster:remove()
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}

Error in the wildfly output is

18:35:11,316 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 78) MODCLUSTER000002: Initiating mod_cluster shutdown
18:35:11,319 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (""remove"") failed - address: ([(""subsystem"" => ""modcluster"")]) - failure description: ""WFLYCTL0441: Operation has resulted in failed or missing services 
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service org.wildfly.mod_cluster.undertow (unavailable) dependents: [service org.wildfly.undertow.http-invoker.host.default-host.http-invoker] 
""
18:35:11,321 INFO  [org.jboss.as.controller] (management-handler-thread - 2) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service org.wildfly.mod_cluster.undertow (unavailable) dependents: [service org.wildfly.undertow.http-invoker.host.default-host.http-invoker] 

For the second time, it succeeds.",2018/02/23 12:39 PM
WFLY-10342,"When trying to deploy deployment containing following two EJBs, secured and unsecured, deploying fails with ""Multiple security domains not supported"" exception:
{code}
21:16:30,089 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.""ejb-deployment-1.0-SNAPSHOT.war"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""ejb-deployment-1.0-SNAPSHOT.war"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment ""ejb-deployment-1.0-SNAPSHOT.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:150)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1714)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1693)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1540)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0490: Multiple security domains not supported
	at org.jboss.as.ejb3.deployment.processors.EJBDefaultSecurityDomainProcessor.deploy(EJBDefaultSecurityDomainProcessor.java:99)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:143)
	... 8 more
{code}

This behavior was in JBEAP-9289 considered correct for situation when one EJB references one security domain and the second references second security domain.
It seems unsecured EJB is considered to be using default security domain.

*Workaround:* Need to set unsecured bean secured by adding:
{code}
@PermitAll
@SecurityDomain(""other2"") // the same as for secured ejb
{code}",2018/05/07 3:24 PM
WFLY-10907,"Legacy code will lookup a SingletonPolicy or SingletonServiceBuilderFactory using the deprecated ServiceController.awaitValue() or getValue() methods.  Services installed using the new MSC service installation API will throw an UnsupportedOperationException in this case.  Consequently, the services providing the legacy implementations of these deprecated APIs need to be installed using the deprecated MSC API to prevent migrated applications from unexpected UnsupportedOperationExceptions.",2018/08/22 11:12 AM
WFLY-10442,"The current implementation of certain mod_cluster proxy operations are registering potentially dangerous rollback handlers. They are making an assumption what was the state of the system prior to the operation.

For instance, if the proxy was already disabled, and a disable operation is called which intermittently fails, a callback handler will be called which will enable the proxy. This is dangerous as attempting to disable an already disabled proxy may potentially enable it.

This behavior should be removed.",2018/05/24 6:12 AM
WFLY-10690,"Rename module name of rxjava:
{noformat}
$ cat ./modules/system/layers/base/io/reactivex/rxjava/main/module.xml | grep ""module.name.*rx\|jar""
<module name=""io.reactivex.rxjava"" xmlns=""urn:jboss:module:1.5"">
        <resource-root path=""rxjava-2.1.9.jar""/>
$ 
{noformat}

Module name doesn't reflect real rxjava2 package and artifactId, see [maven repo|https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxjava/2.1.9]:
{code:xml}
<dependency>
    <groupId>io.reactivex.rxjava2</groupId>
    <artifactId>rxjava</artifactId>
    <version>2.1.9</version>
</dependency>
{code}

Correct module name should be ""io.reactivex.rxjava2.rxjava"".

",2018/07/11 2:29 AM
WFLY-10843,"WFLYWELD0012 warning while parsing valid beans.xml: Cannot find the declaration of element 'beans'.
{code}
 WFLYWELD0012:
 Warning while parsing jar:file:/Users/rsvoboda/tmp/wildfly/dist/target/wildfly-14.0.0.Beta2-SNAPSHOT/modules/system/layers/base/io/smallrye/health/main/
 smallrye-health-1.0.2.jar!/META-INF/beans.xml:4 cvc-elt.1.a:
 Cannot find the declaration of element 'beans'.
{code}

Some details in https://issues.jboss.org/browse/WFWIP-107

[~mkouba@redhat.com] says that https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/deployment/PropertyReplacingBeansXmlHandler.java needs to be adjusted to correctly detect error messages which should be ignored ++ follow Weld code in https://github.com/weld/core/blob/master/impl/src/main/java/org/jboss/weld/xml/BeansXmlValidator.java#L116-L122",2018/08/15 6:24 AM
WFLY-10917,"Affected scenario is {{[perflab_eap-7x-failover-http-session-shutdown-dist-async-auth-asymEncrypt|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-async-auth-asymEncrypt/]}}: it is a 4 nodes fail-over scenario where JGroups communication is encrypted asymmetrically:

{noformat}
        <subsystem xmlns=""urn:jboss:domain:jgroups:6.0"" default-stack=""udp"">
            <channels default=""ee"">
                <channel name=""ee"" stack=""udp"" cluster=""ejb""/>
            </channels>
            <stacks>
                <stack name=""udp"">
                    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
                    <protocol type=""PING""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""ASYM_ENCRYPT"" xmlns="""">
                       <property name=""encrypt_entire_message"">true</property>
                       <property name=""sym_keylength"">128</property>
                       <property name=""sym_algorithm"">AES/ECB/PKCS5Padding</property>
                       <property name=""asym_keylength"">512</property>
                       <property name=""asym_algorithm"">RSA</property>
                    </protocol>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""AUTH"" xmlns="""">
                      <property name=""auth_class"">org.jgroups.auth.MD5Token</property>
                      <property name=""auth_value"">MyPassword</property>
                      <property name=""token_hash"">MD5</property>
                    </protocol>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""UFC""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG3""/>
                </stack>
                <stack name=""tcp"">
                    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
                    <socket-protocol type=""MPING"" socket-binding=""jgroups-mping""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG3""/>
                </stack>
            </stacks>
        </subsystem>
{noformat}

The problem is that, after one node of the cluster is shut down and restarted, the remaining nodes fail to shut-down gracefully and their JVM has to be killed.
The default shut-down waiting time is 1 minute: it has been extended to 5 but the nodes still fail to shut-down even in 5 minutes.

Find attached:
- the complete log of one node failing to shut-down (17293.log)
- the thread dump of this node just before being killed (after a 5 minutes time-out) (perf20-consoleText.txt)

The server logs messages like the following (as in JGRP-2282):

{noformat}
[JBossINF] [0m[31m05:36:35,687 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf21; dropping it
[JBossINF] [0m[31m05:36:36,668 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf21; dropping it
[JBossINF] [0m[31m05:36:36,879 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf18; dropping it
{noformat}

before failing to shut-down.

",2018/08/24 8:51 AM
WFLY-10839,"This is because Duration stores the value as seconds + nanosecond precision, while Thread.sleep requests nanoseconds as remainder to milliseconds, i.e. less than or equal to 999_999.

{code}
15:18:43,654 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 82) MSC000001: Failed to start service org.wildfly.clustering.cache.registry.ejb.client-mappings: org.jboss.msc.service.StartException in service org.wildfly.clustering.cache.registry.ejb.client-mappings: java.lang.IllegalArgumentException: nanosecond timeout value out of range
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_181]
	at org.jboss.threads.JBossThread.run(JBossThread.java:485) [jboss-threads-2.3.2.Final.jar:2.3.2.Final]
Caused by: java.lang.IllegalArgumentException: nanosecond timeout value out of range
	at java.lang.Thread.sleep(Thread.java:332) [rt.jar:1.8.0_181]
	at org.wildfly.clustering.ee.retry.RetryingInvoker.invoke(RetryingInvoker.java:60)
	at org.wildfly.clustering.ee.retry.RetryingInvoker.invoke(RetryingInvoker.java:78)
	at org.wildfly.clustering.server.registry.CacheRegistry.<init>(CacheRegistry.java:105)
	at org.wildfly.clustering.server.registry.CacheRegistryFactoryServiceConfigurator.apply(CacheRegistryFactoryServiceConfigurator.java:64)
	at org.wildfly.clustering.server.registry.CacheRegistryFactoryServiceConfigurator.apply(CacheRegistryFactoryServiceConfigurator.java:48)
	at org.wildfly.clustering.server.registry.FunctionalRegistryFactory.createRegistry(FunctionalRegistryFactory.java:55)
	at org.wildfly.clustering.server.registry.RegistryServiceConfigurator.get(RegistryServiceConfigurator.java:69)
	at org.wildfly.clustering.server.registry.RegistryServiceConfigurator.get(RegistryServiceConfigurator.java:53)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67) [wildfly-clustering-service-14.0.0.Beta2-SNAPSHOT.jar:14.0.0.Beta2-SNAPSHOT]
	... 7 more
{code}",2018/08/14 10:22 AM
WFLY-10479,"The capability reference is missing to validate outbound-socket-binding(s).

Note for tester, this makes tab completion in CLI missing or makes operations like {{/subsystem=modcluster/proxy=default:write-attribute(name=proxies,value=[x])}} accept any value and then fail on boot.",2018/05/29 1:48 PM
WFLY-10770,This test HotRodPersistenceWebFailoverTestCase seems to fail more or less consistently for me on CI.,2018/07/31 4:35 AM
WFLY-9099,"Follow up to JBEAP-11462, because this issue doesn't seem to be resolved in the case where Elytron is used.

To reproduce, use the same steps as in JBEAP-11462, but instead of creating  a {{jmx-console}} security domain, create an {{application-security-domain}} mapping from {{jmx-console}} to {{ApplicationDomain}} Elytron domain.",2017/07/18 4:21 PM
WFLY-9309,"Wrong licenses for jboss-transaction-api_1.2_spec in servlet-feature-pack-licenses.xml and full-feature-pack-licenses.xml - contains:
     <groupId>org.jboss.spec.javax.transaction</groupId>
      <artifactId>jboss-transaction-api_1.2_spec</artifactId>
      <licenses>
        <license>
          <name>Apache License 2.0</name>
          <url>http://www.apache.org/licenses/LICENSE-2.0</url>
          <distribution>repo</distribution>
        </license>
      </licenses>
    </dependency>

and artifact contains:
      <groupId>org.jboss.spec.javax.transaction</groupId>
      <artifactId>jboss-transaction-api_1.2_spec</artifactId>
      <licenses>
        <license>
          <name>Common Development and Distribution License 1.1</name>
          <url>https://javaee.github.io/glassfish/LICENSE</url>
          <distribution>repo</distribution>
        </license>
        <license>
          <name>GNU General Public License, Version 2 with the Classpath Exception</name>
          <url>http://repository.jboss.org/licenses/gpl-2.0-ce.txt</url>
          <distribution>repo</distribution>
        </license>
      </licenses>

we need to fix inconsistency.",2017/09/07 3:49 AM
WFLY-9336,"Extend security context propagation test coverage:
* add servlet-to-ejb credential propagation scenarios (BASIC, FORM, BEARER)
* add tests for manual credentials retrieving (use in *-to-servlet scenarios)
* credential-less propagation
* clustered scenarios for authorization forwarding
* sequence of more authentication/authorization forwarding mode calls
* exception propagation to previous server
* negative scenario for credentials not being accessible on forwarded server after authorization forwarding
* identity switching on one remote connection for
** authentication and authorization switching
** authorization and different authorization switching
",2017/09/11 7:20 AM
WFLY-9308,"licenses.xml contains:
   <dependency>
      <groupId>org.jboss.spec.javax.xml.soap</groupId>
      <artifactId>jboss-saaj-api_1.3_spec</artifactId>
      <licenses>
        <license>
          <name>Apache License 2.0</name>
          <url>http://www.apache.org/licenses/LICENSE-2.0</url>
          <distribution>repo</distribution>
        </license>
      </licenses>
    </dependency>

while artifact itself is:
  <licenses>
   <license>
      <name>Common Development and Distribution License</name>
      <url>http://repository.jboss.org/licenses/cddl.txt</url>
      <distribution>repo</distribution>
    </license>
    <license>
      <name>GNU General Public License, Version 2 with the Classpath Exception</name>
      <url>http://repository.jboss.org/licenses/gpl-2.0-ce.txt</url>
      <distribution>repo</distribution>
    </license>
  </licenses>

we need to make it consistent",2017/09/07 3:26 AM
WFLY-9362,As pointed out by Stuart missing {{.call()}} on the Callable.,2017/09/19 7:30 AM
WFLY-9384,"org.cryptacular:cryptacular has name of license ""GNU Lesser General Public License, Version 3"" and it should be ""GNU Lesser General Public License v3.0 only"" in order for it to be compliant with SPDX - https://spdx.org/licenses/",2017/09/26 7:42 AM
WFLY-8718,"The {{jdbc-driver=*}} management resources in the {{datasources}} subsystem has two attributes, {{xa-datasource-class}} and {{driver-xa-datasource-class-name}}, whose difference isn't clear. Per wildfly-dev discussion \[1\], the {{xa-datasource-class}} has actually no meaning. IMHO, at the very least, it should be marked as deprecated with an explanation of something like ""ignored"" or so. Ultimately, removal is IMHO a good idea.

I'd also like to note that this actually caused a bug in WildFly Swarm: SWARM-1215

\[1\] http://lists.jboss.org/pipermail/wildfly-dev/2017-May/005913.html",2017/05/08 7:50 AM
WFLY-10912,"This issue is very similar to WFLY-10262/JBEAP-14641 but the condition causing the problem is a bit different.

The issue happens when the client sends JSESSIONID Cookie in the request to the web application does NOT use HttpSession. JSESSIONID Set-Cookie response header should not be sent in this scenario, but WildFly/EAP 7 returns the response with JSESSIONID reusing the requested session id which does not exist in the session manager.

The fix for WFLY-10262 / JBEAP-14641 added AttachmentKey SESSION_ID_SET to avoid invoking CodecSessionConfig#setSessionId() more than once. However, the fix does not help for this issue because CodecSessionConfig#setSessionId() is not invoked (= SESSION_ID_SET is null) before the problematic CodecSessionConfig#findSessionId() processing in this scenario. 
",2018/08/23 9:49 PM
WFLY-11365,"{noformat}
org.jboss.as.test.integration.json (1)
    JSONBTestCase.testJsonbServlet
{noformat}

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/store/repository/org/eclipse/yasson/1.0.2/yasson-1.0.2.jar"" ""read"")"" in code source ""(vfs:/content/jsonb10-test.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.jsonb10-test.war"" from Service Module Loader"")
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
 at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:359)
 at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:216)
 at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)
 at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)
 at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:103)
 at sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:93)
 at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
 at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
 at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
 at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:152)
 at java.net.URL.openStream(URL.java:1045)
 at java.util.ServiceLoader.parse(ServiceLoader.java:304)
 at java.util.ServiceLoader.access$200(ServiceLoader.java:185)
 at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:357)
 at java.util.ServiceLoader$LazyIterator.access$600(ServiceLoader.java:323)
 at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:396)
 at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:395)
 at java.security.AccessController.doPrivileged(Native Method)
 at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:398)
 at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)
 at javax.json.bind.spi.JsonbProvider.provider(JsonbProvider.java:112)
 at javax.json.bind.JsonbBuilder.create(JsonbBuilder.java:108)
 at org.jboss.as.test.integration.json.JSONBServlet.doGet(JSONBServlet.java:46)	...
{noformat}

Looks to me similar to WFLY-11337

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",2018/11/16 4:01 AM
WFLY-9324,Kind of a regression of AS7-4041. Currently the AttributeDefinition for {{driver-name}} is [marked as required|https://github.com/wildfly/wildfly/blob/5278ccf0cd392c2d82e96385455175ada52043ee/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/Constants.java#L842] which is unnecessary since the name is taken from the operation.,2017/09/08 7:17 AM
WFLY-10630,"For sessions shared across different WARs in a single EAR, the notification of HttpSessionListener works differently in WildFly 10.0.0.Final (and Wildfly 13.0.0.Final) than it it used to work in WildFly 8.2.0.Final:

I have an EAR containing two WARs with enabled session sharing across the WARs. Basically, one WAR contains the web UI, and the other WAR contains the REST interfaces for AJAX calls made by the UI. The user authenticates against the UI-WAR. On logout, a REST method in the AJAX-WAR is triggered which calls HttpSession.invalidate() on the user session.

In WildFly 8.2.0.Final, a HttpSessionListener in the UI-WAR gets notified immediately about session creation and destruction.

In WildFly 13.0.0.Final, however, a HttpSessionListener in either WAR only gets one of the two notifications:
* In the UI-WAR, I get a notification about the created session immediately when the login form is loaded. However, I do not receive any notification about the session destruction (unless it times out).
* In the AJAX-WAR, I do not get any notification about the session creation at all, but I immediately receive a notification about the session destruction.",2018/06/25 2:50 AM
WFLY-11094,"Elytron does not do RunAs identity remote propagation
-> EJB with @RunAs(""ejbuser"") -> remote EJB , where Elytron security forwarding is configured, @RunAs is not working. And caused authentication error when trying to call the 2nd server when @RunAs is added.",2018/10/01 1:20 AM
WFLY-11155,"https://ci.wildfly.org/viewLog.html?buildId=124494&buildTypeId=WF_PullRequest_LinuxJdk10#testNameId8859243729253738053

The requisite java.xml.bind module was deprecated in Java 9 and removed from Java 11, as it was relocated to JEE.

Therefore the org.wildfly.clustering.web.spi module needs an additional provided dependency on the javax.xml.bind.api EE module.
However, it seems overkill to import a whole module just to perform hex encoding/decoding, as we can easily do this manually.",2018/10/10 11:54 AM
WFLY-10891,"TS - explicit dependency on org.apache.maven.surefire:surefire-junit47 disallows TestNG based tests 
https://github.com/wildfly/wildfly/blob/master/pom.xml#L6461

This was brought in 5 years ago, current version of Maven and surefire plugins should be able to deal with it without explicit help.

Removal of this part could allow adoption of TestNG based test coverage 
",2018/08/21 9:36 AM
WFLY-10621,"Note: This is report for the issue reported here first https://developer.jboss.org/thread/277883
It can be seen at WildFly 11 and EAP 7.1 at least, however as the particular code in the DistributableSessionManager class seems to be unchanged even in WildFly 13 it's likely to occur there as well. (We test WildFly 11 because it's closest to the EAP 7.1 which is being considered for the production use later in this project)

Stop server operation may hang indefinitely due to the thread such as the following one being blocked:
{noformat}
""ServerService Thread Pool -- 24"" #49 prio=5 os_prio=0 tid=0x00000000035d1000 nid=0x4de1 waiting on condition [0x00007f4bddc46000]
   java.lang.Thread.State: WAITING (parking)
        at sun.misc.Unsafe.park(Native Method)
        - parking to wait for  <0x00000000c4e61998> (a java.util.concurrent.locks.StampedLock)
        at java.util.concurrent.locks.StampedLock.acquireWrite(StampedLock.java:1119)
        at java.util.concurrent.locks.StampedLock.writeLockInterruptibly(StampedLock.java:413)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.stop(DistributableSessionManager.java:90)
        - locked <0x00000000c4e60090> (a org.wildfly.clustering.web.undertow.session.DistributableSessionManager)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:599)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:589)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$1005/749195997.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$1006/1165195653.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$1006/1165195653.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$1006/1165195653.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$1006/1165195653.call(Unknown Source)
        at io.undertow.servlet.core.DeploymentManagerImpl.stop(DeploymentManagerImpl.java:603)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:139)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$2.run(UndertowDeploymentService.java:120)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}
The related code in the DistributableSessionManager makes use of the [java.util.concurrent.locks.StampedLock.writeLockInterruptibly()|https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html#writeLockInterruptibly--] method which can theoretically block indefinitely and thus prevent the server stop from ever completing.

The change was introduced in the following commit [WFLY-7695 Block session manager stop until all sessions are closed|https://github.com/wildfly/wildfly/commit/94863deeb96c4536ec5e8266573e211289b02529#diff-a7519dd56759f6084e7c0c0bb006353f]

This can occur even in non-clustered environments (non-HA profile) with web applications just being marked as distributable (web.xml).

We don't know what prevents the lock from being obtained (unable to determine from the thread dump) so we can't unfortunately do much about it at the moment from the application side.

We only tried to change the infinispan web local-cache configuration due to _ISPN000136_ errors intermittedly occurring, but that seems to have no effect. We tried various combinations of *locking isolation* (REPEATABLE_READ, READ_COMMITED), *transaction locking* (OPTIMISTIC, PESSIMISTIC) and *transaction mode* (NONE, BATCH) settings and it seems to occur with all of them.

Note: The issue doesn't occur always, only in some cases.",2018/06/22 8:40 AM
WFLY-10923,"After WFLY-10621, a DistributableSessionManager.stop hang can still occur in the following scenario.

1. async request a starts
2. sync request b invalidates session
3. async request a completes

Upon completion, the async request does not unlock and throws following exception:
{code}
16:04:58,260 ERROR [stderr] (default task-18) Exception in thread ""default task-18"" java.lang.RuntimeException: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 8adSKXK1li8Qo15QnaIGrd31DrB6B83jEL4blzq1 is invalid
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl.invokeRunnable(ServletContextImpl.java:944)
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.onAsyncComplete(AsyncContextImpl.java:594)
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.access$100(AsyncContextImpl.java:71)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$3.run(AsyncContextImpl.java:315)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$6.run(AsyncContextImpl.java:473)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$TaskDispatchRunnable.run(AsyncContextImpl.java:584)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.lang.Thread.run(Thread.java:748)
16:04:58,261 ERROR [stderr] (default task-18) Caused by: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 8adSKXK1li8Qo15QnaIGrd31DrB6B83jEL4blzq1 is invalid
16:04:58,261 ERROR [stderr] (default task-18) 	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:57)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.wildfly.clustering.web.undertow.session.DistributableSession.getAttribute(DistributableSession.java:157)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.HttpSessionImpl.getAttribute(HttpSessionImpl.java:122)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.checkBeanIdentifierIndexConsistency(HttpSessionContextImpl.java:98)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.associate(HttpSessionContextImpl.java:47)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.associate(HttpSessionContextImpl.java:23)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:237)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:246)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.setupRequestContext(AsyncContextImpl.java:678)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.access$700(AsyncContextImpl.java:71)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$7.run(AsyncContextImpl.java:599)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:177)
16:04:58,262 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:174)
16:04:58,262 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl.invokeRunnable(ServletContextImpl.java:942)
16:04:58,262 ERROR [stderr] (default task-18) 	... 8 more
{code}",2018/08/24 4:12 PM
WFLY-10686,"JBJCA-1375 is changing when JCA pool statistics are reset. Originally the stats were reset whenever {{setEnabled(boolean)}} was called, no matter the value. In the changed impl the reset only happens if the {{enabled}} value has changed.

Broken testsuite run: http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=127885&",2018/07/10 8:22 AM
WFLY-10685,NoData,2018/07/10 7:30 AM
WFLY-10622,With the integration of [https://issues.jboss.org/browse/WFCORE-433|http://example.com] wildfly core provides httpcomponents core module. The current module in WildFly should reuse it,2018/06/22 10:52 AM
WFLY-10634,"The mod_cluster custom load metrics classes are loaded from the subsystem classloader which requires users to tinker with our module structure. This is wrong since there is no way to specify which module to use.

We should just expose {{module}} attribute on the custom load metric (defaults to current default which is mod_cluster module, so no compatibility issues).",2018/06/25 11:02 AM
WFLY-10471,"Follow up on WFLY-8364. It would be ideal if this was reworked into correct resources, like the following:

{{/subsystem=modcluster/proxy=default/load-provider=dynamic}}
{{/subsystem=modcluster/proxy=default/load-provider=simple}}",2018/05/29 5:51 AM
WFLY-10421,"Follow up to WFLY-10409, but focused on server-build vs server-dist.

This is probably kind of a 3 phase thing:

1) Make sure servlet-dist is correct. Possible approach: remove modules/system and then compare the content of dist and servlet-dist, largely focusing on missing files. No need to spend energy on comparing files that exist but would reasonably differ in details, like config files, license files, .galleon dir content.

This validates servlet-dist itself.

2) Compare servlet-build to servlet-dist after removing modules/system and correct issues.

3) Look at servlet-[build|dist]-legacy which now may differ from the galleon equivalents. Adjust legacy to bring in things that were missing. Goal is to make sure we can still do diffs of galleon vs legacy to spot other issues without having to sort through too many known diffs.

This isn't particularly high priority, as it's arguable that we should drop these servlet-xxx maven modules altogether as users will be able to create equivalents using the galleon tool. Arguable, but certainly not a for sure thing.",2018/05/22 8:25 AM
WFLY-9232,Downstream counterpart MODCLUSTER-607.,2017/08/16 11:58 AM
WFLY-9461,"I have simple war app with simple servlet doing:
{noformat}
		resp.setContentType(""text/plain"");
		String servletId = (String) req.getServletContext().getAttribute(""servletId"");
		System.out.println(""requestedSessionId: "" + req.getRequestedSessionId() + "", queryString: "" + req.getQueryString());

		HttpSession session = req.getSession();
		Long counter = (Long) session.getAttribute(""counter"");
		if (counter == null) {
			counter = 0L;
		}

		counter++;
		session.setAttribute(""counter"", counter);
		PrintWriter writer = resp.getWriter();
		writer.println(servletId + "" "" + counter);
		writer.close();
{noformat}
There are running 256 clients (apache http client) hitting this servlet. When I manually introduce graceful shutdown (timeout 5s) I can occasionally see some 404 (0-10) responses (instead of 503). This response is not listed in the access log. The server log looks like:
{noformat}2017-09-13 11:54:21,070 INFO  [org.jboss.as.server] (management-handler-thread - 3) WFLYSRV0211: Suspending server with 5000 ms timeout.
2017-09-13 11:54:21,072 INFO  [org.jboss.as.ejb3] (management-handler-thread - 3) WFLYEJB0493: EJB subsystem suspension complete
2017-09-13 11:54:21,074 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
2017-09-13 11:54:21,104 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 2) WFLYUT0022: Unregistered web context: '/' from server 'default-server'
2017-09-13 11:54:21,121 TRACE [io.undertow.request] (default I/O-1) Opened connection with /127.0.0.1:44328
2017-09-13 11:54:21,121 TRACE [io.undertow.request] (default I/O-5) Opened connection with /127.0.0.1:44324
2017-09-13 11:54:21,122 DEBUG [io.undertow.request] (default I/O-1) Matched default handler path /Counter
2017-09-13 11:54:21,122 DEBUG [io.undertow.request] (default I/O-5) Matched default handler path /Counter
2017-09-13 11:54:21,132 TRACE [io.undertow.session] (ServerService Thread Pool -- 2) Bumping timeout for session KykwjKuYLFildYvXtaqCr6CHPhlQcFvq715M6CMU to 1505298261132
....
2017-09-13 11:54:21,205 TRACE [io.undertow.session] (ServerService Thread Pool -- 2) Bumping timeout for session KA4RbDMrYmi28CebEz2NzPe7sqAX35OhU95U9jvC to 1505298261205
2017-09-13 11:54:21,205 TRACE [io.undertow.session] (ServerService Thread Pool -- 2) Removing session attribute counter for session KA4RbDMrYmi28CebEz2NzPe7sqAX35OhU95U9jvC
2017-09-13 11:54:21,211 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
2017-09-13 11:54:21,214 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0019: Host default-host stopping
2017-09-13 11:54:21,217 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0019: Stopped Driver service with driver-name = h2
2017-09-13 11:54:21,233 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 23) WFLYCLINF0003: Stopped client-mappings cache from ejb container
2017-09-13 11:54:21,253 TRACE [io.undertow.request] (default I/O-5) Opened connection with /127.0.0.1:44332
2017-09-13 11:54:21,253 TRACE [io.undertow.server.handlers.ResponseCodeHandler] (default I/O-5) Setting response code 404 for exchange HttpServerExchange{ GET /Counter request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.3.6.redhat-1 (java 1.5)], Host=[localhost:8080]} response {}}
2017-09-13 11:54:21,253 TRACE [io.undertow.server.HttpServerExchange] (default I/O-5) Starting to write response for HttpServerExchange{ GET /Counter request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.3.6.redhat-1 (java 1.5)], Host=[localhost:8080]} response {Connection=[keep-alive], Content-Length=[74], Content-Type=[text/html], Date=[Wed, 13 Sep 2017 09:54:21 GMT]}}
2017-09-13 11:54:21,262 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0008: Undertow HTTP listener default suspending
2017-09-13 11:54:21,262 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTPS listener https suspending
2017-09-13 11:54:21,263 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to 127.0.0.1:8443
2017-09-13 11:54:21,263 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080
2017-09-13 11:54:21,264 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 1.4.18.Final-redhat-1 stopping
2017-09-13 11:54:21,286 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment ROOT.war (runtime-name: ROOT.war) in 191ms
{noformat}",2017/10/20 9:22 AM
WFLY-10413,"A follow up to WFLY-2436 : the previous issue was making sure the server would not be terminated in case of {{IllegalStateException}} but I witnessed now that we need to protect also against other Runtime errors such as HibernateExceptions, specifically {{org.hibernate.service.UnknownServiceException}} is possible.",2018/05/21 6:54 AM
WFLY-10076,"Parent issue: https://issues.jboss.org/browse/WFLY-9821

We throw an IlegalStateException, when an attempt is made to call the CDI container before the container is actually started with the use of CDI.current().

Although the fix clearly states its not the correct way to set the state, we throw an Exception. The deployments succeed, but a non-expert CDI user might not expect an exception, and probably it would leave them confused on what is wrong, unless they understand what they have done in their own application code. 

My thought and wish was, if we can add some log.WARN message in the condition describing why this happens, would be nice! It provides you with hints on what is NOT to be done in your application code. ",2018/03/22 10:12 AM
WFLY-9343,"When using a negative port-offset in HA profiles, mod-cluster fails to start. 

This problem doesn't occur in non-HA profiles (e.g. default), because the modcluster subsystem is not present in them.

Server log contains:
{noformat}
19:59:41,337 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service org.wildfly.mod_cluster.config: org.jboss.msc.service.StartException in service org.wildfly.mod_cluster.config: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1978)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalArgumentException: port out of range:-100
	at java.net.InetSocketAddress.checkPort(InetSocketAddress.java:143)
	at java.net.InetSocketAddress.<init>(InetSocketAddress.java:188)
	at org.jboss.as.network.SocketBinding.getSocketAddress(SocketBinding.java:129)
	at org.wildfly.extension.mod_cluster.ModClusterConfigurationServiceBuilder.getValue(ModClusterConfigurationServiceBuilder.java:272)
	at org.wildfly.extension.mod_cluster.ModClusterConfigurationServiceBuilder.getValue(ModClusterConfigurationServiceBuilder.java:104)
	at org.jboss.msc.service.ValueService.start(ValueService.java:49)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
	... 3 more

19:59:41,492 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
19:59:41,493 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
19:59:41,657 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0014: Creating file handler for path '/home/kwart/test/710CR1/jboss-eap-7.1/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
19:59:41,663 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0012: Started server default-server.
19:59:41,666 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
19:59:41,729 INFO  [org.jboss.as.ejb3] (MSC service thread 1-7) WFLYEJB0493: EJB subsystem suspension complete
19:59:41,747 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0006: Undertow AJP listener ajp listening on 127.0.0.1:7909
19:59:41,749 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:7980
19:59:41,881 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
19:59:41,989 INFO  [org.jboss.as.patching] (MSC service thread 1-3) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none
19:59:42,006 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-3) WFLYDM0111: Keystore /home/kwart/test/710CR1/jboss-eap-7.1/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
19:59:42,043 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-4) WFLYDS0013: Started FileSystemDeploymentService for directory /home/kwart/test/710CR1/jboss-eap-7.1/standalone/deployments
19:59:42,151 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8343
19:59:42,252 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.9.Final-redhat-1 (Apache CXF 3.1.12.redhat-1) 
19:59:42,259 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""modcluster"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.mod_cluster.config"" => ""Failed to start service
    Caused by: java.lang.IllegalArgumentException: port out of range:-100""}}
19:59:42,282 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service org.wildfly.mod_cluster.config: Failed to start service

19:59:42,367 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
19:59:42,369 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9890/management
19:59:42,370 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9890
19:59:42,370 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.0.GA (WildFly Core 3.0.1.Final-redhat-1) started (with errors) in 4175ms - Started 309 of 642 services (3 services failed or missing dependencies, 421 services are lazy, passive or on-demand)
{noformat}",2017/09/14 4:26 AM
WFLY-9370,"{{SingletonTunnelTestCase(ASYNC-tunnel)#testSingletonService}} is failing consistently now.

The problem is that this test is not run as part of regular CI execution thus is destined to be broken. The test should be moved to the right location and renamed (i.e. drop tunnel since that has nothing to do with what it is testing). 

{noformat}
&amp#27;[0m&amp#27;[31m04:44:19,235 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""singleton.war"")]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.clustering.group.default""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.test1.service.default is missing [jboss.clustering.group.default]"",
        ""jboss.test2.service.default is missing [jboss.clustering.group.default]""
    ],
    ""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
        ""Services that were unable to start:"" => [
            ""jboss.deployment.discovery.\""singleton.war\"""",
            ""jboss.deployment.unit.\""singleton.war\"".CdiValidatorFactoryService"",
            ""jboss.deployment.unit.\""singleton.war\"".WeldStartService"",
            ""jboss.deployment.unit.\""singleton.war\"".component.TopologyChangeListenerBean.JndiBindingsService"",
            ""jboss.deployment.unit.\""singleton.war\"".component.TopologyChangeListenerBean.START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.TopologyChangeListenerBean.VIEW.\""org.jboss.as.test.clustering.TopologyChangeListener\"".REMOTE"",
            ""jboss.deployment.unit.\""singleton.war\"".component.TopologyChangeListenerBean.WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.TopologyChangeListenerBean.WeldInterceptorBindingsService"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""com.sun.faces.config.ConfigureListener\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""com.sun.faces.config.ConfigureListener\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.faces.webapp.FacetTag\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.faces.webapp.FacetTag\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""javax.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.TopologyChangeListenerServlet\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.TopologyChangeListenerServlet\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.cluster.singleton.service.NodeServiceServlet\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.cluster.singleton.service.NodeServiceServlet\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.cluster.singleton.service.ValueServiceServlet\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.as.test.clustering.cluster.singleton.service.ValueServiceServlet\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.weld.servlet.WeldInitialListener\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.weld.servlet.WeldInitialListener\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.weld.servlet.WeldTerminalListener\"".START"",
            ""jboss.deployment.unit.\""singleton.war\"".component.\""org.jboss.weld.servlet.WeldTerminalListener\"".WeldInstantiator"",
            ""jboss.deployment.unit.\""singleton.war\"".deploymentCompleteService"",
            ""jboss.deployment.unit.\""singleton.war\"".ejb3.client-context.registration-service"",
            ""jboss.deployment.unit.\""singleton.war\"".jndiDependencyService"",
            ""jboss.deployment.unit.\""singleton.war\"".moduleDeploymentRuntimeInformation"",
            ""jboss.deployment.unit.\""singleton.war\"".moduleDeploymentRuntimeInformationStart"",
            ""jboss.naming.context.java.app.singleton.singleton.TopologyChangeListenerBean"",
            ""jboss.naming.context.java.app.singleton.singleton.\""TopologyChangeListenerBean!org.jboss.as.test.clustering.TopologyChangeListener\"""",
            ""jboss.naming.context.java.global.singleton.TopologyChangeListenerBean"",
            ""jboss.naming.context.java.global.singleton.\""TopologyChangeListenerBean!org.jboss.as.test.clustering.TopologyChangeListener\"""",
            ""jboss.naming.context.java.module.singleton.singleton.TopologyChangeListenerBean"",
            ""jboss.naming.context.java.module.singleton.singleton.\""TopologyChangeListenerBean!org.jboss.as.test.clustering.TopologyChangeListener\"""",
            ""jboss.undertow.deployment.default-server.default-host./singleton"",
            ""jboss.undertow.deployment.default-server.default-host./singleton.UndertowDeploymentInfoService""
        ],
        ""Services that may be the cause:"" => [
            ""jboss.clustering.group.default"",
            ""org.wildfly.network.socket-binding.undefined""
        ]
    }
}
{noformat}",2017/09/21 1:39 PM
WFLY-9501,"The container is not cleaning up container managed JMSContext, causing a connection leak.
The JMS 2.0 API doc[1] states the following :
<quote>
Applications running in the Java EE web and EJB containers may alternatively inject a JMSContext into their application using the @Inject annotation. A JMSContext that is created in this way is described as being container-managed. A container-managed JMSContext will be closed automatically by the container. 
</quote>

However the JCA's CacheConnectionManager (CCM) complains a connection leak if the application didn't explicitly close the JMSContext, which is not required for container managed JMSContext.

[1] http://docs.oracle.com/javaee/7/api/javax/jms/JMSContext.html",2017/10/31 4:14 AM
WFLY-10649,"Deploying distributable application (for example https://github.com/liweinan/cluster-demo) fails:


{code:java}
2018-06-28 11:23:50,504 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.web.cluster-demo.war: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.web.cluster-demo.war: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000424: Eviction size value cannot be less than or equal to zero if eviction is enabled
	at org.infinispan.configuration.cache.MemoryConfigurationBuilder.validate(MemoryConfigurationBuilder.java:185)
	at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:233)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:290)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:280)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.start(ConfigurationBuilder.java:88)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more

{code}
",2018/06/28 7:50 AM
WFLY-9541,"Context: trying to get one of our applications to work with Wildfly session replication.
After trying out a build from the Wildfly master branch to test another bug I submitted I noticed another issue which works fine in the Wildfly 11 release.

Our application has a custom LinkedHashMap subclass (MostRecentlyUsedMap from the Wicket framework) which it stores in the session. It also keeps a reference to the subclass since that one has a few extra fields.
When marshalling the session the MostRecentlyUsedMap is converted to a LinkedHashMap. When unmarshalling the session this causes an error since the field is of the subclass type.

This behaviour is new in WF 12 and is related to this commit:
https://github.com/wildfly/wildfly/commit/143527f595206c5f2bf037b47c797f052cbe5d2
(fix for the WFLY-9497 issue).

",2017/11/09 2:42 AM
WFLY-9455,"It happens to get exception

{code}
ERROR [org.jboss.as.txn] (default task-12) WFLYTX0003: APPLICATION ERROR: transaction still active in request with status 0
ERROR [org.jboss.as.txn] (default task-12) WFLYTX0001: Unable to roll back active transaction: javax.transaction.SystemException: WFTXN0032: Rollback not allowed on imported transaction
        at org.wildfly.transaction.client.LocalTransaction.rollbackAndDissociate(LocalTransaction.java:100)
        at org.wildfly.transaction.client.ContextTransactionManager.rollback(ContextTransactionManager.java:83)
        at org.jboss.as.txn.deployment.TransactionRollbackSetupAction.checkTransactionStatus(TransactionRollbackSetupAction.java:137)
        at org.jboss.as.txn.deployment.TransactionRollbackSetupAction.teardown(TransactionRollbackSetupAction.java:67)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1510)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:326)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
{code}

when using XTS transactions bridged to JTA for EJB handling. This happens on change of integration layer for WFTC in WFLY11.

The integration issues were already discussed as part of the JBTM-2853.

Here I hit a trouble of having log filled with the exception mentioned above. This does not cause a functionality trouble but the log is ugly filled with ERRORs.

The trouble seems to be caused by the fact that transaction is imported on ivocation of WS
https://github.com/wildfly/wildfly/blob/master/webservices/server-integration/src/main/java/org/jboss/as/webservices/invocation/AbstractInvocationHandler.java#L155

but as it was suspended in the integration code before
https://github.com/jbosstm/narayana/blob/master/txbridge/src/main/java/org/jboss/jbossts/txbridge/inbound/JaxWSTxInboundBridgeHandler.java#L118

now the WFTC holds the notion about the transaction even on call of 
https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/deployment/TransactionRollbackSetupAction.java#L134
and such transaction is tried to be rollback which is forbidden on WFTC for imported ones and thus at least ERROR msg is written to the log.",2017/10/19 10:22 AM
WFLY-11489,"In case a stateful session bean is annotated with:

{{@Stateful(passivationCapable=false)}}

then the serialization is *disabled* and thus the bean is only available on a single cluster node.

When a client now calls two different methods on this stateful bean it intermittently ends up on different cluster nodes, resulting in the following Exception:

{code}
ERROR [org.jboss.as.ejb3.invocation] (default task-2) WFLYEJB0034: EJB Invocation failed on component TestSessionEJB for method public abstract void test.ITestSession.method2(java.lang.String,java.lang.String) throws javax.ejb.EJBException,java.rmi.RemoteException: javax.ejb.NoSuchEJBException: WFLYEJB0168: Could not find EJB with id UUIDSessionID [4b0f4a27-40ba-411b-8852-0108a5ec64f4]
	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:55)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
{code}",2018/12/10 6:42 AM
WFLY-10248,"{code}
/profile=full-ha/subsystem=messaging-activemq/server=default/discovery-group=my_disco:add(jgroups-channel=ee,jgroups-cluster=disco)
{
    ""outcome"" => ""success"",
    ""result"" => undefined,
    ""server-groups"" => {""other-server-group"" => {""host"" => {""master"" => {""server-three"" => {""response"" => {
        ""outcome"" => ""success"",
        ""response-headers"" => {
            ""operation-requires-reload"" => true,
            ""process-state"" => ""reload-required""
        }
    }}}}}}
}
[domain@uranus-0:9990 /] reload --host=master

{code}

reload host master, success

Then, try to replace jgroups-channel value ""ee"" to ""ejb"", as its suggested by capability-reference

{code}
/profile=full-ha/subsystem=messaging-activemq/server=default/discovery-group=my_disco:write-attribute(name=jgroups-channel,value=ejb)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""domain-failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalStateException: WFLYCTL0365: Capability 'org.wildfly.messaging.activemq.discovery-group.my_disco' is unknown in context 'profile=full-ha'.""},
    ""rolled-back"" => true
}
{code}


{code}
2018-04-16 16:10:31,044 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""write-attribute"") failed - address: ([
    (""profile"" => ""full-ha""),
    (""subsystem"" => ""messaging-activemq""),
    (""server"" => ""default""),
    (""discovery-group"" => ""my_disco"")
]): java.lang.IllegalStateException: WFLYCTL0365: Capability 'org.wildfly.messaging.activemq.discovery-group.my_disco' is unknown in context 'profile=full-ha'.
        at org.jboss.as.controller.CapabilityRegistry.registerRequirement(CapabilityRegistry.java:212)
        at org.jboss.as.controller.CapabilityRegistry.registerAdditionalCapabilityRequirement(CapabilityRegistry.java:198)
        at org.jboss.as.controller.OperationContextImpl.registerAdditionalCapabilityRequirement(OperationContextImpl.java:1520)
        at org.jboss.as.controller.OperationContextImpl.registerAdditionalCapabilityRequirement(OperationContextImpl.java:1512)
        at org.jboss.as.controller.CapabilityReferenceRecorder$DefaultCapabilityReferenceRecorder.processCapabilityRequirement(CapabilityReferenceRecorder.java:137)
        at org.jboss.as.controller.CapabilityReferenceRecorder$DefaultCapabilityReferenceRecorder.addCapabilityRequirements(CapabilityReferenceRecorder.java:114)
        at org.jboss.as.controller.AttributeDefinition.addCapabilityRequirements(AttributeDefinition.java:1066)
        at org.jboss.as.controller.AbstractWriteAttributeHandler.recordCapabilitiesAndRequirements(AbstractWriteAttributeHandler.java:191)
        at org.jboss.as.controller.AbstractWriteAttributeHandler.execute(AbstractWriteAttributeHandler.java:89)
        at org.jboss.as.controller.operations.global.WriteAttributeHandler.doExecuteInternal(WriteAttributeHandler.java:194)
        at org.jboss.as.controller.operations.global.WriteAttributeHandler.execute(WriteAttributeHandler.java:115)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:982)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:726)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:450)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1408)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}

",2018/04/16 3:13 PM
WFLY-11373,"Since [this commit|https://github.com/wildfly/wildfly/commit/3659f4738aa3b08515b93ca3912e5027d40e30ae] (which fixed WFLY-9732), the EE naming context is not set up properly when {{WeldBootstrap.endInitialization()}} is called. This is because the naming context is set up by the {{SetupAction}} executed in {{WeldStartService}}. ({{WeldBootstrap.endInitialization()}} used to be invoked from {{WeldStartService}} as well, but the commit linked above moved the invocation to a separate {{WeldStartCompletionService}}.)

That is a problem because {{endInitialization()}} is where the {{@Initialized(ApplicationScoped.class)}} event is fired from (in some cases). If there's a bean that's being eagerly-initialized by listening for this event and the bean also requires the EE naming context (e.g. for injecting {{@Resource(lookup = ""java:comp/DefaultManagedThreadFactory"")}}), deployment now fails (because the resource injection fails).

I can see this problem in Thorntail, because the pattern described above is used in SmallRye Fault Tolerance (see [HystrixInitializer|https://github.com/smallrye/smallrye-fault-tolerance/blob/master/implementation/src/main/java/io/smallrye/faulttolerance/HystrixInitializer.java#L48] and [DefaultHystrixConcurrencyStrategy|https://github.com/smallrye/smallrye-fault-tolerance/blob/master/implementation/src/main/java/io/smallrye/faulttolerance/DefaultHystrixConcurrencyStrategy.java#L52]).",2018/11/19 7:52 AM
WFLY-10976,"Artemis logs these warnings during startup when using the stock standalone-full.xml configuration:

{code}
12:11:31,997 WARN  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ222269: Please use a fixed value for ""journal-pool-files"". Default changed per https://issues.apache.org/jira/browse/ARTEMIS-1628
12:11:32,000 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ221075: Usage of wildcardRoutingEnabled configuration property is deprecated, please use wildCardConfiguration.enabled instead
{code}

It looks like there's a config option that could be used to silence the first one, but I have no idea what the second one is talking about.",2018/09/04 12:14 PM
WFLY-10873,"In current Beta2 build, I see duplicated httpclient and httpcore jars. The new org.apache.httpcomponents.core module was added that introduced this duplication.

in 14.0.0.Beta2:
{code}
$ tree modules/system/layers/base/org/apache/httpcomponents/
modules/system/layers/base/org/apache/httpcomponents/
 core
  main
      httpclient-4.5.2.jar
      httpcore-4.4.4.jar
      module.xml
 main
     httpasyncclient-4.1.3.jar
     httpclient-4.5.2.jar
     httpcore-4.4.4.jar
     httpcore-nio-4.4.4.jar
     httpmime-4.5.2.jar
     module.xml
{code}

In WF 13.0.0.Final
{code}
$ tree modules/system/layers/base/org/apache/httpcomponents/
modules/system/layers/base/org/apache/httpcomponents/
 main
     httpasyncclient-4.1.3.jar
     httpclient-4.5.2.jar
     httpcore-4.4.4.jar
     httpcore-nio-4.4.4.jar
     httpmime-4.5.2.jar
     module.xml
{code}",2018/08/16 7:52 AM
WFLY-11117,"Running legacy operation ends up with an error:

{code}
[standalone@localhost:9990 /] /subsystem=modcluster/:disable
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYMODCLS0022: Legacy operations cannot be used with multiple proxy configurations. Use non-deprecated operations at the correct proxy address."",
    ""rolled-back"" => true
}
{code}

mod_cluster configuration:
{code}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""mod-cluster-config"" => {""configuration"" => undefined},
        ""proxy"" => {""default"" => undefined}
    }
}
{code}",2018/10/04 10:24 AM
WFLY-9757,"Running the tests keeping a node0 to localhost works fine:
{noformat}
[pkremens@localhost testsuite] (master)$ mvn test -Dts.basic -Dts.noSmoke -Dtest=DoctypeDeclTestCase,DuplicateIDIntegrationTestCase,InjectionToPhaseListenerTest 
...
Running org.jboss.as.test.integration.jsf.doctype.DoctypeDeclTestCase
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.809 sec - in org.jboss.as.test.integration.jsf.doctype.DoctypeDeclTestCase
Running org.jboss.as.test.integration.jsf.duplicateid.DuplicateIDIntegrationTestCase
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.645 sec - in org.jboss.as.test.integration.jsf.duplicateid.DuplicateIDIntegrationTestCase
Running org.jboss.as.test.integration.jsf.phaseListener.injectionTarget.InjectionToPhaseListenerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec - in org.jboss.as.test.integration.jsf.phaseListener.injectionTarget.InjectionToPhaseListenerTest
{noformat}
But once node0 is set, the tests start to fail.
{noformat}
[pkremens@localhost testsuite] (master)$ mvn test -Dts.basic -Dts.noSmoke -Dtest=DoctypeDeclTestCase,DuplicateIDIntegrationTestCase,InjectionToPhaseListenerTest -Dnode0=<IP>
...
Failed tests: 
  DoctypeDeclTestCase.testDoctypeDeclDisallowed:93
  DuplicateIDIntegrationTestCase.testDuplicateIDIsNotGenerated:107 expected:<200> but was:<500>
Tests in error: 
  InjectionToPhaseListenerTest.test:61  IO java.util.concurrent.ExecutionExcept...
{noformat}",2018/02/05 5:12 AM
WFLY-11356,"{noformat}
org.jboss.as.test.integration.transaction (3)
    MaximumTimeoutTestCase.testDefaultTimeout  	
    MaximumTimeoutTestCase.testLogFile  	
    MaximumTimeoutTestCase.testMaximumTimeout
{noformat}

{noformat}
java.lang.RuntimeException: java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"")
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.executeForResult(MaximumTimeoutTestCase.java:124)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.setDefaultTimeout(MaximumTimeoutTestCase.java:107)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.testMaximumTimeout(MaximumTimeoutTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"")
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.executeForResult(MaximumTimeoutTestCase.java:120)
	... 143 more
Caused by: org.jboss.arquillian.test.spi.ArquillianProxyException: java.security.AccessControlException : WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"") [Proxied because : Original exception caused: class java.io.NotSerializableException: org.wildfly.security.util.StringEnumeration]
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.jboss.remoting3.EndpointBuilder.build(EndpointBuilder.java:125)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:128)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:60)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 145 more

{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",2018/11/15 8:32 AM
WFLY-11346,"{noformat}
org.wildfly.test.integration.microprofile.config.smallrye.app (9)
    MicroProfileConfigTestCase.testGetBooleanProperties  	
    MicroProfileConfigTestCase.testGetDoubleProperties  	
    MicroProfileConfigTestCase.testGetFloatProperties  	
    MicroProfileConfigTestCase.testGetIntegerProperties  	
    MicroProfileConfigTestCase.testGetLongProperties  	
    MicroProfileConfigTestCase.testGetWithArraySetListDefaultProperties  	
    MicroProfileConfigTestCase.testGetWithArraySetListOverriddenProperties  	
    MicroProfileConfigTestCase.testGetWithConfigProperties  	
    MicroProfileConfigTestCase.testPriorityOrderingProperties  	
org.wildfly.test.integration.microprofile.config.smallrye.converter (1)
    MicroProfileConfigConvertersTestCase.testConverterPriority  	
org.wildfly.test.integration.microprofile.config.smallrye.management.config_source (1)
    ConfigSourceFromClassTestCase.testGetWithConfigProperties  	
org.wildfly.test.integration.microprofile.config.smallrye.management.config_source_provider (1)
    ConfigSourceProviderFromClassTestCase.testGetWithConfigProperties 
{noformat}

With MicroProfileConfigTestCase there is error

{noformat}
12:01:38,872 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /MicroProfileConfigTestCase/microprofile/arraySetListDefaultTest: org.jboss.resteasy.spi.UnhandledException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getenv.myPets"")"" in code source ""(vfs:/content/MicroProfileConfigTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:78)
	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:222)
	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:197)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:459)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:233)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:139)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:142)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:219)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:227)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
{noformat}

So probably solution is to add such permissions to rs application TestApplication. 

For other tests (MicroProfileConfigConvertersTestCase, ConfigSourceFromClassTestCase, ConfigSourceProviderFromClassTestCase) this exception is not printed, but I think cause will be the same as the structure of these tests is the same

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",2018/11/14 6:06 AM
WFLY-10531,"After upgrading our application from wildfly 12 to 13, the app started to crash after a while (hours, days, depending on circumstances). It crashes on

IJ000453: Unable to get managed connection for java:/JmsXA

and other errors (it simply cannot perform all the jobs it contains). I found that when shutting down the server which has been running for a while, I can see a bunch of these messages in the log:

WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.PoolByCri] (ServerService Thread Pool -- 117) [:::] IJ000615: Destroying active connection in pool: ActiveMQConnectionDefinition (org.apache.activemq.artemis.ra.ActiveMQRAManagedConnection@2f37f69)

Bascially, the longer the server was running, more of these messages are shown. I cannot find a way how to reproduce the issue. When the server runs for short time but with some load, no connection is leaked (or just one, rarely). On the other side, it leaks connections even without any particularly high load (just a few requests and @Schedule jobs) when running for longer time.

It may also be a bug in our application, which just happen to have more serious impact with the new wildfly version.",2018/06/07 10:14 AM
WFLY-11359,"{noformat}
org.jboss.as.test.integration.jpa.mockprovider.classtransformer (1)
    ClassFileTransformerTestCase.test_persistenceUnitInfoURLS 
{noformat}

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.vfs.VirtualFilePermission"" ""/content/jpa_classTransformerTestWithMockProvider.ear/ejbjar.jar"" ""read"")"" in code source ""(vfs:/content/jpa_classTransformerTestWithMockProvider.ear/lib/lib.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.jpa_classTransformerTestWithMockProvider.ear"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.jboss.vfs.VirtualFile.openStream(VirtualFile.java:303)
	at org.jboss.vfs.protocol.VirtualFileURLConnection.getInputStream(VirtualFileURLConnection.java:65)
	at java.net.URL.openStream(URL.java:1045)
	at org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase.test_persistenceUnitInfoURLS(ClassFileTransformerTestCase.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.GeneratedMethodAccessor354.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.GeneratedMethodAccessor353.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor326.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor325.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor324.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.GeneratedMethodAccessor327.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor326.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor325.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor324.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.GeneratedMethodAccessor343.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",2018/11/15 10:21 AM
WFLY-9447,"{noformat}
ESC[0m13:59:55,004 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0211: Suspending server with 15000 ms timeout.
ESC[0mESC[0m13:59:55,006 INFO  [org.jboss.as.ejb3] (management-handler-thread - 1) WFLYEJB0493: EJB subsystem suspension complete
ESC[0mESC[0m13:59:55,008 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
ESC[0mESC[0m13:59:55,027 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0019: Host default-host stopping
ESC[0mESC[0m13:59:55,028 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 72) MODCLUSTER000002: Initiating mod_cluster shutdown
ESC[0mESC[0m13:59:55,039 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel ejb
ESC[0mESC[0m13:59:55,039 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb
ESC[0mESC[0m13:59:55,039 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting JGroups channel ejb
ESC[0mESC[0m13:59:55,040 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000082: Stopping the RpcDispatcher for channel ejb
ESC[0mESC[0m13:59:55,040 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel ejb
ESC[0mESC[0m13:59:55,040 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher for channel ejb
ESC[0mESC[0m13:59:55,042 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 74) ISPN000029: Passivating all entries to disk
ESC[0mESC[0m13:59:55,046 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 74) ISPN000030: Passivated 2 entries in 3 milliseconds
ESC[0mESC[0m13:59:55,055 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
ESC[0mESC[0m13:59:55,055 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 74) WFLYCLINF0003: Stopped twocluster-terminus.jar cache from ejb container
ESC[0m13:59:55,057 DEBUG [org.jboss.ejb.client.invocation] (pool-1-thread-1) Calling invoke(module = /twocluster-forwarder-tx/ForwardingStatefulSBImpl, strong affinity = Cluster ""ejb-forwarder"", weak affinity = Node ""clusterA-node0""):
ESC[0m13:59:55,059 INFO  [org.jboss.as.test.clustering.twoclusters.bean.forwarding.AbstractForwardingStatefulSBImpl] (default task-124) getSerialAndIncrement() called on forwarding node clusterA-node0
ESC[0mESC[31m13:59:55,062 ERROR [org.jboss.ejb.client.invocation] (default task-8) EJBCLIENT000509: Unexpected exception processing EJB request: java.lang.NullPointerException
        at org.jboss.as.ejb3.deployment.DeploymentRepository.getStartedModules(DeploymentRepository.java:202)
        at org.jboss.as.ejb3.remote.AssociationImpl.findEJB(AssociationImpl.java:382)
        at org.jboss.as.ejb3.remote.AssociationImpl.receiveInvocationRequest(AssociationImpl.java:115)
        at org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleInvocationRequest(EJBServerChannel.java:450)
        at org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleMessage(EJBServerChannel.java:188)
        at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
        at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:926)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
{noformat}

Appears in https://github.com/jbossas/jboss-eap7/pull/2446",2017/10/16 12:45 PM
WFLY-9898,"Recently, there has been some changes done for eviction in DMR:
https://github.com/wildfly/wildfly/commit/c252b2cf155f22c2e99e02075f3b5a2d8cc27349#diff-6c16cf3149991fdb5ebd08eb7b515d9fR209

So right now, the description of ""Size"" attribute is: The cache eviction configuration.
It is not clear, what size attribute is supposed to do and how it replaces the deprecated ones (max-entries, strategy).

Also, the eviction element vanished from jboss-as-infinispan_5_0.xsd:
https://github.com/wildfly/wildfly/commit/c252b2cf155f22c2e99e02075f3b5a2d8cc27349#diff-86cb92ad65fd80116b51f4d26e2fcaa2L287

Where can user find the eviction related configuration now?",2018/02/23 3:53 AM
WFLY-9631,"Hi, [~manovotn],

as we discussed before, I am creating a JIRA for an issue I experienced when testing EJB Timers with jBPM.

What I did was that I started a large number of processes with jBPM, let's say 10 000 and more. Each process contains a timer which jBPM will create an EJB Timer for. Each timer was configured to fire at exactly the same time, e.g. 12:00 PM. During the test I got this warning displayed about 5 times for each 10 000 timers created:


{code:java}
WARN  [org.jboss.as.ejb3] (Timer-1) WFLYEJB0161: Failed to reinstate timer 'kie-server.kie-server.EJBTimerScheduler' (id=09afab21-6b0f-41b0-9338-403b4a12e507) from its persistent state: java.lang.IllegalStateException: WFLYCTL0075: Duplicate resource 09afab21-6b0f-41b0-9338-403b4a12e507
    at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:290)
    at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:169)
    at org.jboss.as.ejb3.subsystem.deployment.TimerServiceResource.timerCreated(TimerServiceResource.java:193)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl.registerTimerResource(TimerServiceImpl.java:1094)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl.startTimer(TimerServiceImpl.java:767)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl$TimerRefreshListener.timerAdded(TimerServiceImpl.java:1235)
    at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence$RefreshTask.run(DatabaseTimerPersistence.java:820)
    at java.util.TimerThread.mainLoop(Timer.java:555)
at java.util.TimerThread.run(Timer.java:505)
{code}

The result of these warnings was that when I had only one EAP instance to fire these timers, it wouldn't fire exactly the timers with ids that were in those warnings, e.g. if it was id=09afab21-6b0f-41b0-9338-403b4a12e507 then this timer wouldn't fire. I had waited for minutes to be sure there is another tick of a refresh interval (configured to 1 min) but nothing happened. But when I started the second EAP instance, they were immediately picked up by that instance and fired. It seems that if there is this warning on a particular instance, the instance won't pick up the timer whatsoever. They will be picked up only by some other instances if there are any. With 2 EAP instances there were warnings too, but all timers fired since I guess affected timers were picked up each time by the other instance.

Another interesting observation is that when I configured a refresh interval to be shorter, e.g. 5 seconds, these warnings were showing up almost every 5 seconds. When I set it to 30 minutes, I didn't get warnings at all, since all timers fired earlier than a refresh occurred.

So I think it has something to do with refresh interval.

Can you please have a look at it? For further configuration details, check the Environment field.

Thank you very much!

Marian Macik
",2017/12/21 6:11 AM
WFLY-8904,"{{org.jboss.as.test.integration.ejb.security.AuthenticationTestCase}} currently fails in {{elytron}} profile due to different exception than expected (old PB one) being produced by Elytron:
{code}Results :

Failed tests: 
  AuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:257 null
{code}

When this is fixed, the test should be unignored for the {{elytron}} profile.

{{GetCallerPrincipalTestCase}} also needs to be changed to adhere to unspecified security context in beans in {{PostConstruct}} phase.",2017/06/07 3:02 AM
WFLY-10530,"org.jboss.as.test.integration.domain.suites.DeploymentOverlayTestCase#testDeploymentOverlayInDomainMode and org.jboss.as.test.integration.domain.suites.ReadEnvironmentVariablesTestCase#testReadEnvironmentVariablesForServers from domain module of Wildfly testsuite fails on the latest IBM 8 jdk with java.lang.IllegalStateException: The LogManager was not properly installed (you must set the ""java.util.logging.manager"" system property to ""org.jboss.logmanager.LogManager"")

*reproduce*
{noformat}
wildfly/testsuite]$ mvn test -DtestLogToFile=false -pl domain -Dts.domain -Dtest=ReadEnvironmentVariablesTestCase,DeploymentOverlayTestCase
...
[ERROR] Errors: 
[ERROR]   DeploymentOverlayTestCase.testDeploymentOverlayInDomainMode:300->performHttpCall:340  NoClassDefFound
[ERROR]   ReadEnvironmentVariablesTestCase.testReadEnvironmentVariablesForServers:109->getEnvironmentVariables:148  ExceptionInInitializer
[INFO] 
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0
{noformat}

*Failure message*
{noformat}
java.lang.ExceptionInInitializerError
	at java.lang.J9VMInternals.ensureError(J9VMInternals.java:146)
	at java.lang.J9VMInternals.recordInitializationFailure(J9VMInternals.java:135)
	at org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:316)
	at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:329)
	at org.apache.http.conn.ssl.DefaultHostnameVerifier.<init>(DefaultHostnameVerifier.java:72)
	at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:955)
	at org.apache.http.impl.client.HttpClients.createDefault(HttpClients.java:58)
	at org.jboss.as.test.integration.domain.suites.ReadEnvironmentVariablesTestCase.getEnvironmentVariables(ReadEnvironmentVariablesTestCase.java:148)
	at org.jboss.as.test.integration.domain.suites.ReadEnvironmentVariablesTestCase.testReadEnvironmentVariablesForServers(ReadEnvironmentVariablesTestCase.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)
Caused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the ""java.util.logging.manager"" system property to ""org.jboss.logmanager.LogManager"")
	at org.jboss.logmanager.Logger.getLogger(Logger.java:57)
	at org.apache.commons.logging.JBossLogFactory.<init>(JBossLogFactory.java:48)
	at org.apache.commons.logging.LogFactory$Holder.<clinit>(LogFactory.java:42)
	... 44 more
{noformat}

*Environment*
{noformat}
$ mvn -version
Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T19:49:05Z)
Maven home: /qa/tools/opt/maven3-latest
Java version: 1.8.0_171, vendor: IBM Corporation
Java home: /qa/tools/opt/x86_64/ibm-java-x86_64-sdk-8.0-5.15/jre
Default locale: en_US, platform encoding: UTF-8
OS name: ""linux"", version: ""3.10.0-862.el7.x86_64"", arch: ""amd64"", family: ""unix""
---
$ java -version
java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 8.0.5.15 - pxa6480sr5fp15-20180502_01(SR5 FP15))
IBM J9 VM (build 2.9, JRE 1.8.0 Linux amd64-64 Compressed References 20180425_385365 (JIT enabled, AOT enabled)
OpenJ9   - a7ffbfe
OMR      - a531219
IBM      - 59ef3dc)
JCL - 20180425_01 based on Oracle jdk8u171-b11
{noformat}",2018/06/07 10:08 AM
WFLY-8942,"When executing a Java EE 7 batchlet if an injection of an @RequestScoped bean is attempted.

Example


{noformat}
20:57:13,995 WARN  [org.jberet] (Batch Thread - 13) JBERET000001: Failed to run batchlet org.jberet.job.model.RefArtifact@b5b6a97: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.enterprise.context.RequestScoped
	at org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:689)
	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:90)
	at org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:165)
	at org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)
	at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:83)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:125)
{noformat}
",2017/06/15 5:00 PM
WFLY-11357,"{noformat}
org.jboss.as.test.multinode.remotecall (2)
    RemoteLocalCallProfileTestCase.testStatelessRemoteFromRemote  	
    RemoteLocalCallTestCase.testStatelessRemoteFromRemote 
{noformat}

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/store/work/tc-work/8edf911abfd02209/testsuite/integration/multinode/target/jbossas-multinode-client/standalone/data/ejb-xa-recovery"" ""write"")"" in code source ""(vfs:/content/remotelocalcall-test-client.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.remotelocalcall-test-client.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkWrite(SecurityManager.java:979)
	at org.wildfly.security.manager.WildFlySecurityManager.checkWrite(WildFlySecurityManager.java:377)
	at java.io.File.mkdir(File.java:1311)
	at org.wildfly.transaction.client.provider.jboss.FileSystemXAResourceRegistry$XAResourceRegistryFile.<init>(FileSystemXAResourceRegistry.java:207)
	at org.wildfly.transaction.client.provider.jboss.FileSystemXAResourceRegistry.getXAResourceRegistryFile(FileSystemXAResourceRegistry.java:121)
	at org.wildfly.transaction.client.provider.jboss.JBossLocalTransactionProvider.getXAResourceRegistry(JBossLocalTransactionProvider.java:160)
	at org.wildfly.transaction.client.XAOutflowedResources.getOrEnlist(XAOutflowedResources.java:57)
	at org.wildfly.transaction.client.RemoteTransactionContext.outflowTransaction(RemoteTransactionContext.java:222)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.writeTransaction(EJBClientChannel.java:567)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.openSession(EJBClientChannel.java:623)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver.createSession(RemoteEJBReceiver.java:149)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:63)
	at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:66)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:89)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:150)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:93)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:100)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:834)
	at org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:157)
	... 221 more
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",2018/11/15 8:44 AM
WFLY-10784,"WebComponents are optional and fail in initialising it not causes fail of deployment, but when starting EAR application with included WAR fail in deployment since Wildfly 12 because WeldStartCompletionService depends on all components regardless of their type
",2018/08/02 10:20 AM
WFLY-10129,"{{BeanValidationEE8TestCase}} fails with security manager because of missing permission {{""org.hibernate.validator.HibernateValidatorPermission"" ""accessPrivateMembers""}}:
{code}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.hibernate.validator.HibernateValidatorPermission"" ""accessPrivateMembers"")"" in code source ""(vfs:/content/beanvalidation-ee8-test-case.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.beanvalidation-ee8-test-case.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:295)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:192)
	at org.hibernate.validator.internal.metadata.location.FieldConstraintLocation.getAccessible(FieldConstraintLocation.java:129)
	at org.hibernate.validator.internal.metadata.location.FieldConstraintLocation.<init>(FieldConstraintLocation.java:50)
	at org.hibernate.validator.internal.metadata.location.ConstraintLocation.forField(ConstraintLocation.java:43)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider$TypeArgumentFieldLocation.toConstraintLocation(AnnotationMetaDataProvider.java:836)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.createTypeArgumentMetaConstraint(AnnotationMetaDataProvider.java:790)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.lambda$findTypeUseConstraints$2(AnnotationMetaDataProvider.java:779)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:270)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.findTypeUseConstraints(AnnotationMetaDataProvider.java:780)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.findTypeArgumentsConstraints(AnnotationMetaDataProvider.java:758)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.findTypeAnnotationConstraints(AnnotationMetaDataProvider.java:577)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.findPropertyMetaData(AnnotationMetaDataProvider.java:237)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.getFieldMetaData(AnnotationMetaDataProvider.java:225)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.retrieveBeanConfiguration(AnnotationMetaDataProvider.java:133)
	at org.hibernate.validator.internal.metadata.provider.AnnotationMetaDataProvider.getBeanConfiguration(AnnotationMetaDataProvider.java:124)
	at org.hibernate.validator.internal.metadata.BeanMetaDataManager.getBeanConfigurationForHierarchy(BeanMetaDataManager.java:220)
	at org.hibernate.validator.internal.metadata.BeanMetaDataManager.createBeanMetaData(BeanMetaDataManager.java:187)
	at org.hibernate.validator.internal.metadata.BeanMetaDataManager.lambda$getBeanMetaData$0(BeanMetaDataManager.java:160)
	at java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:324)
	at org.hibernate.validator.internal.metadata.BeanMetaDataManager.getBeanMetaData(BeanMetaDataManager.java:159)
	at org.hibernate.validator.internal.engine.ValidationContext$ValidationContextBuilder.forValidate(ValidationContext.java:487)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:156)
	at org.wildfly.test.integration.ee8.temp.BeanValidationEE8TestCase.testMapKeySupport(BeanValidationEE8TestCase.java:64)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{code}",2018/03/28 8:53 AM
WFLY-10184,"Several tests fail with security manager because of missing permission {{""(""org.hibernate.validator.HibernateValidatorPermission"" ""accessPrivateMembers"")""}}:

Tests:
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.BootStrapValidationTestCase#testCustomConstraintValidatorFactory}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.BootStrapValidationTestCase#testSafeHTML}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.ConstraintValidationTestCase#testConstraintValidation}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.ConstraintValidationTestCase#testObjectGraphValidation}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.ExpressionLanguageTestCase#testValidationUsingExpressionLanguage}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.GroupandGroupSequenceValidationTestCase#testGroupValidation}}
* {{org.jboss.as.test.integration.beanvalidation.hibernate.validator.MessageInterpolationValidationTestCase#testCustomMessageInterpolation}}
* {{org.jboss.as.test.integration.jca.beanvalidation.PositiveValidationTestCase#testRegistryConfiguration}}
* {{org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationinheritancetest.BeanValidationJPAInheritanceTestCase#testConstraintValidationforJPA}}
* {{org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationtest.JPABeanValidationTestCase#testFailingBeanValidationNullAddress}}
* {{org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationtest.JPABeanValidationTestCase#testSuccessfulBeanValidation}}
* {{org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase#testFailingBeanValidation}}
* {{org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase#testSuccessfulBeanValidation}}
* {{org.jboss.as.test.integration.weld.beanvalidation.BeanValidationIntegrationTestCase#testInjectedValidatorFactoryIsCdiEnabled}}
* {{org.jboss.as.test.integration.weld.beanvalidation.BeanValidationIntegrationTestCase#testJndiBoundValidatorFactoryIsCdiEnabled}}
",2018/04/06 9:01 AM
WFLY-9185,"Authentication mechanisms failed for some tests with security manager

same for some other tests:
* NestedRemoteContextTestCase
* RebindTestCase
* WebSuspendTestCase

{code}
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local8043870012544300330.challenge"" ""read"")"" in code source ""(vfs:/content/ejb.ear/web.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.ejb.ear.web.war"" from Service Module Loader"")
        at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:440)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
        at ...asynchronous invocation...(Unknown Source)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:508)
        at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:83)
        at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:56)
        at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:459)
        at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:405)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.lambda$new$0(SingleRemoteNamingProvider.java:82)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.getFuturePeerIdentity(SingleRemoteNamingProvider.java:117)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.getPeerIdentity(SingleRemoteNamingProvider.java:106)
        at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:65)
        ... 51 more
        Suppressed: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local8043870012544300330.challenge"" ""read"")"" in code source ""(vfs:/content/ejb.ear/web.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.ejb.ear.web.war"" from Service Module Loader"")
                at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
                at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
                at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
                at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:127)
                at org.wildfly.security.sasl.localuser.LocalUserClient.evaluateMessage(LocalUserClient.java:93)
                at org.wildfly.security.sasl.util.AbstractSaslParticipant.evaluateMessage(AbstractSaslParticipant.java:180)
                at org.wildfly.security.sasl.util.AbstractSaslClient.evaluateChallenge(AbstractSaslClient.java:59)
                at org.wildfly.security.sasl.util.AbstractDelegatingSaslClient.evaluateChallenge(AbstractDelegatingSaslClient.java:54)
                at org.wildfly.security.sasl.util.PrivilegedSaslClient.lambda$evaluateChallenge$0(PrivilegedSaslClient.java:55)
                at java.security.AccessController.doPrivileged(Native Method)
                at org.wildfly.security.sasl.util.PrivilegedSaslClient.evaluateChallenge(PrivilegedSaslClient.java:55)
                at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.lambda$handleEvent$0(ClientConnectionOpenListener.java:644)
                at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:898)
                ... 3 more
...
{code}",2017/08/04 4:29 AM
WFLY-10173,"Sometime, when running EjbInvocationStatisticsTestCase on Windows, assertion fails, as wait-time is 0 (verified it is 0 by adding debug message).

For me it fails allTests in most of cases, but when running test standalone, it fails only in 1 of 4 cases.

I suppose it is because of too short sleep in AbstractManagedBean. (in test is called 4 times, each invocation include 50ms sleep, so I consider probable the wait-time is 0 - need to use longer sleeps to fulfill the test)

{code}
[ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.078 s <<< FAILURE! - in org.jboss.as.test.integration.ejb.management.deployments.EjbInvocationStatisticsTestCase
[ERROR] testSingletonWaitTime(org.jboss.as.test.integration.ejb.management.deployments.EjbInvocationStatisticsTestCase)  Time elapsed: 0.438 s  <<< FAILURE!
java.lang.AssertionError
        at org.junit.Assert.fail(Assert.java:86)
        at org.junit.Assert.assertTrue(Assert.java:41)
        at org.junit.Assert.assertTrue(Assert.java:52)
        at org.jboss.as.test.integration.ejb.management.deployments.EjbInvocationStatisticsTestCase.validateWaitTimeStatistic(EjbInvocationStatisticsTestCase.java:179)
        at org.jboss.as.test.integration.ejb.management.deployments.EjbInvocationStatisticsTestCase.testSingletonWaitTime(EjbInvocationStatisticsTestCase.java:148)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:564)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
        at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
...
{code}",2018/04/05 6:12 AM
WFLY-10093,"This is very easy to overlook because the attribute is extremely poorly named and missing from MCMP definition [1] completely. This is because mod_cluster aligned nomenclature with httpd mod_proxy's [2] which defines maxattempts as:

*Maximum number of failover attempts before giving up.*

and not total number attempts. This means, that value od 0 is a valid value meaning no retry.

[1] https://developer.jboss.org/docs/DOC-11425

[2] https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypass",2018/03/23 10:19 AM
WFLY-9122,"The Arquillian containers {{dwm-container-0}} and {{dwm-container-1}} are always started in the manualmode testsuite module. 

It can lead to port conflicts when another test wants to use its own server configuration with port offset 200 or 300. It also adds additional time to execute single test ({{mvn test -Dtest=MyTestCase}}), because these 2 containers has to be started first.

The {{dwm-*}} containers are used by distributed work manager tests in package {{org.jboss.as.test.manualmode.jca.workmanager.distributed}}.

CC [~rjanik]",2017/07/24 3:07 AM
WFLY-9962,"When ForwardedHandlerTestCase installs {{/subsystem=undertow/configuration=filter/expression-filter=ff}}, even through it removes it after, {{/proxy}} location defined as part of ReverseProxyTestCase setup returns error 404:

{code}
testReverseProxy(org.jboss.as.test.integration.web.reverseproxy.ReverseProxyTestCase)  Time elapsed: 0.087 sec  <<< FAILURE!
java.lang.AssertionError: expected:<200> but was:<404>
{code}

* Direct calling of {{/server1/name}} and {{/server2/name}} from the same tests gives 200 correctly.
* When I comment out the ff filter setup (or skip whole ForwardedHandlerTestCase), ReverseProxyTestCase suceed.
* When I copy configuration and deployments from running test and run in standalone server outside of test, proxy works correctly.

As it is unrelated to my original issue in the end, keeping unassigned.",2018/03/06 9:39 AM
WFLY-10877,"Jaeger-thrift dependency file is quite chubby:
{code}
-rw-rw-r--. 1 jstourac jstourac 123K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/jaeger-core-0.30.4.jar
-rw-rw-r--. 1 jstourac jstourac 2.8M Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/jaeger-thrift-0.30.4.jar
{code}

Is there any possibility to shrink it's size somehow?",2018/08/16 9:44 AM
WFLY-11099,"With the update from Artemis 1.5.x to 2.6.x in WFLY-9407, Proton-J wasn't updated from 0.16.x to 0.27.3, which leads to class not found exceptions for ""Sasl... "" classes when remote acceptors are created and connected to (I tested with AMQP protocol). When updating Proton-J to the newest version (0.29.0) my issues are gone.

I'm not sure which other modules are using the proton-j module, but my suggestion is that we bump the version of Proton-j to the required 0.27.3 minimally.",2018/10/01 3:55 PM
WFLY-9758,"Update jboss-openjdk-orb library to 8.1.0.Final

Reason: rebase - apply our patches on top of current OpenJDK ORB.",2018/02/05 6:58 AM
WFLY-11442,"Initial analisys checking only first level dependencies from the resource exposed by {{org.jboss.as.ejb3}} shows that these dependencies are being unused:
* org.jboss.jts
* org.wildfly.security.elytron-web.undertow-server
* org.jboss.as.weld
* org.wildfly.clustering.marshalling.spi
* org.wildfly.clustering.marshalling.api
* org.wildfly.client.config
* org.hibernate

The task here is verify that they are not used by any other machanism besides of being a first level dependency.",2018/11/29 7:41 AM
WFLY-10475,"There is a JSF installer module resources https://github.com/wildfly/wildfly/tree/master/jsf/multi-jsf-installer/src/main/resources which seem to be out of sync with the JSF modules defined in feature-pack:
https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/javax/faces/api/main/module.xml
https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml
https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jsf/main/module.xml
https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jsf-injection/main/module.xml

I guess these should be synced, ie. changes from feature-pack should be reflected in JSF installer too.",2018/05/29 9:43 AM
WFLY-11350,"{noformat}
org.wildfly.test.integration.elytron.ejb (1)
    DefaultElytronEjbSecurityDomainTestCase.testSecurityOnTwoBeansInAbsenceOfExplicitSecurityDomain 
{noformat}

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.wildfly.security.permission.ElytronPermission"" ""authenticate"")"" in code source ""(vfs:/content/ejb-security-domain-test.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ejb-security-domain-test.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.wildfly.security.auth.server.SecurityDomain.authenticate(SecurityDomain.java:304)
	at org.wildfly.security.auth.server.SecurityDomain.authenticate(SecurityDomain.java:285)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:242)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:206)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentitySCF(Util.java:302)
	at org.wildfly.test.integration.elytron.ejb.DefaultElytronEjbSecurityDomainTestCase.testSecurityOnTwoBeansInAbsenceOfExplicitSecurityDomain(DefaultElytronEjbSecurityDomainTestCase.java:104)
{noformat}

That helps

{noformat}
diff --git a/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java b/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
index dee5422a40..48d077595d 100644
--- a/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
+++ b/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
@@ -79,7 +79,7 @@ public class DefaultElytronEjbSecurityDomainTestCase {
                 .addAsResource(currentPackage, ""users.properties"", ""users.properties"")
                 .addAsResource(currentPackage, ""roles.properties"", ""roles.properties"")
                 .addAsManifestResource(currentPackage, ""jboss-ejb3.xml"", ""jboss-ejb3.xml"")
-                .addAsManifestResource(createPermissionsXmlAsset(new ElytronPermission(""getSecurityDomain"")), ""permissions.xml"");
+                .addAsManifestResource(createPermissionsXmlAsset(new ElytronPermission(""getSecurityDomain""), new ElytronPermission(""authenticate"")), ""permissions.xml"");
     }
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager
",2018/11/14 9:10 AM
WFLY-10292,"After running the enable-elytron.cli and removing the old
picketbox security subsystem, the deployment fails as
it cannot find java:jboss/DefaultJMSConnectionFactory.
java:jboss/DefaultJMSConnectionFactory is defined in the messaging
subsystem and the ee default-bindings. 

Removing it from the ee default-bindings lets the app deploy, but it looks like there is some
issue as it should be bound and no errors/warnings being logged.

{code}
 2018-04-02 12:15:36,593 ERROR
[org.jboss.as.controller.management-operation] (Controller Boot Thread)
WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" =>
""ejb-security.jar"")]) - failure description: {
     ""WFLYCTL0412: Required services that are not installed:"" =>
[""jboss.naming.context.java.jboss.DefaultJMSConnectionFactory""],
     ""WFLYCTL0180: Services with missing/unavailable dependencies"" =>
[""jboss.naming.context.java.comp.ejb-security.ejb-security.SecuredEJB.DefaultJMSConnectionFactory
is missing [jboss.naming.context.java.jboss.DefaultJMSConnectionFactory]""]
}
2018-04-02 12:15:36,603 INFO  [org.jboss.as.server] (ServerService
Thread Pool -- 42) WFLYSRV0010: Deployed ""ejb-security.jar""
(runtime-name : ""ejb-security.jar"")
2018-04-02 12:15:36,607 INFO  [org.jboss.as.controller] (Controller Boot
Thread) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
       service
jboss.naming.context.java.jboss.DefaultJMSConnectionFactory (missing)
dependents: [service
jboss.naming.context.java.comp.ejb-security.ejb-security.SecuredEJB.DefaultJMSConnectionFactory]
{code}",2018/04/03 11:43 AM
WFLY-9884,"I have an EAR file with several ""@Singleton @Startup"" beans. Each bean having a number of @Inject and @Resource fields. When I deploy the EAR in WildFly 11 it sometimes fails with a NoSuchElementException (see  [^log.txt] for a full stacktrace).

I cannot reproduce it consistently but it seems to only happen on a ""clean"" WildFly installation. I haven't seen this on earlier versions of WildFly.

Let me know if you want me to try to build an EAR for reproducing this.",2018/02/22 3:18 AM
WFLY-11510,"{{org.jboss.as.test.integration.microprofile.opentracing.EarOpenTracingWithWeldProbeTestCase}} fails with {{node0}} and {{node1}} set:

{noformat}
WARN  [org.jboss.weld.probe.Probe] (default task-1) PROBE-000017: Access to /ServiceOne/service-endpoint/app denied for <my IP>
WARN  [org.jboss.weld.probe.Probe] (default task-1) PROBE-000017: Access to /ServiceOne/service-endpoint/app denied for <my IP>
...

java.lang.AssertionError: expected:<200> but was:<403>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.integration.microprofile.opentracing.AbstractEarOpenTracingTestCase.testHttpInvokation(AbstractEarOpenTracingTestCase.java:67)
	at org.jboss.as.test.integration.microprofile.opentracing.AbstractEarOpenTracingTestCase.testEarServicesUseDifferentTracersAfterReload(AbstractEarOpenTracingTestCase.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
...
{noformat}

Maybe access from remote IP addresses is blocked in development mode.",2018/12/13 5:04 AM
WFLY-10434,"When cached connection manager (CCM) debug is enabled, during the stack unwind for EJB remote calls, CCM debug is reporting leaked connections and force-closing them.",2018/05/23 11:18 AM
WFLY-11036,"I have an application (WAR) that uses server-sent events (as standardized in JAX-RS 2.1). The application is also marked as <distributable/> in web.xml. If anything actually opens a SSE channel, WildFly hangs during shutdown.

The culprit appears to be DistributableSessionManager. See the below thread dump, taken during a hung shutdown. DSM is coded to wait up to getDefaultMaxInactiveInterval() seconds in its stop() method, and the default is 30 minutes unless configured otherwise. That's why shutdown hangs, although I don't know what it's waiting for.

If I remove <distributable/> from web.xml, shutdown happens normally.

{code}
""ServerService Thread Pool -- 45"" #154 prio=5 os_prio=0 tid=0x000000002bc1a800 nid=0x115e8 waiting on condition [0x0000000035c5e000]
   java.lang.Thread.State: TIMED_WAITING (parking)
        at sun.misc.Unsafe.park(Native Method)
        - parking to wait for  <0x00000000fb4bcc98> (a java.util.concurrent.locks.StampedLock)
        at java.util.concurrent.locks.StampedLock.acquireWrite(StampedLock.java:1119)
        at java.util.concurrent.locks.StampedLock.tryWriteLock(StampedLock.java:394)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.stop(DistributableSessionManager.java:98)
        - locked <0x00000000fb446c70> (a org.wildfly.clustering.web.undertow.session.DistributableSessionManager)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:617)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:607)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at io.undertow.servlet.core.DeploymentManagerImpl.stop(DeploymentManagerImpl.java:621)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:135)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$2.run(UndertowDeploymentService.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)

   Locked ownable synchronizers:
        - None
{code}",2018/09/18 11:36 AM
WFLY-11145,"It's not possible to configure acceptor with {{multicastPrefix=jms.topic.}} and {{anycastPrefix=jms.queue.""}}. 

Problem is that those 2 parameters must be set to {{extraProps}} variable in TransportConfiguration:
https://github.com/apache/activemq-artemis/blob/a6b0b7e44291a76d6732c20b9efedf2a934fd189/artemis-core-client/src/main/java/org/apache/activemq/artemis/api/core/TransportConfiguration.java#L128

however in messaging integration we don't call TransportConfiguration constructor with extreProps map:
https://github.com/wildfly/wildfly/blob/47b1db08fadb745706df7ba411db4f7252d5dd04/messaging-activemq/src/main/java/org/wildfly/extension/messaging/activemq/TransportConfigOperationHandlers.java#L258

Ideally this CLI command should configure acceptor with anycast/multicast prefixes:
{code}
/subsystem=messaging-activemq/server=default/acceptor=acceptor:add(socket-binding=http,factory-class=org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptorFactory,params={protocols=""CORE"",multicastPrefix=""jms.topic"",anycastPrefix=""jms.queue""})
{code}",2018/10/09 8:45 AM
WFLY-9771,e.g. https://ci.wildfly.org/viewLog.html?buildId=88100&buildTypeId=WF_PullRequest_LinuxElytro,2018/02/08 1:51 AM
WFLY-8697,"In order to get singleton deployments fully working, we need to address the numerous {{org.jboss.as.server.deployment.DeploymentUnitProcessor#undeploy}} implementation leaks.",2017/05/03 4:04 PM
WFLY-9658,"In an EAR deployment that contains a multiple batch deployments each sub-deployment can start jobs from other sub-deployments, but the job information cannot be queried. For example a job can be started from a WAR that is in an EJB, however you cannot execute {{JobOperator.getJobInstance()}} from the WAR on the same job.

Visibility should be consistent for starting and querying batch jobs.

More details on https://github.com/jberet/jsr352/issues/105.",2018/01/09 12:20 PM
WFLY-9147,"A POJO WS should default to the Undertow default-security-domain just as an EJB WS defaults to the default-security-domain defined in the ejb3 subsystem.
",2017/07/27 4:56 PM
WFLY-9567,"After applying patch from https://bugs.eclipse.org/bugs/show_bug.cgi?id=414974 on EclipseLink side and removing 'eclipselink.archive.factory' from WildFly's JVM options, 99,9% of tests started to fail on the server.

Problem is that majority of our PU's do have set 'eclipselink.target-server' property (for various reasons) - in this case container as of[1] won't pass its 'eclipselink.archive.factory' to EclipseLink and deployments fail with:

{noformat}
[EL Severe]: 2017-11-23 13:14:31.974--ServerSession(1652754085)--Local Exception Stack: 
 Exception [EclipseLink-28014] (Eclipse Persistence Services - 2.7.1.qualifier): org.eclipse.persistence.exceptions.EntityManagerSetupException
 Exception Description: Exception was thrown while processing property [eclipselink.descriptor.customizer.Project] with value [org.eclipse.persistence.testing.models.jpa.advanced.Customizer].
 Internal Exception: java.lang.ClassNotFoundException: Project from [Module ""deployment.eclipselink-advanced-model.ear.eclipselink-advanced-model_ejb.jar"" from Service Module Loader]
 	at org.eclipse.persistence.exceptions.EntityManagerSetupException.failedWhileProcessingProperty(EntityManagerSetupException.java:199)
 	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.processDescriptorCustomizers(EntityManagerSetupImpl.java:2941)
...
 	at java.lang.Thread.run(Thread.java:748)
 Caused by: java.lang.ClassNotFoundException: Project from [Module ""deployment.eclipselink-advanced-model.ear.eclipselink-advanced-model_ejb.jar"" from Service Module Loader]
 	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
 	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
 	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
 	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
 	at java.lang.Class.forName0(Native Method)
 	at java.lang.Class.forName(Class.java:348)
 	at org.eclipse.persistence.internal.security.PrivilegedAccessHelper.getClassForName(PrivilegedAccessHelper.java:165)
 	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.findClass(EntityManagerSetupImpl.java:1321)
 	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.processDescriptorCustomizers(EntityManagerSetupImpl.java:2938)
 	... 82 more
{noformat}

[1]: https://github.com/wildfly/wildfly/blob/a10034a/jpa/eclipselink/src/main/java/org/jipijapa/eclipselink/EclipseLinkPersistenceProviderAdaptor.java#L47",2017/11/23 7:55 AM
WFLY-10879,"According to the spec (see below excerpt of ejb3.2 specification) the application should not avaialble if a Singleton initialization has failed.

The current behaviour with two ejb.jar's in one ear, or other combinations is
that the failure is logged, the deployment seems removed (there is a APP.ear.failed marker file) but another EJB of a second jar inside the ear is accesible, also web applications war deployemts are started.


from the Spec 3.2

4.8.1 Singleton Session Bean Initialization
By default, the container is responsible for deciding when to initialize a singleton session bean instance.
However, the Bean Provider can optionally configure the singleton session bean for eager initialization.
If the Startup annotation appears on the singleton session bean class or if the singleton session bean
has been designated via the deployment descriptor as requiring eager initialization, the container must
initialize the singleton session bean instance during the application startup sequence. 
*****  The container must initialize all such startup-time singleton session beans before any external client requests (that is,
client requests originating outside of the application) are delivered to any enterprise bean components in
the application. ******

4.8.4 Singleton SB error handling
Errors occurring during singleton session bean initialization are considered fatal and must result in the
discarding of the singleton session bean instance. ...
If a singleton session bean fails to initialize, attempted invocations on the singleton session bean result in the
javax.ejb.NoSuchEJBException exception as defined by Section 3.4.3 and Section 3.4.4 .
",2018/08/17 11:01 AM
WFLY-10358,NoData,2018/05/10 9:21 PM
WFLY-9146,"In this operation sequence, the 2nd operation fails with a NoSuchResourceException:
{noformat}
/subsystem=jgroups/stack=tcp/protocol=TCPPING:add()
/subsystem=jgroups/stack=tcp/protocol=TCPPING:write-attribute(name=properties, value={initial_hosts=""HOST_A[7600],HOST_B[7600]""})
{noformat}
The 1st operation will be transformed to /.../protocol=org.jgroups.protocols.TCPPING:add()
The 2nd operation should also be transformed to the legacy resource.",2017/07/27 4:18 PM
WFLY-8755,"Undertow can be configured to serve static content per host via the location resource.  However, mod_cluster will not redirect requests for this content without separate rewrite rules.
The Undertow container integration module can expose these locations by creating synthetic contexts.",2017/05/11 4:01 PM
WFLY-10745,"It is currently not possible to deploy *.cli built by multi-jsf-installer shipped with WildFly. When attempting to deploy, this message will appear:

{code}
org.jboss.as.cli.CommandFormatException: org.jboss.as.cli.CommandLineException: java.util.concurrent.ExecutionException: org.jboss.as.cli.CommandLineException: Failed to locate /tmp/vfs/cli-1528866094723/cli-1528866094723450313ef1dc90cff/install-mojarra-2.2.17.cli-212b6d42ba0c47e1/jsf-api-2.2.17.jar, if you defined a nonexistent resource on purpose you should use the --allow-nonexistent-resources option
{code}",2018/07/26 7:41 AM
WFLY-10567,"It is currently not possible to deploy *.cli built by multi-jsf-installer shipped with WildFly. When attempting to deploy, this message will appear:

{code}
org.jboss.as.cli.CommandFormatException: org.jboss.as.cli.CommandLineException: java.util.concurrent.ExecutionException: org.jboss.as.cli.CommandLineException: Failed to locate /tmp/vfs/cli-1528866094723/cli-1528866094723450313ef1dc90cff/install-mojarra-2.2.17.cli-212b6d42ba0c47e1/jsf-api-2.2.17.jar, if you defined a nonexistent resource on purpose you should use the --allow-nonexistent-resources option
{code}",2018/06/13 8:45 AM
WFLY-10019,"As seen here:
https://ci.wildfly.org/viewLog.html?buildId=94259&buildTypeId=WF_PullRequest_Windows

since WFLY-9344 was merged.

Appears to be due to a race condition when cascading passivation events to beans within a group.",2018/03/13 3:28 PM
WFLY-10748,"Found this by accident when debugging a clustering test case.
If I start a server with profile standalone-full-ha and then modify the multicast address of a clustering related socket-binding, in this case, jgroups-mping, the server is not put into state reload-required.
This causes a lot of problems in the testsuite which depends on configuring servers after startup and then restarting if necessary to pull in the changes.


",2018/07/26 7:07 PM
WFLY-11056,"Currently, this service starts actively.  However, it only needs to start when demanded by a deployed @Clustered @MessageDriven EJB.",2018/09/20 4:02 PM
WFLY-11531,"{noformat}
[0m[31m21:58:14,062 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PrepareCommand, writing keys [InfinispanBeanGroupKey(UUIDSessionID [f1e2dd2e-c03c-458e-bc46-84c82edd2133]), InfinispanBeanKey(UUIDSessionID [f1e2dd2e-c03c-458e-bc46-84c82edd2133])]: java.lang.ExceptionInInitializerError
	at org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1274)
	at org.jboss.marshalling.river.RiverMarshallerFactory.createMarshaller(RiverMarshallerFactory.java:54)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshallingContext.createMarshaller(SimpleMarshallingContext.java:68)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValue.getBytes(SimpleMarshalledValue.java:76)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:51)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:36)
	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:45)
	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:37)
	at org.wildfly.clustering.marshalling.infinispan.AdvancedExternalizerAdapter.writeObject(AdvancedExternalizerAdapter.java:51)
	at org.infinispan.marshall.core.ExternalExternalizers$ForeignAdvancedExternalizer.writeObject(ExternalExternalizers.java:78)
	at org.infinispan.marshall.core.GlobalMarshaller.writeExternal(GlobalMarshaller.java:652)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:406)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.write.PutKeyValueCommand.writeTo(PutKeyValueCommand.java:111)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:67)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:55)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commons.marshall.MarshallUtil.marshallArray(MarshallUtil.java:182)
	at org.infinispan.commands.tx.PrepareCommand.writeTo(PrepareCommand.java:206)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:120)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:116)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:66)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:183)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:176)
	at org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:305)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1009)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:1209)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:855)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeCommand(RpcManagerImpl.java:175)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:311)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.lambda$visitPrepareCommand$6(TxDistributionInterceptor.java:299)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:287)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:848)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:41)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:506)
	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
	at org.jboss.as.ejb3.cache.distributable.DistributableCache.create(DistributableCache.java:101)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.createSession(StatefulSessionComponent.java:240)
	at org.jboss.as.weld.ejb.StatefulSessionObjectReferenceImpl.<init>(StatefulSessionObjectReferenceImpl.java:73)
	at org.jboss.as.weld.services.bootstrap.WeldEjbServices.resolveEjb(WeldEjbServices.java:53)
	at org.jboss.weld.module.ejb.SessionBeanImpl.createReference(SessionBeanImpl.java:248)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.<init>(EnterpriseBeanProxyMethodHandler.java:87)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.<init>(EnterpriseBeanProxyMethodHandler.java:67)
	at org.jboss.weld.module.ejb.SessionBeanProxyInstantiator.createEnterpriseTargetBeanInstance(SessionBeanProxyInstantiator.java:77)
	at org.jboss.weld.module.ejb.SessionBeanProxyInstantiator.newInstance(SessionBeanProxyInstantiator.java:58)
	at org.jboss.weld.module.ejb.SessionBeanImpl.create(SessionBeanImpl.java:154)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.create(IsolatedForwardingBean.java:45)
	at org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)
	at org.jboss.weld.contexts.PassivatingContextWrapper$AbstractPassivatingContextWrapper.get(PassivatingContextWrapper.java:76)
	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)
	at org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.get(ContextualInstanceStrategy.java:177)
	at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)
	at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)
	at org.jboss.as.test.clustering.cluster.ejb.stateful.bean.Incrementor$64999020$Proxy$_$$_WeldClientProxy.increment(Unknown Source)
	at org.jboss.as.test.clustering.cluster.cdi.CdiServlet.doGet(CdiServlet.java:52)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.sun.reflect"")"" in code source ""(vfs:/content/CdiFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.CdiFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:329)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.jboss.modules.JDKSpecific.getSystemClass(JDKSpecific.java:180)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:310)
	... 165 more
{noformat}",2018/12/18 1:00 PM
WFLY-11509,"Currently only affects master, caused by {{4b1464020489b02bf4516f941b6c662719fe7f18}}.

{code}
[0m[31m10:14:35,476 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PutKeyValueCommand, writing keys [SessionCreationMetaDataKey(C1RUXT3dUmdkgzWpzBgEVRTA5dNgQc0sIJ8Ensqx)]: java.lang.ExceptionInInitializerError
	at org.wildfly.clustering.web.infinispan.SessionKeyExternalizer.writeObject(SessionKeyExternalizer.java:49)
	at org.wildfly.clustering.web.infinispan.SessionKeyExternalizer.writeObject(SessionKeyExternalizer.java:37)
	at org.wildfly.clustering.marshalling.infinispan.AdvancedExternalizerAdapter.writeObject(AdvancedExternalizerAdapter.java:51)
	at org.infinispan.marshall.core.ExternalExternalizers$ForeignAdvancedExternalizer.writeObject(ExternalExternalizers.java:78)
	at org.infinispan.marshall.core.GlobalMarshaller.writeExternal(GlobalMarshaller.java:652)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:406)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.write.PutKeyValueCommand.writeTo(PutKeyValueCommand.java:110)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:67)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:55)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.remote.SingleRpcCommand.writeTo(SingleRpcCommand.java:42)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:120)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:116)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:66)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:183)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:176)
	at org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:305)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1009)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:1209)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:855)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeCommand(RpcManagerImpl.java:175)
	at org.infinispan.interceptors.distribution.BaseDistributionInterceptor.primaryReturnHandler(BaseDistributionInterceptor.java:344)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.distribution.BaseDistributionInterceptor.handleNonTxWriteCommand(BaseDistributionInterceptor.java:268)
	at org.infinispan.interceptors.distribution.NonTxDistributionInterceptor.visitPutKeyValueCommand(NonTxDistributionInterceptor.java:110)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:197)
	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:124)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:672)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:302)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:150)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$1(AbstractLockingInterceptor.java:299)
	at org.infinispan.interceptors.SyncInvocationStage.addCallback(SyncInvocationStage.java:42)
	at org.infinispan.interceptors.InvocationStage.andHandle(InvocationStage.java:65)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:294)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:126)
	at org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:40)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleNonTxWriteCommand(StateTransferInterceptor.java:309)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:252)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPutKeyValueCommand(StateTransferInterceptor.java:96)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1918)
	at org.infinispan.cache.impl.CacheImpl.putIfAbsent(CacheImpl.java:1474)
	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:695)
	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:610)
	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:353)
	at org.infinispan.cache.impl.EncoderCache.putIfAbsent(EncoderCache.java:493)
	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:353)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:51)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:37)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:238)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:167)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:918)
	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:411)
	at org.jboss.as.test.clustering.single.web.SimpleServlet.doGet(SimpleServlet.java:68)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/ConcurrentFineWebFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConcurrentFineWebFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:1528)
	at java.lang.Class.getClassLoader(Class.java:683)
	at org.wildfly.clustering.web.infinispan.SessionIdentifierSerializer.<init>(SessionIdentifierSerializer.java:39)
	at org.wildfly.clustering.web.infinispan.SessionIdentifierSerializer.<clinit>(SessionIdentifierSerializer.java:37)
	... 144 more
{code}",2018/12/13 4:16 AM
WFLY-10811,NoData,2018/08/08 3:55 PM
WFLY-9016,"When setting up the {{AuthenticationConfiguration}} during deployment ({{EjbClientContextSetupProcessor}}), the SecurityDomain defined to forward/propagate identities is lost making impossible to propagate identities when connecting to a remote EJB.

The reference to the {{AuthenticationConfiguration}} should be obtained at runtime during invocations in order to be able to obtain the current identity for a given SecurityDomain.",2017/06/28 8:54 AM
WFLY-11503,"{{org.jboss.as.test.integration.jsp.JspTagTestCase#test}} fails with security manager with jboss.dist set due to missing permissions:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /6b2ba122-d8bf-4324-90df-a6b04b15375e/index2.jsp: org.apache.jasper.JasperException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/6b2ba122-d8bf-4324-90df-a6b04b15375e.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@1c6efa65"")
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp@2.0.7.Final//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.15.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.15.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/6b2ba122-d8bf-4324-90df-a6b04b15375e.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@1c6efa65"")
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.base/java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:2048)
	at java.base/java.lang.Class.getClassLoader(Class.java:831)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.injection.InjectionTargets.createInjectionTarget(InjectionTargets.java:68)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.deployment.WeldClassIntrospector.getInjectionTarget(WeldClassIntrospector.java:102)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.deployment.WeldClassIntrospector.createInstance(WeldClassIntrospector.java:114)
	at org.jboss.as.ee@16.0.0.Beta1-SNAPSHOT//org.jboss.as.ee.component.ComponentRegistry.createInstance(ComponentRegistry.java:85)
	at org.jboss.as.web-common@16.0.0.Beta1-SNAPSHOT//org.jboss.as.web.common.WebInjectionContainer.newInstance(WebInjectionContainer.java:77)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowJSPInstanceManager.newInstance(UndertowJSPInstanceManager.java:75)
	at org.apache.jsp.index2_jsp._jspx_meth_my_005ftag_005f0(index2_jsp.java:128)
	at org.apache.jsp.index2_jsp._jspService(index2_jsp.java:99)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
	... 52 more
{noformat}
",2018/12/12 8:13 AM
WFLY-11501,"{{org.wildfly.test.integration.elytron.jaspi.DynamicJaspiTestCase#testCalls}} fails with security manager due to missing permissions:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConfiguredJaspiTestCase/: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""getFactory"")"" in code source ""(vfs:/content/ConfiguredJaspiTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConfiguredJaspiTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.api@1.0.2.Final//javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:210)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.jaspi.JaspiConfigurationBuilder.register(JaspiConfigurationBuilder.java:106)
	at deployment.ConfiguredJaspiTestCase.war//org.wildfly.test.integration.elytron.jaspi.JaspiTestServlet.doGet(JaspiTestServlet.java:62)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.security.elytron-web.undertow-server@1.3.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.wildfly.security.elytron-web.undertow-server@1.3.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at org.wildfly.security.elytron-web.undertow-server-servlet@1.3.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.15.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.15.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}
",2018/12/12 7:53 AM
WFLY-9339,"UndertowTransformersTestCase isn't setting up the AdditionalInitialization on the legacy controller side so the boot ops fail due to missing capabilities.

DatasourcesSubsystemTestCase in one test is using a config with an enum value the legacy hosts can't understand, and in another it's not correcting a rejected value causing the test to fail when it continues.

Simple fixes, although the undertow one has revealed issues in how core deals with legacy controllers that will have to be corrected before the tests can pass.",2017/09/11 11:29 PM
WFLY-10123,"{{HttpInvocationInContainerTestCase}} fails with security manager because of missing permission {{""java.io.FilePermission"" ""$PATH_TO_APPLICATION_SERVER/modules/system/layers/base/org/wildfly/http-client/ejb/main/wildfly-http-ejb-client-1.0.11.Final-redhat-1.jar"" ""read""}}:
{code}
java.lang.ExceptionInInitializerError
	at org.wildfly.httpclient.naming.HttpNamingContextFactory.createRootContext(HttpNamingContextFactory.java:40)
	at org.wildfly.naming.client.WildFlyRootContext.getProviderContext(WildFlyRootContext.java:794)
	at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:140)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.test.integration.ejb.remote.http.HttpInvocationInContainerTestCase.invokeEjb(HttpInvocationInContainerTestCase.java:39)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.GeneratedMethodAccessor133.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.GeneratedMethodAccessor132.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor105.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.GeneratedMethodAccessor107.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor105.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.GeneratedMethodAccessor122.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-secman/1cfa62fc/jboss-eap-7.2/modules/system/layers/base/org/wildfly/http-client/ejb/main/wildfly-http-ejb-client-1.0.11.Final-redhat-1.jar"" ""read"")"" in code source ""(vfs:/content/http-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.http-test.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:295)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:192)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:360)
	at java.util.zip.ZipFile.<init>(ZipFile.java:216)
	at java.util.zip.ZipFile.<init>(ZipFile.java:155)
	at java.util.jar.JarFile.<init>(JarFile.java:166)
	at java.util.jar.JarFile.<init>(JarFile.java:103)
	at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:93)
	at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:152)
	at java.net.URL.openStream(URL.java:1045)
	at java.util.ServiceLoader.parse(ServiceLoader.java:304)
	at java.util.ServiceLoader.access$200(ServiceLoader.java:185)
	at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:357)
	at java.util.ServiceLoader$LazyIterator.access$600(ServiceLoader.java:323)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:396)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:395)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:398)
	at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)
	at org.wildfly.httpclient.naming.HttpRootContext.<clinit>(HttpRootContext.java:98)
	... 140 more
{code}",2018/03/28 8:42 AM
WFLY-10127,"{{DatasourceMaxPoolAttributeTestCase}} and {{DatasourceMinPoolAttributeTestCase}} fails with security manager because of missing permission {{""java.lang.RuntimePermission"" ""accessDeclaredMembers""}}:
{code}
java.lang.AssertionError: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessDeclaredMembers"")"" in code source ""(vfs:/content/deployment.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.deployment.jar"" from Service Module Loader"")
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.jca.JcaTestsUtil.extractWrapperDatasource(JcaTestsUtil.java:179)
	at org.jboss.as.test.integration.jca.poolattributes.DatasourceMaxPoolAttributeTestCase.testModifyMinPoolAttribute(DatasourceMaxPoolAttributeTestCase.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{code}",2018/03/28 8:48 AM
WFLY-10128,"{{WebSuspendTestCase}} fails with security manager because of missing permission {{""java.io.FilePermission"" ""$PATH_TO_APPLICATION_SERVER/standalone/tmp/auth/local3333686585385801491.challenge"" ""read""}}:
{code}
java.io.IOException: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://10.19.70.236:9990. The connection failed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.web.suspend.WebSuspendTestCase.testRequestInShutdown(WebSuspendTestCase.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://10.19.70.236:9990. The connection failed
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:128)
	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:259)
	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)
	at org.jboss.as.protocol.mgmt.ManagementClientChannelStrategy$Establishing.getChannel(ManagementClientChannelStrategy.java:167)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:146)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:60)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 146 more
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-integ-rhel-secman/1cfa62fc/testsuite/integration/basic/target/wildfly/standalone/tmp/auth/local3333686585385801491.challenge"" ""read"")"" in code source ""(vfs:/content/web-suspend.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.web-suspend.war"" from Service Module Loader"")
	at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:446)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:570)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:532)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:520)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:204)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:120)
	... 156 more
{code}",2018/03/28 8:51 AM
WFLY-10142,"Tests
* {{LdapUrlInSearchBaseTestCase}}
* {{ExternalContextBindingTestCase}}

fail with security manager because of missing permission {{""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.ldap""}}, with exception like:

{code}
ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /ldap-test/: javax.servlet.ServletException: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory com.sun.jndi.ldap.LdapCtxFactory from classloader ModuleClassLoader for Module ""deployment.ldap-test.war"" from Service Module Loader [Root exception is java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.ldap"")"" in code source ""(vfs:/W:/workspace/eap-7x-as-testsuite-test-integ-windows-secman/be5b5ebd/testsuite/integration/basic/content/ldap-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ldap-test.war"" from Service Module Loader"")]
	at deployment.ldap-test.war//org.jboss.as.test.integration.naming.ldap.LdapUrlTestServlet.doGet(LdapUrlTestServlet.java:75)
	at javax.servlet.api//javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.api//javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:67)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
	at org.wildfly.extension.undertow//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1526)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.0.SP1-redhat-1//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.1.Final-redhat-1//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.1.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.1.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.1.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:844)
Caused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory com.sun.jndi.ldap.LdapCtxFactory from classloader ModuleClassLoader for Module ""deployment.ldap-test.war"" from Service Module Loader [Root exception is java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.ldap"")"" in code source ""(vfs:/W:/workspace/eap-7x-as-testsuite-test-integ-windows-secman/be5b5ebd/testsuite/integration/basic/content/ldap-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ldap-test.war"" from Service Module Loader"")]
	at org.jboss.as.naming//org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:120)
	at org.jboss.as.naming//org.jboss.as.naming.InitialContext.init(InitialContext.java:101)
	at java.naming/javax.naming.ldap.InitialLdapContext.<init>(InitialLdapContext.java:154)
	at org.jboss.as.naming//org.jboss.as.naming.InitialContext.<init>(InitialContext.java:91)
	at org.jboss.as.naming//org.jboss.as.naming.InitialContextFactory.getInitialContext(InitialContextFactory.java:43)
	at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)
	at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)
	at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)
	at java.naming/javax.naming.InitialContext.<init>(InitialContext.java:208)
	at java.naming/javax.naming.directory.InitialDirContext.<init>(InitialDirContext.java:101)
	at deployment.ldap-test.war//org.jboss.as.test.integration.naming.ldap.LdapUrlTestServlet.runSearch(LdapUrlTestServlet.java:109)
	at deployment.ldap-test.war//org.jboss.as.test.integration.naming.ldap.LdapUrlTestServlet.doGet(LdapUrlTestServlet.java:73)
	... 45 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.ldap"")"" in code source ""(vfs:/W:/workspace/eap-7x-as-testsuite-test-integ-windows-secman/be5b5ebd/testsuite/integration/basic/content/ldap-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ldap-test.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.2.4.Final-redhat-1//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:295)
	at org.wildfly.security.elytron-private@1.2.4.Final-redhat-1//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:192)
	at java.base/java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1534)
	at org.wildfly.security.elytron-private@1.2.4.Final-redhat-1//org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:491)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:181)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:375)
	at org.jboss.modules.JDKSpecific$1.loadClassLocal(JDKSpecific.java:115)
	at org.jboss.modules.Module.loadModuleClass(Module.java:717)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:191)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:375)
	at org.jboss.as.naming//org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:115)
	... 56 more
{code}",2018/03/29 7:37 AM
WFLY-10121,"{{IIOPSecurityInvocationTestCase}} fails with security manager because of missing permission {{""java.lang.RuntimePermission"" ""accessClassInPackage.sun.misc""}}:
{code}
""IOP00810211: (MARSHAL) Exception from readValue on ValueHandler in CDRInputStream"": org.omg.CORBA.MARSHAL:   vmcid: SUN  minor code: 211 completed: Maybe
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.valuehandlerReadException(ORBUtilSystemException.java:7004)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_value(CDRInputStream_1_0.java:1010)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_value(CDRInputStream.java:271)
	at com.sun.corba.se.impl.io.IIOPInputStream.inputObjectField(IIOPInputStream.java:2033)
	at com.sun.corba.se.impl.io.IIOPInputStream.inputClassFields(IIOPInputStream.java:2254)
	at com.sun.corba.se.impl.io.IIOPInputStream.inputObject(IIOPInputStream.java:1249)
	at com.sun.corba.se.impl.io.IIOPInputStream.simpleReadObject(IIOPInputStream.java:416)
	at com.sun.corba.se.impl.io.ValueHandlerImpl.readValueInternal(ValueHandlerImpl.java:341)
	at com.sun.corba.se.impl.io.ValueHandlerImpl.readValue(ValueHandlerImpl.java:307)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_value(CDRInputStream_1_0.java:999)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_value(CDRInputStream_1_0.java:844)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_value(CDRInputStream.java:267)
	at com.sun.corba.se.spi.servicecontext.UEInfoServiceContext.<init>(UEInfoServiceContext.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.sun.corba.se.spi.servicecontext.ServiceContextData.makeServiceContext(ServiceContextData.java:132)
	at com.sun.corba.se.spi.servicecontext.ServiceContexts.unmarshal(ServiceContexts.java:216)
	at com.sun.corba.se.spi.servicecontext.ServiceContexts.get(ServiceContexts.java:378)
	at com.sun.corba.se.spi.servicecontext.ServiceContexts.get(ServiceContexts.java:366)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.processResponse(CorbaClientRequestDispatcherImpl.java:530)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.marshalingComplete(CorbaClientRequestDispatcherImpl.java:373)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at org.jboss.as.ejb3.iiop.stub.DynamicIIOPStub.invoke(DynamicIIOPStub.java:127)
	at interface org.jboss.as.test.iiop.security.IIOPSecurityStatelessRemote_Stub.role2(Unknown Source)
	at org.jboss.as.test.iiop.security.ClientEjb.testFailure(ClientEjb.java:22)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:330)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:238)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at org.jboss.as.test.iiop.security.ClientEjb$$$view1.testFailure(Unknown Source)
	at org.jboss.as.test.iiop.security.IIOPSecurityInvocationTestCase.lambda$testFailedInvocation$1(IIOPSecurityInvocationTestCase.java:112)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:251)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:206)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:156)
	at org.jboss.as.test.iiop.security.IIOPSecurityInvocationTestCase.testFailedInvocation(IIOPSecurityInvocationTestCase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.sun.misc"")"" in code source ""(vfs:/content/client.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.client.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:295)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:192)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:491)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:318)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.jboss.modules.ClassLoaderLocalLoader.loadClassLocal(ClassLoaderLocalLoader.java:50)
	at org.jboss.modules.Module.loadModuleClass(Module.java:717)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:191)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at com.sun.corba.se.impl.io.ObjectStreamClass.newInstance(ObjectStreamClass.java:985)
	at com.sun.corba.se.impl.io.IIOPInputStream.inputObject(IIOPInputStream.java:1172)
	at com.sun.corba.se.impl.io.IIOPInputStream.simpleReadObject(IIOPInputStream.java:416)
	at com.sun.corba.se.impl.io.ValueHandlerImpl.readValueInternal(ValueHandlerImpl.java:341)
	at com.sun.corba.se.impl.io.ValueHandlerImpl.readValue(ValueHandlerImpl.java:307)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_value(CDRInputStream_1_0.java:999)
	... 235 more
{code}",2018/03/28 8:36 AM
WFLY-9065,"{{DatasourcePoolAttributesTestCase}} fails with security manager:

{noformat}
INFO  [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-3-thread-1) BeanManager not found.
SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-3-thread-1) Failed: org.jboss.as.test.integration.jca.poolattributes.DatasourcePoolAttributesTestCase.testModifyNonReloadAttributes: java.lang.NullPointerException
	at org.jboss.as.test.integration.jca.JcaTestsUtil.extractConnectionManager(JcaTestsUtil.java:129)
	at org.jboss.as.test.integration.jca.JcaTestsUtil.exctractPoolConfiguration(JcaTestsUtil.java:91)
	at org.jboss.as.test.integration.jca.poolattributes.DatasourcePoolAttributesTestCase.testModifyNonReloadAttributes(DatasourcePoolAttributesTestCase.java:136)
...
{noformat}

It is not obvious why does it fail or which permissions are missing.",2017/07/10 8:12 AM
WFLY-9292,"{{TimerServiceSuspendTestCase}} and {{DatasourceNonCcmTestCase}} fail with security manager because of missing permission {{""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local652844383872569005.challenge"" ""read"")""}}:

{noformat}
java.io.IOException: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://127.0.0.1:9990. The connection failed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.ejb.timerservice.suspend.TimerServiceSuspendTestCase.testIntervalTimersDoNotBackUp(TimerServiceSuspendTestCase.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://127.0.0.1:9990. The connection failed
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:128)
	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:259)
	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)
	at org.jboss.as.protocol.mgmt.ManagementClientChannelStrategy$Establishing.getChannel(ManagementClientChannelStrategy.java:162)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:146)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:60)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 143 more
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local652844383872569005.challenge"" ""read"")"" in code source ""(vfs:/content/testTimerServiceSimple.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.testTimerServiceSimple.war"" from Service Module Loader"")
	at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:442)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:570)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:532)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:520)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:204)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:120)
	... 153 more
	Suppressed: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local652844383872569005.challenge"" ""read"")"" in code source ""(vfs:/content/testTimerServiceSimple.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.testTimerServiceSimple.war"" from Service Module Loader"")
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
		at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
		at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
		at java.io.FileInputStream.<init>(FileInputStream.java:127)
		at org.wildfly.security.sasl.localuser.LocalUserClient.evaluateMessage(LocalUserClient.java:93)
		at org.wildfly.security.sasl.util.AbstractSaslParticipant.evaluateMessage(AbstractSaslParticipant.java:180)
		at org.wildfly.security.sasl.util.AbstractSaslClient.evaluateChallenge(AbstractSaslClient.java:59)
		at org.wildfly.security.sasl.util.AbstractDelegatingSaslClient.evaluateChallenge(AbstractDelegatingSaslClient.java:54)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.lambda$evaluateChallenge$0(PrivilegedSaslClient.java:55)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.evaluateChallenge(PrivilegedSaslClient.java:55)
		at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.lambda$handleEvent$0(ClientConnectionOpenListener.java:646)
		at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:926)
		... 3 more
{noformat}

Adding the permission helps. Like in WFLY-9290.",2017/09/05 4:49 AM
WFLY-9290,"Some {{MDBTestCase}} tests fail with security manager because of missing permission {{""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local4437638380092046127.challenge"" ""read"")""}}:

{noformat}
java.io.IOException: java.net.ConnectException: WFLYPRT0053: Could not connect to remote+http://127.0.0.1:9990. The connection failed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.ejb.mdb.MDBTestCase.testSuspendResumeWithMDB(MDBTestCase.java:177)
...

Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local8043361973857375326.challenge"" ""read"")"" in code source ""(vfs:/content/MDBTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.MDBTestCase.jar"" from Service Module Loader"")
	at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:442)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:570)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:532)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:520)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:204)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:120)
	... 157 more
	Suppressed: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local8043361973857375326.challenge"" ""read"")"" in code source ""(vfs:/content/MDBTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.MDBTestCase.jar"" from Service Module Loader"")
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
		at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
		at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
		at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
		at java.io.FileInputStream.<init>(FileInputStream.java:127)
		at org.wildfly.security.sasl.localuser.LocalUserClient.evaluateMessage(LocalUserClient.java:93)
		at org.wildfly.security.sasl.util.AbstractSaslParticipant.evaluateMessage(AbstractSaslParticipant.java:180)
		at org.wildfly.security.sasl.util.AbstractSaslClient.evaluateChallenge(AbstractSaslClient.java:59)
		at org.wildfly.security.sasl.util.AbstractDelegatingSaslClient.evaluateChallenge(AbstractDelegatingSaslClient.java:54)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.lambda$evaluateChallenge$0(PrivilegedSaslClient.java:55)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.wildfly.security.sasl.util.PrivilegedSaslClient.evaluateChallenge(PrivilegedSaslClient.java:55)
		at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.lambda$handleEvent$0(ClientConnectionOpenListener.java:646)
		at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:926)
		... 3 more
{noformat}

Adding the missing permission helps.",2017/09/04 11:01 AM
WFLY-9059,"Many tests in {{org.jboss.as.test.integration.ejb.security}} package and subpackages fail or result in error with missing permission ""(""org.wildfly.security.permission.ElytronPermission"" ""getSecurityDomain"")"", e.g.:

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.wildfly.security.permission.ElytronPermission"" ""getSecurityDomain"")"" in code source ""(vfs:/content/ejb3-security-partial-dd-test.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ejb3-security-partial-dd-test.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at org.wildfly.security.auth.server.SecurityDomain.getCurrent(SecurityDomain.java:155)
...
{noformat}

Following test cases are affected:
* {{AnnotationAuthorizationTestCase}}
* {{EJBInWarDefaultSecurityDomainTestCase}}
* {{LifecycleTestCase}}
* {{MixedSecurityAnnotationAuthorizationTestCase}}
* {{RunAsPrincipalTestCase}}
* {{SecurityDDOverrideTestCase}}
* {{asynchronous.AsynchronousSecurityTestCase}}
* {{callerprincipal.GetCallerPrincipalTestCase}}
* {{missingmethodpermission.*}}
** require also {{RuntimePermission(""getClassLoader"")}} and {{RuntimePermission(""setContextClassLoader"")}} permissions
* {{rolelink.SecurityRoleLinkTestCase}}
* {{runas.RunAsTestCase}}
* {{singleton.SingletonSecurityTestCase}}",2017/07/07 7:14 AM
WFLY-9048,"MDB20TopicTestCase fails with security manager:

{noformat}
java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/MDB20TopicTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.MDB20TopicTestCase.jar"" from Service Module Loader"")
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20TopicTestCase.getNumberOfAllSubscriptions(MDB20TopicTestCase.java:171)
...
{noformat}

There are missing permissions {{RemotingPermission(""createEndpoint"")}}, {{RemotingPermission(""connect"")}}, and possibly others, and missing dependency on {{org.jboss.remoting3}}. After adding the permissions and dependency, there is another missing permission:

{noformat}
ERROR [org.xnio.listener] (XNIO-1 I/O-1) XNIO001007: A channel event listener threw an exception: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/okotek/git/wildfly/dist/target/wildfly-11.0.0.Beta1-SNAPSHOT/modules/system/layers/base/org/wildfly/security/elytron-private/main/wildfly-elytron-1.1.0.CR2.jar"" ""read"")"" in code source ""(vfs:/content/MDB20TopicTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.MDB20TopicTestCase.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
	at sun.net.www.protocol.jar.JarFileFactory.getCachedJarFile(JarFileFactory.java:137)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:81)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:150)
	at java.net.URL.openStream(URL.java:1045)
	at java.util.ServiceLoader.parse(ServiceLoader.java:304)
	at java.util.ServiceLoader.access$200(ServiceLoader.java:185)
	at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:357)
	at java.util.ServiceLoader$LazyIterator.access$600(ServiceLoader.java:323)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:396)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:395)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:398)
	at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)
	at org.wildfly.security.util.ServiceLoaderSupplier.get(ServiceLoaderSupplier.java:55)
	at org.wildfly.security.util.ServiceLoaderSupplier.get(ServiceLoaderSupplier.java:35)
	at org.wildfly.security.util.ProviderUtil$1.get(ProviderUtil.java:139)
	at org.wildfly.security.util.ProviderUtil$1.get(ProviderUtil.java:127)
	at org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:84)
	at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)
	at org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)
	at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)
	at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)
	at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)
	at org.wildfly.security.sasl.util.PropertiesSaslClientFactory.createSaslClient(PropertiesSaslClientFactory.java:54)
	at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)
	at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)
	at org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)
	at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)
	at org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:74)
	at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)
	at org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1239)
	at org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:347)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:418)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
{noformat}

which seems to be related to REM3-258.",2017/07/04 10:59 AM
WFLY-8870,"*org.wildfly.test.integration.elytron.ejb.AuthenticationTestCase*

There are missing permissions:
* {{new PropertyPermission(""jboss.bind.address"", ""read"")}} required by {{TestSuiteEnvironment}} class,
* {{new ElytronPermission(""getSecurityDomain"")}},
* {{new ElytronPermission(""authenticate"")}}.",2017/06/01 7:49 AM
WFLY-9162,"EEConcurrentManagementTestCase fails with security manager

{code}
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local55625406098549935.challenge"" ""read"")"" in code source ""(vfs:/content/EEConcurrentManagementTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.EEConcurrentManagementTestCase.jar"" from Service Module Loader"")
   DIGEST-MD5: javax.security.sasl.SaslException: DIGEST-MD5: Server rejected authentication
        at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:400)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
        at ...asynchronous invocation...(Unknown Source)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:504)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:492)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:194)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:118)
        ... 157 more
...
{code}",2017/08/02 10:18 AM
WFLY-9164,"ResourceAdapterPoolAttributesTestCase fails with security manage

{code}
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local8056268563783903312.challenge"" ""read"")"" in code source ""(vfs:/content/pool-attributes-test.rar/pool-attributes-test.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.pool-attributes-test.rar"" from Service Module Loader"")
   DIGEST-MD5: javax.security.sasl.SaslException: DIGEST-MD5: Server rejected authentication
        at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:400)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
        at ...asynchronous invocation...(Unknown Source)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:504)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:492)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:194)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:118)
        ... 162 more
...
{code}",2017/08/02 10:50 AM
WFLY-9163,"FlushOperationsTestCase fails with security manager

{code}
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local7024820816277944867.challenge"" ""read"")"" in code source ""(vfs:/content/flush-operations.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.flush-operations.jar"" from Service Module Loader"")
   DIGEST-MD5: javax.security.sasl.SaslException: DIGEST-MD5: Server rejected authentication
        at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:400)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
        at ...asynchronous invocation...(Unknown Source)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:504)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:492)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:194)
        at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:118)
        ... 148 more
...
{code}",2017/08/02 10:46 AM
WFLY-11186,"Allow other capabilities that require weld to declare that, and thus help Galleon to ensure it's in the config.

Also lets other capabilities that have optional functionality to check whether the weld capability is present and thus not enable that functionality if it's not. That allows classloading dependencies to be optional.",2018/10/15 10:29 PM
WFLY-11181,"I _think_ this is wrong...

XAResourceRecoveryServiceConfigurator is installed for all caches, not just ones with the  ones with the component=transaction child resource.  That's basically ok because its accept and get methods only do things if this.cache.get().getCacheConfiguration().transaction().recovery().enabled(). But, the problem is the service dependency on the XAResourceRecoveryRegistry service the transaction subsystem provides is always added, so even if is wouldn't be used the dependency is added.

I think WFLY-11167 will make it possible to correct this by 1) doing capability checking before adding the service dependency and 2) adding a capability requirement in TransactionResourceDefinition.",2018/10/15 10:50 AM
WFLY-8767,"In EAP domain mode, when changing the max-pool-size attribute of a datasource via CLI, the response does not indicate that a reload is required. However, reading the statistics of that datasource does not reflect the Available count as per the new max pool value until a restart of the server is performed.",2017/05/15 7:20 AM
WFLY-9624,"If an asynchronous invocation of an ejb method throws an application exception (declared exception) then the returned future will always return false on isDone(). That means: the client will never know that the operation has finished (unscuccessfully) unless get() is called which would rethrow the original exception.

This behavior has changed from wildfly 10.1.0.Final to 11.0.0.Final. 

I pretty sure that the problem is in org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.

The isDone Method is implemented like this:

{noformat}
    @Override
    public boolean isDone() {
        return status == ST_DONE;
    }
{noformat}

But status can be one of:
{noformat}
    private static final int ST_RUNNING = 0;
    private static final int ST_DONE = 1;
    private static final int ST_CANCELLED = 2;
    private static final int ST_FAILED = 3;
{noformat}

And and exception sets the status to 

{noformat}
    private synchronized void setFailed(final Exception e) {
        this.failed = e;
        status = ST_FAILED;
        done();
    }
{noformat}

So it's pretty obvious. 

The javadoc on java.util.concurrent.Future states:

{quote}
Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.
{quote}

So the isDone() method should  look more like this:
{noformat}
    @Override
    public boolean isDone() {
        return status == ST_DONE || status == ST_FAILED || status == ST_CANCELLED;
    }
{noformat}

In wildfly 10, there was a single boolean variable ""done"" which was set to true in all three cases:
* cancel()
* setResult(...) and
* setFailed(...)

",2017/12/20 4:57 AM
WFLY-10872,"Following should add simple load provider with factor=0:
{code}
/subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=simple-load-provider, value=0)
{code}

Instead, this error shows up:

{code}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""subsystem\"" => \""modcluster\""),
    (\""proxy\"" => \""default\""),
    (\""load-provider\"" => \""simple\"")
]' not found"",
    ""rolled-back"" => true
}
{code}

There is missing translation to create the resource, same is the situation for undefine operation.",2018/08/16 5:29 AM
WFLY-9649,This is required so that any tooling can correctly construct the capability names from a PathAddress using only the registered RuntimeCapability object.,2018/01/05 10:58 AM
WFLY-9194,"Most likely the caller is forgetting to throw the exception.

WeldLogger.componentInterceptorSupportNotAvailable
WeldEjbLogger.ejbHashBeenRemoved",2017/08/05 12:12 PM
WFLY-9857,NoData,2018/02/19 1:40 PM
WFLY-9845,"During an update from wildfly 8.2.0.Final to 11.0.0.Final I have noticed the following issue:

Given an abstract base class B with an @PostConstruct annotated method and a derived class D with the annotations @Singleton and @Startup. When the @PostConstruct method is called, no transaction is started. 

According to the [EJB 3.2 Specification|http://download.oracle.com/otn-pub/jcp/ejb-3_2-fr-eval-spec/ejb-3_2-core-fr-spec.pdf] section 4.8.3, I would expect the container to start a new transaction, as the default transaction attribute is REQUIRED.

I have attached source for a war showcasing this issue. On deploying the resulting war on a new wildfly instance, the log should contain the following two lines:

{{14:13:06,410 INFO  [stdout] (ServerService Thread Pool -- 20) Singleton Hierarchy: transaction status: 6
14:13:06,410 INFO  [stdout] (ServerService Thread Pool -- 58) Singleton2 Standalone: transaction status: 0}}

A transaction status of 6 says that no transaction exists, while a transaction status of 0 implies that a transaction is ongoing. The war shows that this issue occurs only when using a class hierarchy. I expect the status 0 for both cases.

Through testing I noticed that this issue exists since wildfly 9.0.0.Final. I could not find a reason for this behavior from the list of issues for the 9-series release, however.",2018/02/16 9:14 AM
WFLY-9683,"The use of a lambda here is just so a forEach loop can be used instead of a normal for loop.
",2018/01/17 6:13 AM
WFLY-9322,"This can have a big performance impact, as unless there are a large number of elements parallel streams are significantly more expensive than non parallel ones. I see it being used in:

org.jboss.as.ejb3.remote.AssociationImpl#registerClusterTopologyListener
org.wildfly.elytron.web.undertow.server.ElytronAccount#ElytronAccount
org.wildfly.elytron.web.undertow.server.ElytronHttpExchange#getRequestParameters
org.jboss.as.security.remoting.RemotingConnectionCredential#RemotingConnectionCredential
org.jboss.as.security.api.ConnectionSecurityContext#getConnectionPrincipals


",2017/09/08 6:25 AM
WFLY-9371,The problem is that this test is not run as part of regular CI execution thus is destined to be broken. The test should be run as part of regular CI set of tests; if intermittently failing then it should be @Ignore-d in the way intermittently failing tests are.,2017/09/21 1:51 PM
WFLY-9287,"The handler is reading services in Stage.MODEL. It should add a RUNTIME step, being careful that it's running on a non-admin-only-server (check OperationContext.isDefaultRequiresRuntime()).

This applies to the variant in ejb3 and the one in undertow.",2017/09/01 2:35 PM
WFLY-9356,The various versions of DomainHostExcludeXXXTestCase each get executed twice because I added them to two different @Suite classes. The execution is identical in each suite so this is pointless. Adds about a minute to a CI run on Linux.,2017/09/18 8:41 PM
WFLY-9035,"The annotation @TransactionAttribute is inherited from the business interface which is not according to the EJB specification.
Any annotation on the bean's implemenation class or deployment descriptor is overridden if the Interface is annotated with @TransactionAttribute

The EJB 3.2 specification chapter 8.3.7 says
""For a session bean written to the EJB 3.x client view API, the transaction attributes are speci-
fied for those methods of the session bean class that correspond to the beans business inter-
face""
Also the Javadoc for TransactionAttribute (http://docs.oracle.com/javaee/7/api/javax/ejb/TransactionAttribute.html) mention the bean class only.
",2017/06/30 1:20 PM
WFLY-9317,"https://developer.jboss.org/thread/224262 announced availability of WildFly nightly builds.

Current status is that you must know the URL based on current version in master
At this moment it is https://ci.wildfly.org/guestAuth/repository/download/WF_Nightly/latest.lastFinished/wildfly-11.0.0.Final-SNAPSHOT.zip, root dir of the zip is wildfly-11.0.0.Final-SNAPSHOT

'11.0.0.Final-SNAPSHOT' is the changing part and when you want to consume nightly build in CI (e.g. Travis) you end up doing unnecessary changes to .travis.yml (Alpha1-SNAPSHOT ==> Beta1-SNAPSHOT ==> Final-SNAPSHOT) when PRs fail because of unavailable nightly bits

Proposal 1 - expose latest bits under the same URL + keep the same root dir name
  URL:                  https://ci.wildfly.org/guestAuth/repository/download/WF_Nightly/latest.lastFinished/wildfly-latest-SNAPSHOT.zip
  root dir of the zip:  wildfly-latest-SNAPSHOT

Automation would be prepared just once and ""work forever"".

Usage of project.version in dist and servlet-dist module prevents to use {{mvn clean install -Djboss.as.release.version=latest-SNAPSHOT}} to adjust final zip & root dir name.

Discussion starting point: http://lists.jboss.org/pipermail/wildfly-dev/2017-September/006052.html",2017/09/08 2:24 AM
WFLY-9405,"This fails:

{code}
[standalone@localhost:9990 /] /subsystem=ejb3:remove
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.NullPointerException"",
    ""rolled-back"" => true
}
{code}

with this in the server log:

{code}
15:53:42,572 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation (""remove"") failed - address: ([
    (""subsystem"" => ""ejb3""),
    (""service"" => ""remote""),
    (""channel-creation-options"" => ""MAX_OUTBOUND_MESSAGES"")
]): java.lang.NullPointerException
	at org.jboss.as.controller.OperationContextImpl.readResourceFromRoot(OperationContextImpl.java:894)
	at org.jboss.as.controller.OperationContextImpl.readResourceFromRoot(OperationContextImpl.java:884)
	at org.jboss.as.controller.RestartParentResourceHandlerBase.getModel(RestartParentResourceHandlerBase.java:216)
	at org.jboss.as.controller.RestartParentResourceHandlerBase.access$000(RestartParentResourceHandlerBase.java:39)
	at org.jboss.as.controller.RestartParentResourceHandlerBase$1.execute(RestartParentResourceHandlerBase.java:66)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:980)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:726)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:450)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1402)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:418)
...
{code}

I believe a post-boot add of this resource would fail as well.

Problem is ChannelCreationOptionRemove and ChannelCreationOptionAdd in RemoteConnectorChannelCreationOptionResource use an incorrect parentKeyName. These handlers extend RestartParentResourceHandlerBase but are passing the *value* of the parent element as ""parentKeyName"" instead of its *key*; i.e. ""remote"" instead of ""service"".

Even though this code has been like this since 2012, this is somewhat a regression since before the current version our standard configs did not include resources of this type. So users could hit this in previous releases but now they are more likely to.",2017/09/29 5:21 PM
WFLY-10181,"

Two or more threads hold one lock on an instance of java.util.Collections$SynchronizedMap and attempt to obtain a lock on a different instance (e.g. locks on 0x00000001d0d08bd8 and 0x00000001cea22628 in the example below)

""thread-one"" ...
java.lang.Thread.State: BLOCKED (on object monitor)
at java.util.Collections$SynchronizedMap.get(Collections.java:2584)

    waiting to lock <0x00000001cea22628> (a java.util.Collections$SynchronizedMap)
    at java.util.AbstractMap.equals(AbstractMap.java:495)
    at java.util.Collections$SynchronizedMap.equals(Collections.java:2631)
    locked <0x00000001d0d08bd8> (a java.util.Collections$SynchronizedMap)
    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.isEqual(XAManagedConnectionFactory.java:563)
    locked <0x00000001d0d08bd8> (a java.util.Collections$SynchronizedMap)
    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.equals(XAManagedConnectionFactory.java:598)
    at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory$SubjectActions.doCheck(BaseWrapperManagedConnectionFactory.java:1397)
    at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory$SubjectActions.addMatchingProperties(BaseWrapperManagedConnectionFactory.java:1508)
    at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.getConnectionProperties(BaseWrapperManagedConnectionFactory.java:1135)
    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.matchManagedConnections(XAManagedConnectionFactory.java:533)
    ...
    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
    at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:66)
    ...

""thread-two"" ...
java.lang.Thread.State: BLOCKED (on object monitor)
at java.util.Collections$SynchronizedMap.size(Collections.java:2572)

    waiting to lock <0x00000001d0d08bd8> (a java.util.Collections$SynchronizedMap)
    at java.util.AbstractMap.equals(AbstractMap.java:482)
    at java.util.Collections$SynchronizedMap.equals(Collections.java:2631)
    locked <0x00000001cea22628> (a java.util.Collections$SynchronizedMap)
    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.isEqual(XAManagedConnectionFactory.java:563)
    locked <0x00000001cea22628> (a java.util.Collections$SynchronizedMap)
    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.equals(XAManagedConnectionFactory.java:598)
    ... [same stack as thread-one above] ...
    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
    at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:66)
    ...

",2018/04/06 1:15 AM
WFLY-10243,"wsconsume.bat and wsprovide.bat wrongly reference  -Dsecmgr.  It should reference -secmgr.


rem check for secmgr property
setlocal EnableDelayedExpansion
echo(!JAVA_OPTS! | findstr /r /c:""-Dsecmgr"" > nul
if not errorlevel == 1 (
   set ""line=%JAVA_OPTS%""
   set JAVA_OPTS=!line:-Dsecmgr= !
   set SECMGR=true
)",2018/04/16 8:45 AM
WFLY-10386,"When declaring dependencies and other references to artifacts produced by the wildfly full build, the ${project.groupId} expression must be used instead of hardcoded ""org.wildfly"".  This makes it possible to quickly change GAVs to org.jboss.eap by simply focusing on each pom's groupId declaration and ignoring dependency elements etc.

A few mistakes in this area have crept in during WF 13 work.",2018/05/16 5:34 PM
WFLY-10034,"After several jiras changing the wsconsume and wsprovide shell and batch scripts there shoud be some clean up and synchronization of their contents.

Eg. WFLY-9850 was fixed only for wsprovide.sh but the same issue is in wsconsume.sh

Eg2. tools.jar is added to classpath in wsconsume scripts while it isn't in wsprovide counterpart - we should remove it as it is not needed anymore.",2018/03/15 12:13 PM
WFLY-10323,"Port to upstream various corrections made when preparing a preliminary CD 13 branch from WF master.  These are items that are problems in master:

1) Missing version prop in component-matrix/pom.xml
2) A transitive dep of jaxbintros should be excluded
3) Various corrections to the feature pack licenses.",2018/05/03 8:21 PM
WFLY-10363,"The legacy feature pack licenses.xml generation uses the maven-resources-plugin copy-resources goal to copy the core-feature-pack-licenses.xml file from a custom src location to a custom target location, and then runs the licenses-plugin insert-versions goal, using that target file as both an input and an output of that goal.

The problem is using the -Pjboss-release profile causes those executions to occur in a different order. With -Pjboss-release, the copy-resources happens after the insert-versions, removing all effect of the insert-versions.

There are a couple fixes that come to mind. One is moving the copy-resources from prepare-package phase to prepare-resources.  The other is dropping the copy-resources altogether and just directly specifying the src file as the input to the insert-versions.

I think I'll go for the latter as the result seems simpler to understand in the future.",2018/05/13 2:30 PM
WFLY-10096,Commit 9738ff2 missed to change {{weld-core-jsf}} to {{weld-jsf}} in {{wildfly/jsf/multi-jsf-installer/src/main/resources/myfaces-injection-module.xml}}.,2018/03/24 7:04 AM
WFLY-10033,NoData,2018/03/15 8:56 AM
WFLY-10343,"The subsystems in our standard configs should be in alphabetical order by subsystem name, except logging is first.  There are a number of mistakes about this in our standard configs.",2018/05/07 8:11 PM
WFLY-10282,"After enabling elytron, the security subsystem was removed.  The war using jboss-web.xml security-domain looks like it is not used when the picketbox security subsystem is removed.

{code}
java.lang.NullPointerException
	at io.undertow.security.impl.BasicAuthenticationMechanism.authenticate(BasicAuthenticationMechanism.java:167)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:245)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:263)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:231)
	at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:125)
	at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)
	at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:55)
	at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:330)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
{code}

The war has jboss-web.xml: 

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-web>
   <security-domain>other</security-domain>
</jboss-web>
{code}

{code}
        <subsystem xmlns=""urn:jboss:domain:undertow:4.0"">
...
            <application-security-domains>
                <application-security-domain name=""other"" http-authentication-factory=""application-http-authentication""/>
            </application-security-domains>
        </subsystem>

        <subsystem xmlns=""urn:wildfly:elytron:1.2"" final-providers=""combined-providers"" disallowed-providers=""OracleUcrypto"">
...
            <http>
                <http-authentication-factory name=""application-http-authentication"" http-server-mechanism-factory=""global"" security-domain=""ApplicationDomain"">
                    <mechanism-configuration>
                        <mechanism mechanism-name=""BASIC"">
                            <mechanism-realm realm-name=""Application Realm""/>
                        </mechanism>
                        <mechanism mechanism-name=""FORM""/>
                    </mechanism-configuration>
                </http-authentication-factory>
                <provider-http-server-mechanism-factory name=""global""/>
            </http>
...
{code}",2018/04/03 11:46 AM
WFLY-10040,"When this expression{code}equals(%m, 'POST') -> { response-code(444) } else { response-code(555) }{code} is put into ""undertow-handlers.conf"", and the predicate is false, the returned response code is 200, like the false branch was ignored.

The handler for the false branch is set to RewriteCorrectingHandlerWrapper.

This behavior is different when the same expression is configured via expression filter in undertow subsystem.

Contents of files.war:
{code}
/empty
/not-empty
/WEB-INF/undertow-handlers.conf
{code}",2018/03/16 9:24 AM
WFLY-10422,"{code}
wildfly/modules/system/layers/base/org/infinispan/hibernate-cache-commons/main/infinispan-hibernate-cache-commons-9.2.3.Final.jar
wildfly/modules/system/layers/base/org/infinispan/hibernate-cache/main/infinispan-hibernate-cache-commons-9.2.3.Final.jar
{code}",2018/05/22 9:23 AM
WFLY-9846,"WAR CDI bean is failing to inject a CDI bean from a static module's exported dependency.  war -> static module X -> static module Y (containing CDI Beans)

A WAR uses a static module with the slot attribute. This static module is referenced in jboss-deployment-structure.xml:

{code}
<jboss-deployment-structure> 
   <deployment>
    <dependencies>
      <module name=""module2"" meta-inf=""export"" annotations=""true"" />
    </dependencies>    
    </deployment>    
</jboss-deployment-structure>
{code}

module2 which the app depends on is depending on module1 and including/exporting META-INF where the beans.xml is located:

{code}
<?xml version=""1.0""?>
<module xmlns=""urn:jboss:module:1.5"" name=""module2"">
  <dependencies>
    <module name=""module1"" export=""true"">
      <imports>
        <include path=""META-INF**""/>
        <include path=""org**""/>
      </imports>
      <exports>
        <include path=""META-INF**""/>
        <include path=""org**""/>
      </exports>
    </module>
  </dependencies>
</module>
{code}

module1 contains the jar with the CDI beans and has a META-INF/beans.xml in it: 

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<module xmlns=""urn:jboss:module:1.5"" name=""module1"">
  <resources>
    <resource-root path=""cdi-beans.jar""/>
  </resources>
  <dependencies>
    <module name=""javax.faces.api"" export=""true""/>
    <module name=""javax.ejb.api""/>
    <module name=""javax.enterprise.api""/>
  </dependencies>
</module>
{code}
 
The deploy fails with the next message:
 
{code}
14:04:07,085 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""test.war"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""test.war"".WeldStartService: Failed to start service
...
Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type ExampleCdiBean with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject private backingbeans.BackingBean.cdiBean
  at backingbeans.BackingBean.cdiBean(BackingBean.java:0)
{code}
 
In JBoss EAP 6.4, this scenario, the CDI is working fine.",2018/02/16 1:02 PM
WFLY-9521,"Both the org.wildfly.clustering.registry.Registry and org.wildfly.clustering.provider.ServiceProviderRegistry currently store references to a Node object in their respective caches. The AddressableNode implementation currently serializes:
* org.jgroups.Address
* The logical name (typically a host name)
* The socket binding address/port of its transport

This is overkill.  The Node should only need to serialize enough information to reconstruct itself using a NodeFactory<Address>, which should only include:
* its Address
* something to minimally identify the NodeFactory<Address>, with which to use to reconstruct the Node, e.g. a group name

Unfortunately, getting a reference to the NodeFactory during deserialization isn't trivial, as these are on-demand services.

Another approach, is to avoid referencing the Node in cache keys/values altogether. Currently, Registry<K, V> uses a Cache<Node, Map.Entry<K, V>> and ServiceProviderRegistry<K> uses a Cache<K, Set<Node>>. In both cases, we can replace Node with Address, and thus avoid unnecessary marshalling of the logical name and physical address of a member.",2017/11/04 10:02 AM
WFLY-9155,"In WildFly there is required to set keystore-password for truststore even though at least in case of JKS, it is possible to read public certificates even without providing the password.

Does it really make sense to require it?

In regards to migration operation, wouldn't it make sense in case of undefined {{ca-certificate-password}} to provide the security-realm truststore configuration default value ""changeit"" instead of failing the whole migrate operation?
",2017/08/01 9:50 AM
WFLY-9910,"org.jboss.as.test.manualmode.undertow.CustomUndertowFilterTestCase stuck on server reload
{noformat}
ServerReload.executeReloadAndWaitForCompletion(controllerClient);
{noformat}
if node0!=localhost. Use
{noformat}
serverController.reload();
{noformat}
instead.",2018/02/26 9:18 AM
WFLY-9764,Chunk size refers to a number of cache entries - not bytes.,2018/02/06 10:31 AM
WFLY-9967,"LayeredDistributionTestCase fails when started twice without {{mvn clean}} - removing old working directory is done using operation supporting only blank directories:

{code}
Running org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase
Tests run: 4, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 0.1 sec <<< FAILURE! - in org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase
before(org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase)  Time elapsed: 0.058 sec  <<< ERROR!
java.nio.file.DirectoryNotEmptyException: target/jbossas-layered/modules/system/layers/test
	at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)
	at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)
	at java.nio.file.Files.deleteIfExists(Files.java:1165)
	at org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase.buildLayer(LayeredDistributionTestCase.java:162)
	at org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase.before(LayeredDistributionTestCase.java:99)
{code}",2018/03/06 6:09 PM
WFLY-10312,"broadcast/discovery-group attribute jgroups-channel=""activemq-cluster"" should read jgroups-cluster=""activemq-cluster"".
This was changed in the regular subsystem xml, but not the colocated xml.",2018/04/30 2:05 PM
WFLY-10171,"Per [~rhn-engineering-bban]'s comments on JGRP-2260, WildFly should not change the default conn_expiry_timeout for UNICAST3.",2018/04/04 9:38 AM
WFLY-10008,"Example run is at https://ci.wildfly.org/viewLog.html?buildId=94221&buildTypeId=WF_PullRequest_Windows

This appears to be a timeout issue with a cache taking too long to start. It seems to take 60s to start, but as the test only waits 60s it fails. 

For now I am going to work around this by increasing the timeout of the reload slightly, however this should be investigated and fixed

Relevant part from the log of the server in manual mode (note jump in timestamps):

{code}
2018-03-12 20:51:34,375 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-3) WFLYCLINF0002: Started org.infinispan.CONFIG cache from web container
2018-03-12 20:51:34,423 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started client-mappings cache from ejb container
2018-03-12 20:52:34,082 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-5) WFLYCLINF0002: Started org.infinispan.CONFIG cache from hibernate container
2018-03-12 20:52:34,096 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""arquillian-service"" (runtime-name : ""arquillian-service"")
2018-03-12 20:52:34,141 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
{code}",2018/03/12 9:35 PM
WFLY-10333,"After the fix for JBEAP-14243, when trying to run an ejb client using the appclient mode, the client server fails with the following error:

{code}
14:55:01,920 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""app-client.ear"" (runtime-name: ""app-client.ear"")
14:55:01,973 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0207: Starting subdeployment (runtime-name: ""ejb.jar"")
14:55:01,973 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: ""simpleClient.jar"")
14:55:02,045 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named 'StatelessSessionBean' in deployment unit 'subdeployment ""ejb.jar"" of deployment ""app-client.ear""' are as follows:

	java:global/app-client/ejb/StatelessSessionBean!org.jboss.as.quickstarts.appclient.server.ejb.StatelessSession
	java:app/ejb/StatelessSessionBean!org.jboss.as.quickstarts.appclient.server.ejb.StatelessSession
	java:module/StatelessSessionBean!org.jboss.as.quickstarts.appclient.server.ejb.StatelessSession
	java:jboss/exported/app-client/ejb/StatelessSessionBean!org.jboss.as.quickstarts.appclient.server.ejb.StatelessSession
	java:global/app-client/ejb/StatelessSessionBean
	java:app/ejb/StatelessSessionBean
	java:module/StatelessSessionBean

14:55:02,058 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.2.GA (WildFly Core 3.0.13.Final-redhat-1) started (with errors) in 1734ms - Started 208 of 247 services (7 services failed or missing dependencies, 47 services are lazy, passive or on-demand)
14:55:02,061 ERROR [org.jboss.as.controller.management-operation] (Thread-40) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""app-client.ear"")]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.ejb.default-local-transport-provider""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.ejb3.ejbClientContext.deployment.\""app-client.ear\"" is missing [jboss.ejb.default-local-transport-provider]""]
}
14:55:02,062 ERROR [org.jboss.as.server] (Thread-40) WFLYSRV0021: Deploy of deployment ""app-client.ear"" was rolled back with the following failure message: 
{
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.ejb.default-local-transport-provider""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.ejb3.ejbClientContext.deployment.\""app-client.ear\"" is missing [jboss.ejb.default-local-transport-provider]""]
}

{code}",2018/05/06 10:35 PM
WFLY-10194,"It looks like JCA might need permissions to access {{Subject}} credentials.

{noformat}
javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/wf-ra-security-domain
    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.getManagedConnection(AbstractConnectionManager.java:690)
    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.getManagedConnection(AbstractConnectionManager.java:597)
    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:789)
    at org.jboss.as.test.integration.jca.rar.MultipleConnectionFactory1Impl.getConnection(MultipleConnectionFactory1Impl.java:95)
    at org.jboss.as.test.integration.jca.security.WildFlyActivationRaWithSecurityDomainTestCase.deploymentTest(WildFlyActivationRaWithSecurityDomainTestCase.java:151)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
    at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
    at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
    at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
    at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
    at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
    at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
    at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
    at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
    at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
    at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
    at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
    at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
    at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
    at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
    at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
    at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
    at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
    at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
    at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
    at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
    at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
    at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
    at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
    at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
    at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
    at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
    at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
    at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
    at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
    at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
    at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
    at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
    at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
    at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
    at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
    at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:748)
Caused by: javax.resource.ResourceException: IJ000658: Unexpected throwable while trying to create a connection: null
    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:561)
    at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getSimpleConnection(AbstractPool.java:632)
    at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getConnection(AbstractPool.java:604)
    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.getManagedConnection(AbstractConnectionManager.java:624)
    ... 148 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""javax.security.auth.PrivateCredentialPermission"" ""javax.resource.spi.security.PasswordCredential"" ""read"")"" in code source ""(vfs:/content/wf-ra-security-domain.rar/single.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.wf-ra-security-domain.rar"" from Service Module Loader"")
    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:295)
    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:192)
    at javax.security.auth.Subject$SecureSet.contains(Subject.java:1185)
    at java.util.Collections$SynchronizedCollection.contains(Collections.java:2021)
    at org.jboss.as.test.integration.jca.rar.MultipleManagedConnectionFactoryWithSubjectVerification.createManagedConnection(MultipleManagedConnectionFactoryWithSubjectVerification.java:50)
    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1326)
    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:499)
    ... 151 more
{noformat}

CC [~msimka@redhat.com].",2018/04/06 10:28 AM
WFLY-9946,The {{javax.json.binding.api}} only imports the services from the {{org.eclipse.yasson}} implementation. However the services and the implementation need to be exported as the {{ServiceLoader}} will be loaded on the deployments class loader not the {{javax.json.binding.api}} class loader.,2018/03/02 6:25 PM
WFLY-9928,NoData,2018/02/27 6:12 PM
WFLY-10231,NoData,2018/04/12 6:30 PM
WFLY-10787,"There is regression in JGroups or Infinispan in one of our tests for fault tolerance of JMS bridges. However work on JMS bridge appears to be unrelated. Issue was hit in WF weekly run. 

Test Scenario:
* There are two servers. InQueue is deployed on Node 1,
* OutQueue is deployed on Node 2. Both servers are started. 
* Large byte messages are sent to InQueue deployed on Node 1. Bridge between servers/queues transfers messages from node 1 to node 2. 
* Node 1 is killed and started again.
* All messages are received from OutQueue deployed on Node 2. 

Result:
Node 1 does not start after kill and hangs. There is following exception logged in node 2:
{code}
:26:17,894 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN100000: Node node-1 joined the cluster
09:26:18,520 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN000094: Received new cluster view for channel ejb: [node-2|7] (2) [node-2, node-1]
09:26:18,521 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN100001: Node node-1 left the cluster
09:26:18,521 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN000094: Received new cluster view for channel ejb: [node-2|7] (2) [node-2, node-1]
09:26:18,522 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN100001: Node node-1 left the cluster
09:26:18,522 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN000094: Received new cluster view for channel ejb: [node-2|7] (2) [node-2, node-1]
09:26:18,522 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN100001: Node node-1 left the cluster
09:26:18,522 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN000094: Received new cluster view for channel ejb: [node-2|7] (2) [node-2, node-1]
09:26:18,523 INFO  [org.infinispan.CLUSTER] (thread-12,ejb,node-2) ISPN100001: Node node-1 left the cluster
09:26:18,868 INFO  [org.infinispan.CLUSTER] (remote-thread--p5-t2) ISPN000310: Starting cluster-wide rebalance for cache default, topology CacheTopology{id=17, phase=READ_OLD_WRITE_ALL, rebalanceId=6, currentCH=ReplicatedConsistentHash{ns = 256, owners = (2)[node-2: 122, node-1: 134]}, pendingCH=ReplicatedConsistentHash{ns = 256, owners = (3)[node-2: 84, node-1: 90, node-1: 82]}, unionCH=null, actualMembers=[node-2, node-1, node-1], persistentUUIDs=[12443bfb-e88a-46f3-919e-9213bf38ce19, 2873237f-d881-463f-8a5a-940bf1d764e5, a05ea8af-a83b-42a9-b937-dc2da1cae6d1]}
09:26:18,869 INFO  [org.infinispan.CLUSTER] (remote-thread--p5-t2) [Context=default][Scope=node-2]ISPN100002: Started rebalance with topology id 17
09:26:18,870 INFO  [org.infinispan.CLUSTER] (transport-thread--p14-t5) [Context=default][Scope=node-2]ISPN100003: Node node-2 finished rebalance phase with topology id 17
09:26:18,981 INFO  [org.infinispan.CLUSTER] (remote-thread--p5-t2) [Context=default][Scope=node-1]ISPN100003: Node node-1 finished rebalance phase with topology id 17
09:27:18,530 WARN  [org.infinispan.topology.ClusterTopologyManagerImpl] (transport-thread--p15-t4) ISPN000197: Error updating cluster member list: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
	at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:167)
	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:87)
	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:22)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [rt.jar:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [rt.jar:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_131]
	Suppressed: java.util.concurrent.ExecutionException: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
		at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) [rt.jar:1.8.0_131]
		at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1915) [rt.jar:1.8.0_131]
		at org.infinispan.util.concurrent.CompletableFutures.await(CompletableFutures.java:82)
		at org.infinispan.remoting.transport.Transport.invokeRemotely(Transport.java:71)
		at org.infinispan.topology.ClusterTopologyManagerImpl.confirmMembersAvailable(ClusterTopologyManagerImpl.java:540)
		at org.infinispan.topology.ClusterTopologyManagerImpl.updateCacheMembers(ClusterTopologyManagerImpl.java:523)
		at org.infinispan.topology.ClusterTopologyManagerImpl.handleClusterView(ClusterTopologyManagerImpl.java:334)
		at org.infinispan.topology.ClusterTopologyManagerImpl.access$500(ClusterTopologyManagerImpl.java:85)
		at org.infinispan.topology.ClusterTopologyManagerImpl$ClusterViewListener.lambda$handleViewChange$0(ClusterTopologyManagerImpl.java:745)
		at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:144)
		at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:33)
		at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:174)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
		at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
		... 1 more
	Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
		at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:167)
		at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:87)
		at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:22)
		at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]
		at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [rt.jar:1.8.0_131]
		at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
		... 1 more
	[CIRCULAR REFERENCE:java.util.concurrent.ExecutionException: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1]

09:27:18,530 WARN  [org.infinispan.topology.ClusterTopologyManagerImpl] (transport-thread--p16-t4) ISPN000197: Error updating cluster member list: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
	at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:167)
	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:87)
	at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:22)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [rt.jar:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [rt.jar:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_131]
	Suppressed: java.util.concurrent.ExecutionException: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
		at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) [rt.jar:1.8.0_131]
		at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1915) [rt.jar:1.8.0_131]
		at org.infinispan.util.concurrent.CompletableFutures.await(CompletableFutures.java:82)
		at org.infinispan.remoting.transport.Transport.invokeRemotely(Transport.java:71)
		at org.infinispan.topology.ClusterTopologyManagerImpl.confirmMembersAvailable(ClusterTopologyManagerImpl.java:540)
		at org.infinispan.topology.ClusterTopologyManagerImpl.updateCacheMembers(ClusterTopologyManagerImpl.java:523)
		at org.infinispan.topology.ClusterTopologyManagerImpl.handleClusterView(ClusterTopologyManagerImpl.java:334)
		at org.infinispan.topology.ClusterTopologyManagerImpl.access$500(ClusterTopologyManagerImpl.java:85)
		at org.infinispan.topology.ClusterTopologyManagerImpl$ClusterViewListener.lambda$handleViewChange$0(ClusterTopologyManagerImpl.java:745)
		at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:144)
		at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:33)
		at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:174)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
		at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
		... 1 more
	Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1
		at org.infinispan.remoting.transport.impl.MultiTargetRequest.onTimeout(MultiTargetRequest.java:167)
		at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:87)
		at org.infinispan.remoting.transport.AbstractRequest.call(AbstractRequest.java:22)
		at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]
		at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [rt.jar:1.8.0_131]
		at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]
		... 1 more
	[CIRCULAR REFERENCE:java.util.concurrent.ExecutionException: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 4 from node-1]
{code}


There is default JGroups udp stack configured which is used by Infinispan. Both of the servers (jgroups udp) are bound to 127.0.0.1. Node 2 has port offset 1000.

Attaching thread dump from node 1 when it hangs during start.",2018/08/02 12:59 PM
WFLY-10026,"Observed failures:

* node3 never joins the cluster
* ""waiting for responses from node-1""",2018/03/14 4:48 PM
WFLY-10941,"Testsuite - System.out cleanup - vdx, basic (jms), clustering modules

System.out is the enemy of TeamCity, using jboss logging or commenting out unnecessary content is much better.",2018/08/28 8:06 AM
WFLY-10844,"Some of the links, such as in http://docs.wildfly.org/13/WildFly_Elytron_Security.html#get-started-using-the-elytron-subsystem, currently result in a 404 error.",2018/08/15 9:40 AM
WFLY-10313,"CommandDispatcher.executeOnNode(...) and submitOnNode(...) is used to execute a given command on a given member of the cluster.  However, if the target member does not have an active CommandDispatcher to receive the command, the resulting NoSuchService response is not handled, and the caller will receive a ClassCastException.  This is because the RspFilter contained in the RspOptions as passed to the MessageDispatcher is not invoked for unicast requests.

The API will likely need to be adjusted/documented to define what behavior to expect in this scenario.",2018/04/30 4:05 PM
WFLY-10897,"The isOutBoundSocketBinding utility method is performing a read of the entire model. Worse, it gets called inside a loop.

Just non-recursively read the s-b-g names, and then non-recursively read each s-b-g (in reality there will only be one) to find the children.

For bonus points, pass in the entire list of a names and return a LinkedHashMap<String, Boolean> and process everything with one pair of reads instead of repeating for each name.",2018/08/21 6:46 PM
WFLY-10807,"/subsystem=modcluster/mod-cluster-config=configuration:write-attribute(name=simple-load-provider,value=9999

should fail.",2018/08/07 4:44 PM
WFLY-10840,"The intervals could be rather 0, 100 ms, 1 sec.",2018/08/14 10:24 AM
WFLY-10533,"When JASPI is used for web application with FORM authentication, an exception is thrown and the following error message is shown:

{code}
17:26:36,248 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /test/login.html: java.lang.IllegalStateException: UT000002: The response has already been started
        at io.undertow.server.HttpServerExchange.setStatusCode(HttpServerExchange.java:1406)
        at io.undertow.server.HttpServerExchange.setResponseCode(HttpServerExchange.java:1381)
        at org.wildfly.extension.undertow.security.jaspi.JASPICAuthenticationMechanism.authenticate(JASPICAuthenticationMechanism.java:155)
        at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:245)
        at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:231)
        at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:125)
        at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)     
        at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:55)
        at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)     
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)  
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)    
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)   
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) 
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)   
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) 
        at org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler.handleRequest(JASPICSecureResponseHandler.java:48)      
        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)    
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) 
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)  
        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)  
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)     
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)     
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)   
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)   
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)        
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514) 
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514) 
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514) 
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
        at java.lang.Thread.run(Thread.java:748)
{code}
",2018/06/08 4:56 AM
WFLY-10889,"Avoid hangs like https://ci.wildfly.org/viewLog.html?buildId=118094&buildTypeId=WF_PullRequest_Windows with the important thread being:

{code}""main"" #1 prio=5 os_prio=0 tid=0x000000000127d800 nid=0x2fd4 in Object.wait() [0x000000000149d000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000006c13073a8> (a org.jboss.msc.service.ServiceControllerImpl)
	at java.lang.Object.wait(Object.java:502)
	at org.jboss.msc.service.ServiceControllerImpl.awaitValue(ServiceControllerImpl.java:1130)
	- locked <0x00000006c13073a8> (a org.jboss.msc.service.ServiceControllerImpl)
	at org.wildfly.extension.undertow.AbstractUndertowSubsystemTestCase.testRuntime(AbstractUndertowSubsystemTestCase.java:122)
	at org.wildfly.extension.undertow.UndertowSubsystem12TestCase.testRuntime(UndertowSubsystem12TestCase.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

Put some kind of timeout in there so the job doesn't run for hours before timing out.

Same for clustering testsuite's ValueServiceServlet.",2018/08/20 5:35 PM
WFLY-10898,"The Opentracing extension name is {{org.wildfly.extension.microprofile.opentracing}}, however the excluded-extensions section in host-excludes is configured with an incorrect name {{org.wildfly.extension.microprofile.opentracing-smallrye}}

Legacy domain.xml template is fine, the issue is only in domain-host-excludes feature group.",2018/08/22 3:57 AM
WFLY-10182,"The main signal is an exception in logs:
{noformat}
ORA-08177: can't serialize access for this transaction
{noformat}
When one cluster node is halted (the one on the witch ""Timer"" is actually working) then the other nodes are still can't catch up this ""timer"" from the DB due to the mentioned exception. Even worth scenario - when all nodes work perfectly, but occasionally all nodes start to decline, that timer is in the state IN_TIMEOUT and it really is due to the DB state, just because the last timer's invocation did not manage to commit final state after processing due to the same reason (SQL exception).

So, why Oracle DB is so special? That's because it never manages transactions by themselves. It's full responsibility of the client. 

Looking into the code of the class
{noformat}
org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence
{noformat}
I didn't find transaction management, except one method, and even in it, I found, that it probably doesn't manage transaction as desired, due to the lack of resource participation.

After I've made some changes to enable transactions for that functionality I have managed to stable EJB Timer logic on the server. Let's have a look at the attached patch (it's for 11 version, but it also works for 12).",2018/04/06 2:21 AM
WFLY-10314,"The futures returned by CommandDispatcher.submitOnCluster(...) contain the command execution results per member of the cluster.  However, if a given member has no active CommandDispatcher to receive the command, the resulting behavior is not handled, and the Future.get() will throw a ClassCastException.  This is because the RspFilter contained in the RspOptions as passed to the MessageDispatcher is not invoked for unicast requests.

The API will likely need to be adjusted/documented to define what behavior to expect in this scenario.",2018/04/30 4:06 PM
WFLY-10441,"mod_cluster proxy operations are incorrectly registered at the subsystem level, {{/subsystem=modcluster}}. These operations are pertaining to a specific mod_cluster configuration, so they should have been registered at the {{/subsystem=modcluster/mod-cluster-config=CONFIGURATION}} level.

These need to be deprecated and registered at the correct location.",2018/05/24 6:09 AM
WFLY-10532,"Tests that fails frequently:

* ConcurrentFineWebFailoverTestCase - https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=2466681039856010796&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50
* ReplicationForNegotiationAuthenticatorTestCase - https://ci.wildfly.org/project.html?projectId=WF_PullRequest&testNameId=-5828775139893217285&tab=testDetails
* CoarseWebFailoverTestCase - https://ci.wildfly.org/project.html?projectId=WF_PullRequest&testNameId=6517845608855553882&tab=testDetails

This issue is distinct from WFLY-10026 as failures also occurs on Linux.",2018/06/08 3:22 AM
WFLY-10473,"This has been a problem multiple times in the past. Even a single subsystem add operation like

{noformat}
[standalone@localhost:9990 /] /subsystem=modcluster:add
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
{noformat}

causes failures

{noformat}10:28:15,128 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 54) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""modcluster"")]) - failure description: ""WFLYCTL0155: 'connector' may not be null""
10:28:15,135 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 54) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""modcluster"")]) - failure description: ""WFLYCTL0155: 'connector' may not be null""
{noformat}

This is fixed also as a side effect to supporting multiple configurations.

Since boot time handling is required, most operations on the subsystem need to leave the server in the reload-required state.",2018/05/29 6:03 AM
WFLY-10914,"* org.jboss.as.test.integration.security.loginmodules.LdapExtLikeAdvancedLdapLMTestCase.test3
* org.jboss.as.test.integration.security.loginmodules.LdapExtLikeAdvancedLdapLMTestCase.test4
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test2
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test3
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test4
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test2throw
* org.jboss.as.test.integration.security.loginmodules.LdapLoginModuleTestCase.testLdaps
* org.jboss.as.test.manualmode.security.OutboundLdapConnectionClientCertTestCase.test
* org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase.test",2018/08/24 2:26 AM
WFLY-10501,The capability reference is missing to validate the socket binding.,2018/06/04 2:37 PM
WFLY-10445,The administrator calling the operation is not informed about the result while the API the operation exposes does provide the value. The result should be returned.,2018/05/24 10:22 AM
WFLY-10485,"The wildfly-clustering-web-undertow module currently assumes that session IDs generated by Undertow are marshallable using Base64.getUrlDecoder().
Undertow 2.0.x added support for customizing the alphabet using a system property.  Any user doing so will be unable to use distributed web session manager, as the generated session IDs will fail to marshal at runtime.

At the very least, we should detect the use of this system property and disable the session ID marshalling optimization.  At most, we can adapt the marshalling optimization to use the custom alphabet.",2018/05/30 12:10 PM
WFLY-10620,"org.omg.api has been removed from feature-pack ( https://github.com/wildfly/wildfly/pull/11279/files ), 
we should remove it from multi-jsf-installer as well


https://github.com/wildfly/wildfly/blob/master/jsf/multi-jsf-installer/src/main/resources/mojarra-impl-module.xml#L44
https://github.com/wildfly/wildfly/blob/master/jsf/multi-jsf-installer/src/main/resources/myfaces-impl-module.xml#L57
https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml#L44

",2018/06/22 5:20 AM
WFLY-10498,"{noformat}
            ""default-remote-cluster"" => {
                ""type"" => STRING,
                ""description"" => ""Required default remote server cluster."",
                ""expressions-allowed"" => true,
                ""required"" => true,
                ""nillable"" => false,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""resource-services""
            },
{noformat}",2018/06/04 11:33 AM
WFLY-10786,"The error was observed in scenario {{*[eap-7x-stress-remote-jdg-session-invalidation-sync-2nodes|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/view/JBQA-5999/job/eap-7x-stress-remote-jdg-session-invalidation-sync-2nodes_UDP2TCP_JJB/12/console-perf18/consoleText]*}}: it is composed of a 2 Wildfly nodes Cluster where the session is offloaded to a 2 JDG nodes Cluster:

{noformat}
<remote-cache-container name=""web-sessions"" default-remote-cluster=""jdg-server-cluster"" protocol-version=""2.6"">
<remote-clusters>
<remote-cluster name=""jdg-server-cluster"" socket-bindings=""remote-jdg-server1 remote-jdg-server2""/>
</remote-clusters>
<security ssl-context=""hotrod""/>
</remote-cache-container>
{noformat}

While the server is starting we see the following warning:

{noformat}
[JBossINF] [0m[33m10:15:45,844 WARN  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0031: Specified HotRod protocol version 2.6 does not support creating caches automatically. Cache named 'clusterbench-ee7.ear.cb.war' must be already created on the Infinispan Server!
[JBossINF] [0m[33m10:15:45,852 WARN  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 74) WFLYCLINF0031: Specified HotRod protocol version 2.6 does not support creating caches automatically. Cache named 'clusterbench-ee7.ear.clusterbench-ee7-web-granular.war' must be already created on the Infinispan Server!
[JBossINF] [0m[33m10:15:45,905 WARN  [org.infinispan.client.hotrod.impl.protocol.Codec21] (HotRod-client-async-pool-4) ISPN004005: Error received from the server: org.infinispan.server.hotrod.CacheNotFoundException: Cache with name 'clusterbench-ee7.ear.cb.war' not found amongst the configured caches
[JBossINF] [0m[33m10:15:45,912 WARN  [org.infinispan.client.hotrod.impl.protocol.Codec21] (HotRod-client-async-pool-4) ISPN004005: Error received from the server: org.infinispan.server.hotrod.CacheNotFoundException: Cache with name 'clusterbench-ee7.ear.clusterbench-ee7-web-granular.war' not found amongst the configured caches
{noformat}

When the first request is fired at the node we see the error:

{noformat}
[JBossINF] [0m[31m10:16:04,481 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-72) ISPN000136: Error executing command PutKeyValueCommand, writing keys [SessionCreationMetaDataKey(ou_dDccwBAeTGRzyccQUWvy4N9KMM6gZ6mBhoOLZ)]: java.lang.NullPointerException
[JBossINF] 	at org.jboss.as.clustering.infinispan.subsystem.remote.HotRodStore.load(HotRodStore.java:119)
[JBossINF] 	at org.infinispan.persistence.manager.PersistenceManagerImpl.loadFromAllStores(PersistenceManagerImpl.java:553)
[JBossINF] 	at org.infinispan.persistence.PersistenceUtil.loadAndCheckExpiration(PersistenceUtil.java:219)
[JBossINF] 	at org.infinispan.persistence.PersistenceUtil.lambda$loadAndComputeInDataContainer$1(PersistenceUtil.java:179)
[JBossINF] 	at org.infinispan.container.impl.AbstractInternalDataContainer.lambda$compute$3(AbstractInternalDataContainer.java:223)
[JBossINF] 	at com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$remap$16(BoundedLocalCache.java:2199)
[JBossINF] 	at java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1853)
[JBossINF] 	at com.github.benmanes.caffeine.cache.BoundedLocalCache.remap(BoundedLocalCache.java:2194)
[JBossINF] 	at com.github.benmanes.caffeine.cache.BoundedLocalCache.compute(BoundedLocalCache.java:2146)
[JBossINF] 	at com.github.benmanes.caffeine.cache.LocalCache.compute(LocalCache.java:100)
[JBossINF] 	at org.infinispan.container.impl.AbstractInternalDataContainer.compute(AbstractInternalDataContainer.java:222)
[JBossINF] 	at org.infinispan.persistence.PersistenceUtil.loadAndComputeInDataContainer(PersistenceUtil.java:201)
[JBossINF] 	at org.infinispan.persistence.PersistenceUtil.loadAndStoreInDataContainer(PersistenceUtil.java:135)
[JBossINF] 	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.loadInContext(CacheLoaderInterceptor.java:310)
[JBossINF] 	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.loadIfNeeded(CacheLoaderInterceptor.java:305)
[JBossINF] 	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:189)
[JBossINF] 	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:118)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
[JBossINF] 	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:672)
[JBossINF] 	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:302)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
[JBossINF] 	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
[JBossINF] 	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
[JBossINF] 	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
[JBossINF] 	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lambda$new$0(AbstractTxLockingInterceptor.java:34)
[JBossINF] 	at org.infinispan.interceptors.InvocationSuccessFunction.apply(InvocationSuccessFunction.java:25)
[JBossINF] 	at org.infinispan.interceptors.SyncInvocationStage.addCallback(SyncInvocationStage.java:42)
[JBossINF] 	at org.infinispan.interceptors.InvocationStage.thenApply(InvocationStage.java:45)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.acquireLocalLockAndInvokeNext(PessimisticLockingInterceptor.java:284)
[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:149)
[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:150)
[JBossINF] 	at org.infinispan.interceptors.impl.TxInterceptor.handleWriteCommand(TxInterceptor.java:397)
[JBossINF] 	at org.infinispan.interceptors.impl.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:234)
[JBossINF] 	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
[JBossINF] 	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
[JBossINF] 	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
[JBossINF] 	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1708)
[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.putIfAbsent(CacheImpl.java:1411)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:665)
[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:600)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:293)
[JBossINF] 	at org.infinispan.cache.impl.EncoderCache.putIfAbsent(EncoderCache.java:493)
[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:293)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:58)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:39)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:51)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:37)
[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:224)
[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:151)
[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:918)
[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:412)
[JBossINF] 	at org.jboss.test.clusterbench.common.session.CommonHttpSessionServlet.doGet(CommonHttpSessionServlet.java:38)
[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
[JBossINF] 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
[JBossINF] 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
[JBossINF] 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
[JBossINF] 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
[JBossINF] 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
[JBossINF] 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
[JBossINF] 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
[JBossINF] 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{noformat}

Find attached a more complete version of the logs (the original file is pretty big - 7.9G).


",2018/08/02 12:15 PM
WFLY-10893,NoData,2018/08/21 11:07 AM
WFLY-11100,"Over an AJP connection, the management console link's redirect from the EAP home page never works.  This is because AJP has an unresolved socket on the exchange so this causes comparisons in ConsoleRedirectService$ConsoleRedirectHandler.getRedirectHostname to always fail:
{code}
--------------------------->InetSocketAddress.createUnresolved localhost 80 localhost:80
java.net.InetSocketAddress.createUnresolved(InetSocketAddress.java:254)
io.undertow.server.protocol.ajp.AjpRequestParseState.createDestinationAddress(AjpRequestParseState.java:142)
io.undertow.server.protocol.ajp.AjpReadListener.handleEvent(AjpReadListener.java:222)

--------------------------->InetAddress.equals /127.0.0.1 null false
java.net.Inet4Address.equals(Inet4Address.java:357)
org.wildfly.extension.undertow.ConsoleRedirectService$ConsoleRedirectHandler.getRedirectHostname(ConsoleRedirectService.java:144)
{code}
",2018/10/01 5:18 PM
WFLY-11202,"Wildfly 14 no longer loads the default message bundle when a locale is specified and the specific locale has no properties file.

For example, in the attached project,  I have a messages.properties file,   Wildfly 13 and previous releases would simply load the messages.properties  if there is no messages_en.properties.  But in wildfly 14 this is no longer the case (it appears it provides a different resourcebundle)",2018/10/17 11:44 AM
WFLY-10731,"After changing the default configuration:
{noformat}
                 <managed-scheduled-executor-services>
-                    <managed-scheduled-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/scheduler/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""3000""/>
+                    <managed-scheduled-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/scheduler/default"" context-service=""default"" long-running-tasks=""true"" core-threads=""2"" keepalive-time=""3000""/>
                 </managed-scheduled-executor-services>
{noformat}

only 2 (= value of core-threads) threads are used by the Scheduled Executer Service:

{code:bash}
$ grep ManagedScheduledExecutorService $WILDFLY/standalone/log/server.log | tail
2018-07-24 12:03:22,901 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-2) ..
2018-07-24 12:03:22,911 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-1) ..
2018-07-24 12:03:22,923 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-2) ..
2018-07-24 12:03:22,963 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-1) ..
2018-07-24 12:03:22,967 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-2) ..
2018-07-24 12:03:22,981 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-1) ..
2018-07-24 12:03:22,996 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-2) ..
2018-07-24 12:03:23,016 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-1) ..
2018-07-24 12:03:23,035 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-2) ..
2018-07-24 12:03:23,039 INFO  [org.dcm4che3.net.Association] (EE-ManagedScheduledExecutorService-default-Thread-1) ..
{code}

I have not yet tested if the issue also effects Wildfly 13.0.0.Final ( cannot use Wildfly 13.0.0.Final because of WFLY-10531 )
",2018/07/24 6:13 AM
WFLY-11248,"When using EJB timers the tables will be created during startup based on the database type.
If we set the *database* different than the default names, i.e. mariadb, mysql, it will fail: 

timer-store example:

{code:xml}
            <timer-service thread-pool-name=""default"" default-data-store=""ejb_timer-EJB_TIMER_ds"">
		<data-stores>
		    <file-data-store name=""default-file-store"" path=""timer-service-data"" relative-to=""jboss.server.data.dir""/>
		    <database-data-store name=""ejb_timer-EJB_TIMER_ds"" datasource-jndi-name=""java:jboss/datasources/jbpmDS_EJBTimer"" database=""mysql57"" partition=""ejb_timer-EJB_TIMER_part"" refresh-interval=""30000""/>
		</data-stores>
	   </timer-service>
{code}


Issue:

{code:java}
2018-10-25 13:06:57,541 DEBUG [org.jboss.as.ejb3.timer] (MSC service thread 1-5) Database dialect 'mysql57' read from configuration
...

2018-10-25 13:06:58,056 INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBossWS 5.2.3.Final (Apache CXF 3.2.5.jbossorg-1) 
2018-10-25 13:06:58,222 ERROR [org.jboss.as.ejb3.timer] (MSC service thread 1-5) WFLYEJB0163: Cannot create table for timer persistence: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PRIMARY KEY NOT NULL, TIMED_OBJECT_ID VARCHAR NOT NULL, INITIAL_DATE TIMESTAMP, ' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1354)
	at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2127)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1264)
	at com.mysql.cj.jdbc.StatementWrapper.executeUpdate(StatementWrapper.java:628)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.executeUpdate(WrappedStatement.java:430)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.checkDatabase(DatabaseTimerPersistence.java:292)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.start(DatabaseTimerPersistence.java:166)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)

{code}


This issue was spotted on OpenShift environment, the behavior there is to use as the database type on the datastore the same value than the datasource driver name, in this specific case, we we're trying a custom mysql jdbc driver version and named it to mysql57.",2018/10/25 12:09 PM
WFLY-10939,"{code}
  <jsp-config>
    <taglib>
      <taglib-uri>http://examples/taglibs-1.0</taglib-uri>
      <taglib-location>/WEB-INF/lib/taglib-example.jar</taglib-location>
    </taglib>
  </jsp-config>
{code}

To reproduce, just deploy the war, expected that you can Deploy helloWorld.war and hit http://localhost:8080/helloWorld/ and see'Hello from HelloTag'

{code}
16:57:36,375 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""helloWorld.war"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""helloWorld.war"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment ""helloWorld.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:150)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYUT0027: Failed to parse XML descriptor ""/content/helloWorld.war/WEB-INF/lib/taglib-example.jar"" at [1,0]
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.parseTLD(TldParsingDeploymentProcessor.java:229)
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.deploy(TldParsingDeploymentProcessor.java:113)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:143)
	... 8 more
Caused by: com.ctc.wstx.exc.WstxEOFException: Unexpected EOF in prolog
 at [row,col {unknown-source}]: [1,0]
	at com.ctc.wstx.sr.StreamScanner.throwUnexpectedEOF(StreamScanner.java:688)
	at com.ctc.wstx.sr.BasicStreamReader.handleEOF(BasicStreamReader.java:2220)
	at com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2126)
	at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1181)
	at org.jboss.metadata.parser.jsp.TldMetaDataParser.parse(TldMetaDataParser.java:52)
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.parseTLD(TldParsingDeploymentProcessor.java:227)
	... 10 more
{code}

Workaround, just remove the taglib xml from the web.xml and it will be loaded as WEB-INF/lib jars will be scanned for META-INF/taglib.tld and automatically loaded.",2018/08/28 4:38 AM
WFLY-9106,"The messaging-activemq subsystem defines plenty of attributes that maps to Artemis configuration.
Most of these attributes have default values. The default values are taken from Artemis API (ActiveMQClient.*, ActiveMQDefaultConfiguration.*)

This has the advantages that we use the sensible default values provided by Artemis itself.
However there some unintended consequences. When Artemis change one of this default, it also changes the default value of the corresponding WildFly attribute. We have strict rule to handle this (with resource transformers, etc.) but this should not be something by happen by accident. We don't have a mechanism today that catch this kind of issue. Some of this may be caught by transformers tests *if* the resource is actually defined in the transformers configuration (but usually I only add a resource to the transformer when I am explicitly changing its definition).

We should hard-code *all* default values of the messaging-activemq subsystem instead of relying on Artemis API (the actual value will often be the same than the one provided by Artemis though).
This will protect us of Artemis API changes so that we can decide to change a default value when it makes sense separately of Artemis upgrades.
However, we will have to sync with Artemis when they do such changes to figure out if we should do that too or keep the previous value.
",2017/07/19 10:57 AM
WFLY-10961,"One of the last changes made to WF 14 was to split the MP-OpenTracing dependencies into smaller modules. This introduced a bug where the Jaeger Core module can't see a Sender from Jaeger Thrift. This is loaded via the Service Loader, so, Jaeger Core has to be shipped with Jaeger Thrift on the same module, to avoid a circular dependency (as Jaeger Thrift depends on classes defined on Jaeger Core).",2018/08/31 8:38 AM
WFLY-10954,"The OnOffOpenTracingTestCase fails with IBM java due to the different stack trace output compared to the OpenJDK/OracleJDK. In the test there is checked
{code}
java.lang.NoClassDefFoundError: Lio/opentracing/Tracer
{code}
but IBM java provides slightly different variation
{code}
java.lang.NoClassDefFoundError: io.opentracing.Tracer
{code}
in the stacktrace.",2018/08/30 12:39 PM
WFLY-11114,"There are two issues https://issues.jboss.org/browse/WFLY-9501 and https://issues.jboss.org/browse/WFLY-10531. 

Both covers problem with automatic closing of injected JMS contexts.
It would be nice to have a test covering both issues.",2018/10/04 9:13 AM
WFLY-11342,"These dependencies are not currently being used in this module so we can remove them:
* org.jboss.ws.common
* org.jboss.threads",2018/11/14 5:18 AM
WFLY-11246,"These previously ignored the result. Now, they do return the result, but do not describe the result types.",2018/10/25 9:33 AM
WFLY-11390,"MP tests are using custom {{getContent}} methods (2 versions) instead of EntityUtils

Proper way is to get rid of those 2 helper methods and use EntityUtils.toString method",2018/11/21 6:58 AM
WFLY-11010,"Document the ""wildfly.jpa.regionfactory"" and ""wildfly.jpa.jtaplatform"" properties for Hibernate ORM 5.3+ integration.

Also automatically treat ""wildfly.jpa.regionfactory"" as false if [ehcache is being used|http://www.ehcache.org/documentation/2.7/integrations/hibernate.html] (e.g. check if the hibernate.cache.region.factory_class value starts with ""net.sf.ehcache"").  This should help applications that have configured to use Ehcache.

Also automatically treat ""wildfly.jpa.jtaplatform"" as false if the application sets ""hibernate.transaction.jta.platform"".  This should help applications that have configured the transaction platform class.",2018/09/12 9:13 PM
WFLY-10981,"There is probably missing transformation for synthetic ""bridge methods"" in {{org.hibernate.type.VersionType}}

{noformat}
Caused by: java.lang.NoSuchMethodError: org.jboss.as.test.compat.jpa.hibernate.transformer.IntegerType.seed(Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/lang/Integer;
        at org.jboss.as.test.compat.jpa.hibernate.transformer.IntegerType.seed(IntegerType.java:26)
        at org.hibernate.engine.internal.Versioning.seed(Versioning.java:42)
        at org.hibernate.engine.internal.Versioning.seedVersion(Versioning.java:73)
        at org.hibernate.event.internal.AbstractSaveEventListener.substituteValuesIfNecessary(AbstractSaveEventListener.java:428)
        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:274)
        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200)
        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:143)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)
        at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)
        at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)
        at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:709)
        at org.hibernate.internal.SessionImpl.save(SessionImpl.java:701)
        at org.hibernate.internal.SessionImpl.save(SessionImpl.java:696)
        at org.jboss.as.test.compat.jpa.hibernate.transformer.SFSBHibernateSessionFactory.createQueueOwner(SFSBHibernateSessionFactory.java:231)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.tx.StatefulBMTInterceptor.handleInvocation(StatefulBMTInterceptor.java:94)
        ... 191 more
{noformat}

I don't expect users to implement directly {{VersionType}} but {{UserVersionType}}. ",2018/09/05 11:37 AM
WFLY-11208,"When accessing jsp file which contains redirect followed by session invalidation:
{code}
<%
response.sendRedirect(""/foobar"");
request.getSession().invalidate();
%>
{code}
there is an IllegalStateException thrown in server.log:
{code}
09:43:41,501 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /undertow1374/: org.apache.jasper.JasperException: java.lang.IllegalArgumentException: Cannot create a transactional context without a valid Transaction instance.
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Cannot create a transactional context without a valid Transaction instance.
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:64)
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:58)
	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:1013)
	at org.infinispan.cache.impl.DecoratedCache.lock(DecoratedCache.java:188)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.infinispan.cache.impl.EncoderCache.lock(EncoderCache.java:318)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:120)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:110)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:87)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:37)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:388)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:208)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:198)
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:120)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433
{code}",2018/10/18 3:44 AM
WFLY-10535,This means they are not covered by the container state monitor,2018/06/08 5:33 AM
WFLY-11324,"Currently, our logic for configuring BATCH mode is causing Infinispan to use the XA transaction table, instead of the the local transaction table.  This not only makes commits more costly, but should avoid some graceful shutdown bugs with the XA transaction table.",2018/11/10 9:08 AM
WFLY-11065,"This seems to be back but this time with Servlet 4.0 only as 3.1 seems to work just fine. Current test is already in [Wildfly testsuite|https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/wildfly/test/integration/jsp/JspELTestCase.java] but it does not cover Servlet 4.0.

Java EE7 (which supports EL 3.0 spec) allows JSPs to use EL expressions like:

{code}
<html>
   <body>
      foo: --- ${Boolean.TRUE} ---<br>
      bar: --- ${Integer.MAX_VALUE} ---<br>
   </body>
</html>
{code}

However, the {code}${Boolean.TRUE}{code} and {code}${Integer.MAX_VALUE}{code} in the above example aren't evaluated correctly and instead a blank string is rendered for them. 

More details in the linked forum thread https://developer.jboss.org/thread/271825",2018/09/25 3:04 AM
WFLY-11303,"Smallrye micro profile is registering a ConfigExtension when it is already registered by Weld. 

This portable extension is brought in by io.smallrye:smallrye-config dependency in its META-INF folder, and Weld automatically registers a CDI portable extension if it is found in the application classpath. That means it is unnecesary to register it again by wildfly config-smallrye.

It will allow also remove some unnecesary modules dependencies.  ",2018/11/08 3:46 AM
WFLY-11536," ./jboss-cli.sh --file=../docs/examples/enable-elytron.cli
{code}
{
    ""outcome"" => ""failed"",
    ""result"" => {},
    ""failure-description"" => {""host-failure-descriptions"" => {""master"" => ""WFLYCTL0216: Management resource '[
    (\""host\"" => \""master\""),
    (\""core-service\"" => \""management\""),
    (\""management-interface\"" => \""native-interface\"")
]' not found""}},
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{code}",2018/12/20 5:14 AM
WFLY-11414,"_:read-resource_ operation of jax-rs subsystem doesn't handle interfaces, where end-point path is defined on interface

Steps to reproduce:
# {code:java}
@Path(""pure/proxy"")
public interface PureProxyApiService {
    @Path(""test/{a}/{b}"")
    @GET
    String test(@PathParam(""a"") String a, @PathParam(""b"") String b);
}
public class PureProxyEndPoint implements PureProxyApiService {
    @Override
    public String test(@PathParam(""a"") String a, @PathParam(""b"") String b) {
        return a + b;
    }
}
{code}
# _/deployment=DEPLOYMENT_NAME/subsystem=jaxrs:read-resource(recursive,include-runtime)_
# Output:
{noformat}
        ""org.resteasy.simple.deployment.PureProxyEndPoint"" => {
            ""resource-class"" => ""org.resteasy.simple.deployment.PureProxyEndPoint"",
            ""rest-resource-paths"" => undefined,
            ""sub-resource-locators"" => undefined
        }
{noformat}
# If class has \@Path annotation, _read-resource_ operation works correctly
# {code:java}public interface ProxyApiService {
    @Path(""test/{a}/{b}"")
    @GET
    String test(@PathParam(""a"") String a, @PathParam(""b"") String b);
}
@Path(""proxy"")
public class ProxyEndPoint implements ProxyApiService {
    @Override
    public String test(@PathParam(""a"") String a, @PathParam(""b"") String b) {
        return a + b;
    }
}
{code}
# {noformat}        ""org.resteasy.simple.deployment.ProxyEndPoint"" => {
            ""resource-class"" => ""org.resteasy.simple.deployment.ProxyEndPoint"",
            ""rest-resource-paths"" => [{
                ""resource-path"" => ""proxy/test/{a}/{b}"",
                ""consumes"" => undefined,
                ""produces"" => undefined,
                ""java-method"" => ""java.lang.String org.resteasy.simple.deployment.ProxyEndPoint.test(@PathParam java.lang.String a, @PathParam java.lang.String b)"",
                ""resource-methods"" => [""GET /jaxrs-wf/proxy/test/{a}/{b}""]
            }],
            ""sub-resource-locators"" => undefined
        }
{noformat}



cc [~rhn-engineering-lgao]",2018/11/26 2:41 AM
WFLY-11512,"Test {{EntityListenerBeanManagerInjectionTestCase}} used to fail with security manager due to CDI-727. However, a workaround has been applied to the test with WFLY-10125 - which seems wrong - the test should rather have been @ Ignored when running with security manager. 

However, the original issue was already fixed with the component upgrade WFLY-10740 however the workaround has been kept in place which can mask further issues.

{{cd testsuite/integration/basic}}
{{mvn clean test -Dtest=EntityListenerBeanManagerInjectionTestCase -Dsecurity.manager}}",2018/12/13 5:13 AM
WFLY-11506,"The deployment of an EAR which contains a WAR with a CDI bean annotated with @Transactional fails with a CNF exception on com.arjuna.ats.jta.cdi.TransactionExtension. An example of the error trace is:

{code}
13:44:31,895 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 89) MSC000001: Failed to start service jboss.deployment.subunit.""ear-tx-web-listener-ear-1.0.ear"".""org.wildfly-ear-tx-web-listener-web-1.0.war"".undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""ear-tx-web-listener-ear-1.0.ear"".""org.wildfly-ear-tx-web-listener-web-1.0.war"".undertow-deployment: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
	... 8 more
Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at io.undertow.servlet.core.ManagedListener.start(ManagedListener.java:50)
	at io.undertow.servlet.core.ApplicationListeners.start(ApplicationListeners.java:159)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:189)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
	... 10 more
Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:163)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$6.createInstance(UndertowDeploymentInfoService.java:1215)
	at io.undertow.servlet.core.ManagedListener.start(ManagedListener.java:48)
	... 21 more
Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module ""deployment.ear-tx-web-listener-ear-1.0.ear"" from Service Module Loader
	at org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:370)
	at org.jboss.weld.bean.proxy.ProxyFactory.run(ProxyFactory.java:324)
	at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:316)
	at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:83)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:205)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:195)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:44)
	at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:52)
	at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:48)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.lambda$null$0(ReentrantMapBackedComputingCache.java:55)
	at org.jboss.weld.util.LazyValueHolder$1.computeValue(LazyValueHolder.java:32)
	at org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:46)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:72)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:78)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:229)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)
	at org.jboss.weld.manager.BeanManagerImpl.getInjectableReference(BeanManagerImpl.java:800)
	at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:92)
	at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:336)
	at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:347)
	at org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:69)
	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)
	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:71)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:117)
	at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:159)
	at org.jboss.weld.contexts.unbound.DependentContextImpl.get(DependentContextImpl.java:70)
	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)
	at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:700)
	at org.jboss.weld.bean.interceptor.CdiInterceptorFactory.create(CdiInterceptorFactory.java:46)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.initInterceptorInstanceMap(InterceptionContext.java:102)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.of(InterceptionContext.java:77)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.forNonConstructorInterception(InterceptionContext.java:73)
	at org.jboss.weld.injection.producer.InterceptorApplyingInstantiator.newInstance(InterceptorApplyingInstantiator.java:60)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.produce(BasicInjectionTarget.java:112)
	at org.jboss.weld.injection.producer.BeanInjectionTarget.produce(BeanInjectionTarget.java:186)
	at org.jboss.as.weld.injection.WeldInjectionContext.produce(WeldInjectionContext.java:46)
	at org.jboss.as.weld.injection.WeldManagedReferenceFactory.create(WeldManagedReferenceFactory.java:55)
	at org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	... 26 more
Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass(ClassFileUtils.java:113)
	at org.jboss.weld.bean.proxy.ProxyFactory.createProxyClass(ProxyFactory.java:469)
	at org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:362)
	... 78 more
Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass2(ClassFileUtils.java:120)
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass(ClassFileUtils.java:109)
	... 80 more
Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module ""deployment.ear-tx-web-listener-ear-1.0.ear"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 88 more

13:44:31,902 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ({""deployment"" => ""ear-tx-web-listener-ear-1.0.ear""}) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.subunit.\""ear-tx-web-listener-ear-1.0.ear\"".\""org.wildfly-ear-tx-web-listener-web-1.0.war\"".undertow-deployment"" => ""java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader
    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader]""}}
13:44:31,903 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""ear-tx-web-listener-ear-1.0.ear"" was rolled back with the following failure message:
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.subunit.\""ear-tx-web-listener-ear-1.0.ear\"".\""org.wildfly-ear-tx-web-listener-web-1.0.war\"".undertow-deployment"" => ""java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader
    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader]""}}
{code}

In WF15 some modules were cleaned up removing the apparently uneeded weld dependencies. Specifically, this issue is a consequence of WFLY-11165, where the {{""org.jboss.weld.core""}} module was removed from {{""org.jboss.jts""}} module.

Since {{org.jboss.jts}} does not have dependencies on Weld, the proxies loading is delegated to the EAR classloader. The @Transactional annotation is in the WAR subdeployment, so {{TransactionDependenciesProcessor}} adds the {{org.jboss.jts}} module only to the WAR, failing the load of the {{TransactionExtension}} when the EAR class loader is used.

",2018/12/12 9:50 AM
WFLY-11275,"I'm been running into an occasional NPE in production with JSF after migrating from Wildfly 11 to Wildfly 14.0.1 ( Mojarra 2.2.13.SP4 -> 2.3.5.SP2 ) and I believe I've tracked down a small demo project that duplicates the issue. I've set the project to JSF 2.2 so it will deploy on both WF 11 and WF 14.

The basic problem is that when two pages with the same view id are loaded in separate tabs. From there is one of the tabs is posted and the result navigates to a different view id all references to that view id are removed from the view map. If the post does not navigate to a different view id then all works normally.

My assumption is that when the post navigates away to a new view id any reference to any page with the same view id is removed from the view map. This did not occur in Wildfly 11.

Additional clue is that even though the viewmap reference is removed the view scoped beans referencing it are not destroyed.











Demo project at https://github.com/codylerum/demos/tree/ee7/jsf-npe",2018/11/02 12:29 PM
WFLY-11469,"Looks like yet another clean shutdown issue surfaced after we changed WFLY-11324 to avoid some graceful shutdown bugs with the XA transaction table.

{noformat}
16:28:38,874 ERROR [org.infinispan.commons.tx.TransactionImpl] (default task-2) ISPN000926: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=[node-1, node-2], isMarkedForRollback=false, lockedKeys=[], backupKeyLocks=[SessionAccessMetaDataKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5), SessionCreationMetaDataKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5), SessionAttributesKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5)], topologyId=5, stateTransferFlag=null} org.infinispan.transaction.synchronization.SyncLocalTransaction@72} org.infinispan.transaction.synchronization.SynchronizationAdapter@91: org.infinispan.IllegalLifecycleStateException: Cannot wire or start components while the registry is not running
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.prepareWrapperChange(BasicComponentRegistryImpl.java:610)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.wireWrapper(BasicComponentRegistryImpl.java:158)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.wire(BasicComponentRegistryImpl.java:736)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:712)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:148)
	at org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:506)
	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:945)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:579)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:346)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
{noformat}",2018/12/03 1:13 PM
WFLY-11447,See [this comment|https://issues.jboss.org/browse/JBEAP-15739?focusedCommentId=13654586&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13654586].,2018/11/29 10:18 AM
WFLY-11547,"The issue is that the xsd says it is using a blocking queue but it is using an incomplete bounded one since there are properties that cannot be set.

jboss-cli returns:

{code:java}
/subsystem=jca/workmanager=default/long-running-threads=default:read-resource-description
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""description"" => ""A thread pool executor with a bounded queue where threads submittings tasks will not block. Such a thread pool has a core and maximum size and a specified queue length.  When a task is submitted, if the number of running threads is less than the core size, a new thread is created.  Otherwise, if there is room in the queue, the task is enqueued. Otherwise, if the number of running threads is less than the maximum size, a new thread is created. Otherwise, the task is handed off to the designated handoff executor, if one is specified.  Otherwise, the task is discarded."",
......
            ""handoff-executor"" => {
                ""type"" => STRING,
                ""description"" => ""An executor to delegate tasks to in the event that a task cannot be accepted. If not specified, tasks that cannot be accepted will be silently discarded."",
                ""expressions-allowed"" => false,
                ""nillable"" => true,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },
....
{code}
But the xsd does not allow to set a hand-off executor for the short/long running threads 

The xsd:

<xs:annotation>
            <xs:documentation>
            <![CDATA[
                See threads:blocking-bounded-queue-thread-pool.
            ]]>
            </xs:documentation>
        </xs:annotation>",2018/12/27 5:21 AM
WFLY-11444,"{{org.jboss.ejb3}} module is exposing {{org.jboss.ejb3:jboss-ejb3-ext-api}} artifact which is only a bunch of interfaces that only depends on java.se.

That means all the module dependencies are unused and can be removed",2018/11/29 8:16 AM
WFLY-11071,"When SSO is enabled and the domain is undefined, the JSESSIONIDSSO cookie has a invalid domain=""undefined"" as follows:

{code}
Set-Cookie: JSESSIONIDSSO=H_xYotFv_g4dUibKUXxkK5zaFx-IESzIHHDvmeEW; path=/; domain=undefined
{code}
",2018/09/25 11:57 PM
WFLY-11243,This addresses what is likely a performance issue in how the TransactionSynchronizationRegistry is looked up for (JPA container managed) persistence contexts used inside of JTA transactions.,2018/10/24 5:26 PM
WFLY-10425,"WildFlyCustomRegionFactoryInitiator needs to test for jpa_shared_code_mode being null.
{code}
	  at org.jboss.as.jpa.hibernate5.service.WildFlyCustomRegionFactoryInitiator.resolveRegionFactory(WildFlyCustomRegionFactoryInitiator.java:44)
	  at org.hibernate.cache.internal.RegionFactoryInitiator.initiateService(RegionFactoryInitiator.java:47)
	  at org.hibernate.cache.internal.RegionFactoryInitiator.initiateService(RegionFactoryInitiator.java:32)
	  at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:94)
	  at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	  at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	  at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	  - locked <0x4fcc> (a org.hibernate.boot.registry.internal.StandardServiceRegistryImpl)
	  at org.hibernate.boot.internal.MetadataBuilderImpl$MetadataBuildingOptionsImpl.<init>(MetadataBuilderImpl.java:688)
	  at org.hibernate.boot.internal.MetadataBuilderImpl.<init>(MetadataBuilderImpl.java:123)
	  at org.hibernate.boot.MetadataSources.getMetadataBuilder(MetadataSources.java:136)
	  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.<init>(EntityManagerFactoryBuilderImpl.java:213)
	  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.<init>(EntityManagerFactoryBuilderImpl.java:169)
	  at org.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:76)
	  at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:179)
	  at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:127)
	  at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:69)
	  at org.hibernate.jpa.HibernatePersistenceProvider.generateSchema(HibernatePersistenceProvider.java:164)
	  at javax.persistence.Persistence.generateSchema(Persistence.java:114)
{code}
",2018/05/22 1:17 PM
WFLY-10427,"When applications call javax.persistence.Persistence.generateSchema() from active JTA transactions, Hibernate defaults to using org.hibernate.engine.transaction.jta.platform.internal.JBossStandAloneJtaPlatform, which uses com.arjuna.ats.jta.TransactionManager.  We cannot use com.arjuna.ats.jta.TransactionManager directly anymore, instead we need to use the WildFly transaction client layer which wraps Arjuna TM.

[https://paste.fedoraproject.org/paste/9y4vn4E0yT77u471LNL-Xw] shows the call stack of where error is thrown by LocalTransaction.verifyAssociation:
{quote}
Caused by: java.lang.IllegalStateException: WFTXN0073: Unexpected provider transaction mismatch; expected TransactionImple < ac, BasicAction: 0:ffff0a0000b0:3831261e:5b045a43:11 status: ActionStatus.RUNNING >, got null[javatest.batch] 13:59:36,576 INFO  [stdout] (Thread-130)
at org.wildfly.transaction.client.LocalTransaction.verifyAssociation(LocalTransaction.java:245)
{quote}",2018/05/22 2:54 PM
WFLY-8962,Another thing missed when moving version from 10 to 11.,2017/06/19 5:36 PM
WFLY-9043,"*Description of problem:*
IIOPTransactionPropagationTestCase fails

This issue is regression against EAP 7.0.0, EAP 7.0.4 and EAP 7.1.0.DR8

*How reproducible:*
100%, see [reproducer job run|https://jenkins.mw.lab.eng.bos.redhat.com/hudson/view/EAP7/view/EAP7-AS-Testsuite/view/EAP7-AS-Testsuite-Reproducers/job/eap-7x-as-testsuite-test-iiop/4/]

*Actual results:*
*org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly*
Stack trace:
{noformat}
java.lang.AssertionError: expected:<0> but was:<6>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:149)
{noformat}
Standard output:
{noformat}
12:17:44,333 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Received module un-availability report for 1 modules
12:17:44,333 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Un-registering module EJBModuleIdentifier{appName='', moduleName='stateless-iiop-txn-timeout', distinctName=''} from receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@50305a, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@24f43aa3,channel=jboss.ejb,nodename=vmg112]}
12:17:44,333 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Received module un-availability report for 1 modules
12:17:44,333 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Un-registering module EJBModuleIdentifier{appName='', moduleName='stateless-iiop-txn-timeout', distinctName=''} from receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@1af05b03, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@4a67318f,channel=jboss.ejb,nodename=vmg112]}
12:17:44,333 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Received module un-availability report for 1 modules
12:17:44,334 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Un-registering module EJBModuleIdentifier{appName='', moduleName='stateless-iiop-txn-timeout', distinctName=''} from receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@420bc288, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@85ec632,channel=jboss.ejb,nodename=vmg112]}
12:17:44,334 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Received module un-availability report for 1 modules
12:17:44,334 DEBUG [org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver] (Remoting ""client"" task-9) Un-registering module EJBModuleIdentifier{appName='', moduleName='stateless-iiop-txn-timeout', distinctName=''} from receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@17ae98d7, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@4837595f,channel=jboss.ejb,nodename=vmg112]}
&amp#27;[0m12:17:44,347 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0003: Stopped client-mappings cache from ejb container
&amp#27;[0m&amp#27;[0m12:17:44,352 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment stateless-iiop-txn-timeout.jar (runtime-name: stateless-iiop-txn-timeout.jar) in 30ms
&amp#27;[0m&amp#27;[0m12:17:44,360 INFO  [org.jboss.as.repository] (management-handler-thread - 2) WFLYDR0002: Content removed from location /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-iiop/4f840434/testsuite/integration/iiop/target/jbossas-iiop-client/standalone/data/content/81/a6d6e25c6a920724604526691f52ba35ae5d1f/content
&amp#27;[0m&amp#27;[0m12:17:44,366 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0009: Undeployed ""stateless-iiop-txn-timeout.jar"" (runtime-name: ""stateless-iiop-txn-timeout.jar"")
&amp#27;[0m12:17:44,380 DEBUG [org.jboss.as.arquillian.protocol.jmx.JMXProtocolPackager] (main) Add dependencies: org.jboss.modules,deployment.arquillian-service,org.jboss.msc,org.wildfly.security.manager
12:17:44,383 INFO  [org.jboss.as.arquillian.protocol.jmx.ArquillianServiceDeployer] (main) Deploy arquillian service: arquillian-service: 984 assets
&amp#27;[0m12:17:44,977 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-iiop/4f840434/testsuite/integration/iiop/target/jbossas-iiop-server/standalone/data/content/ee/e6ee518c12c7166554f8e35e61016ab6dd3bab/content
&amp#27;[0m&amp#27;[0m12:17:44,985 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""arquillian-service"" (runtime-name: ""arquillian-service"")
&amp#27;[0m&amp#27;[33m12:17:45,154 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.jmx:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m12:17:45,159 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.as.server:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m12:17:45,160 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.jboss.jandex:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m12:17:45,160 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment ""deployment.arquillian-service"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[33m12:17:45,170 WARN  [org.jboss.weld.deployer] (MSC service thread 1-2) WFLYWELD0013: Deployment arquillian-service contains CDI annotations but no bean archive was found (no beans.xml or class with bean defining annotations was present).
&amp#27;[0m&amp#27;[0m12:17:45,182 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed ""arquillian-service"" (runtime-name : ""arquillian-service"")
&amp#27;[0m&amp#27;[0m12:17:45,195 INFO  [org.jboss.as.repository] (management-handler-thread - 3) WFLYDR0001: Content added at location /mnt/hudson_workspace/workspace/eap-7x-as-testsuite-test-iiop/4f840434/testsuite/integration/iiop/target/jbossas-iiop-server/standalone/data/content/c3/3130a8f9ab73261a6d4f3fa573357df1de9b2f/content
&amp#27;[0m&amp#27;[0m12:17:45,197 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""iiop-jts-ctx-propag-test.jar"" (runtime-name: ""iiop-jts-ctx-propag-test.jar"")
&amp#27;[0m&amp#27;[33m12:17:45,210 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-3) WFLYSRV0018: Deployment ""deployment.iiop-jts-ctx-propag-test.jar"" is using a private module (""org.wildfly.security.manager:main"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[0m12:17:45,216 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) WFLYWELD0003: Processing weld deployment iiop-jts-ctx-propag-test.jar
&amp#27;[0m&amp#27;[0m12:17:45,221 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-1) WFLYEJB0473: JNDI bindings for session bean named 'IIOPTestBean' in deployment unit 'deployment ""iiop-jts-ctx-propag-test.jar""' are as follows:

	java:global/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestRemote
	java:app/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestRemote
	java:module/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestRemote
	java:jboss/exported/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestRemote
	java:global/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestBeanHome
	java:app/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestBeanHome
	java:module/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestBeanHome
	java:jboss/exported/iiop-jts-ctx-propag-test/IIOPTestBean!org.jboss.as.test.iiop.client.IIOPTestBeanHome

&amp#27;[0m&amp#27;[0m12:17:45,238 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 3) WFLYCLINF0002: Started client-mappings cache from ejb container
&amp#27;[0m&amp#27;[0m12:17:45,260 INFO  [org.jboss.as.arquillian] (MSC service thread 1-1) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config.""iiop-jts-ctx-propag-test.jar"",unit=iiop-jts-ctx-propag-test.jar,tests=[org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase]]
&amp#27;[0m&amp#27;[0m12:17:45,374 INFO  [org.jboss.as.server] (management-handler-thread - 3) WFLYSRV0010: Deployed ""iiop-jts-ctx-propag-test.jar"" (runtime-name : ""iiop-jts-ctx-propag-test.jar"")
&amp#27;[0m12:17:45,549 DEBUG [com.arjuna.orbportability] (main) Loading PostSetLoader class - com.arjuna.ats.jts.utils.ORBSetup
12:17:45,600 FINE  [org.jboss.arquillian.test.spi.TestEnricher] (main) BeanManager cannot be located in context. Either you are using an archive with no beans.xml or the BeanManager has not been produced.
12:17:45,623 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) Start RecoveryActivators
12:17:45,671 INFO  [com.arjuna.ats.jts] (pool-1-thread-1) ARJUNA022087: RecoveryServer using existing ORB
12:17:45,686 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) JavaIdlRCServiceInit.getRCPOA RecCoService_vmg112.hosts.mwqe.eng.bos.redhat.com
12:17:45,689 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) GenericRecoveryCoordinator() constructing
12:17:45,689 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) JavaIdlRCDefaultServant(orb)
12:17:45,697 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.protocol] (main) ""IOP00100026: (BAD_PARAM) Invalid service context Id in portable interceptor"": org.omg.CORBA.BAD_PARAM:   vmcid: OMG  minor code: 26  completed: No
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1551)
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1573)
	at com.sun.corba.se.impl.interceptors.RequestInfoImpl.getServiceContext(RequestInfoImpl.java:657)
	at com.sun.corba.se.impl.interceptors.ServerRequestInfoImpl.get_request_service_context(ServerRequestInfoImpl.java:638)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:177)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:231)
	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:130)
	at org.omg.CosTransactions.TransactionFactoryHelper.narrow(TransactionFactoryHelper.java:59)
	at com.arjuna.ats.internal.jts.orbspecific.TransactionFactoryImple.getReference(TransactionFactoryImple.java:126)
	at com.arjuna.ats.internal.jts.orbspecific.TransactionFactoryImple.<init>(TransactionFactoryImple.java:107)
	at com.arjuna.ats.internal.jts.OTSImpleManager.init(OTSImpleManager.java:265)
	at com.arjuna.ats.internal.jts.OTSImpleManager.get_current(OTSImpleManager.java:102)
	at com.arjuna.ats.jts.OTSManager.get_current(OTSManager.java:71)
	at org.jboss.as.test.iiop.client.Util.startCorbaTx(Util.java:94)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

12:17:45,718 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) JavaIdlRCServiceInit - set default servant and activated
12:17:45,756 DEBUG [com.arjuna.ats.arjuna] (main) com.arjuna.ats.arjuna.recovery.ActionStatusService starting
12:17:45,759 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) AtomicActionRecoveryModule created
12:17:45,765 DEBUG [com.arjuna.ats.arjuna] (main) TransactionStatusManagerItem host: {0} port: {1}
12:17:45,766 DEBUG [com.arjuna.ats.txoj] (pool-1-thread-1) TORecoveryModule created
12:17:45,768 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) TransactionRecoveryModule created
12:17:45,768 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) TopLevelTransactionRecoveryModule created
12:17:45,769 INFO  [com.arjuna.ats.arjuna] (main) ARJUNA012170: TransactionStatusManager started on port 41315 and host 127.0.0.1 with service com.arjuna.ats.arjuna.recovery.ActionStatusService
12:17:45,779 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) TransactionRecoveryModule created
12:17:45,785 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) ServerTransactionRecoveryModule created
12:17:45,809 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) PeriodicRecovery: starting background scanner thread
12:17:45,812 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) Expiry scan interval set to 43200 seconds
12:17:45,813 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) Expiry scan interval set to  43200  seconds
12:17:45,814 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) ExpiredTransactionStatusManagerScanner created, with expiry time of 43200  seconds
12:17:45,826 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread Status <== SCANNING
12:17:45,827 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) ExpiredContactScanner created, with expiry time of 43200 seconds
12:17:45,827 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread scanning
12:17:45,827 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) Periodic recovery first pass at Thu, 12 Jan 2017 12:17:45
12:17:45,832 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) AtomicActionRecoveryModule first pass
12:17:45,832 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) processing /StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction transactions
12:17:45,832 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  
12:17:45,835 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) ExpiredAssumedCompleteScanner created, with expiry time of 43200 seconds
12:17:45,832 DEBUG [com.arjuna.ats.txoj] (Periodic Recovery) TORecoveryModule - first pass
12:17:45,826 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.protocol] (main) ""IOP00100026: (BAD_PARAM) Invalid service context Id in portable interceptor"": org.omg.CORBA.BAD_PARAM:   vmcid: OMG  minor code: 26  completed: No
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1551)
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1573)
	at com.sun.corba.se.impl.interceptors.RequestInfoImpl.getServiceContext(RequestInfoImpl.java:657)
	at com.sun.corba.se.impl.interceptors.ServerRequestInfoImpl.get_request_service_context(ServerRequestInfoImpl.java:638)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:177)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.get_txcontext(_ArjunaTransactionStub.java:386)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:236)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:232)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:231)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

12:17:45,837 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  
12:17:45,837 INFO  [com.arjuna.ats.jts] (Periodic Recovery) ARJUNA022199: TopLevelTransactionRecoveryModule First Pass
12:17:45,837 INFO  [com.arjuna.ats.jts] (Periodic Recovery) ARJUNA022213: TransactionRecoveryModule.periodicWorkFirstPass()
12:17:45,837 DEBUG [com.arjuna.ats.jts] (Periodic Recovery) TransactionRecoveryModule: scanning for /StateManager/BasicAction/TwoPhaseCoordinator/ArjunaTransactionImple
12:17:45,838 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  
12:17:45,838 INFO  [com.arjuna.ats.jts] (Periodic Recovery) ARJUNA022190: ServerTransactionRecoveryModule - First Pass
12:17:45,838 INFO  [com.arjuna.ats.jts] (Periodic Recovery) ARJUNA022213: TransactionRecoveryModule.periodicWorkFirstPass()
12:17:45,838 DEBUG [com.arjuna.ats.jts] (Periodic Recovery) TransactionRecoveryModule: scanning for /StateManager/BasicAction/TwoPhaseCoordinator/ArjunaTransactionImple/ServerTransaction
12:17:45,838 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  
12:17:45,843 DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) XARecoveryModule state change IDLE->FIRST_PASS

12:17:45,839 DEBUG [com.arjuna.ats.jts] (pool-1-thread-1) ExpiredAssumedCompleteScanner created, with expiry time of 43200 seconds
12:17:45,846 DEBUG [com.arjuna.ats.arjuna] (pool-1-thread-1) ExpiredEntryMonitor - constructed
12:17:45,847 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) JTS XARecoveryModule - first pass
12:17:45,846 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.protocol] (main) ""IOP00100026: (BAD_PARAM) Invalid service context Id in portable interceptor"": org.omg.CORBA.BAD_PARAM:   vmcid: OMG  minor code: 26  completed: No
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1551)
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1573)
	at com.sun.corba.se.impl.interceptors.RequestInfoImpl.getServiceContext(RequestInfoImpl.java:657)
	at com.sun.corba.se.impl.interceptors.ServerRequestInfoImpl.get_request_service_context(ServerRequestInfoImpl.java:638)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:177)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ActionControlStub.getParentControl(_ActionControlStub.java:19)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.propagationContext(ArjunaTransactionImple.java:2022)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.get_txcontext(ArjunaTransactionImple.java:1302)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOATie.get_txcontext(ArjunaTransactionPOATie.java:129)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOA._invoke(ArjunaTransactionPOA.java:255)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.get_txcontext(_ArjunaTransactionStub.java:386)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:236)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:232)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:231)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)

...[truncated 26420 chars]...
tContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.NullPointerException
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:810)
	... 153 more

12:17:45,889 FINE  [javax.enterprise.resource.corba._CORBA_.rpc.presentation] (main) ""IOP01210235: (BAD_OPERATION) ClassNotFoundException while attempting to load interface arjuna.com.ArjunaOTS.ArjunaTransaction"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 235 completed: Maybe
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.classNotFound3(ORBUtilSystemException.java:786)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:66)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:748)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.read_value(AnyImpl.java:583)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decodeImpl(CDREncapsCodec.java:211)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decode_value(CDREncapsCodec.java:134)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:196)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:193)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:192)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.ClassNotFoundException: arjuna.com.ArjunaOTS.ArjunaTransaction (no security manager: RMI class loader disabled)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:396)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:186)
	at java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:219)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:152)
	at com.sun.corba.se.impl.util.JDKBridge.loadClassM(JDKBridge.java:189)
	at com.sun.corba.se.impl.util.JDKBridge.loadClass(JDKBridge.java:86)
	at com.sun.corba.se.impl.javax.rmi.CORBA.Util.loadClass(Util.java:605)
	at javax.rmi.CORBA.Util.loadClass(Util.java:242)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:64)
	... 156 more

12:17:45,891 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.encoding] (main) ""IOP00810259: (MARSHAL) Could not create stub"": org.omg.CORBA.MARSHAL:   vmcid: SUN  minor code: 259  completed: No
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8316)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8334)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:812)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:769)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.read_value(AnyImpl.java:583)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decodeImpl(CDREncapsCodec.java:211)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decode_value(CDREncapsCodec.java:134)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:196)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:193)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:192)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.NullPointerException
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:810)
	... 156 more

12:17:45,892 FINE  [javax.enterprise.resource.corba._INITIALIZING_.rpc.presentation] (main) ""IOP01210206: (BAD_OPERATION) Expected typecode kind string but got typecode kind struct"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 206  completed: No
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.extractWrongType(ORBUtilSystemException.java:215)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.extractWrongType(ORBUtilSystemException.java:239)
	at com.sun.corba.se.impl.corba.AnyImpl.checkExtractBadOperation(AnyImpl.java:667)
	at com.sun.corba.se.impl.corba.AnyImpl.extract_string(AnyImpl.java:969)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.suspendContext(InterpositionServerRequestInterceptorImpl.java:350)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.send_reply(InterpositionServerRequestInterceptorImpl.java:264)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorEndingPoint(InterceptorInvoker.java:591)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIEndingPoint(PIHandlerImpl.java:638)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.runInterceptors(CorbaMessageMediatorImpl.java:2278)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponseHelper(CorbaMessageMediatorImpl.java:2190)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponseHelper(CorbaMessageMediatorImpl.java:2165)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponse(CorbaMessageMediatorImpl.java:2013)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createReply(CorbaMessageMediatorImpl.java:623)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOA._invoke(ArjunaTransactionPOA.java:143)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocationWithRollbackOnly(IIOPTransactionPropagationTestCase.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{noformat}
*org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation*
Stack trace:
{noformat}
java.lang.AssertionError: expected:<0> but was:<6>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:130)
{noformat}
Standard output:
{noformat}
12:17:45,941 FINE  [org.jboss.arquillian.test.spi.TestEnricher] (main) BeanManager cannot be located in context. Either you are using an archive with no beans.xml or the BeanManager has not been produced.
12:17:45,967 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.protocol] (main) ""IOP00100026: (BAD_PARAM) Invalid service context Id in portable interceptor"": org.omg.CORBA.BAD_PARAM:   vmcid: OMG  minor code: 26  completed: No
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1551)
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1573)
	at com.sun.corba.se.impl.interceptors.RequestInfoImpl.getServiceContext(RequestInfoImpl.java:657)
	at com.sun.corba.se.impl.interceptors.ServerRequestInfoImpl.get_request_service_context(ServerRequestInfoImpl.java:638)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:177)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.get_txcontext(_ArjunaTransactionStub.java:386)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:236)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:232)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:231)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

12:17:45,968 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.protocol] (main) ""IOP00100026: (BAD_PARAM) Invalid service context Id in portable interceptor"": org.omg.CORBA.BAD_PARAM:   vmcid: OMG  minor code: 26  completed: No
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1551)
	at com.sun.corba.se.impl.logging.OMGSystemException.invalidServiceContextId(OMGSystemException.java:1573)
	at com.sun.corba.se.impl.interceptors.RequestInfoImpl.getServiceContext(RequestInfoImpl.java:657)
	at com.sun.corba.se.impl.interceptors.ServerRequestInfoImpl.get_request_service_context(ServerRequestInfoImpl.java:638)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:177)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ActionControlStub.getParentControl(_ActionControlStub.java:19)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.propagationContext(ArjunaTransactionImple.java:2022)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.get_txcontext(ArjunaTransactionImple.java:1302)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOATie.get_txcontext(ArjunaTransactionPOATie.java:129)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOA._invoke(ArjunaTransactionPOA.java:255)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.get_txcontext(_ArjunaTransactionStub.java:386)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:236)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$1.run(InterpositionClientRequestInterceptorImpl.java:232)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:231)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

12:17:45,975 FINE  [javax.enterprise.resource.corba._CORBA_.rpc.presentation] (main) ""IOP01210235: (BAD_OPERATION) ClassNotFoundException while attempting to load interface arjuna.com.ArjunaOTS.ArjunaTransaction"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 235 completed: Maybe
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.classNotFound3(ORBUtilSystemException.java:786)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:66)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:748)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.write_value(AnyImpl.java:610)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.encodeImpl(CDREncapsCodec.java:173)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.encode_value(CDREncapsCodec.java:119)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$2.run(InterpositionClientRequestInterceptorImpl.java:292)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$2.run(InterpositionClientRequestInterceptorImpl.java:288)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:287)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.ClassNotFoundException: arjuna.com.ArjunaOTS.ArjunaTransaction (no security manager: RMI class loader disabled)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:396)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:186)
	at java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:219)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:152)
	at com.sun.corba.se.impl.util.JDKBridge.loadClassM(JDKBridge.java:189)
	at com.sun.corba.se.impl.util.JDKBridge.loadClass(JDKBridge.java:86)
	at com.sun.corba.se.impl.javax.rmi.CORBA.Util.loadClass(Util.java:605)
	at javax.rmi.CORBA.Util.loadClass(Util.java:242)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:64)
	... 153 more

12:17:45,977 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.encoding] (main) ""IOP00810259: (MARSHAL) Could not create stub"": org.omg.CORBA.MARSHAL:   vmcid: SUN  minor code: 259  completed: No
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8316)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8334)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:812)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:769)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.write_value(AnyImpl.java:610)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.encodeImpl(CDREncapsCodec.java:173)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.encode_value(CDREncapsCodec.java:119)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$2.run(InterpositionClientRequestInterceptorImpl.java:292)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl$2.run(InterpositionClientRequestInterceptorImpl.java:288)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionClientRequestInterceptorImpl.send_request(InterpositionClientRequestInterceptorImpl.java:287)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeClientInterceptorStartingPoint(InterceptorInvoker.java:245)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeClientPIStartingPoint(PIHandlerImpl.java:355)
	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:293)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)
	at org.omg.CORBA.portable.ObjectImpl._request(ObjectImpl.java:449)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:193)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.NullPointerException
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:810)
	... 153 more

12:17:45,980 FINE  [javax.enterprise.resource.corba._CORBA_.rpc.presentation] (main) ""IOP01210235: (BAD_OPERATION) ClassNotFoundException while attempting to load interface arjuna.com.ArjunaOTS.ArjunaTransaction"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 235 completed: Maybe
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.classNotFound3(ORBUtilSystemException.java:786)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:66)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:748)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.read_value(AnyImpl.java:583)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decodeImpl(CDREncapsCodec.java:211)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decode_value(CDREncapsCodec.java:134)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:196)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:193)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:192)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.ClassNotFoundException: arjuna.com.ArjunaOTS.ArjunaTransaction (no security manager: RMI class loader disabled)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:396)
	at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:186)
	at java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:219)
	at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:152)
	at com.sun.corba.se.impl.util.JDKBridge.loadClassM(JDKBridge.java:189)
	at com.sun.corba.se.impl.util.JDKBridge.loadClass(JDKBridge.java:86)
	at com.sun.corba.se.impl.javax.rmi.CORBA.Util.loadClass(Util.java:605)
	at javax.rmi.CORBA.Util.loadClass(Util.java:242)
	at com.sun.corba.se.impl.presentation.rmi.StubFactoryFactoryDynamicBase.createStubFactory(StubFactoryFactoryDynamicBase.java:64)
	... 156 more

12:17:45,982 FINE  [javax.enterprise.resource.corba._DEFAULT_.rpc.encoding] (main) ""IOP00810259: (MARSHAL) Could not create stub"": org.omg.CORBA.MARSHAL:   vmcid: SUN  minor code: 259  completed: No
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8316)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.stubCreateError(ORBUtilSystemException.java:8334)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:812)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:769)
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.read_Object(CDRInputStream_1_0.java:710)
	at com.sun.corba.se.impl.encoding.CDRInputStream.read_Object(CDRInputStream.java:231)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2039)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.TypeCodeImpl.copy(TypeCodeImpl.java:2054)
	at com.sun.corba.se.impl.corba.AnyImpl.read_value(AnyImpl.java:583)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decodeImpl(CDREncapsCodec.java:211)
	at com.sun.corba.se.impl.interceptors.CDREncapsCodec.decode_value(CDREncapsCodec.java:134)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:196)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl$1.run(InterpositionServerRequestInterceptorImpl.java:193)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.receive_request_service_contexts(InterpositionServerRequestInterceptorImpl.java:192)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorStartingPoint(InterceptorInvoker.java:441)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIStartingPoint(PIHandlerImpl.java:566)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.getServantWithPI(CorbaServerRequestDispatcherImpl.java:350)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:202)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.NullPointerException
	at com.sun.corba.se.impl.encoding.CDRInputStream_1_0.internalIORToObject(CDRInputStream_1_0.java:810)
	... 156 more

12:17:45,985 FINE  [javax.enterprise.resource.corba._INITIALIZING_.rpc.presentation] (main) ""IOP01210206: (BAD_OPERATION) Expected typecode kind string but got typecode kind struct"": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 206  completed: No
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.extractWrongType(ORBUtilSystemException.java:215)
	at com.sun.corba.se.impl.logging.ORBUtilSystemException.extractWrongType(ORBUtilSystemException.java:239)
	at com.sun.corba.se.impl.corba.AnyImpl.checkExtractBadOperation(AnyImpl.java:667)
	at com.sun.corba.se.impl.corba.AnyImpl.extract_string(AnyImpl.java:969)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.suspendContext(InterpositionServerRequestInterceptorImpl.java:350)
	at com.arjuna.ats.jts.orbspecific.javaidl.interceptors.interposition.InterpositionServerRequestInterceptorImpl.send_reply(InterpositionServerRequestInterceptorImpl.java:264)
	at com.sun.corba.se.impl.interceptors.InterceptorInvoker.invokeServerInterceptorEndingPoint(InterceptorInvoker.java:591)
	at com.sun.corba.se.impl.interceptors.PIHandlerImpl.invokeServerPIEndingPoint(PIHandlerImpl.java:638)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.runInterceptors(CorbaMessageMediatorImpl.java:2278)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponseHelper(CorbaMessageMediatorImpl.java:2190)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponseHelper(CorbaMessageMediatorImpl.java:2165)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createResponse(CorbaMessageMediatorImpl.java:2013)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.createReply(CorbaMessageMediatorImpl.java:623)
	at com.arjuna.ArjunaOTS.ArjunaTransactionPOA._invoke(ArjunaTransactionPOA.java:143)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)
	at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)
	at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)
	at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)
	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)
	at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)
	at com.arjuna.ArjunaOTS._ArjunaTransactionStub.is_top_level_transaction(_ArjunaTransactionStub.java:194)
	at com.arjuna.ats.jts.OTSManager.destroyControl(OTSManager.java:133)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.destroyAction(ArjunaTransactionImple.java:2207)
	at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.rollback(ArjunaTransactionImple.java:500)
	at com.arjuna.ats.internal.jts.ControlWrapper.rollback(ControlWrapper.java:283)
	at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.rollback(CurrentImple.java:321)
	at org.jboss.as.test.iiop.client.Util.rollbackCorbaTx(Util.java:102)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPNeverCallInvocation(IIOPTransactionPropagationTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:77)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:53)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
{noformat}
*org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocation*
Stack trace:
{noformat}
java.lang.AssertionError: expected:<0> but was:<6>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.testIIOPInvocation(IIOPTransactionPropagationTestCase.java:113)
{noformat}
Standard output:
{noformat}
12:17:45,998 FINE  [org.jboss.arquillian.test.spi.TestEnricher] (main) BeanManager cannot be located in context. Either you are using an archive with no beans.xml or the BeanManager has not been produced.
{noformat}

*Expected results:*
No errors",2017/07/03 5:51 PM
WFLY-9115,"{noformat}
[standalone@localhost:9990 /] /subsystem=singleton/singleton-policy=foo/election-policy=random:add{allow-resource-service-restart=true
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=singleton/singleton-policy=foo/election-policy=simple:add{allow-resource-service-restart=true
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0436: Cannot register capability 'org.wildfly.clustering.singleton.policy.election.foo' at location '[
    (\""subsystem\"" => \""singleton\""),
    (\""singleton-policy\"" => \""foo\""),
    (\""election-policy\"" => \""simple\"")
]' as it is already registered in context 'global' at location(s) '[[
    (\""subsystem\"" => \""singleton\""),
    (\""singleton-policy\"" => \""foo\""),
    (\""election-policy\"" => \""random\"")
]]'"",
    ""rolled-back"" => true
}
{noformat}",2017/07/20 1:15 PM
WFLY-8768,"Test instructions: 

{noformat}
[rhusar@syrah wildfly-11.0.0.Beta1-SNAPSHOT]$ ./bin/jboss-cli.sh -c
[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration:write-attribute(name=excluded-contexts,value=""default-host:/clusterbench""
{""outcome"" => ""success""}
[standalone@localhost:9990 /] :reload
{
    ""outcome"" => ""success"",
    ""result"" => undefined
}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-proxies-info
{
    ""outcome"" => ""success"",
    ""result"" => [
        ""localhost:9090"",
        ""Node: [1],Name: node1,Balancer: mycluster,LBGroup: ,Host: 127.0.0.1,Port: 8009,Type: ajp,Flushpackets: Off,Flushwait: 10,Ping: 10,Smax: 26,Ttl: 60,Elected: 0,Read: 0,Transfered: 0,Connected: 0,Load: 73
Vhost: [1:1:1], Alias: localhost
Vhost: [1:1:2], Alias: default-host
Context: [1:1:1], Context: /wildfly-services, Status: ENABLED
Context: [1:1:2], Context: /clusterbench-passivating, Status: ENABLED
Context: [1:1:3], Context: /tmp, Status: ENABLED
Context: [1:1:4], Context: /, Status: ENABLED
Context: [1:1:5], Context: /clusterbench, Status: ENABLED
""
    ]
}
[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration:write-attribute(name=excluded-contexts,value=""default-host:clusterbench""
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
[standalone@localhost:9990 /] :reload
{
    ""outcome"" => ""success"",
    ""result"" => undefined
}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-proxies-info
{
    ""outcome"" => ""success"",
    ""result"" => [
        ""localhost:9090"",
        ""Node: [1],Name: node1,Balancer: mycluster,LBGroup: ,Host: 127.0.0.1,Port: 8009,Type: ajp,Flushpackets: Off,Flushwait: 10,Ping: 10,Smax: 26,Ttl: 60,Elected: 0,Read: 0,Transfered: 0,Connected: 0,Load: 69
Vhost: [1:1:1], Alias: localhost
Vhost: [1:1:2], Alias: default-host
Context: [1:1:2], Context: /tmp, Status: ENABLED
Context: [1:1:3], Context: /clusterbench-passivating, Status: ENABLED
Context: [1:1:4], Context: /wildfly-services, Status: ENABLED
Context: [1:1:5], Context: /, Status: ENABLED
""
    ]
}
{noformat}",2017/05/15 9:49 AM
WFLY-9108,"The {{jdbc-job-repository}} should be registering the {{org.wildfly.batch.job.repository}} capability.

The {{in-memory-job-repository}} may not remove the capability correctly either.",2017/07/19 4:54 PM
WFLY-8863,"When running jdr.sh script with non-English locale, the script throws NullPointerException. Problem seems to be that the generate-jdr-output always uses English locale, but when parsing start-date and end-date, SimpleDateFormat uses system defined locales.

{code}
Initializing JBoss Diagnostic Reporter...
Trying to connect to http-remoting localhost:9990
Exception in thread ""main"" java.lang.NullPointerException
	at org.jboss.as.jdr.CommandLineMain.printJdrReportInfo(CommandLineMain.java:150)
	at org.jboss.as.jdr.CommandLineMain.main(CommandLineMain.java:144)
	at org.jboss.modules.Module.run(Module.java:344)
	at org.jboss.modules.Main.main(Main.java:519)
{code}

This is not issue when running generate-jdr-report() from CLI. Also easy to workaround by enforcing locale for the script run
{code}
LC_ALL=C $JBOSS_HOME/bin/jdr.sh
{code}",2017/05/31 10:36 AM
WFLY-9087,NoData,2017/07/14 10:31 AM
WFLY-8908,"The RealmIdentity.exists() method should be used to verify if a valid identity exists before an attempt to call other non-authentication methods - e.g. getAuthorizationIdentity() - is made.

The PicketBoxBasedIdentity implementation in the SecurityDomainContextRealm is erroneously returning true when in fact it should be checking if a valid Subject was established as part of a previous JAAS authentication.

The getAuthorizationIdentity() method can then simply throw an Exception if it is called without a valid JAAS Subject in place. Client code should check the result of the exists() method before attempting to get an AuthorizationIdentity so any code invoking getAuthorizationIdentity() without checking first if a valid identity exists should fail.
",2017/06/07 2:07 PM
WFLY-8688,"New Elytron tests in AS TS fail on Windows. Some of the issues could be caused by wrong path escaping in CLI commands.

https://ci.wildfly.org/viewLog.html?buildId=56770&buildTypeId=WF_PullRequest_Windows&tab=buildResultsDiv

List for [~okotek]:
org.wildfly.test.integration.elytron.ssl.UndertowSslSecurityDomainTestCase
org.wildfly.test.integration.elytron.ssl.UndertowTwoWaySslNeedClientAuthTestCase
org.wildfly.test.integration.elytron.ssl.UndertowTwoWaySslTestCase
",2017/05/03 5:03 AM
WFLY-8751,"There are intermittent failures of MDB20TopicTestCase#testEjb20TopicMDBs. It's very very rare and I cannot not reproduce it locally. Only in Jenkins CI environment.

Test randomly fails on:
{code}
    public void testEjb20TopicMDBs() {
         sendTextMessage(""Say hello to the topic"", topic);
         final Message replyA = receiveMessage(replyQueueA, TimeoutUtil.adjust(5000));
         Assert.assertNotNull(""Reply message was null on reply queue: "" + replyQueueA, replyA);
         final Message replyB = receiveMessage(replyQueueB, TimeoutUtil.adjust(5000));
         Assert.assertNotNull(""Reply message was null on reply queue: "" + replyQueueB, replyB);  <--- here is the failure
     }
{code}

Test is failling on:
{code}
&amp#27;[0m&amp#27;[31m15:12:58,493 SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-2-thread-1) Failed: org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20TopicTestCase.testEjb20TopicMDBs: java.lang.AssertionError: Reply message was null on reply queue: ActiveMQQueue[ejb2x/replyQueueB]
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.jboss.as.test.integration.ejb.mdb.ejb2x.MDB20TopicTestCase.testEjb20TopicMDBs(MDB20TopicTestCase.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
{code}",2017/05/11 7:59 AM
WFLY-8687,"New Elytron tests in AS TS fail on Windows. The issues are probably caused by wrong path escaping in CLI commands.

https://ci.wildfly.org/viewLog.html?buildId=56770&buildTypeId=WF_PullRequest_Windows&tab=buildResultsDiv

List for [~jtymel]:
org.wildfly.test.integration.elytron.audit.FileAuditLogTestCase
",2017/05/03 5:00 AM
WFLY-8824,NoData,2017/05/23 9:59 AM
WFLY-8781,"Otherwise, traditional RuntimeCapability usage is cumbersome.",2017/05/16 10:14 AM
WFLY-9148,NoData,2017/07/27 6:08 PM
WFLY-8905,NoData,2017/06/07 6:52 AM
WFLY-8844,"When following the steps to reproduce for JBEAP-10582, I configured ""ejb"" cache-container in standalone-ha.xml this way:
{code:xml}
<cache-container name=""ejb"" aliases=""sfsb"" default-cache=""passivation"" module=""org.wildfly.clustering.ejb.infinispan"">
    <local-cache name=""passivation"">
	<locking isolation=""REPEATABLE_READ""/>
	<transaction mode=""BATCH""/>
	<eviction strategy=""LRU"" max-entries=""100""/>
	<expiration max-idle=""30000""/>
	<file-store passivation=""true"" purge=""false""/>
    </local-cache>
</cache-container>
{code}

Then I started EAP (with ejb application deployed) and got this error message:
{code}
12:03:11,997 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named 'HelloBean' in deployment unit 'deployment ""server.jar""' are as follows:

        java:global/server/HelloBean!ejb.HelloBeanRemote
        java:app/server/HelloBean!ejb.HelloBeanRemote
        java:module/HelloBean!ejb.HelloBeanRemote
        java:jboss/exported/server/HelloBean!ejb.HelloBeanRemote
        java:global/server/HelloBean
        java:app/server/HelloBean
        java:module/HelloBean

12:03:12,089 INFO  [org.jboss.weld.Version] (MSC service thread 1-6) WELD-000900: 2.4.3 (redhat)
12:03:12,167 WARN  [org.wildfly.clustering.ejb.infinispan] (MSC service thread 1-5) WFLYCLEJBINF0010: Disabling expiration from org.wildfly.clustering.infinispan.default-cache-configuration.ejb.  SFSB expiration should be configured per 4.3.11 of the EJB specification.
12:03:12,167 WARN  [org.wildfly.clustering.ejb.infinispan] (MSC service thread 1-5) WFLYCLEJBINF0009: Disabling eviction from org.wildfly.clustering.infinispan.default-cache-configuration.ejb.  SFSB passivation should be configured via the associated EJB subsytem passivation-store.
12:03:12,325 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started client-mappings cache from ejb container
12:03:12,374 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 68) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache.ejb.server.jar: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache.ejb.server.jar: org.infinispan.commons.CacheConfigurationException: Unknown eviction strategy MANUAL
        at org.wildfly.clustering.service.FunctionalValueService.start(FunctionalValueService.java:70)
        at org.wildfly.clustering.service.AsynchronousServiceBuilder.lambda$start$0(AsynchronousServiceBuilder.java:99)
        at org.wildfly.clustering.service.AsynchronousServiceBuilder$$Lambda$578/785687163.run(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
        at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: org.infinispan.commons.CacheConfigurationException: Unknown eviction strategy MANUAL
        at org.infinispan.factories.DataContainerFactory.construct(DataContainerFactory.java:74)
        at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:297)
        at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:156)
        at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)
        at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:71)
        at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:787)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:219)
        at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:193)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:171)
        at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:300)
        at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:156)
        at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)
        at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:71)
        at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:787)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:219)
        at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:193)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:171)
        at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:300)
        at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:156)
        at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)
        at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:71)
        at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:787)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:219)
        at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:193)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:171)
        at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:300)
        at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:156)
        at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)
        at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:71)
        at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:787)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:219)
        at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:193)
        at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:171)
        at org.infinispan.factories.InternalCacheFactory.bootstrap(InternalCacheFactory.java:132)
        at org.infinispan.factories.InternalCacheFactory.createAndWire(InternalCacheFactory.java:73)
        at org.infinispan.factories.InternalCacheFactory.createCache(InternalCacheFactory.java:56)
        at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:625)
        at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:585)
        at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:451)
        at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:108)
        at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:103)
        at org.wildfly.clustering.infinispan.spi.service.CacheBuilder.lambda$build$0(CacheBuilder.java:83)
        at org.wildfly.clustering.infinispan.spi.service.CacheBuilder$$Lambda$672/643844604.get(Unknown Source)
        at org.wildfly.clustering.service.SuppliedValueService.lambda$new$0(SuppliedValueService.java:42)
        at org.wildfly.clustering.service.SuppliedValueService$$Lambda$605/94666937.apply(Unknown Source)
        at org.wildfly.clustering.service.FunctionalValueService.start(FunctionalValueService.java:68)
        ... 6 more

12:03:12,592 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""server.jar"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache.ejb.server.jar"" => ""org.infinispan.commons.CacheConfigurationException: Unknown eviction strategy MANUAL
    Caused by: org.infinispan.commons.CacheConfigurationException: Unknown eviction strategy MANUAL""}}

{code}

I think this WARN message is important (and the fact that MANUAL eviction is then used which results in the above mentioned error):
{code}
12:03:12,167 WARN  [org.wildfly.clustering.ejb.infinispan] (MSC service thread 1-5) WFLYCLEJBINF0009: Disabling eviction from org.wildfly.clustering.infinispan.default-cache-configuration.ejb.  SFSB passivation should be configured via the associated EJB subsytem passivation-store.
{code}


",2017/05/25 10:40 AM
WFLY-9137,"Setup in SSL tests in {{ElytronRemoteOutboundConnectionTestCase}} fails with the following on IBM JDK:
{code}{
    ""outcome"" => ""failed"",
    ""failure-description"" => {""WFLYCTL0080: Failed services"" => {""org.wildfly.security.key-manager.ejb-remote-tests-server-key-manager"" => ""java.security.NoSuchAlgorithmException: SunX509 KeyManagerFactory not available
    Caused by: java.security.NoSuchAlgorithmException: SunX509 KeyManagerFactory not available""}},
    ""rolled-back"" => true
}{code}
The test runs with incorrect configuration then and therefore fails.",2017/07/26 2:27 AM
WFLY-8929,"If timers (here calendar timer) are running longer than scheduled, or the schedule/processing get stuck do to thread or cpu bottleneck, it is possible that the updates for persistence overlap.

The issue seems that the task(1) try to finish the timer and task(2) is about to start but see the concurrency.
The DB is updated with the 'old' next timeout, but the internal Timer instance will be updated with the next possible schedule due to a race condition between the two threads updating the object.",2017/06/13 8:23 AM
WFLY-8997,"The issue [WFLY-140|https://issues.jboss.org/browse/WFLY-140] introduced a change in behavior.

Before this change, the SecurityContextInterceptor would just invoke the push() method on SimpleSecurityManager and that method would internally create a new security context and authenticate the incoming principal if needed. In that implementation the presence of a RunAsIdentity would cause authentication part to be skipped.

With the changes in the above issue, the security context establishment and the authentication parts were separated and while push() still checks for a RunAsIdentity, the authenticate() implementation does not, which ends up triggering the authentication process even if a RunAsIdentity is available. There is another check in place to avoid authentication if a valid authenticated subject already exists and the security domains match but this should also be the case if the security domains do not match.
",2017/06/26 4:17 AM
WFLY-8887,"Introduced with JBEAP-11129, all three token types are affected: plain, digest, cipher.

First time the {{remove}} operation is attempted it results in
{noformat}
{
    ""outcome"" => ""failed"",
    ""rolled-back"" => true
}
{noformat}
and server logs this NPE:
{noformat}
07:43:56,549 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0403: Unexpected failure during execution of the following operation(s): [{
    ""address"" => [
        (""subsystem"" => ""jgroups""),
        (""stack"" => ""udp""),
        (""protocol"" => ""AUTH"")
    ],
    ""operation"" => ""remove"",
    ""operation-headers"" => {
        ""caller-type"" => ""user"",
        ""access-mechanism"" => ""NATIVE""
    }
}]: java.lang.NullPointerException
	at org.jboss.as.controller.AbstractOperationContext.getStepExecutionStatus(AbstractOperationContext.java:755)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:717)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:443)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1398)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:418)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}

The second time the operation is attempted, the result is still failure, but the cause is different:
{noformat}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.NullPointerException"",
    ""rolled-back"" => true
}
{noformat}
{noformat}
07:59:52,788 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (""remove"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""stack"" => ""udp""),
    (""protocol"" => ""AUTH"")
]): java.lang.NullPointerException
	at org.jboss.as.controller.AbstractRemoveStepHandler.performRemove(AbstractRemoveStepHandler.java:123)
	at org.jboss.as.clustering.controller.RemoveStepHandler.performRemove(RemoveStepHandler.java:103)
	at org.jboss.as.controller.AbstractRemoveStepHandler.execute(AbstractRemoveStepHandler.java:70)
	at org.jboss.as.clustering.controller.RestartParentResourceRemoveStepHandler.execute(RestartParentResourceRemoveStepHandler.java:49)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:973)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:719)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:443)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1398)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:418)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{noformat}",2017/06/03 9:51 AM
WFLY-8752,"The legacy SSL configuration resource, {{/subsystem=modcluster/mod-cluster-config=configuration/ssl=configuration}}, should be deprecated in favor of ssl-context="".."" elytron reference.",2017/05/11 1:36 PM
WFLY-9165,"TransactionScopedJMSContextTestCase fails with security manager

{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.wildfly.security.permission.ElytronPermission"" ""getSecurityDomain"")"" in code source ""(vfs:/content/TransactionScopedJMSContextTestCase.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.TransactionScopedJMSContextTestCase.jar"" from Service Module Loader"")
        at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
        at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
        at org.wildfly.security.auth.server.SecurityDomain.getCurrent(SecurityDomain.java:160)
        at org.jboss.as.ee.concurrent.service.ElytronManagedThreadFactory.createThread(ElytronManagedThreadFactory.java:48)
        at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl.newThread(ManagedThreadFactoryImpl.java:127)
        at org.jboss.as.test.integration.messaging.jms.context.transactionscoped.auxiliary.ThreadLauncher.start(ThreadLauncher.java:56)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:497)
        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:135)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:59)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
        ... 180 more
...
{code}",2017/08/02 10:53 AM
WFLY-9156,"When trying to create new JGroups stack with TCP Ping protocol I'm getting 
{code:java}
14:22:26,273 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 3) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""stack"" => ""tcp""),
    (""protocol"" => ""org.jgroups.protocols.TCPPING"")
]): java.lang.AssertionError
	at org.jboss.as.controller.access.permission.ManagementPermissionAuthorizer.authorize(ManagementPermissionAuthorizer.java:87) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.access.management.DelegatingConfigurableAuthorizer.authorize(DelegatingConfigurableAuthorizer.java:99) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.OperationContextImpl.getBasicAuthorizationResponse(OperationContextImpl.java:1857) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1755) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1714) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.OperationContextImpl.getResourceRegistration(OperationContextImpl.java:576) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition$LegacyAddOperationTransformation.lambda$apply$4(ProtocolResourceDefinition.java:167)
	at org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition$LegacyAddOperationTransformation$$Lambda$406/1671848754.execute(Unknown Source)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:978) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:724) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:448) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1402) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:418) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.ModelControllerImpl$$Lambda$837/10055559.run(Unknown Source)
	at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$838/1709655008.run(Unknown Source)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263) [wildfly-elytron-1.1.0.Beta52-redhat-1.jar:1.1.0.Beta52-redhat-1]
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229) [wildfly-elytron-1.1.0.Beta52-redhat-1.jar:1.1.0.Beta52-redhat-1]
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$891/383261803.run(Unknown Source)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287) [wildfly-elytron-1.1.0.Beta52-redhat-1.jar:1.1.0.Beta52-redhat-1]
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244) [wildfly-elytron-1.1.0.Beta52-redhat-1.jar:1.1.0.Beta52-redhat-1]
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157) [wildfly-controller-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70) [wildfly-protocol-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160) [wildfly-protocol-3.0.0.Beta26-redhat-1.jar:3.0.0.Beta26-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_05]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_05]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_05]
	at org.jboss.threads.JBossThread.run(JBossThread.java:320) [jboss-threads-2.2.1.Final-redhat-1.jar:2.2.1.Final-redhat-1]
{code}
",2017/08/01 12:02 PM
WFLY-8896,NoData,2017/06/05 5:11 PM
WFLY-9205,"Callers to the API can call supports* and exists, the return value of supports* should not be dependent on the return value of exists as the caller may be checking if it is worth calling create.
",2017/08/07 1:00 PM
WFLY-8906,"Most infinispan services are configured to start passively, for a couple reasons:
1. Infinispan requires its cache container to start when the associated JGroups channel is started.
2. Cache configurations should be installed when the cache container starts, so that calls to EmbeddedCacheManager.getCache(...) use the correct configuration.

There's not much we can do about #1, except maybe to allow non-clustered cache containers (i.e. those without a transport) to start on-demand, instead of passively.  This is a little tricky currently, since the transport is a separate resource from the cache container, and is typically installed afterwards.
#2 isn't needed anymore, since applications can depend on a specific cache configuration via jndi resource references.

Therefore, cache configuration services (and the individual configuration components services) should start as on-demand.  Additionally, many of these services reference a full ConfigurationBuilder object, which is pretty hefty, for the entire lifetime of the service (regardless of state).  These can be optimized to create the requisite builders only when the corresponding service is started.  This should help reduce WF's startup memory footprint, as cache configurations do not need to be installed on startup.",2017/06/07 8:32 AM
WFLY-8893,"Add tests for:
* test whether access with wrong password is logged
* test whether access with empty password is logged

Remove test {{testAuthWithEmptyName}} since it is unsupported case - see JBEAP-10997.",2017/06/05 7:54 AM
WFLY-9238,NoData,2017/08/17 12:38 PM
WFLY-9159,"In default configuration, Undertow default servlet container in EAP will not propagate stack traces on errors out of local environment. Therefore, when testsuite is ran with {{node0}} bound to non-loopback address, {{org.jboss.as.test.integration.ejb.securityAuthenticationTestCase}} fails since it expects the stack trace from servlet to be propagated:

{code:title=[mjurc@tigris basic]$ mvn clean test -Dtest=org.jboss.as.test.integration.ejb.security.AuthenticationTestCase -Delytron -Dnode0=10.40.5.81}-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jboss.as.test.integration.ejb.security.AuthenticationTestCase
Tests run: 19, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.582 sec <<< FAILURE! - in org.jboss.as.test.integration.ejb.security.AuthenticationTestCase
testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet(org.jboss.as.test.integration.ejb.security.AuthenticationTestCase)  Time elapsed: 0.07 sec  <<< FAILURE!
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.jboss.as.test.integration.ejb.security.AuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet(AuthenticationTestCase.java:258)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:374)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:367)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:319)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:312)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:426)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)


Results :

Failed tests: 
  AuthenticationTestCase.testAuthentication_TwoBeans_ReAuth__BadPwd_ViaServlet:258 null

Tests run: 19, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
{code}",2017/08/02 6:39 AM
WFLY-9223,"The current state (taken from standalone-ha.xml):

{code:xml}
            <cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
...
                <!-- Alternate configuration to reduce lock contention for applications that make use of concurrent access to a web session -->
                <!-- Web sessions will be locked more frequently, but for shorter periods of time -->
                <!--
                  ~ distributed-cache name=""concurrent"">
                  ~                     <file-store/>
                  ~                 </distributed-cache
                  -->
            </cache-container>
{code}

After uncommenting, the resulting text is not a valid xml file. 

Please change it to: 
{code:xml}
            <cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
...
                <!-- Alternate configuration to reduce lock contention for applications that make use of concurrent access to a web session -->
                <!-- Web sessions will be locked more frequently, but for shorter periods of time -->       
                <!-- 
                <distributed-cache name=""concurrent"">
                    <file-store/>
                </distributed-cache>
                -->
            </cache-container>
{code}
 ",2017/08/14 11:44 AM
WFLY-9082,Unignore {{org.jboss.as.test.integration.security.aselytron.SecurityDomainAsElytronSecurityRealmTestCase.testAssignRoleFromMappingModule}} in AS TS.,2017/07/13 12:59 AM
WFLY-9026,"[4:20 PM] Radoslav Husar: Also, the mgmt operation result doesn't provide the resulting status of stopping, i.e. if draining was complete
[4:20 PM] Radoslav Husar:
    [4:20 PM] Radoslav Husar:
    [standalone@localhost:9990 /] /subsystem=modcluster:stop(waittime=10
    {""outcome"" => ""success""}
[4:21 PM] Radoslav Husar:
    16:19:20,809 INFO  [org.jboss.modcluster] (management-handler-thread - 3) MODCLUSTER000046: Starting to drain 1 active sessions from default-host:/clusterbench in 10 seconds.
    16:19:30,814 WARN  [org.jboss.modcluster] (management-handler-thread - 3) MODCLUSTER000025: Failed to drain 1 remaining active sessions from default-host:/clusterbench within 10.0 seconds",2017/06/29 6:33 AM
WFLY-8679,"Currently, the WFLYTX0034: relative_to property of the object-store is set to the default value with jboss.server.data.dir message is logged as WARN. As the result of this is generally harmless, the logging level should be reduced to INFO or DEBUG.",2017/05/02 6:34 AM
WFLY-8808,"When setting up AUTH protocol and starting two servers, they fail to establish a view, because they never authenticate to each other:

Server 1:
{noformat}
12:21:59,348 WARN  [org.jgroups.protocols.AUTH] (thread-2) rjanik: failed to validate AuthHeader (token: SimpleToken) from node2; dropping message
{noformat}

Server 2:
{noformat}
12:23:17,370 WARN  [org.jgroups.protocols.AUTH] (thread-1) node2: failed to validate AuthHeader (token: SimpleToken) from node2; dropping message
12:23:17,371 WARN  [org.jgroups.protocols.AUTH] (thread-1) node2: failed to validate AuthHeader (token: SimpleToken) from node2; dropping message
12:23:17,372 WARN  [org.jgroups.protocols.AUTH] (thread-2) node2: failed to validate AuthHeader (token: SimpleToken) from rjanik; dropping message
12:23:22,370 WARN  [org.jgroups.protocols.pbcast.GMS] (MergeTask,ee,node2) node2: merge is cancelled: did not get any merge responses from partition coordinators
{noformat}

{{AUTH}} does not set up the {{auth_value}} field for the SimpleToken and MD5Token when creating them and it looks like {{setAuthToken}} is not called later. Those tokens then fail when authenticating, referencing the {{auth_value}} field.

AUTH:
{code:java}
    public void setAuthClass(String class_name) throws Exception {
        Object obj=Class.forName(class_name).newInstance();
        auth_token=(AuthToken)obj;
        auth_token.setAuth(this);
    }
{code}

MD5Token:
{code:java}
            return (this.auth_value != null) && (serverToken.auth_value != null)
              && (this.auth_value.equalsIgnoreCase(serverToken.auth_value));
{code}",2017/05/19 8:25 AM
WFLY-8710,"Setting expiration for cache-container ejb, does not trigger the @PreDestroy method.
Request to remove the expiration configuration for internal ISPN we should have at least a WARN message that expiration for SFSB is not working.


",2017/05/05 5:21 PM
WFLY-9248,"licenses.xml contains:
{code}
    <dependency>
      <groupId>org.jboss</groupId>
      <artifactId>jboss-ejb-client-legacy</artifactId>
      <version>3.0.0.Beta7-redhat-1</version>
      <licenses>
        <license>
          <name>Public Domain</name>
          <url>http://repository.jboss.org/licenses/cc0-1.0.txt</url>
          <distribution>repo</distribution>
        </license>
      </licenses>
    </dependency>
{code}

However, the POM and source files contain {{GNU Lesser General Public License}}.",2017/08/21 8:37 PM
WFLY-8681,"Calling 
{noformat}
/subsystem=undertow/configuration=handler/file=my-testing-handler:add(path=""/some/path"")
{noformat}
results in this failure description, which just prints the provided path. 
{noformat}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""/some/path"",
    ""rolled-back"" => true
}
{noformat}

The failure description should be enhanced to include information what it doesn't like about the path => e.g the path {""/some/path""} doesn't exist on file system",2017/05/02 12:34 PM
WFLY-9184,"

{code}
Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed:
   JBOSS-LOCAL-USER: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local4252553253196379397.challenge"" ""read"")"" in code source ""(vfs:/content/one.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.one.war"" from Service Module Loader"")
        at org.jboss.remoting3.remote.ClientConnectionOpenListener.allMechanismsFailed(ClientConnectionOpenListener.java:109)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:440)
        at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:571)
        at ...asynchronous invocation...(Unknown Source)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:542)
        at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:508)
        at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:83)
        at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:56)
        at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:459)
        at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:405)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.lambda$new$0(SingleRemoteNamingProvider.java:82)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.getFuturePeerIdentity(SingleRemoteNamingProvider.java:117)
        at org.wildfly.naming.client.remote.SingleRemoteNamingProvider.getPeerIdentity(SingleRemoteNamingProvider.java:106)
        at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:65)
        ... 52 more
        Suppressed: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/hsvabek/securityworkspace/VERIFICATION/2017_08_02_BEAP-7584/jboss-eap-7.1.0.ER3-src/testsuite/integration/basic/target/jbossas/standalone/tmp/auth/local4252553253196379397.challenge"" ""read"")"" in code source ""(vfs:/content/one.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.one.war"" from Service Module Loader"")
                at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:278)
                at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:175)
                at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
                at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:350)
                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:127)
                at org.wildfly.security.sasl.localuser.LocalUserClient.evaluateMessage(LocalUserClient.java:93)
                at org.wildfly.security.sasl.util.AbstractSaslParticipant.evaluateMessage(AbstractSaslParticipant.java:180)
                at org.wildfly.security.sasl.util.AbstractSaslClient.evaluateChallenge(AbstractSaslClient.java:59)
                at org.wildfly.security.sasl.util.AbstractDelegatingSaslClient.evaluateChallenge(AbstractDelegatingSaslClient.java:54)
                at org.wildfly.security.sasl.util.PrivilegedSaslClient.lambda$evaluateChallenge$0(PrivilegedSaslClient.java:55)
                at java.security.AccessController.doPrivileged(Native Method)
                at org.wildfly.security.sasl.util.PrivilegedSaslClient.evaluateChallenge(PrivilegedSaslClient.java:55)
                at org.jboss.remoting3.remote.ClientConnectionOpenListener$Authentication.lambda$handleEvent$0(ClientConnectionOpenListener.java:644)
                at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:898)
                ... 3 more
{code}",2017/08/04 4:24 AM
WFLY-9376,"org.jboss.as.test.integration.web.security.tg.TransportGuaranteeTestCase successful execution depends on presence of application.keystore file in standalone configuration directory. There is a task defined in pom.xml named {{ts.integ.web.copy-keystores}} which should copy the required resources from target file of shared module. Since the web module doesn't depend on shared module, there is no way one can guarantee that target directory of the shared module will exist - it does not in our automation.

The test could pass in case that org.jboss.as.test.integration.web.handlers.RequestDumpingHandlerTestCase is run prior it (this test seem to generate an own application.keystore).


*reproduce*
{noformat}
cd testsuite/integration/web
rm -rf ../../shared/target/
mvn clean test -Dtest=TransportGuaranteeTestCase

Results :

Tests in error: 
  TransportGuaranteeTestCase.testTransportGuaranteedAnnotation:221->performRequestsAndCheck:235->checkGetURL:189 
  TransportGuaranteeTestCase.testTransportGuaranteedDD:226->performRequestsAndCheck:235->checkGetURL:189 
  TransportGuaranteeTestCase.testTransportGuaranteedMixed:231->performRequestsAndCheck:235->checkGetURL:189 

Tests run: 3, Failures: 0, Errors: 3, Skipped: 0
{noformat}",2017/09/25 8:58 AM
WFLY-9285,"IONA interoperability worked on JacORB, we would like the same functionality to be added to OpenJDK ORB.",2017/08/31 4:36 PM
WFLY-9130,"This is looks like an issue with EJB client failing to retry the EJB lookup on EJBComponentUnavailableException.

e.g.
https://ci.wildfly.org/viewLog.html?buildId=67940&tab=buildResultsDiv&buildTypeId=WF_MasterIgnoreLinux",2017/07/25 12:30 PM
WFLY-9095,"The {{pom.xml}} in manualmode module contains in its surefire plugin configuration part: 

{code:xml}
<includes>
	<include>org/jboss/as/test/manualmode/**/*TestCase.java</include>
</includes>
<runOrder>alphabetical</runOrder>
{code}

These config items should be removed
* the includes set defined here isn't complete
* test run order should not be predefined..",2017/07/18 12:29 PM
WFLY-9296,"The testcase org.jboss.as.test.integration.jaxrs.cfg.mapping.MultipleMappingTestCase was meant to test fix for JBPAPP6-1505. 

Because the issue was rejected in RESTEASY-689. The testcase should be removed, the tests fail and are ignored anyway.",2017/09/05 9:36 AM
WFLY-8841,Update relevant tests in wildfly '...integration/web/security testsuite...' so they are able to run with Elytron too when '-Delytron' property is set. This is a followup of the JBEAP-10214.,2017/05/25 1:12 AM
WFLY-9373,"We see some new testsuite failures of org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase with 7.1.0.CR2 bits. This however doesn't look like the functional issue as the tests pass if run as a single test. 

The test fails during the setup phase with missing management resource:
{noformat}
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""subsystem\"" => \""undertow\""),
    (\""server\"" => \""default-server\""),
    (\""https-listener\"" => \""https\"")
]' not found"",
{noformat}

I expect that some other test run prior this one cause this.  Note that we no longer run the manualmode tests in alphabetic order (JBEAP-12192), that may be the answer why we didn't see this failure before.

I'll look more into this and try to find the culprit. 

Failing tests:
{noformat}
 org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.testStatefulBeanAsync 
 org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.testStatefulBean 
 org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.testStatelessBeanAsync 
 org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.testStatelessBean
 org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase
{noformat}",2017/09/22 3:55 AM
WFLY-9311,"If a default cache is not defined on security cache container, cache configuration named 'auth-cache' should be used (based on [1]). However the created cache has default values instead of ones specified on the auth-cache.

[1] https://issues.jboss.org/browse/WFLY-9206",2017/09/07 1:30 PM
WFLY-9363,"{{org.jboss.as.test.clustering.extended.ejb2}} package.

These tests have been consistently failing with the EJB client upgrade. Having them not executed within CI runs deems these tests to be consistently broken.

https://ci.wildfly.org/viewLog.html?buildId=74894&tab=buildResultsDiv&buildTypeId=WF_MasterLinuxExtendedClustering",2017/09/19 11:12 AM
WFLY-10661,"response.sendRedirect unlocks the session.  So attempting session.invalidate after any sendRedirect throws an IllegalMonitorStateException when it attempts to unlock it again:
{code}
16:35:11,267 INFO  [stdout] (default task-1) --------------------------->StampedLock.unlock java.util.concurrent.locks.StampedLock@2a03fe4a[Unlocked] 257
16:35:11,267 INFO  [stdout] (default task-1) java.util.concurrent.locks.StampedLock.unlock(StampedLock.java:603)
16:35:11,267 INFO  [stdout] (default task-1) org.wildfly.clustering.web.undertow.session.DistributableSessionManager.lambda$getSessionCloseTask$1(DistributableSessionManager.java:103)
16:35:11,267 INFO  [stdout] (default task-1) org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:96)
16:35:11,267 INFO  [stdout] (default task-1) io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:860)
16:35:11,267 INFO  [stdout] (default task-1) io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:572)
16:35:11,267 INFO  [stdout] (default task-1) io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:203)
16:35:11,267 INFO  [stdout] (default task-1) org.apache.jsp.hi_jsp._jspService(hi_jsp.java:136)
...
Caused by: java.lang.IllegalMonitorStateException
	at java.util.concurrent.locks.StampedLock.unlock(StampedLock.java:609)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.lambda$getSessionCloseTask$1(DistributableSessionManager.java:103)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:218)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:198)
	at org.apache.jsp.hi_jsp._jspService(hi_jsp.java:137)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
{code}",2018/07/02 4:50 PM
WFLY-9348,The port is optional and defaults to 0; since it's never used in these 2 bindings it should be removed from the default configuration. ,2017/09/15 5:05 AM
WFLY-10640,"Download oracle jdbc driver at http://www.oracle.com/technetwork/database/features/jdbc/jdbc-ucp-122-3110062.html

Install the driver as a module and add the JDBC driver:
{code:bash}
module add --name=com.oracle.jdbc --resources=/opt/Downloads/ojdbc8.jar --dependencies=[javax.api, javax.transaction.api]

/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle, driver-module-name=com.oracle.jdbc, driver-datasource-class-name=oracle.jdbc.datasource.OracleDataSource, driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource, driver-class-name=oracle.jdbc.OracleDriver)
{code}

It should fail because the configuraiton:

{code:java}
driver-datasource-class-name=oracle.jdbc.datasource.OracleDataSource
{code}
is wrong, +oracle.jdbc.datasource.OracleDataSource+ is an interface, not a concrete class.


It should be the same for the data-source creation when specifying the datasource-class.
",2018/06/26 1:48 AM
WFLY-11241,"{noformat}
java.lang.AssertionError: expected null, but was:<R40kShrSMeGxwf6nVClIZKuZsHoviRm3cv0TLA6f=node-2>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotNull(Assert.java:755)
	at org.junit.Assert.assertNull(Assert.java:737)
	at org.junit.Assert.assertNull(Assert.java:747)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testFailover(AbstractWebFailoverTestCase.java:163)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testGracefulSimpleFailover(AbstractWebFailoverTestCase.java:92)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.test(AbstractWebFailoverTestCase.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

{noformat}

~~Started to fail intermittently again after 19 Oct, which seems to correlate with Infinispan 9.4.0.Final upgrade on 17 Oct.~~

{code}
07:17:11,909 INFO  [io.undertow.servlet] (default task-1) /CoarseWebFailoverTestCase/simple, value = 3
07:17:12,491 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t2) [Context=CoarseWebFailoverTestCase.war] ISPN100009: Advancing to rebalance phase READ_NEW_WRITE_ALL, topology id 33
07:17:12,503 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (remote-thread--p6-t3) ISPN000136: Error executing command LockControlCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt) in behalf of transaction GlobalTx:node-3:24. Current owner GlobalTx:node-2:30.
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:252)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitOn(DefaultPendingLockManager.java:337)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForAllKeys(DefaultPendingLockManager.java:137)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:153)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:122)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.localLockCommandWork(PessimisticLockingInterceptor.java:208)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lambda$new$0(PessimisticLockingInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:191)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.interceptors.impl.TxInterceptor.visitLockControlCommand(TxInterceptor.java:223)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.BaseAsyncInterceptor.lambda$new$0(BaseAsyncInterceptor.java:22)
	at org.infinispan.interceptors.InvocationSuccessFunction.apply(InvocationSuccessFunction.java:25)
	at org.infinispan.interceptors.impl.SimpleAsyncInvocationStage.addCallback(SimpleAsyncInvocationStage.java:70)
	at org.infinispan.interceptors.InvocationStage.thenApply(InvocationStage.java:45)
	at org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:224)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:90)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitLockControlCommand(DDAsyncInterceptor.java:160)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invokeAsync(AsyncInterceptorChainImpl.java:234)
	at org.infinispan.commands.control.LockControlCommand.invokeAsync(LockControlCommand.java:126)
	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokeCommand(BasePerCacheInboundInvocationHandler.java:95)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.invoke(BaseBlockingRunnable.java:99)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.runAsync(BaseBlockingRunnable.java:71)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

07:17:12,511 WARN  [org.infinispan.remoting.inboundhandler.NonTotalOrderTxPerCacheInboundInvocationHandler] (remote-thread--p6-t3) ISPN000071: Caught exception when handling command LockControlCommand{cache=CoarseWebFailoverTestCase.war, keys=[SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt)], flags=[ZERO_LOCK_ACQUISITION_TIMEOUT, FORCE_WRITE_LOCK], unlock=false, gtx=GlobalTx:node-3:24}: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt) in behalf of transaction GlobalTx:node-3:24. Current owner GlobalTx:node-2:30.
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:252)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitOn(DefaultPendingLockManager.java:337)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForAllKeys(DefaultPendingLockManager.java:137)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:153)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:122)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.localLockCommandWork(PessimisticLockingInterceptor.java:208)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lambda$new$0(PessimisticLockingInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:191)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.interceptors.impl.TxInterceptor.visitLockControlCommand(TxInterceptor.java:223)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.BaseAsyncInterceptor.lambda$new$0(BaseAsyncInterceptor.java:22)
	at org.infinispan.interceptors.InvocationSuccessFunction.apply(InvocationSuccessFunction.java:25)
	at org.infinispan.interceptors.impl.SimpleAsyncInvocationStage.addCallback(SimpleAsyncInvocationStage.java:70)
	at org.infinispan.interceptors.InvocationStage.thenApply(InvocationStage.java:45)
	at org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:224)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:90)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitLockControlCommand(DDAsyncInterceptor.java:160)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invokeAsync(AsyncInterceptorChainImpl.java:234)
	at org.infinispan.commands.control.LockControlCommand.invokeAsync(LockControlCommand.java:126)
	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokeCommand(BasePerCacheInboundInvocationHandler.java:95)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.invoke(BaseBlockingRunnable.java:99)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.runAsync(BaseBlockingRunnable.java:71)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

07:17:13,090 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t3) [Context=CoarseWebFailoverTestCase.war] ISPN100010: Finished rebalance with members [node-3, node-2], topology id 34
07:17:14,298 INFO  [io.undertow.servlet] (default task-2) /CoarseWebFailoverTestCase/simple, value = 4
{code}

https://gist.github.com/rhusar/496f1c7c5a308db1901a81a4437b570e

https://ci.wildfly.org/viewLog.html?buildId=125879&tab=buildResultsDiv&buildTypeId=WF_PullRequest_Windows#testNameId6517845608855553882",2018/10/24 2:47 PM
WFLY-11279,"Prune some dependencies that analysis shows are not used by the dependent org.jboss.as.jpa:

org.jboss.jts 
org.jboss.jts.integration
org.jboss.as.clustering.common
org.jboss.as.connector
org.jboss.as.web-common
org.wildfly.clustering.service",2018/11/03 10:07 AM
WFLY-9469,"Assumes in SPNEGOLoginModuleTestCase doen's make sense.

AssumeKerberosAuthenticationSupported is called in @Before method. Same method is called in many test methods:

testIdentityPropagation
testFormFallback
testSimpleSpnegoWorkflow
testMoreMechTypesSpnegoWorkflow

assumeKerberosAuthenticationSupported method from KerberosTestUtils.java shouldn't contains assume for BZ1188632, because BZ1188632 is fixed (works correctly with new version of IBM JDK).",2017/10/24 6:28 AM
WFLY-9192,The method isn't an @LogMessage method and its return value is unused.,2017/08/05 11:07 AM
WFLY-9193,"Most likely the callers of these methods are neglecting to throw these exceptions.

[~pferraro] At a glance the problem is in SingleSignOnSessionFactoryBuilder",2017/08/05 12:08 PM
WFLY-9409,"there is a ""mappings"" runtime attribute on undertow subsystem at 
/host=master/server=server-one/deployment=batch-processing.war/subsystem=undertow/servlet=*:read-resource-description

It reports as a LIST of STRING
{code}
""mappings"" => {
    ""type"" => LIST,
    ""description"" => ""Servlet mappings"",
    ""expressions-allowed"" => false,
    ""required"" => false,
    ""nillable"" => true,
    ""min-length"" => 0L,
    ""max-length"" => 2147483647L,
    ""value-type"" => STRING,
    ""access-type"" => ""metric"",
    ""storage"" => ""runtime""
},
{code}

But the read-resource returns a INT
{code}
/host=master/server=server-one/deployment=helloworld.war/subsystem=undertow/servlet=*:read-resource(include-runtime)
{
    ""outcome"" => ""success"",
    ""result"" => [{
        ""address"" => [
            (""host"" => ""master""),
            (""server"" => ""server-one""),
            (""deployment"" => ""helloworld.war""),
            (""subsystem"" => ""undertow""),
            (""servlet"" => ""org.jboss.as.quickstarts.helloworld.HelloWorldServlet"")
        ],
        ""outcome"" => ""success"",
        ""result"" => {
            ""mappings"" => 0,
            ""max-request-time"" => 0,
            ""min-request-time"" => 0,
            ""request-count"" => 0,
            ""servlet-class"" => ""org.jboss.as.quickstarts.helloworld.HelloWorldServlet"",
            ""servlet-name"" => ""org.jboss.as.quickstarts.helloworld.HelloWorldServlet"",
            ""total-request-time"" => 0
        }
    }]
}
{code}",2017/10/02 2:04 PM
WFLY-9675,"With EAP7.1.0.GA, there has been added a validator for 'max-post-size' attribute for listeners in undertow subsystem. This validator requires positive integer values starting with value 1. That means, you cannot disable 'max-post-size' for such listener using 0 value anymore.

In EAP6.4 and EAP7.0, it was possible to disable 'max-post-size' check with 0 value. I understand that we might not want to allow user to set this to 0 value as it might be a potentional security risk. Still, maybe we should relax this restriction as it was possible to configure it that way in previous versions of EAP.

Also there is a [Knowledge Base article|https://access.redhat.com/solutions/714173] regarding to this feature, which we should update in case we won't reconsider our position.

Just for the record - quoting question from mailing list:
{quote}
Dear Experts,

Based on KCS, the ""max-post-size"" in ""http-listener"" from ""undertow"" subsystem can be disabled by setting ""0"" to it, it worked for EAP 6.x and 7.0 GA.

But in EAP 7.1.0 GA, it didn't work:
~~~
[standalone@localhost:9990 /] /subsystem=undertow/server=default-server/http-listener=default/:write-attribute(name=max-post-size,value=0)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0117: 0 is an invalid value for parameter max-post-size. A minimum value of 1 is required"",
    ""rolled-back"" => true
}
~~~

By comparing schemas:
~~~
jboss-eap-7.0/docs/schema/wildfly-undertow_x_x.xsd:
<xs:attribute name=""max-post-size"" type=""xs:long"" default=""0""/>
---
jboss-eap-7.1/docs/schema/wildfly-undertow_x_x.xsd:
<xs:attribute name=""max-post-size"" type=""xs:long"" default=""10485760""/>
~~~
The behaviour changed.

And I found WFLY-6437 and JBEAP-3974, but failed to open links inside those.

So can I ask if ""max-post-size"" can be disabled in EAP 7.1.0 GA and the reason if possible?


Best Regards,
Zhang Xu
{quote}",2018/01/15 9:09 PM
WFLY-9250,"{noformat}
[standalone@localhost:9990 /] /subsystem=naming/binding=""java:/hello"":add(binding-type=simple, value=hello)
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=naming/binding=""java:/hello"":rebind    
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.util.NoSuchElementException: No child 'binding-type' exists"",
    ""rolled-back"" => true
}
{noformat}

When I forget the {{binding-type}} parameter, the error message should be more informative.",2017/08/23 1:09 AM
WFLY-10347,"The JcaExtension.writeWorkManagers method is not ensuring that ordering of xml elements follows the xsd order. Persisters should follow the xsd as the ensures consistent output.

There are two issues:

1) The 'default-work-manager' element will only go first if the name of the first wm in the model is 'default'. If the one with that name is 2nd or later, the element will be below some 'work-manager' elements.

2) The short-running-threads element will only be before long-running-threads if the child resources happen to be ordered that way.  This one is easy to correct as the persister is using a for loop when it could simply be checking for the existence of the pool resources.

This kind of thing becomes more significant as we move to galleon for generating configs instead of hand coding them. The potential for resources getting added into the model in a different order than the xsd is higher.",2018/05/08 4:12 PM
WFLY-10368,The standalone-rts and standalone-xts example configs include the messaging-activemq subsystem so they should include the jms-connector-factory default-binding in the ee subsystem.,2018/05/14 8:06 PM
WFLY-10355,"The document we generate should follow the xsd.

Galleon will as the server persister marshals in xsd order, so basically fixing this just removes a diff between a galleon built dist and a legacy one.",2018/05/10 6:27 PM
WFLY-10356,"All the other configs include skip-group-loading=""true"" in the local auth config. The standalone-loadbalancer.xml not having is therefore probably wrong, plus it forces the galleon packs to try to match an incorrect legacy which adds unnecessary complexity.",2018/05/10 8:00 PM
WFLY-10331,"Correct the file to put the http-interface element attributes in xsd order and to remove the comment that can't be persisted.

Besides being correct this will eliminate a diff to the version galleon will create.",2018/05/06 7:56 PM
WFLY-10309,"The 'name=""master"" attribute should come after the xmlns as that is the way it will be persisted. It's also the way the Galleon build will generate it, as the Galleon build is based on xml persistence by the management layer.",2018/04/27 6:58 PM
WFLY-10526,AuthenticationTestCase in basic testsuite can be simply modified to require much smaller set of deployment permissions.,2018/06/07 7:15 AM
WFLY-10444,"The {{add-proxy}} operation validates that it can resolve the hostname at the time when its being added. However, this should be an aspect of a mod_cluster service as the whether DNS resolution is successful may change, especially in cloud environments.",2018/05/24 10:16 AM
WFLY-10921,"There are a number of files where 'umlns' is a typo for 'xmlns' in jboss-all.xml files or examples:

{code}
$ git grep umlns
docs/src/main/asciidoc/_admin-guide/subsystem-configuration/Batch_(JSR-352).adoc:<jboss umlns=""urn:jboss:1.0"">
docs/src/main/asciidoc/_admin-guide/subsystem-configuration/Batch_(JSR-352).adoc:<jboss umlns=""urn:jboss:1.0"">
docs/src/main/asciidoc/_developer-guide/Web_(Undertow)_Reference_Guide.adoc:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/defined-in-memory-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/named-in-memory-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/named-jdbc-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/dependencies/ear/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/dependencies/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/structure/war/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/weld/configuration/nonportablemode/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/weld/configuration/requirebeandescriptor/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/web/src/test/java/org/jboss/as/test/integration/web/sharedsession/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
{code}

The parser for jboss-all.xml will handle a root 'jboss' element either with no xmlns or xmlns=""urn:jboss:1.0"".  A document with this typo will fall under the 'no xmlns' category.  The parser ignores other attributes on the element, which is why the typo doesn't cause problems.",2018/08/24 10:57 AM
WFLY-11323,"testPermissions fails when run by itself even when theres no bug in the code. 

This test can be fixed by looking up the name before testActionWithPermission is called, as shown in the following pull request. 
https://github.com/wildfly/wildfly/pull/11833
Let me know if you want to discuss more.
",2018/11/09 7:55 PM
WFLY-11001,"There are a couple places in Undertow that are using core's SecurityRealmService class instead of its Service type, SecurityRealm.  Clean that up to help make it clear what code from core's domain-management code is API relied upon by subsystems.",2018/09/10 9:54 AM
WFLY-11405,"Analisys shows the following dependencies can be removed from org.jboss.as.ee module:

{code:java}
<module name=""javax.transaction.api""/>
<module name=""javax.xml.ws.api"" optional=""true""/>
{code}

* There are no direct dependencies to any class managed by those modules from wildfly-ee resource.
* Those modules are not exporting services that can be loaded by any other class.
* Although there are some {{getClassLoader().loadClass}} calls in some classes in wildfly-ee.jar, those {{loadClass}} calls are done using the Deployment Unit module class loader, where the removed modules are added by other deployment processors in previous phases. 

One motivation to create this issue is that, in general, be able to remove any unused dependency marked as optional=""true"" is good for Galleon, because we will be sure that the provision is correct without including those optional dependencies.",2018/11/22 9:51 AM
WFLY-10949,"Download oracle jdbc driver at http://www.oracle.com/technetwork/database/features/jdbc/jdbc-ucp-122-3110062.html

Install the driver as a module and add the JDBC driver:
{code:bash}
module add --name=com.oracle.jdbc --resources=/opt/Downloads/ojdbc8.jar --dependencies=[javax.api, javax.transaction.api]

/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle, driver-module-name=com.oracle.jdbc, driver-datasource-class-name=oracle.jdbc.pool.OracleDataSource,  driver-class-name=oracle.jdbc.OracleDriver)
{code}

Then the following command will fail:

{code:}
/subsystem=datasources:get-installed-driver(driver-name=oracle)
{code}

The fail message is like:

{code:java}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalArgumentException: newValue is null"",
    ""rolled-back"" => true
}

{code}",2018/08/29 10:05 PM
WFLY-10808,"The jboss-ejb-client.xml deployment descriptor file can be used to configure the pass semantics of the local EJB receiver using the local-receiver-pass-by-value attribute.

As per the EJB spec, the default behaviour should be to pass by value, and this is appropriately reflected in the jboss-ejb-client XSD.  As of Wildfly 11, the *omission* of the local-receiver-pass-by-value attribute in a jboss-ejb-client deployment descriptor actually results in remote EJB parameters and the return value being passed by reference as opposed to the documented default of being passed by value.

It appears that this bug is a result of changes made for WFLY-5403.  The root cause is that the EJBClientDescriptorMetaDataProcessor.java class only uses the pass-by-value receiver if the local-receiver-pass-by-value attribute is Boolean.TRUE (line 177 in 13.0.0.Final), but EJBClientDescriptor10Parser.java defaults the value to null if it is not included in the jboss-ejb-client.xml (line 132 in 13.0.0.Final).  The old and working behaviour was to fallback to the value configured at the ejb subsystem level if the jboss-ejb-client.xml excluded the attribute.",2018/08/07 4:54 PM
WFLY-8925,"{{outbound-socket-binding}} attribute in {{/subsystem=undertow/configuration=handler/reverse-proxy=my-rev-proxy/host=some-host}} is not marked as '{{required}}'. Please mark it as required as if {{outbound-socket-binding}} is not specified during 'add' operation, it fails with:
{code}
/subsystem=undertow/configuration=handler/reverse-proxy=my-rev-proxy/host=some-host:add()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {
        ""WFLYCTL0412: Required services that are not installed:"" => [""org.wildfly.network.outbound-socket-binding.undefined""],
        ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""org.wildfly.undertow.reverse-proxy.host.my-rev-proxy.some-host is missing [org.wildfly.network.outbound-socket-binding.undefined]""]
    },
    ""rolled-back"" => true
}
{code}
I suppose when this attribute is marked as required, more pleasant failure message is given.",2017/06/12 12:58 PM
WFLY-9071,"Current check that journal-file-size must be multiply of 512 is no longer valid and should be removed. Fixes for ARTEMIS-937 and JBEAP-9005 for setting sector size validates that it's configured properly and automatically rounds to nearest value.

Following CLI command should then pass:
{code}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default:write-attribute(name=journal-file-size,value=123456789)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYMSGAMQ0088: 123456789 is an invalid value for parameter journal-file-size, it should be multiple of 512"",
    ""rolled-back"" => true
}
{code}",2017/07/11 7:14 AM
WFLY-8847,"IBM java sends address in delegated kerberos ticket. ApacheDS includes this address into ticket and check that address with address of client (taken from connection). On some machines, these addresses doesn't match. 

Those are machines when there are several virtual IPs and if node0 is set to non-first IP address, ApacheDS address check fails.

See details in https://issues.apache.org/jira/browse/DIRSERVER-2156

{code}
[31m15:14:11,302 ERROR [io.undertow.request] (default task-32) UT005023: Exception handling request to /f1eb2aa6-5139-4bce-bad8-ad9a49d3912f/protected/PropagateIdentityServlet: javax.servlet.ServletException: Propagation failed.
	at org.jboss.eapqe.krbldap.eap.deployments.servlets.PropagateIdentityServlet.doGet(PropagateIdentityServlet.java:87)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(Thread.java:785)
Caused by: org.ietf.jgss.GSSException, major code: 11, minor code: 0
	major string: General failure, unspecified at GSSAPI level
	minor string: Error: java.lang.Exception: Error: com.ibm.security.krb5.KrbException, status code: 38
	message: Incorrect net address
	at com.ibm.security.jgss.i18n.I18NException.throwGSSException(I18NException.java:33)
	at com.ibm.security.jgss.mech.krb5.g.a(g.java:23)
	at com.ibm.security.jgss.mech.krb5.g.initSecContext(g.java:814)
	at com.ibm.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:337)
	at com.ibm.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:437)
	at org.jboss.eapqe.krbldap.utils.krb.GSSTestClient.getName(GSSTestClient.java:100)
	at org.jboss.eapqe.krbldap.eap.deployments.servlets.PropagateIdentityServlet.doGet(PropagateIdentityServlet.java:85)
	... 32 more
{code}",2017/05/26 3:48 AM
WFLY-8932,"test-connection-in-pool fails on a disabled datasource with:

{code:java}
 JBAS010442: failed to match pool. Check JndiName: java:jboss/datasources/MyExampleDS""
{code}

{code:java}
[standalone@localhost:9999 /] /subsystem=datasources/data-source=MyExampleDS:add(jndi-name=java:jboss/datasources/MyExampleDS, connection-url=\""jdbc:h2:mem:test2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\"", driver-name=h2, user-name=sa, password=sa, max-pool-size=10)
{""outcome"" => ""success""}
[standalone@localhost:9999 /] /subsystem=datasources/data-source=MyExampleDS:test-connection-in-pool()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""JBAS010440: failed to invoke operation: JBAS010442: failed to match pool. Check JndiName: java:jboss/datasources/MyExampleDS"",
    ""rolled-back"" => true
}
{code}

The error message should rather convey that an operation was attempted on a disabled datasource.

",2017/06/14 1:49 AM
WFLY-9086,This is allocated for every instance of SubsystemResourceDescriptionResolver,2017/07/14 8:39 AM
WFLY-9207,"There is a typo in description of the {{enable-http2}} attribute of the reverse-proxy host element:
{code}
/subsystem=undertow/configuration=handler/reverse-proxy=a/host=a:read-resource-description
[...snip...]
                ""description"" => ""If this is true then the proxy will attempt to use HTTP/2 to connect to the backend. If it is not supported it will fall back to HTTP/1.1/"",
[...snip...]
{code}
Forward slash at the end of the line should be removed.",2017/08/07 2:31 PM
WFLY-9094,"Minor changes in bin/appclient.sh and bin/jdr.sh:
* appclient:
** fix of HAS_OPENJDK variable name
** use || instead of -o as it is better defined
* jdr:
** used simplier syntax for if statement condition
** fix of assignment statement ""cygwin = true"" -> ""cygwin=true""",2017/07/18 3:17 AM
WFLY-10458,"Description of the {{max-pool-size}} attribute in the {{/subsystem=undertow/byte-buffer-pool}} contains:
{quote}
The maximum amount of buffers to keep in the pool. If more buffers are required at runtime they will be allocated dynamically. Setting this to zero effectively disables pooling. *This allows*
{quote}

There is a fraction of a new sentence at the end. It should be removed, though.",2018/05/25 11:39 AM
WFLY-9708,"Since WFLY-8815, the class WeldApplication extends ApplicationWrapper. The class ""ApplicationWrapper"" was created in JSF2.0, so when I try to build JSF1.2 modules (see https://developer.jboss.org/wiki/StepsToAddAnyNewJSFImplementationOrVersionToWildFly) and deploy a JSF1.2 application, I get this error:

_java.lang.NoClassDefFoundError: Failed to link org/jboss/as/jsf/injection/weld/WeldApplication (Module ""org.jboss.as.jsf-injection:mojarra-1.2_15"" from local module loader @3aa9e816 (finder: local module finder @17d99928 (roots: C:\Java\wildfly-11.0.0.Final.gts\modules,C:\Java\wildfly-11.0.0.Final.gts\modules\system\layers\base))): javax/faces/application/ApplicationWrapper_

If I change WeldApplication extends to ForwardingApplication and rebuild modules, the application runs OK.",2018/01/18 7:49 AM
WFLY-12631,"NPE at start.
 The root cause is that <module name=""sun.jdk""/> is missing from org.wildfly.clustering.service module.

Exception:
Caused by: java.lang.NullPointerException
at org.jgroups.protocols.dns.DNS_PING.destroy(DNS_PING.java:70)
at java.util.ArrayList.forEach(ArrayList.java:1257)
at org.jgroups.stack.ProtocolStack.destroy(ProtocolStack.java:876)
at org.jgroups.stack.ProtocolStack.initProtocolStack(ProtocolStack.java:867)
at org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:849)
at org.jgroups.JChannel.<init>(JChannel.java:155)
at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:116)
at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:96)

Hidden exception:
Failed instantiate InitialContextFactory com.sun.jndi.dns.DnsContextFactory from classloader ModuleClassLoader for Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base)) [Root exception is java.lang.ClassNotFoundException: com.sun.jndi.dns.DnsContextFactory from [Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base))]]",2019/10/03 7:52 AM
WFLY-13632,"Inspecting https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/CMResourceService.java#L73 we can see that it will overwrite the map in https://github.com/jbosstm/narayana/blob/48818111d12d2e51b52082a00bcb606040c36546/ArjunaJTA/jta/classes/com/arjuna/ats/jta/common/JTAEnvironmentBean.java#L1111 because it first get's a copy of a map (https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/CMResourceService.java#L63 -> https://github.com/jbosstm/narayana/blob/48818111d12d2e51b52082a00bcb606040c36546/ArjunaJTA/jta/classes/com/arjuna/ats/jta/common/JTAEnvironmentBean.java#L1089) so the maps won't be equal.

This will result in WildFly overwriting the list of resources that Narayana will treat as CMR.",2020/07/01 6:41 AM
WFLY-13878,My request at https://github.com/wildfly/wildfly/pull/12887#pullrequestreview-489146140 needs to be completed for WildFly 21.0.0.Final,2020/09/16 11:36 AM
WFLY-15041,"The following 17 [Jakarta EE TCK|https://github.com/eclipse-ee4j/jakartaee-tck/] tests failed starting 2021-07-10:

{code}
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/queue/selectorauto/complement/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/queue/selectorauto/override/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/queue/selectordups/complement/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/queue/selectordups/override/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/topic/selectordupsnondurable/complement/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/activationconfig/topic/selectordupsnondurable/override/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/dest/topic/fullpath/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/dest/topic/jarwar/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/dest/topic/onejar/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/dest/topic/twojars/Client.java#test1
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#getBeanTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#getContextDataTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#getMethodTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#getParametersTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#orderTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#sameInvocationContextTest
com/sun/ts/tests/ejb30/bb/mdb/interceptor/listener/descriptor/Client.java#setParametersTest
{code}

server.log stack trace:
{code:java}
2021-07-13 00:59:53,233 ERROR [org.apache.activemq.artemis.ra] (Thread-16 (ActiveMQ-client-global-threads)) AMQ154004: Failed to deliver message: java.lang.IllegalArgumentException: java.lang.ClassCastException@78c78448
	at sun.reflect.GeneratedMethodAccessor86.invoke(Unknown Source) [:1.8.0_191]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_191]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_191]
	at org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139)
	at org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73)
	at com.sun.ts.tests.ejb30.bb.mdb.activationconfig.queue.selectorauto.complement.ActivationConfigBean$$$endpoint3.onMessage(Unknown Source)
	at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:321) [artemis-ra-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1030) [artemis-core-client-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:49) [artemis-core-client-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1153) [artemis-core-client-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42) [artemis-commons-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31) [artemis-commons-2.16.0.jar:2.16.0]
	at org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:65) [artemis-commons-2.16.0.jar:2.16.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_191]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_191]
	at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [artemis-commons-2.16.0.jar:2.16.0]
{code}
",2021/07/20 6:21 PM
WFLY-13127,"I tried running the microprofile-tck/opentracing tests against a config that included the OpenAPI subsystem. It failed with an NPE:

{code}
2020-02-18 16:36:53,302 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /Users/bstansberry/dev/wildfly/wildfly/testsuite/integration/microprofile-tck/opentracing/target/wildfly/standalone/data/content/85/48e223eb8bfcd73f66458e14a0bbc425998a70/content
2020-02-18 16:36:53,313 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""opentracing.war"" (runtime-name: ""opentracing.war"")
2020-02-18 16:36:54,020 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment opentracing.war
2020-02-18 16:36:54,114 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-7) HV000001: Hibernate Validator 6.0.18.Final
2020-02-18 16:36:54,330 INFO  [org.jboss.weld.Version] (MSC service thread 1-8) WELD-000900: 3.1.3 (Final)
2020-02-18 16:36:54,576 INFO  [io.smallrye.metrics] (MSC service thread 1-5) MicroProfile: Metrics activated (SmallRye Metrics version: 2.4.0)
2020-02-18 16:36:54,992 WARN  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0101: Duplicate servlet mapping /rest/* found
2020-02-18 16:36:55,173 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service org.wildfly.undertow.host.default-server.default-host./openapi: org.jboss.msc.service.StartException in service org.wildfly.undertow.host.default-server.default-host./openapi: java.lang.NullPointerException
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.createResponseFromJaxRsMethod(OpenApiAnnotationScanner.java:934)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsMethod(OpenApiAnnotationScanner.java:688)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.lambda$processJaxRsResourceClass$0(OpenApiAnnotationScanner.java:422)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsResourceClass(OpenApiAnnotationScanner.java:420)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.scan(OpenApiAnnotationScanner.java:221)
	at io.smallrye.openapi.runtime.OpenApiProcessor.modelFromAnnotations(OpenApiProcessor.java:72)
	at org.wildfly.extension.microprofile.openapi.deployment.OpenAPIModelServiceConfigurator.get(OpenAPIModelServiceConfigurator.java:173)
	at org.wildfly.extension.microprofile.openapi.deployment.OpenAPIModelServiceConfigurator.get(OpenAPIModelServiceConfigurator.java:94)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
	... 8 more
{code}

I hit this when working on WFLY-13099. I was using a standalone.xml variant equivalent to what Galleon would generate using the cloud-server, h2-default-datasource, microprofile-fault-tolerance, microprofile-jwt and microprofile-openapi layers.  It wasn't a slimmed server though.

OpenApiAnnotationScanner L934 seems to assume 'schema' will not be null.  But the 'SchemaFactory.typeToSchema' method seems like it's written such that returning null is a possibility; e.g. L362 in the final 'else' block is doing a null check on the 'schema' var whose value is ultimately returned.  (I don't see how else the NPE would happen other than SchemaFactory.typeToSchema returning null.)
 
I put Critical severity on this because I don't know anything about opentracing.war; i.e. whether it's written in a way that would be a real corner case for OpenAPI. I'm being conservative and assigning a high priority.

[~ehugonne1@redhat.com] FYI.",2020/02/18 5:59 PM
WFLY-13810,NoData,2020/08/29 9:58 AM
WFLY-12718,"The issue is about replicated-cache in fail-over tests.
WildFly is started in clustered mode using a replicated cache for replicating HTTP session data across cluster nodes; all 4 nodes in the cluster are initialized with the following cli script:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/replicated-cache=testRepl:add()
/subsystem=infinispan/cache-container=web/replicated-cache=testRepl/component=locking:write-attribute(name=isolation, value=REPEATABLE_READ)
/subsystem=infinispan/cache-container=web/replicated-cache=testRepl/component=transaction:write-attribute(name=mode, value=BATCH)
/subsystem=infinispan/cache-container=web/replicated-cache=testRepl/store=file:add()
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=testRepl)
{noformat}


The test is run with wildfly-18.0.0.Final.zip;
The same tests run with version wildfly-17.0.1.Final.zip do not have any problem;
hence this looks like a regression;

As usual, we test that the serial value stored in the replicated cache is incremented at every call: when this is not true, we say we have a sampling error;

Here are the runs that exhibit this issue: 

- **22.82% Fail Rate with WildFly-18 ** [eap-7.x-clustering-http-session-shutdown-repl#23|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-repl/23/artifact/report/jm/html/index.html]
- **0% Fail Rate with WildFly-17 ** [eap-7.x-clustering-http-session-shutdown-repl#24|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-repl/24/artifact/report/jm/html/index.html]

We also repeated the tests to make sure it can be reproduced:
- **22.75% Fail rate with WildFly-18 ** [eap-7.x-clustering-http-session-shutdown-repl#26|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-repl/26/artifact/report/jm/html/index.html] 
- **0% Fail Rate with WildFly-17 ** [eap-7.x-clustering-http-session-shutdown-repl#25|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-repl/25/artifact/report/jm/html/index.html]",2019/10/28 2:18 PM
WFLY-13633,"https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/CMResourceService.java#L83 does not remove the JNDI name from the list of names that Narayana will treat as CMR resources as it is removed from a copy of the map: https://github.com/jbosstm/narayana/blob/48818111d12d2e51b52082a00bcb606040c36546/ArjunaJTA/jta/classes/com/arjuna/ats/jta/common/JTAEnvironmentBean.java#L1089

This means that if Narayana encounters another resource at a later time with the same JNDI name it will consider it is a CMR resource.",2020/07/01 6:44 AM
WFLY-12811,"I am playing a bit with MP specs (getting multiple specs to work together). I have been trying to return Health status based on injected config property (MP Config). However it looks like the property is not properly injected to the bean.

{code:java}
@Liveness
@ApplicationScoped
public class CDIBasedLivenessHealthCheck implements HealthCheck {

    @Inject
    @ConfigProperty(name = ""dummy_live"")
    private Provider<Boolean> live;

    @Override
    public HealthCheckResponse call() {
        return HealthCheckResponse.named(""dummy"")
                .state(live.get())
                .build();
    }
}
{code}

I am get following error:

{code:java}
15:41:04,616 ERROR [org.wildfly.extension.microprofile.health.smallrye] (management I/O-2) Error processing Health Checks: java.lang.NullPointerException
	at health.CDIBasedLivenessHealthCheck.call(CDIBasedLivenessHealthCheck.java:26)
	at health.CDIBasedLivenessHealthCheck$Proxy$_$$_WeldClientProxy.call(Unknown Source)
	at org.wildfly.extension.microprofile.health.HealthReporter.jsonObject(HealthReporter.java:120)
	at org.wildfly.extension.microprofile.health.HealthReporter.fillCheck(HealthReporter.java:107)
	at org.wildfly.extension.microprofile.health.HealthReporter.processChecks(HealthReporter.java:96)
	at org.wildfly.extension.microprofile.health.HealthReporter.getHealth(HealthReporter.java:79)
	at org.wildfly.extension.microprofile.health.HealthReporter.getHealth(HealthReporter.java:60)
	at org.wildfly.extension.microprofile.health.HealthContextService$HealthCheckHandler.handleRequest(HealthContextService.java:100)
	at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
	at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
	at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
	at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
	at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
	at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
	at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:672)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer2.acceptTask(QueuedNioTcpServer2.java:178)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}

I believe there is a bug in MP Health integration rather than in weld. After checks are registered here in [CDIExtension|https://github.com/wildfly/wildfly/blob/master/microprofile/health-smallrye/src/main/java/org/wildfly/extension/microprofile/health/deployment/CDIExtension.java#L93] I am able to call _check.call()_ and I get _UP_ as a result. However during HTTP call here in [HealthReporter|https://github.com/wildfly/wildfly/blob/master/microprofile/health-smallrye/src/main/java/org/wildfly/extension/microprofile/health/HealthReporter.java#L73] I get NPE.

I can inject a dummy bean. However if the dummy bean injects a config property, NPE is thrown. ",2019/11/20 11:25 AM
WFLY-12486,"There seems to be a memory leak when a deployment is redeployed multiple times (100 times in our test). This is very similar to what has been described in WFLY-10991. Also first commit this started to happen is [this one|https://github.com/wildfly/wildfly/commit/74170b5f49dd83f6b9ebd489f85e130df5521549] - JaegerTracing and Apache Thrift dependencies update. Thus I selected MP OpenTracing component for this issue.

Test and deployment is same as is described in WFLY-10991.

Size of the extra heap in use is about 27MB plus when compared to the initial size before multiple redeploy operations.

I've tried to check manually via [visualVM|https://visualvm.github.io/] tool. Screenshot with suspicious jaegertracing instances are attached - there are much more jaegertracing class instances with new version of Jager Tracing and Apache Thrift dependencies, which is suspicious.

Interesting thing is that when microprofile-opentracing-smallrye subsystem is removed via:
{code}
/subsystem=microprofile-opentracing-smallrye:remove()
{code}
the memory leak is still present. This is kind of confusing to me.",2019/09/04 8:48 AM
WFLY-12655,"Defining and securing 2 folders in a war with similar names given this Exception on deployment:
{code}
12:38:37,994 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""java-web-project.war"".jboss.security.jacc: org.jboss.msc.service.StartException in service jboss.deployment.unit.""java-web-project.war"".jboss.security.jacc: WFLYSEC0012: Unable to start the JaccService service
at org.jboss.as.security@18.0.0.Final//org.jboss.as.security.service.JaccService.start(JaccService.java:107)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalArgumentException: Invalid prefix pattern in URLPatternList
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.URLPatternSpec.setURLPatternArray(URLPatternSpec.java:308)
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.URLPatternSpec.<init>(URLPatternSpec.java:79)
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.WebResourcePermission.<init>(WebResourcePermission.java:160)
at org.wildfly.extension.undertow@18.0.0.Final//org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:303)
at org.wildfly.extension.undertow@18.0.0.Final//org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:64)
at org.jboss.as.security@18.0.0.Final//org.jboss.as.security.service.JaccService.start(JaccService.java:86)
... 8 more
{code}
This is the corresponding part of the web.xml:
{code}
<security-constraint>
  <web-resource-collection>
    <web-resource-name>Area</web-resource-name>
    <url-pattern>/area/*</url-pattern>
  </web-resource-collection>
  <auth-constraint>
    <role-name>role1</role-name>
    <role-name>role2</role-name>
  </auth-constraint>
  <user-data-constraint>
    <transport-guarantee>CONFIDENTIAL</transport-guarantee>
  </user-data-constraint>
</security-constraint>
<security-constraint>
  <web-resource-collection>
    <web-resource-name>Area 51</web-resource-name>
    <url-pattern>/area51/*</url-pattern>
  </web-resource-collection>
  <auth-constraint>
    <role-name>role1</role-name>
  </auth-constraint>
  <user-data-constraint>
    <transport-guarantee>CONFIDENTIAL</transport-guarantee>
  </user-data-constraint>
</security-constraint>
{code}
Looks like this only happens when the url-pattern starts with the same characters (eg /area/* and /area51/*).

The same war under WildFly 17.0.1 works as expected.
",2019/10/09 2:27 AM
WFLY-11918,"When trying to install keycloak-wildfly-subsystem described in [this guide|https://www.keycloak.org/docs/3.0/getting_started/topics/secure-jboss-app/install-client-adapter.html], the install fails because of:

{code:java}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: org.jboss.modules.ModuleLoadError: org.jboss.metadata"",
    ""rolled-back"" => true
}
{code}",2019/03/28 10:47 AM
WFLY-14606,"Running Wildfly 23 on a JRE (e.g. AdoptOpenJdk 11) results in
{quote}WFLYCTL0079: Failed initializing module org.jboss.as.transactions
 Caused by: java.util.concurrent.ExecutionException: org.jboss.modules.ModuleLoadError: jdk.jconsole
 *Caused by: org.jboss.modules.ModuleLoadError: jdk.jconsole*
{quote}
This ""jdk.jconsole"" module is only available in a JDK afaik and the dependency has been introduced in the following commit:
 [https://github.com/wildfly/wildfly/commit/d018ceb54d3cea3d37d15b55049afdc69f3b3695]

In the module ""org.jboss.jts"". But I could not see any code change requiring this module...

Update: same goes for org.javassist module which now depends on jdk.attach and jdk.jdi



Full stack trace:
{code:java}
04:21:45,839 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""parallel-extension-add"") failed - address: ([]): java.lang.RuntimeException: WFLYCTL0079: Failed initializing module org.jboss.as.transactions
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:115)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1040)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:779)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:468)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1415)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:503)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:515)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:477)
 at org.jboss.as.server@15.0.0.Final//org.jboss.as.server.ServerService.boot(ServerService.java:459)
 at org.jboss.as.server@15.0.0.Final//org.jboss.as.server.ServerService.boot(ServerService.java:412)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:416)
 at java.base/java.lang.Thread.run(Unknown Source)
Caused by: java.util.concurrent.ExecutionException: org.jboss.modules.ModuleLoadError: jdk.jconsole
 at java.base/java.util.concurrent.FutureTask.report(Unknown Source)
 at java.base/java.util.concurrent.FutureTask.get(Unknown Source)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:107)
 ... 11 more
Caused by: org.jboss.modules.ModuleLoadError: jdk.jconsole
 at org.jboss.modules.Module.addPaths(Module.java:1288)
 at org.jboss.modules.Module.link(Module.java:1644)
 at org.jboss.modules.Module.getPaths(Module.java:1605)
 at org.jboss.modules.Module.getPathsUnchecked(Module.java:1628)
 at org.jboss.modules.Module.loadModuleClass(Module.java:748)
 at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
 at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
 at java.base/java.lang.ClassLoader.defineClass1(Native Method)
 at java.base/java.lang.ClassLoader.defineClass(Unknown Source)
 at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
 at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)
 at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
 at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
 at org.jboss.modules.Module.loadModuleClass(Module.java:753)
 at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
 at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
 at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
 at org.jboss.as.transactions@23.0.0.Final//org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.<init>(TransactionSubsystemRootResourceDefinition.java:296)
 at org.jboss.as.transactions@23.0.0.Final//org.jboss.as.txn.subsystem.TransactionExtension.initialize(TransactionExtension.java:98)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:131)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:103)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:144)
 at org.jboss.as.controller@15.0.0.Final//org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:127)
 at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
 at java.base/java.lang.Thread.run(Unknown Source)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)

{code}


",2021/03/19 1:04 PM
WFLY-13216,"When accessing /openapi endpoint via Chrome, the following Accept header is sent:

{code}
Accept : text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
{code}

This should return a yaml document, as \*/\* is acceptable, though lower priority than, say, text/html.

This currently returns a 406 error.",2020/03/09 6:11 PM
WFLY-13376,"We hit a change in behaviour while testing 7.4.0.CD19.
In 7.3.0.GA and before it was perfectly fine changing jgroups attribute without reloading: 
{code:java}
/subsystem=jgroups/channel=ee:write-attribute(name=cluster, value=anything){allow-resource-service-restart=true}
{""outcome"" => ""success""}
{code}

Now with 7.4.0.CD19-CR1 it is no longer possible:
{code:java}
/subsystem=jgroups/channel=ee:write-attribute(name=cluster, value=anything){allow-resource-service-restart=true}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: org.jboss.msc.service.DuplicateServiceException: 
Service org.wildfly.clustering.jgroups.channel.ee.captor is already registered"",
    ""rolled-back"" => true
}
{code}

Server log exception:
{code:java}
18:20:19,676 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""write-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee"")
]): org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.jgroups.channel.ee.captor is already registered
	at org.jboss.msc.service.ServiceRegistrationImpl.set(ServiceRegistrationImpl.java:135)
	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:243)
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:747)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:260)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2065)
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:260)
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2065)
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:192)
	at org.jboss.as.controller.OperationContextImpl.installService(OperationContextImpl.java:2041)
	at org.jboss.as.controller.OperationContextImpl.access$600(OperationContextImpl.java:134)
	at org.jboss.as.controller.OperationContextImpl$2$1.installService(OperationContextImpl.java:763)
	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:2182)
	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.installServices(ChannelServiceHandler.java:87)
	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.restartServices(WriteAttributeStepHandler.java:121)
	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.applyUpdateToRuntime(WriteAttributeStepHandler.java:103)
	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1413)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:429)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:246)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:246)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}


I was able to locate the change to WFLY-12601 (https://github.com/wildfly/wildfly/commit/6fff03502b457985ded696985daf45540f941b07#diff-4ea606a97fdcb8d65e3c39b1f2fe9faa)",2020/04/14 3:41 PM
WFLY-13333,"Currently the {{/openapi}} endpoint returns empty file if the OpenAPI schema definition contains non ASCII characters (ie. accented letters like ,...).
I extended the openapi quickstart for demonstration: https://github.com/petrenyi-mark/quickstart/commit/44096980ff36ff2655859f9b10f8d0bd4c76bfbb

It seems like it is related to the content-length, since in {{OpenAPIHttpHandler}} the content-length header is set by {{String.length()}} (line 125). However before the response is actually returned, undertow validates that the actual content-length based on ByteBuffer size is not greater then the one declared in the response header. Since non ASCII characters are usually represented by 2 bytes undertow will fail, thus no content will be returned.

In {{OpenAPIHttpHandler}} setting {{string.getBytes(charset).length}} as Conetnt-Length instead of {{String.length()}} would likely resolve this issue.",2020/04/02 11:46 AM
WFLY-14384,"Running with configured mod cluster extension (see attached xml) I get:
{code:java}
13:27:16,815 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 60) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""infinispan""),
    (""cache-container"" => ""ejb""),
    (""distributed-cache"" => ""dist"")
]): java.lang.NumberFormatException: For input string: ""1.0""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.jboss.dmr.StringModelValue.asInt(StringModelValue.java:142)
	at org.jboss.dmr.ModelNode.asInt(ModelNode.java:288)
	at org.jboss.as.clustering.infinispan.subsystem.DistributedCacheServiceConfigurator.configure(DistributedCacheServiceConfigurator.java:53)
	at org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.installServices(CacheServiceHandler.java:85)
	at org.jboss.as.clustering.controller.AddStepHandler.performRuntime(AddStepHandler.java:220)
	at org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:343)
	at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:164)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1005)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:744)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:468)
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:513)

{code}

The problem is that the attribute is double, however in add operation handler is parsed as int.",2021/02/01 7:40 AM
WFLY-14078,NoData,2020/11/16 9:55 AM
WFLY-14210,"WFLY-12298 introduced attributes to the jaxrs subsystem. While the schema was bumped, the model version was not. Because of this there is no reliable way to correctly use transformers from WildFly 19 -> WildFly 11. Note that WildFly 11 was the first version to bump to model version 2.0.0 and WildFly 19 kept the same model version, but added the attributes.

JBoss EAP should not be impacted as no releases contain, with the exception of JBoss EAP CD19 and JBoss EAP CD20 Tech Preview releases, the attributes.

We should set the transformers up to reject the attributes for model version 2.0.0 and 1.0.0. An unsupported system property should be introduced to allow the rejection of attributes for 2.0.0 on WildFly mixed domain environments. While this is an unlikely scenario it would be nice to have.",2020/12/10 4:20 PM
WFLY-14264,"The following error is being encountered running the microprofile tests:
{code:java}
[0m[31m16:57:56,276 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service org.wildfly.security.key-store.applicationKS: org.jboss.msc.service.StartException in service org.wildfly.security.key-store.applicationKS: WFLYELY00004: Unable to start the service.[0m[31m16:57:56,276 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service org.wildfly.security.key-store.applicationKS: org.jboss.msc.service.StartException in service org.wildfly.security.key-store.applicationKS: WFLYELY00004: Unable to start the service. at org.wildfly.extension.elytron.KeyStoreService.start(KeyStoreService.java:191) at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739) at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701) at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559) at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363) at java.lang.Thread.run(Thread.java:748)Caused by: java.io.IOException: DerInputStream.getLength(): lengthTag=109, too big. at sun.security.util.DerInputStream.getLength(DerInputStream.java:605) at sun.security.util.DerValue.init(DerValue.java:391) at sun.security.util.DerValue.<init>(DerValue.java:332) at sun.security.util.DerValue.<init>(DerValue.java:345) at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1941) at java.security.KeyStore.load(KeyStore.java:1445) at org.wildfly.security.keystore.AtomicLoadKeyStoreSpi.engineLoad(AtomicLoadKeyStoreSpi.java:53) at java.security.KeyStore.load(KeyStore.java:1445) at org.wildfly.extension.elytron.KeyStoreService.start(KeyStoreService.java:163) ... 8 more {code}




",2021/01/05 12:10 PM
WFLY-12086,"In org.jboss.as.jpa.hibernate5.HibernatePersistenceProviderAdaptor.addProviderDependencies(PersistenceUnitMetadata pu), enable second level cache if persistence unit has hibernate.cache.use_query_cache or hibernate.cache.use_second_level_cache is true, then the second level cache should be enabled unless shared cache mode is set to NONE.

Workaround:
{code}
<shared-cache-mode>ALL</shared-cache-mode>
{code}
Or
{code}
<shared-cache-mode>ENABLE_SELECTIVE</shared-cache-mode> 
{code}",2019/05/16 3:46 PM
WFLY-13264,"After applying EAP 7.2 Update 7 , messages seem to be added to a topic even when there are no subscribers on the topic. 
When subscribers are attached to a topic they seem to consume messages from a topic but the messages is not removed from the underlying physical queue resulting in the destination growing indefinitely in size. ",2020/03/20 7:21 PM
WFLY-12692,"Defining and securing 2 folders in a war with similar names given this Exception on deployment:
{code}
12:38:37,994 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""java-web-project.war"".jboss.security.jacc: org.jboss.msc.service.StartException in service jboss.deployment.unit.""java-web-project.war"".jboss.security.jacc: WFLYSEC0012: Unable to start the JaccService service
at org.jboss.as.security@18.0.0.Final//org.jboss.as.security.service.JaccService.start(JaccService.java:107)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
at org.jboss.msc@1.4.11.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalArgumentException: Invalid prefix pattern in URLPatternList
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.URLPatternSpec.setURLPatternArray(URLPatternSpec.java:308)
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.URLPatternSpec.<init>(URLPatternSpec.java:79)
at javax.security.jacc.api@2.0.0.Final//javax.security.jacc.WebResourcePermission.<init>(WebResourcePermission.java:160)
at org.wildfly.extension.undertow@18.0.0.Final//org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:303)
at org.wildfly.extension.undertow@18.0.0.Final//org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:64)
at org.jboss.as.security@18.0.0.Final//org.jboss.as.security.service.JaccService.start(JaccService.java:86)
... 8 more
{code}
This is the corresponding part of the web.xml:
{code}
<security-constraint>
  <web-resource-collection>
    <web-resource-name>Area</web-resource-name>
    <url-pattern>/area/*</url-pattern>
  </web-resource-collection>
  <auth-constraint>
    <role-name>role1</role-name>
    <role-name>role2</role-name>
  </auth-constraint>
  <user-data-constraint>
    <transport-guarantee>CONFIDENTIAL</transport-guarantee>
  </user-data-constraint>
</security-constraint>
<security-constraint>
  <web-resource-collection>
    <web-resource-name>Area 51</web-resource-name>
    <url-pattern>/area51/*</url-pattern>
  </web-resource-collection>
  <auth-constraint>
    <role-name>role1</role-name>
  </auth-constraint>
  <user-data-constraint>
    <transport-guarantee>CONFIDENTIAL</transport-guarantee>
  </user-data-constraint>
</security-constraint>
{code}
Looks like this only happens when the url-pattern starts with the same characters (eg /area/* and /area51/*).

The same war under WildFly 17.0.1 works as expected.
",2019/10/18 3:40 PM
WFLY-12961,NoData,2020/01/14 6:38 AM
WFLY-12958,"Asynchronous Invocations are not supposed to be part of the callers transaction because there is no guarantee that the async call is executed in parallel or after the caller already ended.
This will cause warnings and exceptions if the asynchronous call is trying to use the transaction while the container is commiting or rolling back the transaction.

It will break compatibility when migrating from earlier version (<=7.0).


According to the EJB specification

~~~quote
4.5.3 Transactions
The clients transaction context does not propagate with an asynchronous method invocation. From the
Bean Providers point of view, there is never a transaction context flowing in from the client. This
means, for example, that the semantics of the REQUIRED transaction attribute on an asynchronous
method are exactly the same as REQUIRES_NEW.
~~~",2020/01/10 4:16 PM
WFLY-11984,"checkout ChannelCommandDispatcherFactory

line 267 

if (this.listeners.isEmpty()) {...}

There should be a negation which should look like !this.listeners.isEmpty()",2019/04/12 8:00 AM
WFLY-14755,"The error is present in clustering tests where a JDBC store is used to offload web sessions which is connected to a DB2 v11.1.1.1 database using the latest supported JDBC driver (find it attached);

The EAP cluster nodes are configured as follows:
{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)

data-source add --name=testDS1 --jndi-name=java:jboss/datasources/testDS1 --driver-name=db2jcc4-v11.1.jar --connection-url=jdbc:db2://db2-111.hosts.mwqe.eng.bos.redhat.com:50000/dballo:traceDirectory=/tmp;traceFile=jcctrace-eap.log;traceLevel=2; --enabled=true --jta=true --use-java-context=true --transaction-isolation=TRANSACTION_READ_COMMITTED --min-pool-size=1 --max-pool-size=5 --pool-prefill=true --user-name=dballo14 --password=dballo14 --prepared-statements-cache-size=32 --share-prepared-statements=true

/subsystem=infinispan/cache-container=web/invalidation-cache=offload:add()
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc:add(data-source=testDS,fetch-state=false,passivation=false,purge=false,shared=true,dialect=DB2){allow-resource-service-restart=true}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.name,value=id)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.name,value=datum)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.name,value=version)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.type,value=VARCHAR(255))
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.type,value=BIGINT)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.type,value=BLOB(1000))
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=offload)
/subsystem=transactions:write-attribute(name=node-identifier,value=wildfly1)
{noformat}

please note tracing is enabled to gather info;

When we deploy the attached application (cbnc.ear) we see the following error (looks like it cannot find table dballo14.ispn_entry_cbnc_ear_a_war):
{noformat}
11:32:11,784 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 84) MSC000001: Failed to start service jboss.deployment.subunit.""cbnc.ear"".""a.war"".undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""cbnc.ear"".""a.war"".undertow-deployment: java.lang.RuntimeException: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=dballo14.ispn_entry_cbnc_ear_a_war, DRIVER=4.25.23
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:513)
Caused by: java.lang.RuntimeException: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=dballo14.ispn_entry_cbnc_ear_a_war, DRIVER=4.25.23
	at io.reactivex.rxjava3.rxjava@3.0.8.redhat-00001//io.reactivex.rxjava3.internal.util.ExceptionHelper.wrapOrThrow(ExceptionHelper.java:46)
	at io.reactivex.rxjava3.rxjava@3.0.8.redhat-00001//io.reactivex.rxjava3.internal.operators.flowable.BlockingFlowableIterable$BlockingFlowableIterator.hasNext(BlockingFlowableIterable.java:90)
	at org.infinispan.commons@11.0.8.Final-redhat-00001//org.infinispan.commons.util.Closeables$1.hasNext(Closeables.java:247)
	at org.infinispan@11.0.8.Final-redhat-00001//org.infinispan.util.LazyConcatIterator.hasNext(LazyConcatIterator.java:47)
	at java.base/java.util.Spliterators$IteratorSpliterator.tryAdvance(Spliterators.java:1811)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.lambda$initPartialTraversalState$0(StreamSpliterators.java:294)
	at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:206)
	at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:300)
	at java.base/java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)
	at org.wildfly.clustering.ee.infinispan@7.4.0.Beta-redhat-00001//org.wildfly.clustering.ee.infinispan.scheduler.ScheduleLocalKeysTask.accept(ScheduleLocalKeysTask.java:57)
	at org.wildfly.clustering.ee.infinispan@7.4.0.Beta-redhat-00001//org.wildfly.clustering.ee.infinispan.scheduler.ScheduleLocalKeysTask.accept(ScheduleLocalKeysTask.java:41)
	at org.wildfly.clustering.web.infinispan@7.4.0.Beta-redhat-00001//org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.run(InfinispanSessionManagerFactory.java:113)
	at org.wildfly.clustering.web.infinispan@7.4.0.Beta-redhat-00001//org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.start(InfinispanSessionManager.java:141)
	at org.wildfly.clustering.web.cache@7.4.0.Beta-redhat-00001//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager.start(ConcurrentSessionManager.java:93)
	at org.wildfly.clustering.web.undertow@7.4.0.Beta-redhat-00001//org.wildfly.clustering.web.undertow.session.DistributableSessionManager.start(DistributableSessionManager.java:89)
	at io.undertow.servlet@2.2.3.SP1-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:562)
	at io.undertow.servlet@2.2.3.SP1-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)
	at io.undertow.servlet@2.2.3.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet@2.2.3.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet@2.2.3.SP1-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)
	at org.wildfly.extension.undertow@7.4.0.Beta-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
	... 8 more
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=dballo14.ispn_entry_cbnc_ear_a_war, DRIVER=4.25.23
{noformat}

I we look inside the DB2 database we can find the ISPN_ENTRY_CBNC_EAR_A_WARS table in the correct schema dballo14, but the table is missing the data-column named {{datum}}:
{noformat}
CREATE TABLE ISPN_ENTRY_CBNC_EAR_A_WARS
(
   ID bigint PRIMARY KEY NOT NULL,
   TIME bigint,
   BROKER_NAME blob(1048576)
)
;
CREATE UNIQUE INDEX SQL210325100147330 ON ISPN_ENTRY_CBNC_EAR_A_WARS(ID)
;
{noformat}

We don't have this error when using the same EAP version with DB2 10.5 and the relative diver (find it attached - db2jcc4-v10.5.jar);

We see two errors here:
* the table is missing the {{datum}} column
* the table is selected with the wrong name: there is an extra {{s}} at the end ({{ISPN_ENTRY_CBNC_EAR_A_WARS}}, {{ispn_entry_cbnc_ear_a_war}})


",2021/05/03 7:12 AM
WFLY-14853,"This issue happens after a client initiates two requests that invoke ""session.invalidate()"" concurrently; for example, double-click a logout button accidentally. 
 (As an error response can be returned in this situation, the client can still hold the invalidated session id in the cookie.)

Once this happens, every time client sends a request having a request cookie with the invalidated sessionId, the server does not respond with a new session but it returns the error with ""IllegalStateException: WFLYCLWEBUT0001: Session <sessionId> is invalid"". The client needs to clear the browser cookie to login to the application again. It's expected that the server should return a new session instead of throwing the exception in this situation.

----

I could reproduce the same issue with the simple servlet application in my local environment.
 You can reproduce the issue with the following steps with the attached example application (example.war).

1. Send a request that generates a new cookie 
 (query parameter ""n"" specifies number of session attributes.
 the example app generates 100 session attributes by default.
 so specify n=1 for this test because a number of session attributes is not related here.)
{code:java}
curl -0 -v -b /tmp/curl_cookie.txt -c /tmp/curl_cookie.txt http://${SERVER_NAME}:8080/example/new?n=1
{code}
2. Send a request that invalidates the session twice.
 the 2nd one will fail with ""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"".
{code:java}
curl -0 -v -b /tmp/curl_cookie.txt -c /tmp/curl_cookie.txt http://${SERVER_NAME}:8080/example/invalidate & curl -0 -v -b /tmp/curl_cookie.txt -c /tmp/curl_cookie.txt http://${SERVER_NAME}:8080/example/invalidate
{code}
3. Send a request with the invalidated session cookie.
{code:java}
curl -0 -v -b /tmp/curl_cookie.txt -c /tmp/curl_cookie.txt http://${SERVER_NAME}:8080/example/new?n=1
{code}
we expect the server should return a new session cookie, but this request will fail with the following ""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"" after the above 2nd one failed. And, when you repeat this request,""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"" happens on the server every time.
{code:java|title=example output of ""IllegalStateException: WFLYCLWEBUT0001: Session <sessionId> is invalid""}
08:36:45,499 ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /example/new: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 0nLsDAWIQ4z6Ah6p_hQn2HeDDMmO65EXjGMeQngk is invalid
	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:293)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:285)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.getAttribute(DistributableSession.java:161)
	at io.undertow.servlet.util.SavedRequest.tryRestoreRequest(SavedRequest.java:155)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:74)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)
	at io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Thread.java:748)

08:37:08,752 ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /example/new: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 0nLsDAWIQ4z6Ah6p_hQn2HeDDMmO65EXjGMeQngk is invalid
	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:293)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:285)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.getAttribute(DistributableSession.java:161)
	at io.undertow.servlet.util.SavedRequest.tryRestoreRequest(SavedRequest.java:155)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:74)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)
	at io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Thread.java:748)
{code}


You can repeat the above with the following script:
{code:java|title=test.sh}
#!/bin/bash

COOKIE_FILE=""/tmp/curl_test_cookie.txt""
# SERVER_NAME=""localhost""
SERVER_NAME=""node1""

count=0

while true
do
  # clear COOKIE_FILE every iteration
  if  [ -f ${COOKIE_FILE} ]; then
    rm -f ${COOKIE_FILE}
  fi

  # send a request that generates a new cookie
  # (query parameter ""n"" specifies number of session attributes.)
  # the example app generates 100 session attributes by default.
  # so specify n=1 for this test because number of session attributes is not related here.
  curl -0 -v -b ${COOKIE_FILE} -c ${COOKIE_FILE} http://${SERVER_NAME}:8080/example/new?n=1 >> /tmp/sessionid_result.txt

  # send a request that invalidates session twice.
  # the 2nd one will fail with ""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"".
  curl -0 -v -b ${COOKIE_FILE} -c ${COOKIE_FILE} http://${SERVER_NAME}:8080/example/invalidate & curl -0 -v -b ${COOKIE_FILE} -c ${COOKIE_FILE} http://${SERVER_NAME}:8080/example/invalidate

  sleep 1

  # send a requst with invalidated session cookie.
  # we expect the server should return a new session cookie,
  # but this request will fail with ""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"" after the above 2nd one failed.
  curl -0 -v -b ${COOKIE_FILE} -c ${COOKIE_FILE} http://${SERVER_NAME}:8080/example/new?n=1

  echo ""#####""
  echo ""##### loop count = $((++count))""
  echo ""#####""

  sleep 2
done
{code}
When I captured a heapdump after reproducing the issue, it appears that a session object (and session attributes) is invalidated correctly but a session-related MetaData (like org.wildfly.clustering.web.cache.session.SimpleSessionCreationMetaData) still remains. 
 The remaining SimpleSessionCreationMetaData instances hold ""valid = 0 (false)"". So, I think this is why ""IllegalStateException: WFLYCLWEBUT0001: Session xxx is invalid"" is returned for the session repeatedly. I do not know why these MetaData still remain and not cleaned up.
 I guess this issue can be treated as a leak of session-related MetaData. Of course, the size of MetaData is relatively small, so I guess this MetaData itself does not have a huge impact.",2021/06/03 9:36 PM
WFLY-13358,"This is likely to actually be a WFCORE issue but as this is fixed a test case to reproduce should be added to the testsuite if appropriate.

So far this seems a fairly generic issue an since WildFly 17 we must have run the testsuite against Java 8 100s if not 1000s of times so it is not appropriate to be reliant on an internal testsuite to detect the issue nine months or more later.

The following issue describes the issue in relation to EAP: -
  https://issues.redhat.com/browse/JBEAP-19195
",2020/04/09 3:49 AM
WFLY-13689,"The problematic pattern:


{code:java}
BinaryRequirement requirement = ...;
ServiceName.parse(requirement.resolve(container, cache));
{code}
should be:
{code:java}
ServiceName.parse(requirement.getName()).append(container, cache);
{code}",2020/07/22 11:56 AM
WFLY-14275,"We are updating from WildFly 13 (jberet 1.2.4) to WildFly 21.0.2 (jberet 1.3.7).

In our production environment we are running about 50 jobs, some of them in a frequency of 2 or 4 minutes. For documentation reasons we only can delete job information older than 3 months. So we have 20000 and more jobinstances per job in our job repository - an oracle database job repo.

Deploying of our Job-Module to WildFly 21 is never finished - sometimes a out of memory exception is thrown.

",2021/01/07 5:56 AM
WFLY-14365,"Programmatic web authentication (HttpServletRequest.login()) does not trigger sso (JSESSIONIDSSO does not get created) when using elytron/undertow.

This worked fine in EAP 6 (eap 5 too but it was a bit different as
HttpServletRequest.login() wasn't available at that time).",2021/01/27 11:29 AM
WFLY-14260,"This appears to be a regression due to:
 [https://github.com/wildfly/wildfly/commit/ff22a98553a4168a9cd47a8fbf59afa3058e987d]

As seen on CI:
{noformat}
[0m09:30:39,897 INFO  [org.wildfly.clustering.ee.infinispan] (default task-2) WFLYCLEEINF0002: Failed to schedule 3wnQESQq-yAwHD6_ygq39emcPLeSonW6P-oDO-0N on primary owner.: java.lang.ClassCastException: org.infinispan.remoting.transport.jgroups.JGroupsAddress cannot be cast to org.jgroups.Address
	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.createNode(ChannelCommandDispatcherFactory.java:98)
	at org.wildfly.clustering.ee.infinispan.PrimaryOwnerLocator.apply(PrimaryOwnerLocator.java:57)
	at org.wildfly.clustering.ee.infinispan.PrimaryOwnerLocator.apply(PrimaryOwnerLocator.java:39)
	at org.wildfly.clustering.ee.infinispan.scheduler.PrimaryOwnerScheduler$1.get(PrimaryOwnerScheduler.java:81)
	at org.wildfly.clustering.ee.infinispan.scheduler.PrimaryOwnerScheduler$1.get(PrimaryOwnerScheduler.java:78)
	at org.wildfly.clustering.ee.cache.retry.RetryingInvoker.invoke(RetryingInvoker.java:72)
	at org.wildfly.clustering.ee.infinispan.scheduler.PrimaryOwnerScheduler.executeOnPrimaryOwner(PrimaryOwnerScheduler.java:86)
	at org.wildfly.clustering.ee.infinispan.scheduler.PrimaryOwnerScheduler.schedule(PrimaryOwnerScheduler.java:59)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.accept(InfinispanSessionManager.java:123)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$1.accept(InfinispanSessionManager.java:119)
	at org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:89)
	at org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.closeSession(ConcurrentSessionManager.java:151)
	at org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:55)
	at org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:52)
	at org.wildfly.clustering.ee.cache.SimpleManager$1.run(SimpleManager.java:55)
	at org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:182)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:98)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:960)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:105)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:102)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Thread.java:748)
{noformat}
",2021/01/04 1:56 PM
WFLY-14076,"The HotRodSessionManager takes the same approach to session expiration as the InfinispanSessionManager, that is, sessions are scheduled for expiration locally.

On failover, the InfinispanSessionManager has sufficient context to handle failover such that sessions are always scheduled on one member.

Since the HotRodSessionManager lacks a mechanisms to communicate failover to other members, it has no way to reschedule expiration on behalf of a failed member.

This means that, when a cluster member crashes or shutsdown, any abandoned sessions exclusively handled by that member will never expire. This can cause orphaned entries to accumulate on the infinispan-server cluster - the only workaround for which is to set a conservative expiration threshold. However, these expired entries will not trigger HttpSessionListener.sessionDestroyed(...) events.

To solve this problem, the HotRodSessionManager should explore using expiration events from infinispan-server.",2020/11/13 9:29 AM
WFLY-11849,"The issue comes with changes in WFTC-54 where it was decided that the timeout of value {{0}} is not acceptable (see https://issues.jboss.org/browse/WFTC-54?focusedCommentId=13677791#comment-13677791). The txbridge still uses value of {{0}} as definition of not timeout.
It seems the Narayana XTS txbridge needs to change the behaviour in similar way as it was done for the ejb client https://issues.jboss.org/browse/EJBCLIENT-316.

Exception from the quickstart test
{code}
08:10:54,062 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1) SQL Error: 0, SQLState: null
08:10:54,062 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1) javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
08:10:54,064 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (default task-1) HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
08:10:54,067 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component FirstServiceATImpl for method public void org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.incrementCounter(int): javax.ejb.EJBTransactionRolledbackException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:203)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.mandatory(CMTTxInterceptor.java:319)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:138)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
        at org.jboss.as.webservices.security.SecurityDomainContextImpl.runAs(SecurityDomainContextImpl.java:124)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
        at org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:170)
        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
        at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
        at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
        at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:146)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
        at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
        at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
        at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
        at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
        at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
        at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:706)
        at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
        at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
        at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3511)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3446)
        at org.jboss.as.jpa.container.AbstractEntityManager.find(AbstractEntityManager.java:213)
        at org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.lookupCounterEntity(FirstServiceATImpl.java:85)
        at org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.incrementCounter(FirstServiceATImpl.java:62)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:185)
        ... 103 more
Caused by: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)
        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:47)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement(AbstractLoadPlanBasedLoader.java:226)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:190)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)
        at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:188)
        at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4271)
        at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:511)
        at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:481)
        at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:222)
        at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:281)
        at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:124)
        at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:92)
        at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1256)
        at org.hibernate.internal.SessionImpl.access$1900(SessionImpl.java:207)
        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2873)
        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2847)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3482)
        ... 135 more
Caused by: java.sql.SQLException: javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
        at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:146)
        at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:64)
        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
        at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106)
        ... 157 more
Caused by: javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.reconnectManagedConnection(AbstractConnectionManager.java:1055)
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:792)
        at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
        ... 161 more
Caused by: javax.resource.ResourceException: IJ000461: Could not enlist in transaction on entering meta-aware object
        at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.managedConnectionReconnected(TxConnectionManagerImpl.java:571)
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.reconnectManagedConnection(AbstractConnectionManager.java:977)
        ... 163 more
Caused by: javax.transaction.SystemException: Error enlisting resource in transaction=Local transaction (delegate=TransactionImple < jca-subordinate, BasicAction: 0:ffff0a00000a:4328fa33:5c8b4feb:29 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener$TransactionSynchronization.checkEnlisted(TxConnectionListener.java:956)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener.enlist(TxConnectionListener.java:394)
        at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.managedConnectionReconnected(TxConnectionManagerImpl.java:564)
        ... 164 more
Caused by: javax.transaction.SystemException: WFTXN0097: Cannot enlist XA resource 'LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS]' to transaction 'Local transaction (delegate=TransactionImple < jca-subordinate, BasicAction: 0:ffff0a00000a:4328fa33:5c8b4feb:29 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)' as timeout already elapsed
        at org.wildfly.transaction.client.LocalTransaction.enlistResource(LocalTransaction.java:162)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener$TransactionSynchronization.enlist(TxConnectionListener.java:986)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener.enlist(TxConnectionListener.java:379)
        ... 165 more
{code}",2019/03/14 4:50 AM
WFLY-11846,"A followup to WFLY-11678, managed threads have another deployment CL leak, which happens due to parent thread having a reference to it in its AccessControlContext. When a thread is created it inherits parent's AccessControlContext.",2019/03/13 4:23 PM
WFLY-11678,"managed executor:
{code}
<managed-executor-services>
    <managed-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/executor/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""5000""/>
</managed-executor-services>
{code}


With each undeploy, the application classloader is leaked and not released because contextClassLoader references persisted on the executor threads:

{code}
Class Name                                                                                                                                          | Ref. Objects | Shallow Heap | Ref. Shallow Heap | Retained Heap
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
org.jboss.as.ee.concurrent.service.ElytronManagedThreadFactory$ElytronManagedThread @ 0xc3677570  EE-ManagedExecutorService-default-Thread-13 Thread|            1 |          160 |                88 |         1,344
'- contextClassLoader org.jboss.modules.ModuleClassLoader @ 0xc32b9d98                                                                              |            1 |           88 |                88 |       366,800
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
{code}

Tracing with byteman, what's strange is that it sets the app classloader on setup:

{code}
Thread.setContextClassLoader: Thread[EE-ManagedExecutorService-default-Thread-16,5,ServerService ThreadGroup] ModuleClassLoader for Module ""deployment.services-1.0.4-rc1.war"" from Service Module Loader
java.lang.Thread.setContextClassLoader(Thread.java:1477)
org.wildfly.security.manager.WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1272)
org.jboss.as.ee.concurrent.handle.ClassLoaderContextHandleFactory$ClassLoaderSetupContextHandle.setup(ClassLoaderContextHandleFactory.java:83)
org.jboss.as.ee.concurrent.ConcurrentContext$ChainedSetupContextHandle.setup(ConcurrentContext.java:166)
org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.setup(DefaultContextSetupProviderImpl.java:58)
org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.setupContext(ManagedFutureTask.java:121)
org.glassfish.enterprise.concurrent.internal.ManagedThreadPoolExecutor.beforeExecute(ManagedThreadPoolExecutor.java:109)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
java.lang.Thread.run(Thread.java:748)
{code}


And still sets that app classloader after task execution in the reset:

{code}
Thread.setContextClassLoader: Thread[EE-ManagedExecutorService-default-Thread-16,5,ServerService ThreadGroup] ModuleClassLoader for Module ""deployment.services-1.0.4-rc1.war"" from Service Module Loader
java.lang.Thread.setContextClassLoader(Thread.java:1477)
org.wildfly.security.manager.WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1272)
org.jboss.as.ee.concurrent.handle.ClassLoaderContextHandleFactory$ClassLoaderResetContextHandle.reset(ClassLoaderContextHandleFactory.java:113)
org.jboss.as.ee.concurrent.ConcurrentContext$ChainedResetContextHandle.reset(ConcurrentContext.java:284)
org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.reset(DefaultContextSetupProviderImpl.java:63)
org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.resetContext(ManagedFutureTask.java:134)
org.glassfish.enterprise.concurrent.internal.ManagedThreadPoolExecutor.afterExecute(ManagedThreadPoolExecutor.java:90)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1157)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
java.lang.Thread.run(Thread.java:748)
{code}


So the thread is sitting in the pool with the app classloader.  Is there some way we should be able to get the context loader cleared or unset from the app loader in the reset?",2019/02/06 11:04 AM
WFLY-13177,"On WF-13 and WF-16 we observe a serious bug of the RequestCount of the RequestController while using ManagedExecutorService.submit() or ...execute() in the edge case of a full queue. In this case, the caller gets a RejectedExecutionException, but in the RequestController, the number of active requests is erroneously incremented.

This will lead to a false and monotonously increasing number of active requests. And in case of a limitation configured by the maxRequestCount feature, which is best practice for production environments, over the time this will lead to deadlock of the RequestController and herewith the complete activity of the Wildfly at all.",2020/02/28 6:06 PM
WFLY-14935,"Currently, Infinispan's expiration reaper is only enabled if the cache specifies a non-zero lifespan or maxIdle. However, given that lifespan and maxIdle can be specified per entry, users that utilize these methods can experience a memory leak, due to the reaper not running.  Rather, we should enable the expiration reaper if a non-zero wakeup interval is specified.
We can then update our default configurations to disable the expiration reaper where appropriate.",2021/06/24 2:22 PM
WFLY-11566,"You got an exception if you call methods on JAX-RS endpoints which are also e.g. a stateless EJB and have Set or List as query parameters.

As a workaround we use the ""@Context UriInfo info"" as parameter an read the parameter manually. As a downside this parameters are missing than in automated api generation with e.g. swagger. Without the @NotEmpty annotation it works fine. Without the generic type parameter ie just List it works fine. Making it a simple CDI bean makes it work fine.

This issue is caused by [commit - WFLY-9628 Allow to switch to Hibernate Validator 6.0 / Bean Validation 2.0|https://github.com/wildfly/wildfly/commit/02f230d91f55f86ee6cadf53832c65116b4a9554]

Steps to reproduce:
{code:java}
@Stateless
@Path(""/"")
public class Resource {
    @POST
    @Path(""put/list"")
    @Consumes(MediaType.APPLICATION_JSON)
    public String putList(@NotEmpty List<String> a) {
        return ""Hello bars "" + a.stream().collect(Collectors.joining("", ""));
    }
}
{code}
{noformat}
[mkopecky@dhcp-10-40-5-71 bin]$ curl -d '[""a"",""b"",""c""]' -H ""Content-Type: application/json"" -X POST http://localhost:8080/jaxrs-wf/put/list
javax.validation.ConstraintDeclarationException: HV000151: A method overriding another method must not redefine the parameter constraint configuration, but method Resource$$$view1#putList(List) redefines the configuration of Resource#putList(List).
[mkopecky@dhcp-10-40-5-71 bin]$ 
{noformat}
{noformat}
javax.validation.ConstraintDeclarationException: HV000151: A method overriding another method must not redefine the parameter constraint configuration, but method Resource$$$view1#putList(List) redefines the configuration of Resource#putList(List).
        at org.hibernate.validator.internal.metadata.aggregated.rule.OverridingMethodMustNotAlterParameterConstraints.apply(OverridingMethodMustNotAlterParameterConstraints.java:24)
        at org.hibernate.validator.internal.metadata.aggregated.ExecutableMetaData$Builder.assertCorrectnessOfConfiguration(ExecutableMetaData.java:461)
        at org.hibernate.validator.internal.metadata.aggregated.ExecutableMetaData$Builder.build(ExecutableMetaData.java:377)
        at org.hibernate.validator.internal.metadata.aggregated.BeanMetaDataImpl$BuilderDelegate.build(BeanMetaDataImpl.java:788)
        at org.hibernate.validator.internal.metadata.aggregated.BeanMetaDataImpl$BeanMetaDataBuilder.build(BeanMetaDataImpl.java:648)
        at org.hibernate.validator.internal.metadata.BeanMetaDataManager.createBeanMetaData(BeanMetaDataManager.java:192)
        at org.hibernate.validator.internal.metadata.BeanMetaDataManager.lambda$getBeanMetaData$0(BeanMetaDataManager.java:160)
        at java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:324)
        at org.hibernate.validator.internal.metadata.BeanMetaDataManager.getBeanMetaData(BeanMetaDataManager.java:159)
        at org.hibernate.validator.internal.engine.ValidationContext$ValidationContextBuilder.forValidateParameters(ValidationContext.java:619)
        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:254)
        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:224)
        at org.jboss.resteasy.plugins.validation.GeneralValidatorImpl.validateAllParameters(GeneralValidatorImpl.java:177)
        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:118)
        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:509)
        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:399)
        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:363)
        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:365)
        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:337)
        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:310)
        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:439)
        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:227)
        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
        at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
{noformat}

Links:
* [forum|https://developer.jboss.org/thread/278822]
* WFLY-11566",2019/01/07 7:42 AM
WFLY-14276,"This is a regression caused by switching from Picketbox to Elytron.

When I log on a node belonging to an HA cluster, I see several errors like these :

[0m[33m11:27:18,146 WARN [org.infinispan.PERSISTENCE] (default task-15) ISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: org.wildfly.security.auth.server.SecurityIdentity[0m[33m11:27:18,146 WARN [org.infinispan.PERSISTENCE] (default task-15) ISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: org.wildfly.security.auth.server.SecurityIdentity at org.jboss.marshalling.river@2.0.9.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:272) at org.jboss.marshalling.river@2.0.9.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1141) at org.jboss.marshalling.river@2.0.9.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1099) at org.jboss.marshalling.river@2.0.9.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:266) at org.jboss.marshalling@2.0.9.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58) at org.jboss.marshalling@2.0.9.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.util.MapExternalizer.writeObject(MapExternalizer.java:63) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.util.MapExternalizer.writeObject(MapExternalizer.java:40) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ExternalizerProvider.writeObject(ExternalizerProvider.java:41) at org.wildfly.clustering.marshalling.jboss@21.0.0.Final//org.wildfly.clustering.marshalling.jboss.ExternalizerObjectTable$ExternalizerWriter.writeObject(ExternalizerObjectTable.java:142) at org.jboss.marshalling.river@2.0.9.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:139) at org.jboss.marshalling@2.0.9.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58) at org.jboss.marshalling@2.0.9.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111) at org.wildfly.clustering.marshalling.jboss@21.0.0.Final//org.wildfly.clustering.marshalling.jboss.JBossByteBufferMarshaller.writeTo(JBossByteBufferMarshaller.java:92) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.write(ByteBufferMarshaller.java:55) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.getBuffer(ByteBufferMarshalledValue.java:59) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValueExternalizer.writeObject(ByteBufferMarshalledValueExternalizer.java:63) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValueExternalizer.writeObject(ByteBufferMarshalledValueExternalizer.java:37) at org.wildfly.clustering.marshalling.spi@21.0.0.Final//org.wildfly.clustering.marshalling.spi.ExternalizerProvider.writeObject(ExternalizerProvider.java:41) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.ExternalizerMarshaller.writeTo(ExternalizerMarshaller.java:69) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.impl.RawProtobufMarshallerDelegate.marshall(RawProtobufMarshallerDelegate.java:32) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:105) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:110) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.writeTo(TypedObjectMarshaller.java:57) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.MarshallerProvider.writeTo(MarshallerProvider.java:46) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:84) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:41) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.impl.RawProtobufMarshallerDelegate.marshall(RawProtobufMarshallerDelegate.java:32) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:105) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:110) at org.wildfly.clustering.marshalling.protostream@21.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.writeTo(ProtoStreamByteBufferMarshaller.java:83) at org.wildfly.clustering.infinispan.marshalling@21.0.0.Final//org.wildfly.clustering.infinispan.marshalling.protostream.ProtoStreamMarshaller.writeObject(ProtoStreamMarshaller.java:76) at org.wildfly.clustering.infinispan.marshalling@21.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:107) at org.wildfly.clustering.infinispan.marshalling@21.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:101) at org.wildfly.clustering.infinispan.marshalling@21.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:76) at org.infinispan@11.0.4.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.writeTo(MarshallableUserObject.java:149) at org.infinispan@11.0.4.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.writeTo(MarshallableUserObject.java:102) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.impl.RawProtobufMarshallerDelegate.marshall(RawProtobufMarshallerDelegate.java:32) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.WrappedMessage.writeMessage(WrappedMessage.java:257) at org.infinispan.protostream@4.3.4.Final//org.infinispan.protostream.ProtobufUtil.toWrappedStream(ProtobufUtil.java:194) at org.infinispan@11.0.4.Final//org.infinispan.marshall.persistence.impl.PersistenceMarshallerImpl.objectToByteBuffer(PersistenceMarshallerImpl.java:133) at org.infinispan@11.0.4.Final//org.infinispan.marshall.persistence.impl.PersistenceMarshallerImpl.objectToByteBuffer(PersistenceMarshallerImpl.java:145) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeRawUnknown(GlobalMarshaller.java:638) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeUnknown(GlobalMarshaller.java:627) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeUnknown(GlobalMarshaller.java:618) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:384) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:352) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.writeTo(PutKeyValueCommand.java:83) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:81) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:77) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:65) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:656) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:371) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:352) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26) at org.infinispan@11.0.4.Final//org.infinispan.commands.remote.SingleRpcCommand.writeTo(SingleRpcCommand.java:52) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:81) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:142) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:138) at org.infinispan@11.0.4.Final//org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:81) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:656) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:371) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:352) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:181) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:174) at org.infinispan@11.0.4.Final//org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:302) at org.infinispan@11.0.4.Final//org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1061) at org.infinispan@11.0.4.Final//org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:1244) at org.infinispan@11.0.4.Final//org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:913) at org.infinispan@11.0.4.Final//org.infinispan.remoting.rpc.RpcManagerImpl.invokeCommand(RpcManagerImpl.java:173) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.distribution.BaseDistributionInterceptor.primaryReturnHandler(BaseDistributionInterceptor.java:310) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:86) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.distribution.BaseDistributionInterceptor.handleNonTxWriteCommand(BaseDistributionInterceptor.java:236) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.distribution.NonTxDistributionInterceptor.visitPutKeyValueCommand(NonTxDistributionInterceptor.java:108) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:53) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:206) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:143) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:739) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:342) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:53) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:155) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$3(AbstractLockingInterceptor.java:308) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.SyncInvocationStage.andHandle(SyncInvocationStage.java:69) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:303) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:128) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:40) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:188) at org.infinispan@11.0.4.Final//org.infinispan.statetransfer.StateTransferInterceptor.handleNonTxWriteCommand(StateTransferInterceptor.java:307) at org.infinispan@11.0.4.Final//org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:251) at org.infinispan@11.0.4.Final//org.infinispan.statetransfer.StateTransferInterceptor.visitPutKeyValueCommand(StateTransferInterceptor.java:96) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:246) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:210) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:53) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:128) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:61) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:53) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:59) at org.infinispan@11.0.4.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:49) at org.infinispan@11.0.4.Final//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.InvocationHelper.doInvoke(InvocationHelper.java:298) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:102) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:84) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1268) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:678) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:537) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:711) at org.infinispan@11.0.4.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449) at org.wildfly.clustering.ee.infinispan@21.0.0.Final//org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:59) at org.wildfly.clustering.web.cache@21.0.0.Final//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.close(CoarseSessionAttributes.java:100) at org.wildfly.clustering.web.cache@21.0.0.Final//org.wildfly.clustering.web.cache.session.CompositeSession.close(CompositeSession.java:78) at org.wildfly.clustering.web.cache@21.0.0.Final//org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:88) at org.wildfly.clustering.web.undertow@21.0.0.Final//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:90) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:960) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:174) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.deployment.ComponentStartupCountdownHandler.handleRequest(ComponentStartupCountdownHandler.java:51) at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:69) at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:104) at org.wildfly.extension.undertow@21.0.0.Final//org.wildfly.extension.undertow.Host$OptionsHandler.handleRequest(Host.java:399) at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:69) at com.stijndewitt.undertow.cors//com.stijndewitt.undertow.cors.Filter.handleRequest(Filter.java:676) at io.undertow.core@2.2.2.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387) at io.undertow.core@2.2.2.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841) at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) at org.jboss.xnio@3.8.2.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280) at java.base/java.lang.Thread.run(Thread.java:834)Caused by: an exception which occurred: in field org.wildfly.elytron.web.undertow.server.servlet.ServletSecurityContextImpl$IdentityContainer.securityIdentity in object org.wildfly.elytron.web.undertow.server.servlet.ServletSecurityContextImpl$IdentityContainer@67a5b40d in object org.wildfly.elytron.web.undertow.server.servlet.ServletSecurityContextImpl$IdentityContainer@67a5b40d in object java.util.concurrent.ConcurrentHashMap@a4c648b6

I also observe HTTP sessions are not shared between nodes of the cluster.
 JSESSIONID are not recognized by other nodes.",2021/01/11 6:53 AM
WFLY-14118,"{noformat}
19:15:26,603 ERROR [io.undertow.servlet.request] (default task-3) UT015005: Error invoking method requestInitialized on listener class org.jboss.weld.module.web.servlet.WeldInitialListener: java.lang.UnsupportedOperationException
    at java.base/java.util.AbstractMap$SimpleImmutableEntry.setValue(AbstractMap.java:794)
    at org.wildfly.clustering.ee.cache@21.0.1.Final//org.wildfly.clustering.ee.cache.ConcurrentManager.apply(ConcurrentManager.java:88)
    at org.wildfly.clustering.web.cache@21.0.1.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager.findSession(ConcurrentSessionManager.java:70)
    at org.wildfly.clustering.web.undertow@21.0.1.Final//org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:227)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:858)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:421)
    at org.jboss.weld.core@3.1.5.Final//org.jboss.weld.module.web.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)
    at org.jboss.weld.core@3.1.5.Final//org.jboss.weld.module.web.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:247)
    at org.jboss.weld.core@3.1.5.Final//org.jboss.weld.module.web.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:146)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:263)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:268)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
    at org.wildfly.extension.undertow@21.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
    at org.wildfly.extension.undertow@21.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
    at org.wildfly.extension.undertow@21.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
    at org.wildfly.extension.undertow@21.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
    at org.wildfly.extension.undertow@21.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
    at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
    at io.undertow.core@2.2.2.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
    at io.undertow.core@2.2.2.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
    at org.jboss.xnio@3.8.2.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
    at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}",2020/11/24 3:02 PM
WFLY-12653,"Activation/passivation listeners are intentionally non-transactional - and thus should never attempt to perform cache writes.
In order to trigger the requisite activation/passivation listeners, activation/passivation events need to lookup the cache entries relevant to a given session via SessionFactory.findValue(..).  However, if there are entries missing (e.g. a creation meta data entry w/out a access meta data entry), this method will attempt to purge the orphaned entries.  This should never be done within the context of an activation/passivation event.",2019/10/08 12:31 PM
WFLY-11706,"A test hung due to a server-side deadlock.

https://ci.wildfly.org/viewLog.html?buildId=139407&buildTypeId=WFPR&tab=buildLog&branch_WF_PullRequest=pull%2F12062

Build log output stopped at this point:

[18:27:07][Step 2/3] [INFO] Running org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase
[18:27:42][Step 2/3] [INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.744 s - in org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase
[18:27:43][Step 2/3] [INFO] Running org.jboss.as.test.manualmode.web.ssl.DatabaseCertLoginModuleTestCase

The 'main' thread of the test shows the test was shutting down the server:

{code}
""main"" #1 prio=5 os_prio=0 tid=0xf6507c00 nid=0x205c in Object.wait() [0xf667d000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0xc807a168> (a java.lang.UNIXProcess)
	at java.lang.Object.wait(Object.java:502)
	at java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)
	- locked <0xc807a168> (a java.lang.UNIXProcess)
	at org.wildfly.core.launcher.ProcessHelper.destroyProcess(ProcessHelper.java:60)
	at org.jboss.as.arquillian.container.managed.ManagedDeployableContainer.stopInternal(ManagedDeployableContainer.java:294)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.stop(CommonDeployableContainer.java:135)
	at org.jboss.arquillian.container.impl.ContainerImpl.stop(ContainerImpl.java:217)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$9.perform(ContainerLifecycleController.java:178)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$9.perform(ContainerLifecycleController.java:172)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.forContainer(ContainerLifecycleController.java:255)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.stopContainer(ContainerLifecycleController.java:171)
{code}

The server-side thread dump shows the hang:

{code}
Found one Java-level deadlock:
=============================
""Periodic Recovery"":
  waiting to lock monitor 0xbcc6dbc0 (object 0xc8f80918, a java.util.concurrent.atomic.AtomicInteger),
  which is held by ""ServerService Thread Pool -- 8""
""ServerService Thread Pool -- 8"":
  waiting to lock monitor 0xc1a6ffc8 (object 0xc8f64470, a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule),
  which is held by ""Periodic Recovery""

Java stack information for the threads listed above:
===================================================
""Periodic Recovery"":
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.setScanState(XARecoveryModule.java:1088)
	- waiting to lock <0xc8f80918> (a java.util.concurrent.atomic.AtomicInteger)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:240)
	- locked <0xc8f64470> (a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:816)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
""ServerService Thread Pool -- 8"":
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.removeXAResourceRecoveryHelper(XARecoveryModule.java:119)
	- waiting to lock <0xc8f64470> (a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule)
	- locked <0xc8f80918> (a java.util.concurrent.atomic.AtomicInteger)
	at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.removeXAResourceRecovery(RecoveryManagerService.java:129)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryRegistryImpl.removeXAResourceRecovery(XAResourceRecoveryRegistryImpl.java:63)
	at org.jboss.as.connector.subsystems.datasources.XaDataSourceService.stopService(XaDataSourceService.java:66)
	- locked <0xc8f95a38> (a org.jboss.as.connector.subsystems.datasources.XaDataSourceService)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$1.run(AbstractDataSourceService.java:188)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

Found 1 deadlock.
{code}

I'll attach the full thread dump.",2019/02/12 10:04 PM
WFLY-12952,"MicroProfile Health 2.0 specification [link|https://github.com/eclipse/microprofile-health/blob/2.0/spec/src/main/asciidoc/protocol-wireformat.adoc] says:
* A producer MUST support custom, application level health check procedures
* A producer SHOULD support reasonable out-of-the-box procedures
* A producer with no health check procedures expected or installed MUST return positive overall status (i.e. HTTP 200)
* A producer with health check procedures expected but not yet installed MUST return negative overall status (i.e. HTTP 503)

When I deploy and application with a readiness probe before WildFly is started, from my and namely OpenShift POV the health check procedure is expected from the very beginning.
_Let me note that on OpenShift starting the served should mean starting the service._
Hence I expect negative overall status till the probe is ready and is able to provide response.

However WildFly with default setting responses with status UP:

{code:bash}
while true; do echo $(date +""%T.%3N"") ;  curl   localhost:9990/health/ready; echo """"; done

17:17:56.438 curl: (7) Failed to connect to localhost port 9990: Connection refused
17:17:56.452 curl: (7) Failed to connect to localhost port 9990: Connection refused
17:17:56.466 {""status"":""UP"",""checks"":[]}
...
17:18:01.121 {""status"":""UP"",""checks"":[]}
17:18:01.133 {""status"":""DOWN"",""checks"":[{""name"":""delayed-readiness"",""status"":""DOWN""}]}
{code}
This violates (4) bullet in the specification. 

WildFly provides option to set global Status when probes are not defined ([documentation|https://doc-stage.usersys.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/configuration_guide/index#global_statuses_undefined_probes])

Which would mean the scenario would behave according to the specification. Yet the default state violates it.

If the default value were _DOWN_ we would run into an issue if WildFly without deployment were used (for example as backup for AMQ). The status would be just DOWN:
{noformat}
17:22:41.719
{""status"":""DOWN"",""checks"":[]}
{noformat}
And that would violate (3) in the specification.
TCK tests do not cover the scenario well.

Is there a way to return _DOWN_ until WildFly scan a deployment and if no health check is found (thus not expected) then start to return _UP_ ? The scan should happen during MP Health initialization. 
If there is no deployment, the _UP_ it is.



Setting the priority to blocker since WildFly 19 shall be EAP 7.3.0.CD19 which is supposed to run on OpenShift. With this behavior health check is not very useful because:
* OpenShift starts the service wait some time and start asking for health status
* WildFly responses _UP_ yet application helathcheck is not installed yet
* With health status _UP_ OpenShift consider a pod ready
* In this point application is installed, health status is _DOWN_  (a DB is down) however OpenShift flow is somewhere else",2020/01/09 11:35 AM
WFLY-12794,"When JACC is enabled in an elytron application domain, calling a secured ejb method that has an array parameter causes an EjbAccessException.

The reason for the failure is that the EjbMethodPermissions created by the EjbJaccConfigurator and the JaccInterceptor do not agree in the format of the type names for method parameters. According to the JACC specification and API documentation, names for array types should have the ""canonical"" form: component-type + ""[]"". The permission objects built by the JaccInterceptor conform to that, but the EjbJaccConfigurator builds them with type names obtained from a ""MethodIdentifier"", and these names have the internal format as returned by Class.getName().",2019/11/14 12:07 PM
WFLY-11970,"SFSB tracks expiration with ""new Date().getTime()"" and ""System.currentTimeMillis()"".
But the expiration threads are scheduled (inside JDK classes) with System.nanoTime().

If the expiration task runs before the bean is considered expired, the expiration check fails and the bean is never expired.
",2019/04/10 5:33 PM
WFLY-12563,"Due to changes indroduced to fix bug WFLY-10796 it is no longer possible to configure wars embedded in ear to bundle jsf implementation.

Changes made in file JSFDependencyProcessor.java in commit 40f72548985a9f5ca31317b01a4a0ce09ee759aa 

From:
{code}
final DeploymentUnit tl = deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent();
String jsfVersion = JsfVersionMarker.getVersion(tl);
{code}

To:
{code}
String jsfVersion = JsfVersionMarker.getVersion(deploymentUnit);
{code}

modified the way jsf version is aquired. Before the change it was always taken from top level deployment. After it is taken directly from scanned deployment unit without searching in parent. Unfortunately there was no matching change in a way context params from web.xml are processed in JSFVersionProcessor:

{code}
final DeploymentUnit topLevelDeployment = deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent();
final WarMetaData metaData = deploymentUnit.getAttachment(WarMetaData.ATTACHMENT_KEY);

List<ParamValueMetaData> contextParams = new ArrayList<ParamValueMetaData>();

if ((metaData.getWebMetaData() != null) && (metaData.getWebMetaData().getContextParams() != null)) {
	contextParams.addAll(metaData.getWebMetaData().getContextParams());
}

for (final ParamValueMetaData param : contextParams) {
	if ((param.getParamName().equals(WAR_BUNDLES_JSF_IMPL_PARAM) &&
           (param.getParamValue() != null) &&
           (param.getParamValue().toLowerCase(Locale.ENGLISH).equals(""true"")))) {
        	JsfVersionMarker.setVersion(topLevelDeployment, JsfVersionMarker.WAR_BUNDLES_JSF_IMPL);
                break; // WAR_BUNDLES_JSF_IMPL always wins
         }

         if (param.getParamName().equals(JSF_CONFIG_NAME_PARAM)) {
                JsfVersionMarker.setVersion(topLevelDeployment, param.getParamValue());
                break;
         }
}
{code}

So the information about org.jboss.jbossfaces.WAR_BUNDLES_JSF_IMPL flag is only set in top level deployment unit.

This causes Mojarra-2.0 to be returned as jsf version during checks in JSFDependencyProcessor for embedded wars and leads to initialization of default mojarra implementation before bundled implementation is processed. As both implementations are loaded class conflicts occur and it is not possible to properly initialize jsf. In case of myfaces this leads to below error:

{code}
2019-09-16 10:46:23,405 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 86) MSC000001: Failed to start service jboss.deployment.subunit.""xxx.ear"".""yyy.war"".undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""xxx.ear"".""yyy.war"".undertow-deployment: java.lang.RuntimeException: java.lang.IllegalStateException: Could not find backup for factory javax.faces.application.ApplicationFactory. 
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: Could not find backup for factory javax.faces.application.ApplicationFactory. 
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
	... 8 more
Caused by: java.lang.IllegalStateException: Could not find backup for factory javax.faces.application.ApplicationFactory. 
	at javax.faces.FactoryFinderInstance.notNullFactory(FactoryFinderInstance.java:524)
	at javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:207)
	at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:279)
	at org.apache.myfaces.context.servlet.FacesContextImplBase.getApplication(FacesContextImplBase.java:159)
	at org.apache.myfaces.context.servlet.FacesContextImplBase.getELContext(FacesContextImplBase.java:210)
	at javax.faces.component.UIViewRoot.setLocale(UIViewRoot.java:1602)
	at org.apache.myfaces.webapp.AbstractFacesInitializer._createFacesContext(AbstractFacesInitializer.java:477)
	at org.apache.myfaces.webapp.AbstractFacesInitializer.initStartupFacesContext(AbstractFacesInitializer.java:449)
	at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:113)
	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:216)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
	... 10 more
{code}
",2019/09/16 7:59 AM
WFLY-14868,"Follow the steps in reproducer.zip README.md and verify everything is fine on one node. Lets change the reproducer to occure on 2 nodes cluster.

{code}
cp -a standalone node-1
cp -a standalone node-2
./bin/standalone.sh -c standalone-ha.xml -Djboss.server.base.dir=`pwd`/node-1 -Djboss.node.name=host1
./bin/standalone.sh -c standalone-ha.xml -Djboss.server.base.dir=`pwd`/node-2 -Djboss.node.name=host2 -Djboss.socket.binding.port-offset=100

#cluster was formed
#08:20:57,753 INFO [org.infinispan.CLUSTER] (MSC service thread 1-8) ISPN000094: Received new cluster view for channel ejb: [host1|1] (2) [host1, host2]

# Generate the load. It will acces port 8080, thus node-1
./jmeter.sh -n -t /path/to/reproducer/jmeter-testcase.jmx

# Kill the node-1 by Ctrl + C in node-1 terminal.
# You don't need to wait for previous step to be finished.
{code}

You can see on node-2 terminal sessions were rescheduled correctly

{code}
08:21:48,681 TRACE [org.wildfly.clustering.web.infinispan] (InfinispanSessionManager - 1) Session tYYEQST88BzExZLsCGdmBe9qdmwtPKRA6G86AziT will expire in 59719 ms
{code}

And seems expired as well correctly
{code}
08:22:48,400 TRACE [org.wildfly.clustering.web.infinispan] (SessionExpirationScheduler - 1) Expiring session tYYEQST88BzExZLsCGdmBe9qdmwtPKRA6G86AziT
 08:22:48,402 TRACE [org.wildfly.clustering.web.infinispan] (SessionExpirationScheduler - 1) Session tYYEQST88BzExZLsCGdmBe9qdmwtPKRA6G86AziT has expired.
 08:22:48,403 TRACE [org.wildfly.clustering.web.infinispan] (SessionExpirationScheduler - 1) Session tYYEQST88BzExZLsCGdmBe9qdmwtPKRA6G86AziT will be removed
{code}

However when verifying from other sources sessions seems still there

{\{./jmap-histo-check.sh <java_pid>}} stabilised on output
{code}
Mon Jun 7 08:46:34 AM CEST 2021
PID: 27682
# before GC --------------------------
 num #instances #bytes class name (module)
 16: 16000 384000 org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey
 781: 32 512 org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey
 782: 32 512 org.wildfly.clustering.web.infinispan.session.SessionCreationMetaDataKey
 783: 32 512 org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeNamesKey
--------------------------------------
# trigger GC to clean up for testing purpose 
27682:
Command executed successfully
# after GC ---------------------------
 num #instances #bytes class name (module)
 16: 16000 384000 org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey
 754: 32 512 org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey
 755: 32 512 org.wildfly.clustering.web.infinispan.session.SessionCreationMetaDataKey
 756: 32 512 org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeNamesKey
--------------------------------------
{code}

That list should be empty after all sessions expire succesfully.


Also keep getting 32 active sessions. Sessions does not invalidate. It should be zero.

{code}
http localhost:10090/metrics | grep jboss_undertow_active_sessions
# HELP jboss_undertow_active_sessions Number of active sessions
# TYPE jboss_undertow_active_sessions gauge
jboss_undertow_active_sessions\{deployment=""hello.war"",subdeployment=""hello.war"",microprofile_scope=""vendor""} 32.0
{code}",2021/06/07 8:19 PM
WFLY-14698,"Distributed web session ownership changes as a consequence of scaling up (or down) can result in session timouts, and their correspond events being triggered on a different member than the once that last handled requests for that session. Consequently, it is never safe for the server (nor application) to cache session scoped objects separately from references within the HttpSession itself.

org.jboss.as.web.common.WebInjectionContainer caches references to all created managed beans and their managed references in order to call ManagedReference.release(). This caching doesn't appear to be necessary - and causes a memory leak in the above scenario.",2021/04/12 8:32 PM
WFLY-14542,"When the distributed session manager is configured with a local, passivating cache; HttpSessionActivationListener events are triggered from an asynchronous @CacheEntryPassivated event.  Unfortunately, since this event is asynchronous, the series of cache lookups that it performs can undo the series of cache evictions happening concurrently.  This can result in cache entries being retained in memory that should otherwise have been passivated.

To fix this, we need to replace the approach used to reconstruct the session for use by the HttpSessionActivationListener.prePassivate(...) events such that is does not require a cache lookup.  Eviction of the entries associated with a given session is already achieved via cascading eviction events.
e.g.
creation meta data entry eviction event -> access meta data evict -> access meta data eviction event -> session attributes evict, etc.

We can preserve the event context across events by use of a concurrent map that is shared between session component factories.  Event context will be placed in the map on pre-event and removed on post-event.  We can then move the activation notification from the session manager itself to the last event listener in the chain of eviction event cascades.  This event listener can reconstruct the session from the contexts that were persisted along the way.",2021/03/09 11:04 AM
WFLY-14372,"See discussion on https://github.com/wildfly/wildfly/pull/13871

Do we have MetricsCollector collecting the container metrics multiple times?

I haven't thought hard about this, but doesn't the Stage.VERIFY collection in MetricsSubsystemAdd end up re-collecting all the deployment=* subtree metrics already collected in Stage.RUNTIME via DeploymentMetricProcessor/DeploymentMetricService? It walks the whole resource tree from the root.

If the MP Metrics subsystem is installed, isn't MicroProfileMetricsSubsystemAdd and that subsystem's DeploymentMetricProcessor/DeploymentMetricService also collecting the same set of metrics?

I'm filing this as a Task because maybe all that's needed is to investigate and answer those questions reporting that all is well. But if all isn't well this should converted to a Bug.

Also, as discussed on PR #13871, https://github.com/wildfly/wildfly/blob/22.0.0.Final/metrics/src/main/java/org/wildfly/extension/metrics/MetricCollector.java#L133-L134 is probably not the best idiom given the code is iterating over runtime-only resources, where the cost of hasChildren can be high.",2021/01/27 10:42 PM
WFLY-13628,"On cache topology changes, the distributed web/SFSB manager iterates over keys in memory to determine primary ownership changes. This is not sufficient for invalidation caches - which will not necessary contain those keys in memory that require rescheduling.

This has the consequence of leaking memory for abandoned sessions.

This also impacts replication caches that contain passivated entries.",2020/06/30 2:10 PM
WFLY-13690,"The problematic pattern:


{code:java}
BinaryRequirement requirement = ...;
ServiceName.parse(requirement.resolve(container, cache));
{code}
should be:
{code:java}
ServiceName.parse(requirement.getName()).append(container, cache);
{code}",2020/07/22 12:07 PM
WFLY-13825,"This is because the package name is actually ""org/wildfly/test/integration/microprofile/**/*TestCase.java"" and not ""org/jboss/as/test/integration/microprofile/**/*TestCase.java"".

Issue introduced in https://github.com/wildfly/wildfly/commit/1226bd825d0271fa72e7280257c85dc601a50fcd#diff-ec12efbf5a13385ba26a3162a8b61e72R452-R453",2020/09/04 11:05 AM
WFLY-13764,"When query caching is enabled, Infinispan's region factory should, by default, use the ""timestamps"" cache configuration for timestamps region - however, it currently defaults to the ""local-query"" cache configuration.

This is particularly problematic for HA configurations, which can cause applications to use a local-cache for timestamps (instead of a replicated-cache), resulting in stale queries being returned from the cache.",2020/08/11 4:52 PM
WFLY-13232,"{code:xml}
  <licenses>
    <license>
      <name>GNU Lesser General Public License v2.1 or later</name>
      <url>http://www.gnu.org/licenses/lgpl-2.1.html</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
{code}",2020/03/12 8:00 AM
WFLY-13168,"Now that invalidation caches perform entry locking via the primary owner, requests should retain affinity with the primary owner.  Otherwise, normal operations are prone to lock timeouts.",2020/02/27 6:43 AM
WFLY-13238,"Consider the following:

{code:java}
session.setAttribute(""foo"", new AtomicInteger(0));
AtomicInteger value = (AtomicInteger) session.getAttribute(""foo"");
value.incrementAndGet();
{code}

When request is receive on a non-primary owner, the above code does not correctly replicate the mutated value when using ATTRIBUTE granularity and the backing cache in non-transactional.",2020/03/13 9:35 AM
WFLY-13233,"A newly created session attribute after failover is lost in the subsequent session.getAttribute() invocations during the same request processing.

---

When a request is routed to the 2nd node in a failover scenario and a new session attribute is generated on the failover node, the newly stored session attribute is lost in the subsequent `session.getAttribute()` invocation during the same request. The subsequent `session.getAttribute()` invocation returns a different session attribute that does not store the expected data but contains data with an initial value.

Scenario:

1. Send a request to server1
   A new session is generated, but a session attribute is not yet created in this step.
   
2. failover happens and 2nd request is routed to server2 with the above session id.
   A new session attribute is created and set to the session in this step.

3. The newly created session attribute is not obtained from the subsequent ""session.getAttribute()"" during the **same** request processing of the step 3. 


This issue happens with the following configurations:

 - A web application has the ""ATTRIBUTE"" replication granularity in jboss-web.xml

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-web
        version=""7.1""
        xmlns=""http://www.jboss.com/xml/ns/javaee""
        xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
        xsi:schemaLocation=""http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_7_1.xsd"">
    <replication-config>
        <replication-granularity>ATTRIBUTE</replication-granularity>
    </replication-config>
</jboss-web>
{code}


 - `<transaction mode=""BATCH""/>` are disabled for the ""web"" cache in infinispan subsystem (like https://access.redhat.com/solutions/2776221)

{code}
        <subsystem xmlns=""urn:jboss:domain:infinispan:7.0"">
            ...
            <cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
                <transport lock-timeout=""60000""/>
                <distributed-cache name=""dist"">
                    <!-- <locking isolation=""REPEATABLE_READ""/> -->
                    <!-- <transaction mode=""BATCH""/> -->
                    <file-store/>
                </distributed-cache>
            </cache-container>
            ...
        </subsystem>
{code}


You can reproduce the issue locally with the attached reproducer. See also README.md in the reproducer.zip for details. 

It's a simple servlet application that stores Counter object as a session attribute. Also, it repeats ""session.getAttribute()"" and increment the counter during the one request processing. 

The following is the log message when the issue happens. The ERROR message happens when ""session.getAttribute()"" does not return the object which stores an expected value. 

{code}
23:13:50,068 INFO  [example.TestServlet] (default task-1) --------------------------------------------------------
23:13:50,070 INFO  [example.TestServlet] (default task-1) ### request uri = /example/test, session id = 8RkKVShBZwYLzLyUkipRZiJJG_SL-akKA_kizqLr
23:13:50,126 INFO  [example.TestServlet] (default task-1) ### session attribute [test] did not exist. create and set with a new object Counter [hashcode = 929940061, value = 0]. 
23:13:50,127 INFO  [example.TestServlet] (default task-1) ### test0: counter value = 0 , hashcode = 929940061
23:13:50,232 INFO  [example.TestServlet] (default task-1) ### test1: counter value = 0 , hashcode = 292552645
23:13:50,232 ERROR [example.TestServlet] (default task-1) ### unexpected counter value!! / actual = 0, expected = 1 
23:13:50,233 INFO  [example.TestServlet] (default task-1) ### test2: counter value = 1 , hashcode = 292552645
23:13:50,234 INFO  [example.TestServlet] (default task-1) ### test3: counter value = 2 , hashcode = 292552645
23:13:50,234 INFO  [example.TestServlet] (default task-1) ### test4: counter value = 3 , hashcode = 292552645
23:13:53,289 INFO  [example.TestServlet] (default task-2) --------------------------------------------------------
23:13:53,290 INFO  [example.TestServlet] (default task-2) ### request uri = /example/test, session id = 8RkKVShBZwYLzLyUkipRZiJJG_SL-akKA_kizqLr
23:13:53,290 INFO  [example.TestServlet] (default task-2) ### test0: counter value = 1 , hashcode = 1471200080
23:13:53,291 ERROR [example.TestServlet] (default task-2) ### unexpected counter value!! / actual = 1, expected = 4 
23:13:53,292 INFO  [example.TestServlet] (default task-2) ### test1: counter value = 2 , hashcode = 1471200080
23:13:53,292 INFO  [example.TestServlet] (default task-2) ### test2: counter value = 3 , hashcode = 1471200080
23:13:53,293 INFO  [example.TestServlet] (default task-2) ### test3: counter value = 4 , hashcode = 1471200080
23:13:53,294 INFO  [example.TestServlet] (default task-2) ### test4: counter value = 5 , hashcode = 1471200080
{code}
",2020/03/12 10:31 AM
WFLY-14441,"or where default currency cannot be determined.
See: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Currency.html#getInstance(java.util.Locale)

This was discovered via Weld's CI:
https://github.com/weld/core/suites/2049777383/artifacts/41289426",2021/02/16 11:46 AM
WFLY-14084,RemoteCache.withFlags(...) apparently only applies the given flag to the first cache operation. This causes calls to Session.setAttribute(...) and removeAttribute(...) to return null unexpectedly.,2020/11/17 3:21 PM
WFLY-14174,The temporary commit is using the wrong ID.,2020/12/07 9:01 AM
WFLY-13627,"Currently, distributed web sessions (and SFSBs) are expired on the primary owner of the session. For non-transactional invalidation caches expiration should always be scheduled locally. This used to be the case, however, the logic for determining this has changed such that expirations happen on the owner of segment 0.

This has the consequence of an RPC cost per request (and one after).",2020/06/30 1:59 PM
WFLY-13998,"Environment:
 - EAP 7.3.1 (on OpenShift 3.11)
 - 2 nodes cluster
 - replicated-cache (non-transactional + without locking) / Fine (ATTRIBUTE) replication-granularity
{code:java}
            <cache-container name=""web"" default-cache=""repl"" module=""org.wildfly.clustering.web.infinispan"">
                <transport lock-timeout=""60000""/>
                <replicated-cache name=""repl"">
                    <file-store/>
                </replicated-cache>
                ...
            </cache-container>
{code}

We have a customer who is facing $subject during their performance test. It resulted in frequent Full GC and they faced a node restart issue due to liveness probe failure which was caused by a long GC pause.

From the heap dump, we observed that org.infinispan.container.impl.DefaultDataContainer consumed most size of java heap, and many session attributes (org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey) remains in java.util.concurrent.ConcurrentHashMap$Node of the DefaultDataContainer.
{code:java}
Class Name                                                                       | Shallow Heap | Retained Heap
----------------------------------------------------------------------------------------------------------------
org.infinispan.cache.impl.CacheImpl @ 0x73448fe80                                |          136 |           216
|- dataContainer org.infinispan.container.impl.DefaultDataContainer @ 0x7344e0760|           56 | 2,312,535,136
----------------------------------------------------------------------------------------------------------------
{code}
{code:java}
Class Name                                                                                      | Shallow Heap | Retained Heap | Percentage
--------------------------------------------------------------------------------------------------------------------------------------------
org.infinispan.container.impl.DefaultDataContainer @ 0x7344e0760                                |           56 | 2,312,535,136 |     94.50%
|- java.util.concurrent.ConcurrentHashMap @ 0x73451bf38                                         |           64 | 2,312,534,992 |     94.50%
|  |- java.util.concurrent.ConcurrentHashMap$Node[262144] @ 0x7a14a8dc0                         |    1,048,592 | 2,312,534,840 |     94.50%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7b78ec4d8                              |           32 |    37,112,616 |      1.52%
|  |  |  |- org.infinispan.container.entries.ImmortalCacheEntry @ 0x7b78ec4c0                   |           24 |    37,112,560 |      1.52%
|  |  |  |- org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey @ 0x7b78fb778|           24 |            24 |      0.00%
|  |  |  '- Total: 2 entries                                                                    |              |               |           
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7ae9890a0                              |           32 |    30,468,664 |      1.25%
|  |  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7b87555a8                           |           32 |    30,437,152 |      1.24%
|  |  |  |- org.infinispan.container.entries.ImmortalCacheEntry @ 0x7ae989088                   |           24 |        31,288 |      0.00%
|  |  |  |- org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey @ 0x7ae981268|           24 |           192 |      0.00%
|  |  |  '- Total: 3 entries                                                                    |              |               |           
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7b895fd10                              |           32 |    30,437,152 |      1.24%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7b2ae44d8                              |           32 |    17,829,312 |      0.73%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7a17dd730                              |           32 |    15,605,776 |      0.64%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7bb547cf0                              |           32 |     7,160,408 |      0.29%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7c01fddc0                              |           32 |     6,673,264 |      0.27%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x79e5cd4e8                              |           32 |     3,770,088 |      0.15%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7bfda04c8                              |           32 |     2,561,448 |      0.10%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7a180f878                              |           32 |       164,592 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x76bebc9d8                              |           32 |       163,112 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7a173ea50                              |           32 |       162,152 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x796c33a38                              |           32 |       133,048 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x740c2cf20                              |           32 |       132,240 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x75019c790                              |           32 |       132,104 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x776181800                              |           32 |       131,960 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x76bf19e30                              |           32 |       131,680 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x756d67ff0                              |           32 |       131,360 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7a1840158                              |           32 |       131,304 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x76bf24e50                              |           32 |       131,224 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x7405a7228                              |           32 |       131,200 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x74379b930                              |           32 |       131,176 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x750fbd440                              |           32 |       130,960 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x748b6a050                              |           32 |       130,928 |      0.01%
|  |  |- java.util.concurrent.ConcurrentHashMap$Node @ 0x76a61c730                              |           32 |       130,624 |      0.01%
|  |  '- Total: 25 of 190,682 entries; 190,657 more                                             |              |               |           
{code}
active session keys are only 9 from the result of OQL:
{quote}select * from org.wildfly.clustering.web.infinispan.session.SessionCreationMetaDataKey
 -> 9 entries
 select * from org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey
 -> 9 entries
{quote}
However, there are much more remaining session attributes than expected:
{quote}select * from org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey
 -> 119,741 entries
{quote}
----

After internal investigation, we found this is a thread safety problem in org.wildfly.clustering.web.cache.session.fine.FineSessionAttributes. The new request invalidates the session and removes the attributes from the cache correctly. But the previous request is still running mutators in close() with a cached copy of the mutations list, and adds it again. This results in a memory leak.",2020/10/22 1:08 PM
WFLY-13965,"For example, a replicated-cache has a capability constraint on a JGroups transport. However, the following operation does not fail, even though a /subsystem=infinispan/cache-container=server/transport=jgroups resource was not defined:
{noformat}
[standalone@embedded /] /subsystem=infinispan/cache-container=server/replicated-cache=foo:add()
ResourceCapabilityReference.addCapabilityRequirements(/subsystem=infinispan/cache-container=server/replicated-cache=foo, null,[]
{""outcome"" => ""success""}
{noformat}",2020/10/13 3:22 PM
WFLY-12266,"As a marshalling optimization, the last access duration of a session (i.e. the duration of time since the session was created) is stored with second precision (since session timeouts only have second precision).  However, we assume that a given distributed session is ""new"" if its last access duration is 0.  When the backing cache is transactional, we don't perform any mutations when a new session is closed.  Thus if a request arrives < 1 second after a session was created, any changes will not be replicated.  Given the prevalence of redirects after a session is created, it is not unlikely that users will encounter this problem.

Essentially, the existing code assumes that Duration.ofSeconds(0) != Duration.ZERO. Unfortunately, this is false.",2019/07/01 2:57 PM
WFLY-11755,"AcmeResourceHandler is using String.matches(String) to check if it needs to handle a request, which results in per-request allocations.

At minimum this should use a precompile Pattern. That still results in per-request allocation of a Matcher though.",2019/02/20 11:25 AM
WFLY-12651,"During testing, we collected jmap -clstats to see what existed.

What we saw was:
total = 311741
alive=1, dead=311740

Of those 311750, 310687 of them are unique ModuleClassLoaderLocator$CombinedClassLoader with the same parent 0x0000000730aa98b8

0x000000074db04db0 0 0 0x0000000730aa98b8 dead org/jboss/as/security/plugins/ModuleClassLoaderLocator$CombinedClassLoader@0x00000007f0f58650

Because they're dead, this is not a leak - but it shows what a new CL is created for every single request which is a huge performance hit.

The new classloading behaviour is introduced into 7.1 by https://issues.jboss.org/browse/SECURITY-930 / https://issues.jboss.org/browse/JBEAP-6559

From https://github.com/jbossas/jboss-eap7/pull/925/files#diff-a8665415b9dad304db6f5383c52841dfR218

} else
{ mappingInfo.addJBossModuleName(DEFAULT_MODULE); }

}

The call(s) to ClassLoaderLocatorFactory.get() check for !jbossModuleNames.isEmpty() but because we now explicitly set the default module, it's never not empty so it gets called on every request.

ClassLoader moduleCL = null;
List<String> jbossModuleNames = jai.getJBossModuleNames();
if (!jbossModuleNames.isEmpty())
{ ClassLoaderLocator locator = ClassLoaderLocatorFactory.get(); if (locator != null) moduleCL = locator.get(jbossModuleNames); } ",2019/10/08 9:32 AM
WFLY-13008,"It appears that {{TCPPING}} is unreliable with default {{num_discovery_runs=""1""}} and results in singleton clusters and subsequent merging as can be seen when running the clustering testsuite using TCPPING instead of MPING.",2020/01/23 5:26 AM
WFLY-12755,EE Security is unusable without CDI,2019/11/05 6:53 AM
WFLY-12530,"A doPrivileged is required for the following error: -

{noformat}
Permission check failed (permission ""(""java.security.SecurityPermission"" ""getProperty.authconfigprovider.factory"")"" in code source ""(vfs:/content/some_deployment.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""somedeployment.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.config.AuthConfigFactory.checkPermission(AuthConfigFactory.java:166)
	at javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:201)
	at org.wildfly.extension.undertow.security.jaspi.JASPICSecurityContext.logout(JASPICSecurityContext.java:114)
	at io.undertow.servlet.spec.HttpServletRequestImpl.logout(HttpServletRequestImpl.java:505)
{noformat}

The deployment is invoking a standard servlet API however it's ProtectionDomain is being taken into account for the inner details of implementation.

A deployment could require these permissions if interacting with the JASPI APIs directly however it should not require these permissions to interact with the Servlet APIs and the JASPI interaction becomes an implementation detail.
",2019/09/10 10:37 AM
WFLY-11710,"The metrics subsystem install a service at RUNTIME to register any metrics on the resources registered in WildFly management tree.

However, the metrics for datasources are provided by the statistics=jdbc and statistics=pool children of the datasource resource which are installed at RUNTIME.

Since there is no dependency between the metrics service and the service that installs the datasource statistics, it is possible that the metrics services is started before and while traverse the WildFly management tree before the statistics resources are added to it.

This issue is intermittent and depend on the sequence of execution of unrelated services.

To circumvent this issue, the metrics subsystem could install its service at VERIFY stage (instead of RUNTIME) and will then have the guarantee that any resources created at RUNTIME is present in WildFly management tree.",2019/02/13 8:45 AM
WFLY-11884,"Consider the following code:

AtomicInteger value = new AtomicInteger(1);
session.setAttribute(""a"", value);
value.incrementAndGet();

On failover, the value of attribute ""a"" will still be 1.",2019/03/20 6:24 PM
WFLY-12058,"WFLY-11186 deprecated WeldDeploymentMarker and WeldPortableExtensions, yet it also broken at least
WeldDeploymentMarker.isPartOfWeldDeployment(deploymentUnit) and WeldPortableExtensions.getPortableExtensions(deploymentUnit).registerExtensionInstance(new PortableExtension(deploymentUnit), deploymentUnit), which are not working as expected. ",2019/05/09 5:35 AM
WFLY-11897,"There is a timing bug where SFSB expiration can run while the SFSB is still locked, causing the expiration to fail and never retry, leaving the SFSB active indefinitely.
",2019/03/24 10:17 AM
WFLY-12139,"Consider the following code:

AtomicInteger value = new AtomicInteger(1);
session.setAttribute(""a"", value);
value.incrementAndGet();

On failover, the value of attribute ""a"" will still be 1.",2019/05/29 6:01 PM
WFLY-12148,"Currently, the hotrod-based session manager uses the l1 configuration of the associated remote-cache-container to determine the number of entries to retain in memory.  This has the following drawbacks:

* any configured max-active-sessions (from jboss-web.xml) is ignored
* the remote cache for each deployment of a given remote-cache-container will use the same configuration
* the value does not reflect the number of sessions, but, rather, the number of cache entries, which requires the user to be familiar with how sessions are mapped to the cache, which itself depends on the configured granularity.

In order to align this behavior with the other session manager implementations, L1 should be configured per remote cache based on the value specified by max-active-sessions.  This requires several changes:

* Add the ability to override the near cache implementation per remote cache
* Create a custom NearCache<K, V> implementation configured with a custom Caffeine cache configured with a custom weigher, similar to how max-active-session is implemented via a custom data container.
* Add listener mechanism to support cascading of L1 invalidations to dependent entries",2019/05/30 4:33 PM
WFLY-14387,"Resource adapters subsystem supports expression for wm-security:

{code:java}
 ""wm-security"" => {
                ""type"" => BOOLEAN,
                ""description"" => ""Toggle on/off wm.security for this resource adapter. In case of false all wm-security-* parameters are ignored, even the defaults."",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => false,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },

{code}

however it fails to marshall it:
{code}
/subsystem=resource-adapters/resource-adapter=generic-jms-ra.rar:write-attribute(name=wm-security, value=${test:false})
{code}
{code:java}
22:03:35,638 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0008: Failed to persist configuration change: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0084: Failed to marshal configuration
	at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.<init>(AbstractFilePersistenceResource.java:53)
	at org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource.<init>(ConfigurationFilePersistenceResource.java:46)
	at org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.store(BackupXmlConfigurationPersister.java:120)
	at org.jboss.as.controller.ModelControllerImpl.writeModel(ModelControllerImpl.java:728)
	at org.jboss.as.controller.OperationContextImpl.createPersistenceResource(OperationContextImpl.java:535)
	at org.jboss.as.controller.AbstractOperationContext.executeDoneStage(AbstractOperationContext.java:821)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:770)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:468)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1415)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:431)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:248)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:304)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:248)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:513)
Caused by: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0089: Failed to write configuration
	at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:112)
	at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.<init>(AbstractFilePersistenceResource.java:46)
	... 30 more
Caused by: java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.asBoolean(ModelValue.java:69)
	at org.jboss.dmr.ModelNode.asBoolean(ModelNode.java:324)
	at org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterSubsystemParser.writeRaElement(ResourceAdapterSubsystemParser.java:183)
	at org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterSubsystemParser.writeContent(ResourceAdapterSubsystemParser.java:148)
	at org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterSubsystemParser.writeContent(ResourceAdapterSubsystemParser.java:130)
	at org.jboss.as.server.parsing.CommonXml.writeSubsystems(CommonXml.java:281)
	at org.jboss.as.server.parsing.StandaloneXml_16.writeServerProfile(StandaloneXml_16.java:830)
	at org.jboss.as.server.parsing.StandaloneXml_16.writeContent(StandaloneXml_16.java:760)
	at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:151)
	at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:52)
	at org.jboss.staxmapper.XMLMapperImpl.doDeparse(XMLMapperImpl.java:96)
	at org.jboss.staxmapper.XMLMapperImpl.deparseDocument(XMLMapperImpl.java:91)
	at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:106)
	... 31 more

{code}

The error is caused by [1] where the parser does not resolve an expression but try to read is as boolean.

[1] https://github.com/wildfly/wildfly/blob/22.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/resourceadapters/ResourceAdapterSubsystemParser.java#L183",2021/02/02 4:08 PM
WFLY-13043,"There is apparently a bug in the implementation of the ManagedScheduledExecutorService, more specifically when using the inherited method of the ScheduledExecutorService, [scheduleWithFixedDelay|https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)]. On its javadoc it is stated ""If any execution of the task encounters an exception, subsequent executions are suppressed."".

When [this code|https://github.com/kopcheski/managed-scheduled-executor/blob/master/src/main/java/org/example/MyExecutor.java] is executed in any Wildfly from 10 to 18, the task is kept alive in the scheduler after an exception is thrown and subsequent calls will happen anyway, contradicting the javadoc.

To add evidences of a misbehavior, I did two extra checks:

1. Running the exact same code in another JavaEE server (Payara);
2. Using plain JavaSE with the ScheduledExecutorService.

In both cases, after an exception being thrown, subsequent executions of it are - as the javadoc states - suppressed.
",2020/01/30 3:12 PM
WFLY-12816,The license files are not provisioned when galleon provision a server from layers.,2019/11/21 9:04 AM
WFLY-12964,"The following fixes in Hibernate ORM 5.3.15.Final cause {{org.jboss.as.test.integration.jpa.cfgfile.CfgFileTestCase}} to fail:

https://hibernate.atlassian.net/browse/HHH-13432
https://hibernate.atlassian.net/browse/HHH-12858

There are 2 assertions in the test that fail with those fixes because the Map returned by {{EntityManagerFactory#getProperties}}:
1) does not contain a value for property {{hibernate.connection.driver_class}}.
2) contains a property for {{hibernate.connection.datasource}} that is a {{WildFlyDataSource}} instance, instead of the String {{""java:jboss/datasources/ExampleDS""}}.

For 1), Hibernate ORM removes the {{hibernate.connection.driver_class}} property from its copy because it makes no sense when a datasource is provided via {{hibernate.connection.datasource}}.

For 2), Hibernate ORM replaces the {{String}} value for {{hibernate.connection.datasource}} with the {{WildFlyDataSource}} instance.

I reviewed the JPA 2.2 specification and discussed this issue with [~smarlow@redhat.com], and we agreed that these were acceptable changes to the copy of properties that Hibernate ORM contains.

I have confirmed that these fixes do not cause any Jakarta standalone TCK failures.

The fix will involve replacing references to those properties with properties that Hibernate ORM does not change.",2020/01/14 2:15 PM
WFLY-14298,"In wildfly 21, I used to put these lines into the standalone-full-ha.xml:

<extension module=""org.wildfly.extension.microprofile.fault-tolerance-smallrye""/>
...
<subsystem xmlns=""urn:wildfly:microprofile-fault-tolerance-smallrye:1.0""/>

If I put those lines into the standalone-full-ha.xml of Wildfly 22 I get the following error when deploying an appliction that uses fault-tolerance:

WELD-001408: Unsatisfied dependencies for type MetricRegistry with qualifiers @Default
@Inject io.smallrye.faulttolerance.metrics.MetricsCollectorFactory.registry



I already have these lines in the standalone:

<extension module=""org.wildfly.extension.metrics""/>
<extension module=""org.wildfly.extension.health""/>



Is there something else I need to add in the standalone in order to keep using fault-tolerance in Wildfly 22?",2021/01/15 8:35 AM
WFLY-14971,"Working theory:

The ServiceProviderRegistry used to instrument singleton services/deployments currently relies on JGroups membership changes to initiate crash/merge handling. Unfortunately, these events can be triggered before Infinispan updates its cache topology resulting in intermittent timing issues. Switching to Infinispan TopologyChanged events should solve the problem.",2021/07/02 5:47 PM
WFLY-14121,"Customer from case 02568618 identified that starting/restarting server (domain mode) in suspended mode is enabling contexts to mod_cluster.

With the change fromJiraJBEAP-18610 the application contexts from running servers that are suspended are DISABLED/STOPPED from mod_cluster. 
 When using the following commands:
{code:java}
[domain@localhost:9990 /] /host=master/server=server-one:suspend()
[domain@localhost:9990 /] /server-group=main-server-group:suspend-servers()
{code}
But the application contexts are started as ENABLED when starting a stopped server or restarting a running server in suspended mode. When using the following commands:
{code:java}
[domain@localhost:9990 /] /host=master/server-config=server-one:restart(start-mode=suspend)
[domain@localhost:9990 /] /host=master/server-config=server-one:start(start-mode=suspend)
{code}
and in the standalone mode (contexts are ENABLED to mod_cluster):
{code:java}
sh standalone.sh -c standalone-ha.xml  --start-mode=suspend
{code}
The customer request is to start the application contexts as DISABLED/STOPPED when starting a server in suspended mode.


 After discussing with Chao Wang, he suggested to open this Jira for discussion. Could it be a feature request ?",2020/11/25 8:37 AM
WFLY-13044,"There are a problem while two constraints are limiting the access to the same resource with extensin patterns and exact pattern. 

In our web.xml we have two constraints. One limiting the access to all resources and other allowing access to certain files. 

This is the web.xml to test the error:

 !image-2020-01-31-10-28-27-872.png|thumbnail! 

The problem happens when the ""*\**.htm"" is evaluated inside of the jboss-jacc-api_1.5 lib. It tries to match ""/index.html"" against ""*\**.htm"" pattern, when the *""implies""* function returns false, it throws the exception. 

The log is: 


{code:java}
2020-01-30 18:44:38,293 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 77) WFLYUT0021: Registered web context: '/issue-reproducer-1.0.0.Final-SNAPSHOT' for server 'default-server'
2020-01-30 18:44:38,302 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.""issue-reproducer-1.0.0.Final-SNAPSHOT.war"".jboss.security.jacc: org.jboss.msc.service.StartException in service jboss.deployment.unit.""issue-reproducer-1.0.0.Final-SNAPSHOT.war"".jboss.security.jacc: WFLYSEC0012: Unable to start the JaccService service
	at org.jboss.as.security.service.JaccService.start(JaccService.java:107)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Invalid exact pattern in URLPatternList
	at javax.security.jacc.URLPatternSpec.setURLPatternArray(URLPatternSpec.java:314)
	at javax.security.jacc.URLPatternSpec.<init>(URLPatternSpec.java:79)
	at javax.security.jacc.WebResourcePermission.<init>(WebResourcePermission.java:160)
	at org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:287)
	at org.wildfly.extension.undertow.security.jacc.WarJACCService.createPermissions(WarJACCService.java:64)
	at org.jboss.as.security.service.JaccService.start(JaccService.java:86)
	... 8 more
{code}

I add a test project and the complete log in my environment.

With Wildfly 17 there are not error. ",2020/01/31 8:35 AM
WFLY-14423,"Performing:

/subsystem=security:write-attribute(name=initialize-jacc, value=false)
/subsystem=elytron/policy=jacc:add(jacc-policy={})
reload

Generates:
-------------------------------------
Operation: /subsystem=elytron/policy=jacc:add(jacc-policy={})
Failure: {""WFLYCTL0080: Failed services"" => {""org.wildfly.security.policy"" => ""java
.lang.RuntimeException: WFLYELY01024: Failed to register policy context handlers
Caused by: java.lang.RuntimeException: WFLYELY01024: Failed to register policy
context handlers
Caused by: java.lang.IllegalStateException: WFLYELY01069: Invalid javax.securit
y.jacc.PolicyConfigurationFactory loaded, expected org.wildfly.security.authz.jacc.
ElytronPolicyConfigurationFactory but received org.jboss.security.jacc.JBossPolicyC
onfigurationFactory.""}}
-------------------------------------



This is WFLY part of https://issues.redhat.com/browse/WFCORE-5272.The legacy security system should set server state to restart-required.",2021/02/11 7:57 AM
WFLY-12905,"jboss.org will start redirecting http to https , while JBoss should not have an issue if deployment descriptors are referencing http when they get redirected, we have seen some frameworks do have an issue. So it would be better if our schemas tell users to use the https for the schema.",2019/12/20 2:10 AM
WFLY-13074,"When a server that is running is suspended, the application contexts are stopped: 
{code:java}
2020-01-31 09:27:47,548 DEBUG [org.jboss.modcluster] (ServerService Thread Pool -- 6) MODCLUSTER000008: Received stop context event for default-host:/appname
2020-01-31 09:27:47,548 DEBUG [org.jboss.modcluster] (ServerService Thread Pool -- 6) MODCLUSTER000010: Sending DISABLE-APP for default-host:/appname
2020-01-31 09:27:47,550 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 6) MODCLUSTER000021: All pending requests drained from default-host:/appname in 0.0 seconds
{code}

From undertow loadbalancer:
{code:java}
2020-01-31 09:24:55,828 DEBUG [io.undertow] (default task-1) UT005057: Sending MCMP response to destination: /127.0.0.1:44386, HTTP status: 200, Headers: {Content-Type=[text/plain; charset=ISO-8859-1]}, response: Type=STOP-APP-RSP,JvmRoute=slave:server1Alias=default-host,localhostContext=/appnameRequests=0
{code}

But if a server is started as suspended, the contexts are enabled:
{code:java}
2020-01-31 09:34:10,570 DEBUG [org.jboss.modcluster] (ServerService Thread Pool -- 81) MODCLUSTER000005: Received add context event for default-host:/appname
2020-01-31 09:34:10,570 DEBUG [org.jboss.modcluster] (ServerService Thread Pool -- 81) MODCLUSTER000007: Received start context event for default-host:/appname
{code}
",2020/02/09 9:03 PM
WFLY-13088,"The `ejb:` binding should not be logged if the EJB does not implement the Remote interface.
The `ejb:` is a message that gives the lookup path for an EJB with a remote interface, it should only be logged if the java:jboss/exported binding is logged as these are basically the same.

EJBs that only implement a Local interface or EJBs with No interface view should not log the ejb:

20:15:02,699 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-8) WFLYEJB0473: JNDI bindings for session bean named 'HelloBean' in deployment unit 'deployment ""local.jar""' are as follows:

	java:global/local/HelloBean!test.HelloLocal
	java:app/local/HelloBean!test.HelloLocal
	java:module/HelloBean!test.HelloLocal
	ejb:/local/HelloBean!test.HelloLocal
	java:global/local/HelloBean
	java:app/local/HelloBean
	java:module/HelloBean
20:15:53,450 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-5) WFLYEJB0473: JNDI bindings for session bean named 'HelloBean' in deployment unit 'deployment ""no-interface.jar""' are as follows:

	java:global/no-interface/HelloBean!test.HelloBean
	java:app/no-interface/HelloBean!test.HelloBean
	java:module/HelloBean!test.HelloBean
	ejb:/no-interface/HelloBean!test.HelloBean
	java:global/no-interface/HelloBean
	java:app/no-interface/HelloBean
	java:module/HelloBean",2020/02/13 2:49 AM
WFLY-13307,"According to the EJB contract a SFSB invocation is exclusive and the same instance can not be used concurrent.
If done the invocation will wait to get the Lock for this and fail if the request takes too long.

In case of a simple unclustered profile this is working and the exception is this:
Exception in thread ""main"" javax.ejb.ConcurrentAccessTimeoutException: WFLYEJB0228: EJB 3.1 FR 4.3.14.1 concurrent access timeout on SimpleStatefulBean - could not obtain lock within 5000 MILLISECONDS

In case of a clustered server environment this is hidden by Infinispan ERROR
Exception in thread ""main"" javax.ejb.EJBException: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key InfinispanBeanKey(UUIDSessionID [634883dc-e8a3-452e-ac15-d9a4ad6856e9]) and requestor GlobalTx:t460:7. Lock is held by GlobalTx:t460:6
",2020/03/30 5:06 PM
WFLY-13308,"{{wildfly-ejb-client-bom}} is defined as having version {{${ee.maven.version}}}, but the main codebase does not produce this artifact.",2020/03/31 4:31 AM
WFLY-13495,"We get the follwing error when handling PATCH requests (we are using JDK8 on RHEL7):

{noformat}
10:23:52,492 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /StudentPatchTest/students/1: java.lang.NoClassDefFoundError: Failed to link com/github/fge/jsonpatch/JsonPatchMessages (Module ""com.github.fge.json-patch"" version 1.9.0.redhat-00002 from local module loader @5f2108b5 (finder: local module finder @31a5c39e (roots: /home/tborgato/tmp/jboss-eap-7.4/modules,/home/tborgato/tmp/jboss-eap-7.4/modules/system/layers/microprofile,/home/tborgato/tmp/jboss-eap-7.4/modules/system/layers/base,/home/tborgato/tmp/jboss-eap-7.4/modules/system/add-ons/spring))): com/github/fge/msgsimple/load/MessageBundleLoader
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at com.github.fge.jsonpatch.JsonPatch.<clinit>(JsonPatch.java:95)
	at org.jboss.resteasy.plugins.providers.jackson.PatchMethodFilter.filter(PatchMethodFilter.java:88)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:306)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:387)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:356)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:329)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:356)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:227)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
{noformat}

To reproduce deploy attached app.war; 
It's taken from RestEasy test org.jboss.resteasy.test.resource.patch.StudentResource and the code handling the PATCH request is the following:

{code}
	   @PATCH
	   @Path(""/{id}"")
	   @Consumes(MediaType.APPLICATION_JSON_PATCH_JSON)
	   @Produces(MediaType.APPLICATION_JSON)
	   public Student patchStudent(@PathParam(""id"") long id, Student student)
	   {
	      if (studentsMap.get(id) == null)
	      {
	         throw new NotFoundException();
	      }
	      studentsMap.put(id, student);
	      return student;
	   }
{code}

Then create the entity:

{code}
	curl --location --request POST 'http://localhost:8080/app/students' \
		--header 'Content-Type: application/json' \
		--header 'Content-Type: text/plain' \
		--data-raw '{""id"":""1"",""firstName"":""Jones"",""school"":""SomeVeryImportantSchool""}'
{code}

Finally patch the entity and you get the error:

{code}
	curl --location --request PATCH 'http://localhost:8080/app/students/1' \
		--header 'Content-Type: application/json-patch+json' \
		--header 'Content-Type: text/plain' \
		--data-raw '[{""op"":""copy"",""from"":""/firstName"",""path"":""/lastName""},{""op"":""replace"",""path"":""/firstName"",""value"":""John""},{""op"":""remove"",""path"":""/school""},{""op"":""add"",""path"":""/gender"",""value"":""male""}]'
{code}",2020/05/20 6:32 AM
WFLY-13386,"When a timer is reloaded for the first time in other node there are no listeners attached to it causing this problem (only in cluster environments with db timers)

{code}
2020-04-15 16:43:57,733 WARN  [org.jboss.as.ejb3.timer] (Timer-1) WFLYEJB0161: Failed to reinstate timer 'kie-server.kie-server.EJBTimerScheduler' (id=33170e5f-3b34-4503-8796-9b5e6871c074) from its persistent state: java.lang.NullPointerException
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence$RefreshTask.run(DatabaseTimerPersistence.java:851)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
{code}",2020/04/17 4:23 AM
WFLY-13545,"When deploying a WAR which contains a JAX-RS resource class which is declaring  a locator that is supposed to return the resource class itself - i.e. {{this}} - the depoyment fails with a {{StackOverflowError}}.
The annotation scanner loops until the stack overflow happens because it tries to process the JAX-RS resource class recursively and maybe the process tself should be protected against this case.

The following stack trace represents the output of a deployment failure when an attempt to deploy a WAR with such a resource:

{code}
at org.jboss.logging@3.4.1.Final-redhat-00001//org.jboss.logging.Logger.getLogger(Logger.java:2490)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.dataobject.DataObjectDeque.<init>(DataObjectDeque.java:38)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiDataObjectScanner.<init>(OpenApiDataObjectScanner.java:138)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiDataObjectScanner.process(OpenApiDataObjectScanner.java:163)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.util.SchemaFactory.typeToSchema(SchemaFactory.java:360)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.createResponseFromJaxRsMethod(OpenApiAnnotationScanner.java:924)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsMethod(OpenApiAnnotationScanner.java:688)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.lambda$processJaxRsResourceClass$0(OpenApiAnnotationScanner.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1603)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsResourceClass(OpenApiAnnotationScanner.java:420)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsSubResource(OpenApiAnnotationScanner.java:511)
        at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsResourceClass(OpenApiAnnotationScanner.java:426)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsSubResource(OpenApiAnnotationScanner.java:511)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsResourceClass(OpenApiAnnotationScanner.java:426)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsSubResource(OpenApiAnnotationScanner.java:511)
...
{code}

The failure was initially noticed during RESTEasy tests against EAP XP 1.0.0 CR1 and CR2.
The SmallRye OpenAPI versions that I tested this against are 1.1.21 and 1.1.22.",2020/06/01 5:03 PM
WFLY-13547,"Deployment of WAR containing JAX-RS resource classes which define methods accepting parameters of type {{SortedSet}} will fail with a NPE.
{{SortedSet}} is allowed by JAX-RS spec: https://docs.oracle.com/javaee/7/api/javax/ws/rs/FormParam.html 

The following stack trace represents the output of a deployment failure when an attempt to deploy a WAR with such a resource:

{code}
Caused by: java.lang.NullPointerException
	at io.smallrye.openapi.runtime.scanner.ParameterProcessor.setSchemaProperties(ParameterProcessor.java:637)
	at io.smallrye.openapi.runtime.scanner.ParameterProcessor.getFormBodyContent(ParameterProcessor.java:605)
	at io.smallrye.openapi.runtime.scanner.ParameterProcessor.process(ParameterProcessor.java:404)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.processJaxRsMethod(OpenApiAnnotationScanner.java:577)
	at io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner.lambda$processJaxRsResourceClass$0(OpenApiAnnotationScanner.java:422)
...
{code}

The failure was initially noticed while testing RESTEasy against EAP XP 1.0.0 CR1 and CR2.",2020/06/01 5:13 PM
WFLY-13587,"This was spotted while running RESTEasy test suite against EAP XP 1.0.0 CR1 and CR2.
Initially it seemed that the specific test case [1] was failing due to the same root cause of those tracked by the following issue:

* https://issues.redhat.com/browse/JBEAP-19600
 
Eventually it turned out that the changes to fix the above mentioned issue didn't solve this specific test case failures and a deeper investigation was done, see [2].

Specifically a strange behavior is represented by the fact that the reproducer built manually by using the same resources used by the test case could be deployed successfully while the WAR archive generated by Arquillian in the RESTEasy TS was failing to deploy regularly.

The investigation detailed at https://github.com/smallrye/smallrye-open-api/issues/353#issuecomment-639556113 provided evidence that there are some cases in which the parameter schema would be set to null, so the issue [2] was created upstream.

[1]
https://github.com/resteasy/Resteasy/blob/3.11/testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/form/Resteasy1405Test.java

[2]
https://github.com/smallrye/smallrye-open-api/issues/359",2020/06/11 2:58 PM
WFLY-13832,"When deploying an EAR file which has a sub deployment that uses CXF annotation classes a warning is logged that looks like this:

WFLYWS0065: Annotation '@org.apache.cxf.interceptor.OutInterceptors' found on class 'de.comdirect.application.mt.wsexample.server.SimpleWsServiceWS'. Perhaps you forgot to add a 'org.apache.cxf' module dependency to your deployment?

If you declare a dependency on org.apache.cxf in the sub-deployment, the warning is not logged. However, if you declare the org.apache.cxf dependency at the EAR level with export=true you still get the message even though the CXF module should be visible.

I tracked down the class org.jboss.as.webservices.deployers.WSClassVerificationProcessor located in the org/jboss/as/webservices/main/wildfly-webservices-server-integration-7.3.0.GA-redhat-00004.jar

In this class there is a method which logs this message, plus an additional related method:


 private void verifyApacheCXFModuleDependencyRequirement(DeploymentUnit unit) {
 if (!hasCxfModuleDependency(unit)) {
 
 CompositeIndex index = (CompositeIndex)unit.getAttachment(Attachments.COMPOSITE_ANNOTATION_INDEX);
 DotName[] dotNames = \{ DotNames.WEB_SERVICE_ANNOTATION, DotNames.WEB_SERVICE_PROVIDER_ANNOTATION };
 for (DotName dotName : dotNames) {
 for (AnnotationInstance ai : index.getAnnotations(dotName)) {
 AnnotationTarget at = ai.target();
 if (at instanceof ClassInfo) {
 ClassInfo clazz = (ClassInfo)ai.target();
 for (DotName dn : clazz.annotations().keySet()) {
 if (dn.toString().startsWith(""org.apache.cxf"")) {
 WSLogger.ROOT_LOGGER.missingModuleDependency(dn.toString(), clazz.name().toString(), ""org.apache.cxf"");
 }
 } 
 } 
 } 
 } 
 } 
 }

private static boolean hasCxfModuleDependency(DeploymentUnit unit) {
 ModuleSpecification moduleSpec = (ModuleSpecification)unit.getAttachment(Attachments.MODULE_SPECIFICATION);
 for (ModuleDependency dep : moduleSpec.getUserDependencies()) {
 String id = dep.getIdentifier().getName();
 if (cxfExportingModules.contains(id)) {
 return true;
 }
 } 
 return false;
 }

The hasCxfModuleDependency() method checks a list of dependencies called userDependencies looking to see if there is an ""org.apache.cxf"" entry in the list.

However, there is more than one list of module dependencies which are part of moduleSpec.

private final List<ModuleDependency> systemDependencies = new ArrayList();
 private final List<ModuleDependency> localDependencies = new ArrayList();
 private final List<ModuleDependency> userDependencies = new ArrayList();

I think when you have an exported dependency from the EAR level it may be part of one of the other dependency lists rather than in userDependencies, so what we have is well-meaning code that tries to check and make sure you have the right dependency to support your annotation (because normally missing annotation classes just fail silently so a check is useful to have), but I think it doesn't check everywhere that it should.

Since the EAP 7.3.1 patch just came out, I installed that and repeated the test but there was no difference.",2020/09/09 8:25 AM
WFLY-13698,"Caused by: java.lang.NullPointerException
  at org.jboss.modules.DependencySpec.createModuleDependencySpec(DependencySpec.java:637) [jboss-modules.jar:1.8.9.Final-redhat-00001]
  at org.jboss.modules.DependencySpec.createModuleDependencySpec(DependencySpec.java:593) [jboss-modules.jar:1.8.9.Final-redhat-00001]
  at org.jboss.as.server.deployment.module.ModuleSpecProcessor.createDependencies(ModuleSpecProcessor.java:346) [wildfly-server-6.0.27.Final-redhat-00001.jar:6.0.27.Final-redhat-00001]
  at org.jboss.as.server.deployment.module.ModuleSpecProcessor.createModuleService(ModuleSpecProcessor.java:236) [wildfly-server-6.0.27.Final-redhat-00001.jar:6.0.27.Final-redhat-00001]
  at org.jboss.as.server.deployment.module.ModuleSpecProcessor.deployModuleSpec(ModuleSpecProcessor.java:130) [wildfly-server-6.0.27.Final-redhat-00001.jar:6.0.27.Final-redhat-00001]
  at org.jboss.as.server.deployment.module.ModuleSpecProcessor.deploy(ModuleSpecProcessor.java:82) [wildfly-server-6.0.27.Final-redhat-00001.jar:6.0.27.Final-redhat-00001]
  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144) [wildfly-server-6.0.27.Final-redhat-00001.jar:6.0.27.Final-redhat-00001]
  ... 8 more",2020/07/24 5:15 AM
WFLY-13647,"In this case, of an EJB class, we are able to see that it is something in the EJB class, though it would be useful to indicate the annotation or class that is missing:


{code:java}
14:50:45,052 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""test.war"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""test.war"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment ""test.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0466: Failed to process business interfaces for EJB class class test.TestSingleton
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.deploy(BusinessViewAnnotationProcessor.java:93)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
	... 8 more
Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy
	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)
	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)
	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)
	at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)
	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)
	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)
	at java.lang.Class.createAnnotationData(Class.java:3521)
	at java.lang.Class.annotationData(Class.java:3510)
	at java.lang.Class.getAnnotation(Class.java:3415)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.getRemoteBusinessInterfaces(BusinessViewAnnotationProcessor.java:156)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.processViewAnnotations(BusinessViewAnnotationProcessor.java:124)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.deploy(BusinessViewAnnotationProcessor.java:91)
	... 9 more {code}


There are other errors where it does not indicate anything:
{code:java}
2020-05-30 19:34:48,267 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.test2.war"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.test2.war"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment test2.war""
 at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
 at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
 at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
 at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
 at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
 at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
 at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)
 at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy
 at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)
 at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)
 at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)
 at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)
 at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)
 at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)
 at java.lang.Class.createAnnotationData(Class.java:3521)
 at java.lang.Class.annotationData(Class.java:3510)
 at java.lang.Class.getAnnotation(Class.java:3415)
 at java.lang.reflect.AnnotatedElement.isAnnotationPresent(AnnotatedElement.java:258)
 at java.lang.Class.isAnnotationPresent(Class.java:3425)
 at org.wildfly.extension.undertow.deployment.ServletContainerInitializerDeploymentProcessor.deploy(ServletContainerInitializerDeploymentProcessor.java:150)
 at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
 ... 8 more {code}
",2020/07/07 1:40 AM
WFLY-12516,NoData,2019/09/09 5:46 AM
WFLY-13651,"See JBEAP-19870 for details.

This does not need a model version bump since the r-r-d output is the same for ObjectMap- and ObjectListAttributeDefinition. We need to use ObjectMapAttributeDefinition as a 'signal' to the improvements in WFCORE-5037.",2020/07/07 7:24 PM
WFLY-13728,"The directory patch separators are wrong when run on Windows causing there to be no directories but file with the directory path in the name.

The JDR on Windows contains entries such as shown below, but there are no directories, they are all files, when JBOSS_HOME should be a directory and the same for the sub directories:
{code:java}
JBOSS_HOME\appclient\configuration\appclient.xml
JBOSS_HOME\appclient\configuration\logging.properties
JBOSS_HOME\bin\add-user.properties
JBOSS_HOME\bin\jboss-cli-logging.properties
JBOSS_HOME\bin\jboss-cli.xml {code}",2020/08/02 2:09 PM
WFLY-13515,"In EAP 6.4 , sub deployments were accessible before all Singleton's PostConstruct were finished, this was fixed via [1].  After this fix if an exception was thrown from PostConstruct, then the whole deployment was in a failed state as well.  EAP 7.0 works the same as EAP 6.4 after the fix.

In EAP 7.3/7.2/7.1 when the Singleton throws an exception, the sub deployments are accessible.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1310908

EJB 3.1 spec, section 4.8.1:

{quote}
If the Startup annotation appears on the Singleton bean class or if the Singleton has been designated via the deployment descriptor as requiring eager initialization, the container must initialize the Singleton bean instance during the application startup sequence. The container must initialize all such startup-time Singletons before any external client requests (that is, client requests originating outside of the application) are delivered to any enterprise bean components in the application.
{quote}",2020/05/25 9:44 PM
WFLY-13773,"As a side effect of this, the passivated count is never decremented in the expiration case, resulting in inaccurate statistics.",2020/08/17 2:55 PM
WFLY-13775,"Rather than decrement/increment based on passivation/activation listeners, this metric is more reliably determined by counting the entries of the cache store.",2020/08/18 3:21 PM
WFLY-14348,"Playing with driver and DS installation I ended up with this in the server log:

{code}
10:54:11,424 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""datasources""),
    (""data-source"" => ""Postgres"")
]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.data-source.Postgres"" => ""WFLYJCA0033: Error during the deployment of Postgres
    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf""}}
{code}

That was quite cryptic.

1) The 'ds' and 'cf' abbreviations should be replaced with full words. To me this is the minimum resolution of this issue.

2) If it is possible to make a reasonably likely guess at what would lead to this situation and provide that info in the message, that would be nice.


Context:

I tried deploying a JDBC driver and then adding a datasource using a CLI command:

{code}
data-source add --name=Postgres --driver-name=postgresql-42.2.18.jar --jndi-name=java:jboss/datasources/Postgres
{code}

The 3 params are the required ones. I wasn't surprised that wasn't sufficient and I understand that what's required beyond that can vary from driver to driver. But those are the required ones, so users experimenting with WildFly are liable to do what I did. (If any other params *should be* required, someone please file a separate issue.)

Adding a connection-url param allowed the command to work. If that param shouldn't be required, but not providing it is a likely cause of this problem, perhaps the WFLYJCA0032 message should note that as a hint?",2021/01/24 1:31 PM
WFLY-14993,Upgrade wildfly-http-client to 1.1.8.Final,2021/07/09 11:01 AM
WFLY-14546,"When firing an event asynchronously from an MDB and then using the pattern @ObservesAsync in a CDI bean to consume the event this results in:
{code:java}
Caused by: javax.naming.NameNotFoundException: java:comp/TransactionSynchronizationRegistry
 at org.jboss.as.naming@7.3.0.GA-redhat-00004//org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
 at org.jboss.as.naming@7.3.0.GA-redhat-00004//org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
 at org.jboss.as.naming@7.3.0.GA-redhat-00004//org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
 at org.jboss.as.naming@7.3.0.GA-redhat-00004//org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
 at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
 at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
 at org.wildfly.extension.messaging-activemq//org.wildfly.extension.messaging.activemq.deployment.injection.InjectedJMSContext.lookup(InjectedJMSContext.java:143)
 ... 51 more
 [CIRCULAR REFERENCE:java.lang.RuntimeException: javax.naming.NameNotFoundException: java:comp/TransactionSynchronizationRegistry] {code}",2021/03/10 6:11 AM
WFLY-14655,"If jboss-service.xml adds two MBeans, A and B, with B declared to depend on A, the expectation is if those mbeans are instances of ServiceMBeanSupport then A.startService will be called before B.startService. But this doesn't always happen.

ServiceMBeanSupport is deferring the invocation of startService until postRegister is called. ParsedServiceDeploymentProcessor and MBeanServices coordinate to install services that invoke ServiceMBeanSupport.create and start, and they set up dependencies so those invocations are ordered properly based on the depends elements in jboss-service.xml. But create and start don't actual end up invoking createService or startService. That's deferred until postRegister, and those postRegister calls are not ordered.

A possible fix is to have MBeanServices also wire up dependencies for the MBeanRegistrationServices that end up triggering the call to postRegister.",2021/03/29 7:58 PM
WFLY-15060,NoData,2021/07/26 7:04 PM
WFLY-14466,"Seen in wildfly-clustering-spring-session when authentication fails:

{noformat}
	java.lang.NullPointerException
		at org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:60)
		at org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:57)
		at java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1908)
		at org.wildfly.clustering.ee.cache.ConcurrentManager$3.run(ConcurrentManager.java:87)
		at org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:182)
		at org.wildfly.clustering.web.spring.DistributableSession.close(DistributableSession.java:207)
		at org.wildfly.clustering.web.spring.DistributableSessionRepository.save(DistributableSessionRepository.java:142)
		at org.wildfly.clustering.web.spring.DistributableSessionRepository.save(DistributableSessionRepository.java:50)
		at org.wildfly.clustering.web.spring.hotrod.HotRodSessionRepository.save(HotRodSessionRepository.java:372)
		at org.wildfly.clustering.web.spring.hotrod.HotRodSessionRepository.save(HotRodSessionRepository.java:103)
		at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.commitSession(SessionRepositoryFilter.java:225)
		at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.access$100(SessionRepositoryFilter.java:192)
		at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:144)
		at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)
		at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
		at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
		at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}

We should tolerate this condition for containers that have a loose interpretation of session lifecycle.",2021/02/22 5:31 PM
WFLY-14815,"This Jira requires an Undertow upgrade (WFCORE-5425) and a fix in test failures caused by tests that are asserting the result of getLocalPort()/getLocalAddr()/getLocalName() in a spec non-compliant way in WildFly.
I'll be submitting first a PR to comment out the faulty assertion in those tests, so the WildFly Core upgrade with Undertow 2.2.8.Final can be done, and a second PR to change those assertions to their correct form, which should work with the new Undertow.

For more details on the original issue that is fixed by UNDERTOW-1837:

ServletRequest#getLocalPort(), getLocalAddr(), and getLocalName() does not return the correct information of the interface on which the request was received when proxy-address-forwarding=""true"" is enabled on http-listener. I think this behavior has started to happen since EAP 7.2.0 that incorporates UNDERTOW-1280 and UNDERTOW-1282 (via EAP7-834).

Servlet API javax.servlet.ServletRequest says:

    getLocalPort() returns the Internet Protocol (IP) port number of the interface on which the request was received.
    getLocalAddr() returns the Internet Protocol (IP) address of the interface on which the request was received.
    getLocalName() returns the host name of the Internet Protocol (IP) interface on which the request was received.

So, it should return the actual IP address/port and host name of the binding interface of the listener.

However, when ProxyPeerAddressHandler is enabled (e.g. proxy-address-forwarding=""true"" is specified), the X-Forwarded-Host/X-Forwarded-Port headers affect the results of the above methods. Similarly, when ForwardedHandler is enabled, the Forwarded header affects the results of the above methods. It's okay that these headers affects the results of getServerName() and getServerPort() with these handlers, but I think it should not affect the results of getLocalPort(), getLocalAddr() and getLocalName().
",2021/05/25 9:08 AM
WFLY-14861,"Shutting down the server (or undeploying an application) currently performs an ExecutorService.shutdownNow(), which interrupts the session expiration task.  If this task in the process of removing entries for an expired session, and the backing cache in non-transactional, this can result in stale cache entries which are no longer accessible.

Instead we should use ExecutorService.shutdown(), and make the expiration task sensitive to shutdown state.",2021/06/07 3:02 PM
WFLY-15039,"In a simple (non-HA) load-balancing cluster, sometimes restarting one node of the cluster results in the cluster failing to get reestablished, with the result that the cluster topology is reported as empty in the cli:

{code}
[standalone@node1.test.redhat.com:9990 /] /subsystem=messaging-activemq/server=default/cluster-connection=my-cluster:get-nodes()
{
    ""outcome"" => ""success"",
    ""result"" => {}
}
{code}

The cluster in question is using jgroups-UDP.",2021/07/20 1:12 PM
WFLY-15117,"{code}
01:08:28,058 ERROR [org.jboss.as.controller.management-operation] (pool-1-thread-5) WFLYCTL0013: operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""app.war""),
    (""subsystem"" => ""undertow"")
]): java.lang.NullPointerException
        at org.wildfly.extension.undertow.DeploymentDefinition$SessionManagerStatsHandler.executeRuntimeStep(DeploymentDefinition.java:304)
        at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:59)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1413)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:429)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$0(ModelControllerImpl.java:230)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:230)
        at org.jboss.as.jmx.model.ModelControllerMBeanHelper.execute(ModelControllerMBeanHelper.java:570)
        at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttribute(ModelControllerMBeanHelper.java:316)
        at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttributes(ModelControllerMBeanHelper.java:294)
        at org.jboss.as.jmx.model.ModelControllerMBeanServerPlugin.getAttributes(ModelControllerMBeanServerPlugin.java:148)
        at org.jboss.as.jmx.PluggableMBeanServerImpl.getAttributes(PluggableMBeanServerImpl.java:419)
        at io.prometheus.jmx.shaded.io.prometheus.jmx.JmxScraper.scrapeBean(JmxScraper.java:151)
        at io.prometheus.jmx.shaded.io.prometheus.jmx.JmxScraper.doScrape(JmxScraper.java:117)
        at io.prometheus.jmx.shaded.io.prometheus.jmx.JmxCollector.collect(JmxCollector.java:456)
        at io.prometheus.jmx.shaded.io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
        at io.prometheus.jmx.shaded.io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.nextElement(CollectorRegistry.java:216)
        at io.prometheus.jmx.shaded.io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.nextElement(CollectorRegistry.java:137)
        at io.prometheus.jmx.shaded.io.prometheus.client.exporter.common.TextFormat.write004(TextFormat.java:22)
        at io.prometheus.jmx.shaded.io.prometheus.client.exporter.HTTPServer$HTTPMetricHandler.handle(HTTPServer.java:59)
        at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
        at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)
        at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)
        at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)
        at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)
        at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
{code}


This is a bug for sure as the code does not properly guard against null in controller. https://github.com/jbossas/jboss-eap7/blob/7.3.x/undertow/src/main/java/org/wildfly/extension/undertow/DeploymentDefinition.java#L304
It should however not impact the operation itself as this is an administrative call to check the deployment status.",2021/08/11 7:40 AM
WFLY-15150,"For addressing WildFly testsuite failures when running with Java SE 17, we need to upgrade to a new Hibernate ORM version that uses newer versions of ByteBuddy + Javassist that have support for Java SE 17.


* Upgrade to ByteBuddy 1.11.12
* Upgrade to Hibernate ORM 5.3.22.Final
* Upgrade to Javassist 3.27.0-GA ",2021/08/20 5:12 PM
WFLY-13055,"When using IBM JDK in combination with SecurityManager a Permission check fails for classes using packages com.sun.org.apache.xerces.internal.jaxp


{code:java}
INFO] Running org.jboss.as.test.integration.ws.basic.PojoEndpointTestCase
[ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 9.002 s <<< FAILURE! - in org.jboss.as.test.integration.ws.basic.PojoEndpointTestCase
[ERROR] testHelloError(org.jboss.as.test.integration.ws.basic.PojoEndpointTestCase)  Time elapsed: 0.188 s  <<< FAILURE!
org.junit.ComparisonFailure: expected:<[Fault for test purpose]> but was:<[Provider com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl could not be instantiated: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.org.apache.xerces.internal.jaxp"")"" in code source ""(vfs:/content/jaxws-basic-pojo.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.jaxws-basic-pojo.war"" from Service Module Loader"")]>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.integration.ws.basic.BasicTests.testHelloError(BasicTests.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
{code}

Affected Tests in the AS Testsuite:
org.jboss.as.test.integration.ws.basic.PojoEndpointTestCase#testHelloError
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATVoteReadOnly
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATClientRollback
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATVoteRollback
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATApplicationException
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATSimple
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATSingleSimple
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATVoteRollbackPrePrepare
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATApplicationExceptionCommit
org.jboss.as.test.xts.wsat.client.ATTestCase#testWSATRollbackOnly
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorSimple
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorSingle
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorApplicationException
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorClientCancel
org.jboss.as.test.txbridge.fromjta.BridgeFromJTATestCase#testRollback
org.jboss.as.test.txbridge.fromjta.BridgeFromJTATestCase#testCommit
org.jboss.as.test.xts.suspend.wsat.AtomicTransactionSuspendTestCase#testRollbackAfterSuspend
org.jboss.as.test.xts.suspend.wsat.AtomicTransactionSuspendTestCase#testRemoteServiceAfterSuspend
org.jboss.as.test.xts.suspend.wsat.AtomicTransactionSuspendTestCase#testCommitAfterSuspend
org.jboss.as.test.xts.annotation.client.CompensatableTestCase#testNoTransaction
org.jboss.as.test.xts.annotation.client.CompensatableTestCase#testActiveTransaction
org.jboss.as.test.xts.annotation.client.TransactionalTestCase#testNoTransaction
org.jboss.as.test.xts.annotation.client.TransactionalTestCase#testActiveTransaction
org.jboss.as.test.xts.suspend.wsba.BusinessActivitySuspendTestCase#testRemoteServiceAfterSuspend",2020/02/04 8:34 AM
WFLY-13056,"When using IBM JDK with SecurityManager option, a programmatic Fault returns a different Exception than a SOAPFaultException

{code:java}
 @Test
    public void testHelloError() {
        try {
            proxy.helloError(""Fault for test purpose"");
            Assert.fail(""This should throw a SOAPFaultException"");
        } catch (SOAPFaultException ex) {
            SOAPFault fault = ex.getFault();
            Assert.assertEquals(""Fault for test purpose"", fault.getFaultString());
           //....
        }
    }
{code}

Exception:

{code:java}
org.junit.ComparisonFailure: expected:<[Fault for test purpose]> but was:<[WFLYEJB0442: Unexpected Error]>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.integration.ws.basic.BasicTests.testHelloError(BasicTests.java:69)
{code}
Affected Test in the AS Testsuite:
org/jboss/as/test/integration/ws/basic/EJBEndpointTestCase",2020/02/04 9:06 AM
WFLY-13057,"An unexpected status of WSBACoordinator causes failures in the following tests when using  IBM JDK 1.8 and Security Manager

{code:java}
[ERROR] Failures: 
[ERROR]   BACoordinatorCompletionTestCase.testWSBACoordinatorCannotComplete:133->assertEventLogClient1:193->BaseFunctionalTest.assertEventLog:85 Another status order expected for the bacoordinator_completition_service1 expected:<[CANCEL]> but was:<null>
[ERROR]   BACoordinatorCompletionTestCase.testWSBACoordinatorCompletionFailToComplete:184->assertEventLogClient1:193->BaseFunctionalTest.assertEventLog:85 Another status order expected for the bacoordinator_completition_service1 expected:<[COMPLETE, CONFIRM_COMPLETED, COMPENSATE]> but was:<null>

{code}
Affected Tests in the AS Testsuite:
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorCannotComplete
org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase#testWSBACoordinatorCompletionFailToComplete",2020/02/04 9:10 AM
WFLY-13527,"A standalone client application is calling EJBs on a backend server through an Undertow loadbalancer.

The client looks like this:

{code:java}
        Properties props = new Properties();
        props.put(Context.INITIAL_CONTEXT_FACTORY, WildFlyInitialContextFactory.class.getName());
        props.put(Context.PROVIDER_URL, ""http://10.0.0.1:9080/wildfly-services"");
        props.put(Context.SECURITY_PRINCIPAL, ""some-user"");
        props.put(Context.SECURITY_CREDENTIALS, ""some-password"");

        InitialContext      ctx = new InitialContext(props);
        String name=""ejb:/playground-jar/JBossManIntClientBean!org.jboss.playground.JBossManIntClient"";
        JBossManIntClient bean = (JBossManIntClient) ctx.lookup(name);
{code}

A client invoking the same EJB twice result in thousands of requests from the balancer to the backend servers, e. g.:

* 13468 times: 
{code}
INFO [io.undertow.accesslog] (default I/O-3) 10.0.0.1 - - [24/Sep/2019:12:03:03 +0200] ""POST /wildfly-services/ejb/v1/invoke/-/playground-jar/-/JBossManIntClientBean/-/org.jboss.playground.JBossManIntClient/getHost HTTP/2.0"" 401 77 ""-"" ""-"" Cookie: ""-"" Set-Cookie: ""-"" SessionID: - Thread: ""default I/O-3"" TimeTaken: 5063
{code}

* 2 times:
{code}
INFO [io.undertow.accesslog] (default I/O-3) 10.0.0.1 - - [24/Sep/2019:12:06:53 +0200] ""POST /wildfly-services/ejb/v1/invoke/-/playground-jar/-/JBossManIntClientBean/-/org.jboss.playground.JBossManIntClient/getHost HTTP/2.0"" 200 155 ""-"" ""-"" Cookie: ""-"" Set-Cookie: ""-"" SessionID: - Thread: ""default I/O-3"" TimeTaken: 614
{code}

*Note:* This behavior only occurs if there's more than a single backend server running in a cluster...",2020/05/28 2:08 AM
WFLY-14311,"The Remote Naming (JNDI) is Read-Only, remote clients cannot bind or rebind objects into it. Only applications running in the same JVM can bind values into JNDI.

When modifying methods like: bind/rebind/unbind/rename/createSubContext/destroySubContext are invoked from remote client, it expects *javax.naming.OperationNotSupportedException* thrown out, but *java.lang.UnsupportedOperationException* is thrown out.


{code:java}
13:20:22,804 WARN  [org.wildfly.naming] (default task-2) WFNAM00036: Unexpected internal error: java.lang.UnsupportedOperationException: WFLYNAM0043: Naming context is read-only
	at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:160)
	at org.jboss.as.naming.WritableServiceBasedNamingStore.bind(WritableServiceBasedNamingStore.java:66)
	at org.jboss.as.naming.NamingContext.bind(NamingContext.java:262)
	at org.jboss.as.naming.NamingContext.bind(NamingContext.java:289)
	at org.wildfly.naming.client.remote.RemoteServerTransport.handleBind(RemoteServerTransport.java:238)
	at org.wildfly.naming.client.remote.RemoteServerTransport$1.handleMessage(RemoteServerTransport.java:126)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:991)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)

13:20:22,813 WARN  [org.wildfly.naming] (default task-2) WFNAM00036: Unexpected internal error: java.lang.UnsupportedOperationException: WFLYNAM0043: Naming context is read-only
	at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:160)
	at org.jboss.as.naming.WritableServiceBasedNamingStore.rebind(WritableServiceBasedNamingStore.java:108)
	at org.jboss.as.naming.NamingContext.rebind(NamingContext.java:301)
	at org.jboss.as.naming.NamingContext.rebind(NamingContext.java:309)
	at org.wildfly.naming.client.remote.RemoteServerTransport.handleBind(RemoteServerTransport.java:236)
	at org.wildfly.naming.client.remote.RemoteServerTransport$1.handleMessage(RemoteServerTransport.java:129)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:991)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
{code}

From EE Platform spec: EE.5.3.4 Java EE Product Provider's Responsibilities:

{quote}
The container must ensure that the application component instances have only read access to their naming context. The container must throw the *javax.naming.OperationNotSupportedException* from all the methods of the javax.naming.Context interface that modify the environment naming context and its subcontexts.
{quote}

For more information and reproducer, please refer to WFLY-13459
",2021/01/20 4:28 AM
WFLY-14796,"Currently, the protocol only supports the Azure Public.",2021/05/18 11:44 AM
WFLY-14923,"This is for exploring if `initialize-in-order` being set to true in application.xml should limit the persistence unit deployment such that:
# Components should only expect to reference persistence units in the same sub-deployment or top-level-deployment.
# Components should be able to have a dependency on persistence units from previously started sub-deployments (as per module order in application.xml).

As per https://jakarta.ee/specifications/platform/8/platform-spec-8.html#a3201:
{quote}
8.5.4. Module Initialization

After a successful deployment, all the modules of an application other than application client modules are initialized. The specifications for the different module types describe the steps required to initialize a module. By default, the order of initialization of modules in an application is unspecified. In rare cases it may be important that modules are initialized in a certain order, for example, if a component in one modules uses a component in another module during its initialization. An application can declare that modules must be initialized in the order theyre listed in the application deployment descriptor by including the <initialize-in-order>true</initialize-in-order> element in the application deployment descriptor. If the application deployment descriptor specifies a module initialization order that conflicts with the initialization order specified by any of the modules (for example, by the use of the Jakarta Enterprise Beans DependsOn annotation), the deployment tool must report an error. Application client modules are initialized on their own schedule, typically when an end user invokes them; as such, they are excluded from any initialization ordering requirements.
{quote}


",2021/06/18 5:54 PM
WFLY-14706,Lazy bean validation can result in missing @PreDestroy events in a cluster under certain conditions (see steps to reproduce).,2021/04/15 7:11 PM
WFLY-14581,"{noformat}
[ERROR] Tests run: 45, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 4.33 s <<< FAILURE! - in org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemTestCase
[ERROR] testSubsystem[8](org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemTestCase)  Time elapsed: 0.072 s  <<< FAILURE!
org.junit.ComparisonFailure:
expected:<...         <transport [client-socket-binding=""some-other-binding""
                ]diagnostics-socket-b...> but was:<...         <transport []diagnostics-socket-b...>
	at org.junit.Assert.assertEquals(Assert.java:117)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.jboss.as.model.test.ModelTestUtils.compareXml(ModelTestUtils.java:333)
	at org.jboss.as.subsystem.test.AbstractSubsystemTest.compareXml(AbstractSubsystemTest.java:297)
	at org.jboss.as.clustering.subsystem.ClusteringSubsystemTest.compareXml(ClusteringSubsystemTest.java:91)
	at org.jboss.as.subsystem.test.AbstractSubsystemBaseTest.standardSubsystemTest(AbstractSubsystemBaseTest.java:253)
{noformat}",2021/03/16 6:52 PM
WFLY-14545,"{code}
            ""socket-binding-preferences"" => {
                ""type"" => LIST,
                ""description"" => ""The list of preferred node socket bindings"",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""alternatives"" => [""name-preferences""],
                ""capability-reference"" => ""org.wildfly.network.outbound-socket-binding"",
                ""min-length"" => 0L,
                ""max-length"" => 2147483647L,
                ""value-type"" => STRING,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""no-services""
            }
{code}

is a model reference and cannot support expressions.

{code}
22:53:03,776 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource '/subsystem=singleton/singleton-policy=default/election-policy=random' are not available:
    org.wildfly.network.outbound-socket-binding.binding1}; Possible registration points for this capability:
		/socket-binding-group=*/remote-destination-outbound-socket-binding=*
		/socket-binding-group=*/local-destination-outbound-socket-binding=*
    org.wildfly.network.outbound-socket-binding.${xxxxx.xx:binding0; Possible registration points for this capability:
		/socket-binding-group=*/remote-destination-outbound-socket-binding=*
		/socket-binding-group=*/local-destination-outbound-socket-binding=*
{code}",2021/03/09 5:19 PM
WFLY-14551,These are model references and should not allow expressions.,2021/03/10 9:29 AM
WFLY-14552,These are model references and should not allow expressions.,2021/03/10 9:33 AM
WFLY-14218,"Non-HA configurations should use the distributable-web-local feature group, not distributable-web.",2020/12/11 1:04 PM
WFLY-14236,"Threads currently use the default set of clustering contexts, including jndi context.

Discovered while integrating 22.0.0.Beta1 into wildfly-clustering-tomcat.",2020/12/16 6:19 PM
WFLY-13850,"microprofile-platform is available only on wildfly-galleon-pack

The testsuite should use the correct maven variables to get it working when the Galleon Pack under test is switched from wildfly-ee-galleon pack to wildfly-galleon-pack",2020/09/11 10:55 AM
WFLY-13812,"RemoteNamingAdd itself provides a capability, and the remoting Endpoint is exposed by a capability, but RemoteNamingAdd is not using the capability to get the endpoint.

This results in an unnecessary dependency on the org.jboss.as.remoting module. ",2020/08/29 6:54 PM
WFLY-13739,"We removed the microprofile-metrics from jpa layers. This removal affected to WeldJpaInjectionTestCase test execution, which uses CDI to inject beans.

This test was being executed with combining jpa and datasources-web-server, however, datasources-web-server does not add CDI. We need to use the upper base layer to make the test pass.",2020/08/04 5:41 AM
WFLY-13253,"Currently, all CommandDispatcher instances created from a given CommandDispatcherFactory share a single marshaller.  This means that the marshaller used by WF for its internal commands is the same as the one used to marshal user commands.  This limits the extent to which commands may optimize their marshalling, or indeed, use a different marshaller (e.g. ProtoStream).
We can remove the limitations above by using a distinct mashaller for each CommandDispatcher.",2020/03/17 4:35 PM
WFLY-13278,"Currently, all CommandDispatcher instances created from a given CommandDispatcherFactory share a single response marshaller. This means that the marshaller used by WF for its internal command responses is the same as the one used to marshal user command responses. This limits the extent to which commands may optimize marshalling of their responses, or indeed, use a different marshaller (e.g. ProtoStream).
We can remove the limitations above by using a distinct response mashaller for each CommandDispatcher.",2020/03/24 10:50 AM
WFLY-13297,"WFLY-1995 added support for expression resolution in the values of some attributes of some annotations, including @Resource. But this isn't applied to all handling of @Resource. ResourceInjectionAnnotationParsingProcessor handles some cases, which AFAICT means it's handled for EJBs (and perhaps other EE components) but it isn't handled in a simple CDI bean.

You get a failure like this:

{code}
Caused by: javax.naming.NameNotFoundException: ${the.expression} -- service jboss.naming.context.java.""${the.expression}""
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:106)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:237)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.resolveResource(WeldResourceInjectionServices.java:236)
	... 73 more
{code}

The PropertyReplacer obtained from the DeploymentUnit that is used by ResourceInjectionAnnotationParsingProcessor is also available to the weld subsystem code that creates WeldResourceInjectionServices so a possible fix is to pass it in and have WeldResourceInjectionServices use it.  Manual testing shows that allows an app with such a bean to work.",2020/03/26 6:23 PM
WFLY-13240,"The last piece in the WFLY-12900 puzzle.

Intends to enable XSiteSimpleTestCase on Windows systems.",2020/03/13 7:51 PM
WFLY-12999,"Modify the test SaslLegacyMechanismConfigurationTestCase to include a test that configures {{DIGEST-MD5}} in the {{SASL_MECHANISMS}} option.

Test for core issue: https://issues.redhat.com/browse/WFCORE-4803

Although a test in WFCORE was included it's better if this configuration is also tested in the real remoting/EJB scenario.",2020/01/21 4:28 AM
WFLY-12741,A performance optimization for SimpleMarshalledValue inspired by https://github.com/infinispan/infinispan/blob/master/commons/src/main/java/org/infinispan/commons/io/ExposedByteArrayOutputStream.java ,2019/10/31 1:27 PM
WFLY-12855,"
Due to changes in the backing collection type for AttachmentLists, removeIf(...) is no longer supported.
{noformat}
2019-12-06 12:10:03,346 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0043: Deployment unit processor org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor@4786eb0d unexpectedly threw an exception during undeploy phase POST_MODULE of deployment ""SyncCircuitBreakerDisabledTest.war"": java.lang.UnsupportedOperationException
        at java.util.concurrent.CopyOnWriteArrayList$COWIterator.remove(CopyOnWriteArrayList.java:1178)
        at java.util.Collections$CheckedCollection$1.remove(Collections.java:3079)
        at java.util.Collection.removeIf(Collection.java:415)
        at org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor.undeploy(CachedConnectionManagerSetupProcessor.java:75)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:245)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:238)
        at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1795)
        at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1764)
        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at java.lang.Thread.run(Thread.java:748)
{noformat}",2019/12/06 6:43 AM
WFLY-12332,Let's provide integration tests for OCSP feature into WildFly testsuite.,2019/07/29 10:11 AM
WFLY-12608,Followup integration tests for OCSP feature into WildFly testsuite to comply with the feature test-plan.,2019/09/30 3:55 AM
WFLY-11841,"This kind of thing is a bug:

https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/subsystem/ManagedScheduledExecutorServiceAdd.java#L58

The subsystem exposes a capability so consumers of its services should use the capabilities API to handle requiring it and accessing its services.

There's probably missing capability wiring within the concurrency resources as well; e.g. for dependency by executors on thread factories.",2019/03/12 11:03 PM
WFLY-12090,"When EJBRemoting service is not started (it is LAZY), but XA recovery has, we could have the following sort of error:
{code}
16:51:46,785 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception XAException.XAER_RMERR: javax.transaction.xa.XAException: WFTXN0034: Failed to acquire a connection for this operation
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getOperationsXA(RemotingRemoteTransactionPeer.java:139)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.recover(RemotingRemoteTransactionPeer.java:202)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:201)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:197)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:634)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:226)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:171)
	at org.jboss.jts//com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:770)
	at org.jboss.jts//com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
Caused by: org.jboss.remoting3.ServiceOpenException: Unknown service name jboss.ejb
	at org.jboss.remoting@5.0.10.Final-SNAPSHOT//org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:429)
	at org.jboss.remoting@5.0.10.Final-SNAPSHOT//org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:46)
	at org.jboss.xnio@3.7.2.Final-SNAPSHOT//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.jboss.xnio@3.7.2.Final-SNAPSHOT//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.jboss.xnio.nio@3.7.2.Final-SNAPSHOT//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.jboss.xnio.nio@3.7.2.Final-SNAPSHOT//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
	Suppressed: org.jboss.remoting3.ServiceOpenException: Unknown service name txn
		... 6 more

{code}
",2019/05/17 4:02 PM
WFLY-11807,"The JGroups FD_SOCK protocol requires 2 TCP sockets. Older versions of WildFly accepted a socket-binding for this protocol, but that was removed around version 11, apparently because the binding's port number [wasn't actually used|https://access.redhat.com/solutions/3485801].

Now the port selection is random by default, which is a problem if you've got firewalls to deal with, as noted in the linked document. The suggested workaround is to set the client_bind_port and start_port properties of the protocol, but that has the drawback of not being affected by a socket-binding-group's port-offset. This means that if you want to run 2 WildFly instances on the same box with the same config (which I do, as a developer, to test application code related to clustering), simply changing the port offset is insufficient to get the second instance to start.

So I'd like to suggest that socket-binding for FD_SOCK be resurrected, given that it can be implemented correctly now. FD_SOCK calls the configured SocketFactory for both the server socket (with name jgroups.fd_sock.srv_sock) and the client socket (with name jgroups.fd.ping_sock), so it should be possible for WildFly to fully manage the socket bindings.",2019/03/04 6:15 PM
WFLY-11634,"The {{RunAsWithElytronEJBContextPropagationTestCase}} fails with {{node0}} set:

{noformat}
ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component IntermediateCallerInRole for method public abstract java.lang.Boolean org.jboss.as.test.integration.ejb.security.runas.propagation.IntermediateCallerInRoleRemote.isServerCallerInRole(java.lang.String): javax.ejb.NoSuchEJBException: EJBCLIENT000079: Unable to discover destination for request for EJB StatelessEJBLocator for ""/ejb-security-context-propagation/ServerCallerInRole"", view is interface org.jboss.as.test.integration.ejb.security.runas.propagation.CallerInRole, affinity is None
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:592)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:115)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:79)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:938)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)
	at com.sun.proxy.$Proxy79.isCallerInRole(Unknown Source)
	at org.jboss.as.test.integration.ejb.security.runas.propagation.IntermediateCallerInRole.isServerCallerInRole(IntermediateCallerInRole.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.ejb3.security.RoleAddingInterceptor.processInvocation(RoleAddingInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.ejb3.security.RunAsPrincipalInterceptor.processInvocation(RunAsPrincipalInterceptor.java:84)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.net.ConnectException: Connection refused
		at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
		at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
		at org.xnio.nio.WorkerThread$ConnectHandle.handleReady(WorkerThread.java:327)
		at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
		at ...asynchronous invocation...(Unknown Source)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:571)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:537)
		at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)
		at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)
		at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:488)
		at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:434)
		at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.getConnectedIdentityUsingClusterEffective(RemotingEJBDiscoveryProvider.java:311)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider$DiscoveryAttempt.lambda$connectAndDiscover$0(RemotingEJBDiscoveryProvider.java:384)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider$DiscoveryAttempt.connectAndDiscover(RemotingEJBDiscoveryProvider.java:384)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.discover(RemotingEJBDiscoveryProvider.java:209)
		at org.jboss.ejb.protocol.remote.RemoteEJBDiscoveryConfigurator.lambda$configure$0(RemoteEJBDiscoveryConfigurator.java:42)
		at org.wildfly.discovery.impl.AggregateDiscoveryProvider.discover(AggregateDiscoveryProvider.java:58)
		at org.wildfly.discovery.Discovery.discover(Discovery.java:100)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.discover(DiscoveryEJBClientInterceptor.java:242)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.doAnyDiscovery(DiscoveryEJBClientInterceptor.java:371)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.executeDiscovery(DiscoveryEJBClientInterceptor.java:305)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocation(DiscoveryEJBClientInterceptor.java:98)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocation(NamingEJBClientInterceptor.java:64)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:165)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.wildfly.common.context.Contextual.runExConsumer(Contextual.java:203)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequestInitial(EJBClientInvocationContext.java:327)
		at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:173)
		... 83 more
{noformat}",2019/01/23 5:14 AM
WFLY-14567,"In the issue https://issues.redhat.com/browse/WFLY-13132, support was added to allow multiple connectors on a server to receive and process EJB client invocations. This issue relates to a server configuration issue in the Remoting and EJB3 subsystems which may arise. 

Previously, only one Remoting connector could be configured to receive EJB client invocations and that connector had to be specified in the connector-ref attribute of the <remote/> element in the EJB3 subsystem. Now, multiple connectors which support remote EJB client invocations may be used and need to be listed in the connectors attribute of the <remote/> element. 

As background, the effect of adding a connector to the connectors (previously connector-ref) attribute is to:
*  set up a connector-specific client mappings registry to provide client mappings entries for that connector, which will be used to populate the cluster topology updates sent back to the client when the server is running in HA mode
*  set up a connector-specific ClusterTopologyRegistrar to be available to register incoming connections on that connector, to ensure that the correct topology updates do get back to the client, at the initial connection time and at the time of cluster membership changes. 

As a general rule, when running in HA mode, all connectors which support EJB client protocols (remote, remote+http) must be listed in the connectors list so that they send the correct cluster topology updates back to the client, reflecting the current state of the cluster. If this is not the case, then the client will not receive the cluster topology updates required for correct HA operation of EJB client invocations on that connector.

However, when running in non-HA mode, the only requirement of the connector is to send an initial cluster topology update message (containing an empty list of cluster topology updates) back to the client upon connection. This is because from a cluster topology update point of view, the node does not belong to a cluster whose membership can ever change. So it is sufficient to send a single initial update with an empty list of clusters to satisfy the requirements of the EJB client to receive an initial topology update on connection to the server. 

That is the background to this issue. Now on to the configuration problem.

In versions of Wildfly using connector-ref attribute (where there was only a single ClusterTopologyRegistrar and a single client mappings registry), clients which connected to connectors other than those listed in connector-ref would be provided with the same ClusterTopologyRegistrar. This resulted in the following:
* in the HA case, this would lead to incorrect behavior (connectors not referenced in connector-ref would receive the same topology updates as the connector referenced in connector-ref, with incorrect port values)
* in the non-HA case, this would result in correct behavior;  the cluster topology update provider would send back an empty list of cluster topology updates to the client, whether the connector was referenced in connector-ref or not

Consequently, adding connectors to receive EJB client requests with no additional configuration would work correctly.

In versions of Wildfly using the connectors attribute (where each connector referenced there gets its own cluster topology update provider), connectors not referenced in the connectors attribute do not allocate a client mappings registry and do not get assigned a ClusterTopologyRegistrar. This means that adding a connector to the Remoting subsystem which is not also listed in the connectors attribute will not behave correctly, neither in the HA case nor the HA case. At the moment, this leads to a client which hangs upon connection to the server.

One way to solve this problem is to always add any new connectors which are to process EJB client invocations to the connectors attribute of the <remote/> element. This would ensure that every connector had a ClusterTopologyRegistrar which would ""do the right thing"". But thiswould break legacy behaviour.

Another way to solve this problem is to create a DefaultClusterTopologyRegistrar to handle connectors which are not listed in the connectors attribute. The purpose of this connector would be:
* in the HA case, to issue a warning (or error) message to the log as this is a case of incorrect HA server configuration (as mentioned above) 
* in the non-HA case, to ensure that the initial topology update was sent back to the client (as mentioned above)

The second solution would preserve legacy behavior (i.e. we can add connectors in non-HA mode without additional configuration) as well as give a warning / error when connectors are not correctly configured as mentioned above.",2021/03/12 11:54 AM
WFLY-13871,"When a server is suspended, in order to avoid receipt of invocations which will never be correctly processed, all connected clients should be notified that all modules on that server are now unavailable; when the server is resumed, all connected clients should be notified that all modules on that server are now again available so that the server may again take part in processing invocations.
This behaviour was present in versions of EAP before EAP 7.1 but was not ported over to the new EJB client server-side classes which were substantially refactored.

This issue will re-instante that behaviour. The two cases of standalone and clustered deployments should be considered.",2020/09/15 10:39 AM
WFLY-12018,"I have running an webapplication in a clustered wildfly16 environment (*full-ha domain* mode) with the *distributable*-web.xml tag. 
I want to add websocket support to it, but as soon as I use it in a JSF-page, I'm getting a *NotSerializableException* for the ""* io.undertow.websockets.core.protocol.version13.WebSocket13Channel*"".

",2019/04/26 8:44 AM
WFLY-14945,"2021-06-28 23:46:45,775 ERROR [org.apache.jasper.compiler] (default task-1) JBWEB005028: Error reading class file java.lang.System: org.eclipse.jdt.internal.compiler.classfmt.ClassFormatException
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader.<init>(ClassFileReader.java:406)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.JDTCompiler$1.findType(JDTCompiler.java:210)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.JDTCompiler$1.findType(JDTCompiler.java:182)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:174)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:145)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:1926)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:3254)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.lookup.Scope.getBinding(Scope.java:2192)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.SingleNameReference.resolveType(SingleNameReference.java:987)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.java:636)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.java:684)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.Expression.resolve(Expression.java:1026)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing(Block.java:130)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:1073)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:634)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:306)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:544)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1195)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1308)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:593)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:867)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:550)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:462)
	at org.eclipse.jdt.ecj@4.6.1//org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:417)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:445)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.Compiler.compile(Compiler.java:359)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.Compiler.compile(Compiler.java:334)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.compiler.Compiler.compile(Compiler.java:321)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:652)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:358)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at io.undertow.jsp@2.0.9.Final//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp@2.0.9.Final//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.2.8.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.2.8.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.2.8.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.2.8.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.2.8.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.2.8.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.2.8.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.2.8.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.core@2.2.8.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1535)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1535)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1535)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1535)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:105)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:102)
	at io.undertow.core@2.2.8.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.core@2.2.8.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.base/java.lang.Thread.run(Thread.java:833)",2021/06/28 9:46 PM
WFLY-14962,"The original issue is from here: [https://github.com/smallrye/smallrye-open-api/issues/785]

Here is a short summary of the two cases, where types from an EAR are not correctly resolved.

*Case 1:*
 my.ear
 - jpa.jar
 - rest.war

Types contained jpa.jar and used in the rest.war are not shown in the OpenApi defintion of the rest.war.|

*Case 2:*

my.ear
 - lib
 ** common.jar
 - rest.war

Types contained common.jar and used in the rest.war are not shown in the OpenApi defintion of the rest.war.|

I'll provide a PR soon.",2021/07/01 5:45 PM
WFLY-15077,"WF's ProtoStream marshaller will throw a StackOverflowError when marshalling objects containing circular references, such as:


{code:java}
class Person {
   Person parent;
   List<Person> children;
}
{code}


This needs to be supported in order to be able to marshal something like org.jboss.weld.contexts.CreationalContextImpl.",2021/07/29 9:26 PM
WFLY-14371,"A single action timer fails to be executed:
{noformat}
15:40:25,613 hz0v DEBUG [org.jboss.as.ejb3.timer] (EJB default - 5) Skipping execution of timer for ROOT.ROOT.EJBTimerScheduler as it is being run on another node or the execution is suppressed by configuration
{noformat}

*Environment*:
* RHPAM 7.7.1
* EAP 7.2.9
* OCP 3.11
* single node setup
* DB: PostgreSQL 10.12, JDBC version: 42.2.3
",2021/01/27 8:20 PM
WFLY-14189,"Role is not correctly assigned when using @RunAs annotation and Elytron Security Domain. Everything works correctly with legacy picketbox Security Domain.

Wildfly is configured to use default ""other"" application-security-domain, also using default security domain ApplicationDomain.

This exception is rised when deploying the application.

Caused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract void org.visiontech.test.TestInterface.test() of bean: Test2 is not allowedCaused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract void org.visiontech.test.TestInterface.test() of bean: Test2 is not allowed at org.jboss.as.ejb3@21.0.0.Final//org.jboss.as.ejb3.security.JaccInterceptor.hasPermission(JaccInterceptor.java:120)

Test/Sample project:[^test.zip]",2020/12/07 6:47 PM
WFLY-15047,"Some classes use Unmarshaller or Marshaller without closing it properly.

Fix: Use try-with-resources or ""safeClose"" util, depending on the current Exception Handling situation.",2021/07/21 3:29 PM
WFLY-14975,"Two collection calls search for keys instead of values:

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/util/CopyOnWriteArrayListMultiMap.java#L55] uses two time K as type. This results in wrong call to [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/util/CopyOnWriteArrayListMultiMap.java#L64] 
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/picketlink/src/main/java/org/wildfly/extension/picketlink/common/model/AbstractResourceDefinition.java#L122] is a list on the values but searches for the keys.",2021/07/04 5:50 PM
WFLY-14913,"Tests of {{org.jboss.as.test.manualmode.ejb.client.outbound.connection.transaction.preparehalt.TransactionPropagationFailureTestCase}} fail intermittently, see
- https://ci.wildfly.org/project.html?tab=testDetails&projectId=WF&testNameId=-7944148084203937745
- https://ci.wildfly.org/project.html?projectId=WF&testNameId=-7507384624392704478&tab=testDetails
- https://ci.wildfly.org/project.html?tab=testDetails&projectId=WF&testNameId=387534546049563915

The most probable combination seems to be adoptopenjdk-11-openj9 + RHEL8.

{{prepareCrashOnClient}} usually with

{noformat}
org.jboss.arquillian.container.spi.client.container.LifecycleException: Could not stop container
	at org.jboss.as.arquillian.container.CommonManagedDeployableContainer.stopInternal(CommonManagedDeployableContainer.java:234)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.stop(CommonDeployableContainer.java:143)
	at org.jboss.arquillian.container.impl.DefaultServerKillProcessor.kill(DefaultServerKillProcessor.java:35)
	at org.jboss.arquillian.container.impl.ContainerImpl.kill(ContainerImpl.java:207)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$10.perform(ContainerLifecycleController.java:159)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$10.perform(ContainerLifecycleController.java:155)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.forContainer(ContainerLifecycleController.java:208)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.killContainer(ContainerLifecycleController.java:155)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:54)
	at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.client.container.ClientContainerController.kill(ClientContainerController.java:209)
	at org.jboss.as.test.manualmode.ejb.client.outbound.connection.transaction.preparehalt.TransactionPropagationFailureTestCase.prepareCrashOnClient(TransactionPropagationFailureTestCase.java:181)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
	at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:50)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: java.io.IOException: java.io.IOException: WFLYPRT0054: Channel closed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:63)
	at org.jboss.as.arquillian.container.CommonManagedDeployableContainer.stopInternal(CommonManagedDeployableContainer.java:212)
	... 157 more
Caused by: java.io.IOException: WFLYPRT0054: Channel closed
	at org.jboss.as.protocol.mgmt.ManagementClientChannelStrategy$Establishing.getChannel(ManagementClientChannelStrategy.java:173)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:132)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$2.getChannel(RemotingModelControllerClient.java:85)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 160 more
{noformat}

{{recoveryCommitRetryOnFailure}} usually with

{noformat}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy txn-prepare-halt-client.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => ""WFLYCTL0212: Duplicate resource [(\""deployment\"" => \""txn-prepare-halt-client.jar\"")]""}}
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:184)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:162)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:91)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:255)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:151)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:118)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:71)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:54)
	at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:47)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.client.container.ClientContainerController.start(ClientContainerController.java:99)
	at org.jboss.as.test.manualmode.ejb.client.outbound.connection.transaction.preparehalt.TransactionPropagationFailureTestCase.setUp(TransactionPropagationFailureTestCase.java:139)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:378)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:115)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:200)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
{noformat}",2021/06/17 1:41 PM
WFLY-14867,"The following code points do an int calc but assign to a double or long. The cast should be done in calc. Refer to [https://rules.sonarsource.com/java/RSPEC-2184]

Double
 * [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/clustering/infinispan/spi/src/main/java/org/wildfly/clustering/infinispan/spi/persistence/IndexedKeyFormatMapper.java#L52]
 * [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/legacy/messaging/src/main/java/org/jboss/as/messaging/MessagingTransformers.java#L170|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/legacy/messaging/src/main/java/org/jboss/as/messaging/MessagingTransformers.java#L170] (BigDecimal double issue)

Long
 * [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/services/workmanager/StatisticsExecutorImpl.java#L86] (more than one)
 * [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/undertow/src/main/java/org/wildfly/extension/undertow/WebHostService.java#L74]
 * [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/undertow/src/main/java/org/wildfly/extension/undertow/handlers/FileHandler.java#L125]",2021/06/07 7:33 PM
WFLY-14965,"CacheRegistry currently uses DataRehashed events to determine when to remove a registry entry on behalf of a crashed member. However, scale down does not necessarily trigger a DataRehashed event. Instead, we should listener for specific TopologyChanged events where the segments owned by the local member have changed.",2021/07/01 9:30 PM
WFLY-15096,"{noformat}
2021-08-09 15:19:38,055 WARN  [org.wildfly.clustering.web.infinispan] (default task-1) WFLYCLWEBINF0007: Failed to activate attributes of session mdjSHt_fTLqA-qt-FfRD7i0ZQHklDhaKGg0ySOlj: org.infinispan.protostream.MalformedProtobufException: Invalid wire type 6 in tag 102
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.descriptors.WireType.fromTag(WireType.java:69)
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.TagReaderImpl$Decoder.readTag(TagReaderImpl.java:281)
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.TagReaderImpl.readTag(TagReaderImpl.java:98)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readTag(DefaultProtoStreamReader.java:83)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.LoadedClassField.readFrom(LoadedClassField.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.LoadedClassField.readFrom(LoadedClassField.java:35)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ClassMarshaller.readFrom(ClassMarshaller.java:52)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ClassMarshaller.readFrom(ClassMarshaller.java:35)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:55)
	at org.wildfly.clustering.el.glassfish@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.el.MethodExpressionImplMarshaller.readFrom(MethodExpressionImplMarshaller.java:101)
	at org.wildfly.clustering.el.glassfish@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.el.MethodExpressionImplMarshaller.readFrom(MethodExpressionImplMarshaller.java:47)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:55)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DecoratorMarshaller.readFrom(DecoratorMarshaller.java:93)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:55)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DecoratorMarshaller.readFrom(DecoratorMarshaller.java:93)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.facelets.el.TagMethodExpressionMarshaller.readFrom(TagMethodExpressionMarshaller.java:60)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.facelets.el.TagMethodExpressionMarshaller.readFrom(TagMethodExpressionMarshaller.java:39)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.Scalar$1.readFrom(Scalar.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ScalarMarshallerProvider.readFrom(ScalarMarshallerProvider.java:50)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedArrayMarshaller.readFrom(TypedArrayMarshaller.java:52)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.Scalar$1.readFrom(Scalar.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ScalarMarshallerProvider.readFrom(ScalarMarshallerProvider.java:50)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedArrayMarshaller.readFrom(TypedArrayMarshaller.java:52)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.Scalar$1.readFrom(Scalar.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ScalarMarshallerProvider.readFrom(ScalarMarshallerProvider.java:50)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedArrayMarshaller.readFrom(TypedArrayMarshaller.java:52)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.util.MapMarshaller.readFrom(MapMarshaller.java:63)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.util.MapMarshaller.readFrom(MapMarshaller.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.Scalar$1.readFrom(Scalar.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ScalarMarshallerProvider.readFrom(ScalarMarshallerProvider.java:50)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedArrayMarshaller.readFrom(TypedArrayMarshaller.java:52)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.util.LRUMapMarshaller.readFrom(LRUMapMarshaller.java:78)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.util.LRUMapMarshaller.readFrom(LRUMapMarshaller.java:44)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.util.LRUMapMarshaller.readFrom(LRUMapMarshaller.java:78)
	at org.wildfly.clustering.jsf.mojarra@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.jsf.util.LRUMapMarshaller.readFrom(LRUMapMarshaller.java:44)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:55)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DecoratorMarshaller.readFrom(DecoratorMarshaller.java:93)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamReader.readAny(ProtoStreamReader.java:45)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.util.MapMarshaller.readFrom(MapMarshaller.java:63)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.util.MapMarshaller.readFrom(MapMarshaller.java:40)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamReader.readObject(DefaultProtoStreamReader.java:57)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.readFrom(TypedObjectMarshaller.java:49)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:51)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.readFrom(AnyMarshaller.java:36)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamMarshaller.read(ProtoStreamMarshaller.java:45)
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.unmarshall(ProtobufTagMarshallerDelegate.java:32)
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.readFrom(ProtobufUtil.java:95)
	at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.readFrom(ProtobufUtil.java:99)
	at org.wildfly.clustering.marshalling.protostream@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.readFrom(ProtoStreamByteBufferMarshaller.java:84)
	at org.wildfly.clustering.marshalling.spi@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.read(ByteBufferMarshaller.java:47)
	at org.wildfly.clustering.marshalling.spi@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.get(ByteBufferMarshalledValue.java:79)
	at org.wildfly.clustering.marshalling.spi@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.get(ByteBufferMarshalledValue.java:35)
	at org.wildfly.clustering.marshalling.spi@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.spi.MarshalledValueMarshaller.read(MarshalledValueMarshaller.java:40)
	at org.wildfly.clustering.marshalling.spi@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.marshalling.spi.MarshalledValueMarshaller.read(MarshalledValueMarshaller.java:30)
	at org.wildfly.clustering.web.infinispan@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.getValue(CoarseSessionAttributesFactory.java:134)
	at org.wildfly.clustering.web.infinispan@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.findValue(CoarseSessionAttributesFactory.java:122)
	at org.wildfly.clustering.web.infinispan@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.findValue(CoarseSessionAttributesFactory.java:64)
	at org.wildfly.clustering.web.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.cache.session.CompositeSessionFactory.findValue(CompositeSessionFactory.java:65)
	at org.wildfly.clustering.web.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.cache.session.CompositeSessionFactory.findValue(CompositeSessionFactory.java:40)
	at org.wildfly.clustering.web.infinispan@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:174)
	at org.wildfly.clustering.web.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$2.apply(ConcurrentSessionManager.java:66)
	at org.wildfly.clustering.web.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$2.apply(ConcurrentSessionManager.java:63)
	at org.wildfly.clustering.ee.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.ee.cache.SimpleManager.apply(SimpleManager.java:52)
	at org.wildfly.clustering.web.cache@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager.findSession(ConcurrentSessionManager.java:71)
	at org.wildfly.clustering.web.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:222)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:885)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:425)
	at org.jboss.weld.core@3.1.8.Final//org.jboss.weld.module.web.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)
	at org.jboss.weld.core@3.1.8.Final//org.jboss.weld.module.web.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:247)
	at org.jboss.weld.core@3.1.8.Final//org.jboss.weld.module.web.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:146)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:263)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:279)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1524)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1524)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1524)
	at org.wildfly.extension.undertow@25.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1524)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)
	at io.undertow.servlet@2.2.9.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)
	at io.undertow.core@2.2.9.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.core@2.2.9.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.base/java.lang.Thread.run(Thread.java:829)
{noformat}",2021/08/09 7:22 PM
WFLY-15088,"The scheduler uses a stale value in this case.

Less of a real world scenario, more of a corner case uncovered by modifications to the expiration test case. ",2021/08/05 7:21 PM
WFLY-14898,"The transactions subsystem defines attributes of the {{log-store transactions}} resource as {{read-write}}[1]. That's incorrect as the {{transactions}} are runtime attributes which are loaded as a snapshot of the Narayana object store. There are meant to just display the content and there is no way (and no processing reason) how to write the values back to the object store.

The {{log-store transactions}} attributes {{age-in-seconds, id, jmx-name, type}} should be defined as {{read-only}}.

[1]
{noformat}
{
  ""outcome"" => ""success"",
  ""result"" => {
    ""description"" => ""The persistent information that the transaction manager stores for the purpose of recovering a transaction in the event of failure. The probe operation will add and remove transactions 
from the model as the corresponding real transactions start and finish the prepare and commit phases. A stuck transaction will remain in the model until either it is completed or explicitly removed by the delete
 operation."",
    ""storage"" => ""runtime-only"",
    ""attributes"" => {
      ""age-in-seconds"" => {
        ""type"" => LONG,
        ""description"" => ""The time since this transaction was prepared or when the recovery system last tried to recover it."",
        ""expressions-allowed"" => false,
        ""required"" => false,
        ""nillable"" => true,
        ""unit"" => ""SECONDS"",
        ""access-type"" => ""read-write"",
        ""storage"" => ""configuration"",
        ""restart-required"" => ""no-services""
      },
      ""id"" => {
        ""type"" => STRING,
        ""description"" => ""The id of this transaction."",
        ""expressions-allowed"" => false,
        ""required"" => false,
        ""nillable"" => true,
        ""min-length"" => 1L,
        ""max-length"" => 2147483647L,
        ""access-type"" => ""read-write"",
        ""storage"" => ""configuration"",
        ""restart-required"" => ""no-services""
      },
      ""jmx-name"" => {
        ""type"" => STRING,
        ""description"" => ""The JMX name of this transaction."",
        ""expressions-allowed"" => false,
        ""required"" => false,
        ""nillable"" => true,
        ""min-length"" => 0L,
        ""max-length"" => 2147483647L,
        ""access-type"" => ""read-write"",
        ""storage"" => ""configuration"",
        ""restart-required"" => ""no-services""
      },
      ""type"" => {
        ""type"" => STRING,
        ""description"" => ""The type name under which this record is stored."",
        ""expressions-allowed"" => false,
        ""required"" => false,
        ""nillable"" => true,
        ""min-length"" => 1L,
        ""max-length"" => 2147483647L,
        ""access-type"" => ""read-write"",
        ""storage"" => ""configuration"",
        ""restart-required"" => ""no-services""
      }
    },
    ""operations"" => undefined,
    ""notifications"" => undefined,
    ""children"" => {""participants"" => {
      ""description"" => ""The resources that did work in a transaction."",
      ""model-description"" => undefined
    }}
  }
}

{noformat}",2021/06/15 10:34 AM
WFLY-15012,"The test needs to perform multiple checks for expiration happening since the timing is not guaranteed by infinispan. 

e.g. https://ci.wildfly.org/buildConfiguration/WFPR/263451?

{noformat}
java.lang.AssertionError
  at org.junit.Assert.fail(Assert.java:87)
  at org.junit.Assert.assertTrue(Assert.java:42)
  at org.junit.Assert.assertTrue(Assert.java:53)
  at org.jboss.as.test.clustering.cluster.web.expiration.SessionExpirationTestCase.test(SessionExpirationTestCase.java:473)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
  at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
  at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
  at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
  at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
  at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:50)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
  at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
  at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
  at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
  at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
  at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
  at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
  at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
  at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
  at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
  at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
  at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
  at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
  at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
  at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
  at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
  at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
  at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
  at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
  at org.infinispan.server.test.junit4.InfinispanServerRule$1.evaluate(InfinispanServerRule.java:77)
  at org.junit.rules.RunRules.evaluate(RunRules.java:20)
  at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
  at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
  at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
  at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
  at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
  at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
  at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
  at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
  at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
  at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
  at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
{noformat}
",2021/07/14 9:59 PM
WFLY-14569,"See https://github.com/eclipse/microprofile-marketing/issues/451#issuecomment-797656178

WFLY-14568 is a separate issue for docs.wildfly.org content.",2021/03/12 2:54 PM
WFLY-15149,netty-4.1.67.Final no longer depends on Javassist.  Javassist was used in netty-4.0.56.Final but is not needed now.,2021/08/20 4:40 PM
WFLY-14862,"Currently, removal of session entries occurs in the order they were created:
# Session creation metadata
# Session access metadata
# Session attribute entries

However, if the invalidation process is terminated unexpected, either because of WFLY-14861 or server crash (JVM kill), this can result in orphaned cache entries if the backing cache is non-transactional.

Removing these entries in reverse order solves this problem.",2021/06/07 3:35 PM
WFLY-15043,"{noformat}
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.wildfly:wildfly-messaging-activemq-subsystem:jar:25.0.0.Beta1-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.jboss.ironjacamar:ironjacamar-common-api:jar -> version ${version.org.jboss.ironjacamar} vs (?) @ org.wildfly:wildfly-parent:25.0.0.Beta1-SNAPSHOT, wildfly/pom.xml, line 9528, column 25
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
{noformat}",2021/07/20 10:49 PM
WFLY-14864,"The following code points use instanceof with the class of the object declaration, resulting in ""always true"".
* [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentDescription.java#L195|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentDescription.java#L195]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/ejb3/src/main/java/org/jboss/as/ejb3/deployment/processors/MessageDrivenComponentDescriptionFactory.java#L121|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/ejb3/src/main/java/org/jboss/as/ejb3/deployment/processors/MessageDrivenComponentDescriptionFactory.java#L121]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/microprofile/opentracing-extension/src/main/java/org/wildfly/extension/microprofile/opentracing/TracingDeploymentProcessor.java#L284|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/microprofile/opentracing-extension/src/main/java/org/wildfly/extension/microprofile/opentracing/TracingDeploymentProcessor.java#L284]

Fix: Remove if-condition, keep logic.",2021/06/07 5:42 PM
WFLY-14865,"The long if statements contains duplicates [https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L66|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L66]

List links to the second occurence
* [PREPARED_STATEMENTS_CACHE_SIZE|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L464]
* [SHARE_PREPARED_STATEMENTS|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L469]
* [TRACK_STATEMENTS|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L474]
* [ALLOCATION_RETRY_WAIT_MILLIS|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L487]
* [BLOCKING_TIMEOUT_WAIT_MILLIS|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L492]
* [IDLETIMEOUTMINUTES|https://github.com/wildfly/wildfly/blob/24.0.0.Beta1/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L497]

Fix: Remove duplicates, logic is same anyway.",2021/06/07 6:34 PM
WFLY-14877,"Creating a new session, or changing the identifier of a session, would otherwise result in a session that cannot be referenced - as it is no longer possible to write the requisite JSESSIONID cookie or encode the session identifier in the location header to the response.

These conditions should result in an ISE.",2021/06/09 8:26 PM
WFLY-13059,"The {{org.apache.ws.security}} module contains the Jasypt JAR and exports it. Jasypt is only used internally by {{org.apache.wss4j.common.crypto.JasyptPasswordEncryptor}} and not used externally.

Our application has a dependency on {{org.jboss.ws.cxf.jbossws-cxf-client}} which has an exported dependency on {{org.apache.ws.security}} which exports Jasypt. As a consequence the Jasypt from the {{org.apache.ws.security}} module is used instead of the Jasypt from our application.

We would be willing to work on a patch. We see two possible options:
# Introduce a dedicated Jasypt module and make {{org.apache.ws.security}} depend on it without exporting it
# Add a resource filter to the {{org.apache.ws.security}} module like this {code}
    <exports>
	    <exclude path=""org/jasypt/**""/>
    </exports>
  {code}",2020/02/04 9:45 AM
WFLY-11751,"Error in JBoss Management Console when clicking on the deployed subsystem jaxrs/rest-resource.

Getting below error
{noformat}
15:02:52,134 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 8) WFLYCTL0013: Operation (""read-resource"") failed - address: ([
    (""deployment"" => ""laborEAR.ear""),
    (""subdeployment"" => ""labor3.jar""),
    (""subsystem"" => ""jaxrs""),
    (""rest-resource"" => ""com.epicdata.lmac.transactions.labor.common.ejbs.BadgeActivation"")
]) - failure description: ""WFLYCTL0216: Management resource '[
    (\""deployment\"" => \""laborEAR.ear\""),
    (\""subdeployment\"" => \""labor3.jar\""),
    (\""subsystem\"" => \""jaxrs\""),
    (\""rest-resource\"" => \""com.epicdata.lmac.transactions.labor.common.ejbs.BadgeActivation\"")
]' not found""
{noformat}",2019/02/20 4:36 AM
WFLY-14488,"If a host defines a _JAVA_OPTIONS environment variable, the JRE likes to output
{noformat}
Picked up _JAVA_OPTIONS: ...
{noformat}
to stdout.  This test should tolerate this extra stdout noise.",2021/02/24 5:01 PM
WFLY-14063,"Infinispan statistics are currently not exposed in the metrics endpoint even when `statistics-enabled` is set to true on both the cache and the cache container.

The metrics collector expects Infinispan statistics to have `AttributeAccess.AccessType.METRIC`, while currently all attributes are registered with `AttributeAccess.AccessType.READ_ONLY` in the MetricHandler.",2020/11/11 2:19 PM
WFLY-13616,"Justification:
* This is the behavior of the non-distributed session manager
* This is the behavior of the servlet container reference implementation
* JSF relies on these events being triggered on session destroy.",2020/06/23 8:45 AM
WFLY-13069,"The following jobs kicked off by different PRs hit failures on CoarseDatabasePersistenceWebFailoverTestCase:

https://ci.wildfly.org/viewLog.html?buildId=185412&tab=buildResultsDiv&buildTypeId=WF_PullRequest_LinuxJdk11#testNameId-7110329586860905181
https://ci.wildfly.org/viewLog.html?buildId=185397&tab=buildResultsDiv&buildTypeId=WF_PullRequest_WindowsJdk11#testNameId-7110329586860905181
https://ci.wildfly.org/viewLog.html?buildId=184962&tab=buildResultsDiv&buildTypeId=WF_PullRequest_WindowsJdk11#testNameId-7110329586860905181",2020/02/06 8:14 AM
WFLY-11939,NoData,2019/04/03 9:47 AM
WFLY-12992,"Messages logged by io.smallrye.openapi don't have assigned ID:

{code}
2020-01-05 16:58:49,225 DEBUG [io.smallrye.openapi.runtime.util.SchemaFactory] (MSC service thread 1-4) Processing a single @Schema annotation.
2020-01-05 16:58:49,225 DEBUG [io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner] (MSC service thread 1-4) Processing a single @Response annotation.
2020-01-05 16:58:49,225 DEBUG [io.smallrye.openapi.runtime.scanner.OpenApiAnnotationScanner] (MSC service thread 1-4) Processing jax-rs method: {0}
2020-01-05 16:58:49,225 DEBUG [io.smallrye.openapi.runtime.scanner.OpenApiDataObjectScanner] (MSC service thread 1-4) Starting processing with root: java.lang.String
{code}

A search in SmallRye implementation seems to show that IDs are not used even when level is WARN:

{code}
$ find . -name '*.*' -type f -print0 | xargs -0 grep --color -n -e 'LOG.warn'
./implementation/src/main/java/io/smallrye/openapi/runtime/scanner/ParameterProcessor.java:551:                        LOG.warnf(""Matrix parameter references missing path segment: %s"", segmentName);
./implementation/src/main/java/io/smallrye/openapi/runtime/scanner/ParameterProcessor.java:1147:            LOG.warnf(""Value '%s' is not a valid %s default"", stringValue, primitive.name().toLowerCase());
{code}",2020/01/05 2:34 PM
WFLY-12601,"Clustering needs to eliminate usages of StabilityMonitor because SM is not reliable.
It is possible that SM will prematurely inform about achieved stability even if it is not true.
The reason is SM is not propagated up the dependencies chain and thus it may report
about achieved stability even in case dependencies chain didn't finish its processing yet
and 'real' stability wasn't achieved yet.",2019/09/27 11:49 AM
WFLY-12075,"Wildfly 15.0.1 fails to stop on shutdown command due to Infinispan subsystem failing to stop it's persisted caches successfully due to a possible bug in Infinispan's PersistenceManagerImpl.publishEntries not releasing Semaphore permit after finishing, so that the stop method waits forever because it lacks one more permit.

 !third_semaphore.png|thumbnail! 
 !forth_semaphore.png|thumbnail! 

Use following application to reproduce the issue:
 [^web-java-wildfly.zip] 

standalone Infinispan caches:
{code}
            <cache-container name=""testMetaData"">
                <local-cache name=""testCache"">
                    <locking concurrency-level=""3""/>
                    <transaction locking=""OPTIMISTIC"" mode=""FULL_XA""/>
                    <object-memory size=""1000000""/>
                    <file-store path=""testCH/testCache"" passivation=""false"" preload=""false"" purge=""false""/>
                </local-cache>
                <local-cache name=""testComponentCache"">
                    <locking concurrency-level=""3""/>
                    <transaction locking=""OPTIMISTIC"" mode=""FULL_XA""/>
                    <object-memory size=""1000000""/>
                    <file-store path=""testCH/testComponentCache"" passivation=""false"" preload=""false"" purge=""false""/>
                </local-cache>
            </cache-container>
{code}

{code}
11:02:00,103 INFO  [stdout] (default task-1) bla blanull
11:02:00,103 INFO  [stdout] (default task-1) bla blanull
11:03:17,748 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0236: Suspending server with no timeout.
11:03:17,750 INFO  [org.jboss.as.ejb3] (management-handler-thread - 1) WFLYEJB0493: EJB subsystem suspension complete
11:03:17,752 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
11:03:17,785 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb1
11:03:17,785 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:/mail/myproject]
11:03:17,785 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb2
11:03:17,787 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb3
11:03:17,789 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 88) WFLYMSGAMQ0006: Unbound messaging object to jndi name java:/ConnectionFactory
11:03:17,790 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
11:03:17,790 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb4
11:03:17,797 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) WFLYJCA0019: Stopped Driver service with driver-name = ojdbc.jar
11:03:17,800 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 101) WFLYUT0022: Unregistered web context: '/wildfly-helloworld' from server 'default-server'
11:03:17,821 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 101) MODCLUSTER000002: Initiating mod_cluster shutdown
11:03:17,823 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping
11:03:17,840 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0119: Unbinding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
11:03:17,841 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-4) WFLYJCA0011: Unbound JCA ConnectionFactory [java:/JmsXA]
11:03:17,842 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
11:03:17,842 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2
11:03:17,846 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 101) WFLYCLINF0003: Stopped client-mappings cache from ejb container
11:03:17,864 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTP listener default suspending
11:03:17,864 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
11:03:17,870 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0028: Stopped deployment ojdbc.jar (runtime-name: ojdbc.jar) in 108ms
11:03:17,883 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0028: Stopped deployment wildfly-helloworld.war (runtime-name: wildfly-helloworld.war) in 120ms
11:03:17,875 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to 192.168.1.2:8009
11:03:17,874 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 192.168.1.2:8080
11:03:17,872 INFO  [org.apache.activemq.artemis.ra] (ServerService Thread Pool -- 104) AMQ151003: resource adaptor stopped
11:03:17,932 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 104) AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.6.3.jbossorg-00014 [7b985d04-761e-11e9-bb4e-0a0027000008] stopped, uptime 1 minute
11:03:17,933 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0008: Undertow HTTPS listener default-ssl suspending
11:03:17,934 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0007: Undertow HTTPS listener default-ssl stopped, was bound to 192.168.1.2:8443
11:03:17,935 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 2.0.15.Final stopping
{code}",2019/05/14 4:08 AM
WFLY-12674,"Introduce wildfly.jpa.skipquerydetach that defaults to false (to wrap query objects with detacher that clears query results when obtained) but could be set to true, for JBoss AS 5/6 compatibility.  This could of been part of [WFLY-3674] but was overlooked. 

An example of setting wildfly.jpa.skipquerydetach to true, so that the various query detacher will not be used (e.g. underlying query is returned instead of instance of QueryNonTxInvocationDetacher/TypedQueryNonTxInvocationDetacher/StoredProcedureQueryNonTxInvocationDetacher wrapper):

{code}
<property name=""wildfly.jpa.skipquerydetach"" value=""true"" />
{code}

The below reference notes are more for background information but provide the explanation of why the AS5/6 way of detaching loaded entities changed later, to ensure the returned results from Query objects, are detached, instead of the current persistence context at the time of creating the query object, as per feedback below from JPA lead Linda DeMichiel.

[From related JPA expert group discussion|https://download.oracle.com/javaee-archive/jpa-spec.java.net/users/2011/12/0069.html]:
{code}
>>>>> Perhaps a clearer proposal could be:
>>>>>
>>>>> ""
>>>>> If the entity manager is invoked outside the scope of a transaction,
>>>>> any entities loaded from the database will
>>>>> immediately become detached at the end of the container level method
>>>>> invocation call (e.g. when the session bean method
>>>>> ends).
>>>>> ""
>>>>
>>>> Ah, thanks. That is not the intended semantics. Rather it is that the
>>>> persistence context is created to service the method call that is made
>>>> on the entity manager only. It doesn't have the duration of a business
>>>> method invocation.
>>>
>>> Is it really?
>>>
>>
>> Yes. See also section 3.8.7, which is quite explicit with regard to
>> queries.
>> BTW, these decisions date back to JPA 1.0 (aka EJB 3.0).
>
> My updated proposal for the 7.6.2 wording is:
>
> ""
> If the entity manager is invoked outside the scope of a transaction, any entities loaded from the database will
> immediately become detached at the end of the entity manager method call.
> ""

OK, sure + ""... or query invocation"" 
{code}

Note that we (JPA expert group) missed Linda's response of ""... or query invocation"" in the JPA spec update, as the JPA 2.2 spec today states:
{quote}
7.6.2 Container-managed Transaction-scoped Persistence Context

The application can obtain a container-managed entity manager with transaction-scoped persistence context by injection or direct lookup in the JNDI namespace. The persistence context type for the entity manager is defaulted or defined as PersistenceContextType.TRANSACTION.

A new persistence context begins when the container-managed entity manager is invoked [84] in the scope of an active JTA transaction, and there is no current persistence context already associated with the JTA transaction. The persistence context is created and then associated with the JTA transaction.  This association of the persistence context with the JTA transaction is independent of the synchronization type of the persistence context and whether the persistence context has been joined to the transaction.
{quote}

[Some related AS5/6 JPA container code.|https://anonsvn.jboss.org/repos/jbossas/projects/jpa/trunk/impl/src/main/java/org/jboss/jpa/impl/tx/TransactionScopedEntityManager.java] which simply cleared the persistence context as we were creating a new Query, for example see:
{code}
   public Query createQuery(String ejbqlString)
   {
      EntityManager em = getEntityManager();
      detachEntitiesIfNoTx(em);
      return em.createQuery(ejbqlString);
   }
{code}

Also of reference, is from issue description [WFLY-3674]:
{quote}

For compatibility with earlier JBoss application server versions (5.0/6.0), add an extension that allows the persistence context to last until the referencing persistence context is closed.

For example, in a session method that has no active JTA transaction, entities returned, will not cleared from the persistence context, until the session method completes. This extension is only introduced to allow compatibility with older application server versions.
{quote}
[WFLY-12674] is about doing the same for Queries (if wildfly.jpa.skipquerydetach is set to true).
",2019/10/15 1:29 PM
WFLY-12613,"The test case org.jboss.as.test.clustering.cluster.ejb.remote.byteman.LastNodeToLeaveRemoteEJBTestCase uses Byteman to check a condition for validating whether the test passes or fails. The component arquillian-extension-byteman is used to allow the use of Byteman annotations within the  Arquillian test case.

There is a problem with running Byteman-based test cases against the IBM J9 Java runtime:
{noformat}
[ERROR] org.jboss.as.test.clustering.cluster.ejb.remote.byteman.LastNodeToLeaveRemoteEJBTestCase  Time elapsed: 1.202 s  <<< ERROR!
java.lang.RuntimeException: Could not install byteman agent
	at org.jboss.arquillian.extension.byteman.impl.client.AgentInstaller.install(AgentInstaller.java:98)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:507)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:507)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeSuite(EventTestRunnerAdaptor.java:71)
	at org.jboss.arquillian.junit.AdaptorManager.initializeAdaptor(AdaptorManager.java:23)
	at org.jboss.arquillian.junit.AdaptorManagerWithNotifier.initializeAdaptor(AdaptorManagerWithNotifier.java:19)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:109)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
Caused by: com.sun.tools.attach.AgentInitializationException: ATTACH_ERR AgentInitializationException102
	at ibm.tools.attach.J9VirtualMachine.loadAgent(J9VirtualMachine.java:66)
	at org.jboss.arquillian.extension.byteman.impl.client.AgentInstaller.install(AgentInstaller.java:91)
	... 28 more
{noformat}
 
{noformat}
[nrla@localhost wildfly-git-repo]$ java -version
java version ""1.8.0""
Java(TM) SE Runtime Environment (build pxa6480sr2-20151023_01(SR2))
IBM J9 VM (build 2.8, JRE 1.8.0 Linux amd64-64 Compressed References 20151019_272764 (JIT enabled, AOT enabled)
J9VM - R28_Java8_SR2_20151019_2144_B272764
JIT  - tr.r14.java_20151006_102517.04
GC   - R28_Java8_SR2_20151019_2144_B272764_CMPRSS
J9CL - 20151019_272764)
JCL - 20151022_01 based on Oracle jdk8u65-b17
{noformat}

Until this JVM bug can be fixed, we need to exclude executions of this test against the IBM J9 JVM.",2019/09/30 7:49 PM
WFLY-11937,"*Scenario*
# Server1 enlists dummy XA resource and make JPA call
# Server1 calls a EJB on Server2
# Server2 enlists dummy XA resource and make JPA call
# Server2 is halted at the beginning of dummy XA resource
# Transaction is supposed to be rolled back

We can see following lines in the log of Server1

{code:java}
2019-04-02 21:22:41,707 TRACE [com.arjuna.ats.jta] (default task-2) XAResourceRecord.topLevelAbort for XAResourceRecord < resource:Subordinate XAResource at http-remoting://127.0.0.1:8180, txid:< formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff7f000001:-70ba203e:5ca3d272:2f, node_name=TWkA, branch_uid=0:ffff7f000001:-70ba203e:5ca3d272:35, subordinatenodename=null, eis_name=unknown eis name >, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord@531d7d94 >, record id=0:ffff7f000001:-70ba203e:5ca3d272:36
2019-04-02 21:22:41,708 WARN  [com.arjuna.ats.jta] (default task-2) ARJUNA016045: attempted rollback of < formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff7f000001:-70ba203e:5ca3d272:2f, node_name=TWkA, branch_uid=0:ffff7f000001:-70ba203e:5ca3d272:35, subordinatenodename=null, eis_name=unknown eis name > (Subordinate XAResource at http-remoting://127.0.0.1:8180) failed with exception code XAException.XAER_RMERR: javax.transaction.xa.XAException: WFTXN0026: Failed to send protocol message to remote peer
	at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.rollback(TransactionClientChannel.java:98)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer$1.rollback(RemotingRemoteTransactionPeer.java:149)
	at org.wildfly.transaction.client.SubordinateXAResource.rollback(SubordinateXAResource.java:174)
	at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelAbort(XAResourceRecord.java:362)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3023)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3002)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.phase2Abort(BasicAction.java:1981)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.End(BasicAction.java:1519)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:96)
	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1288)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
	at org.wildfly.transaction.client.LocalTransaction.commitAndDissociate(LocalTransaction.java:75)
	at org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:71)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:88)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:261)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.EjbExceptionTransformingInterceptorFactories$1.processInvocation(EjbExceptionTransformingInterceptorFactories.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.remoting3.NotOpenException: Writes closed
	at org.jboss.remoting3.remote.RemoteConnectionChannel.openOutboundMessage(RemoteConnectionChannel.java:106)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.writeMessage(RemoteConnectionChannel.java:291)
	at org.jboss.remoting3.util.MessageTracker.openMessage(MessageTracker.java:64)
	at org.jboss.remoting3.util.InvocationTracker.allocateMessage(InvocationTracker.java:189)
	at org.jboss.remoting3.util.InvocationTracker.allocateMessage(InvocationTracker.java:205)
	at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.rollback(TransactionClientChannel.java:91)
	... 58 more

2019-04-02 21:22:41,709 WARN  [com.arjuna.ats.arjuna] (default task-2) ARJUNA012089: Top-level abort of action 0:ffff7f000001:-70ba203e:5ca3d272:2f received heuristic decision: TwoPhaseOutcome.HEURISTIC_HAZARD
{code}

*TLDR;*
Server2 is halted and Server1 gets XAER_RMERR. During abort/rollback Server2 is still down and Server1 gets XAER_RMERR. Result of this is that the transaction is in heuristic state and not rolled back.

Based of the XA spec (http://pubs.opengroup.org/onlinepubs/009680699/toc.pdf) the XAER_RMFAIL (or XA_RETRY) is the correct XAException error code.

_XAER_RMERR_
a  resource manager error occurred in the transaction branch

_XAER_RMFAIL_
resource manager unavailable

_XA_RETRY_
routine returned with no effect and may be reissued",2019/04/03 8:46 AM
WFLY-11716,"On Wildfly 16.0.0.Beta1 deployment fails

{code}
org.jboss.weld.exceptions.UnserializableDependencyException: WELD-001477: The bean Managed Bean [class co.cfly.oss.lerg.rateCenter.inventoryRequest.InventoryRequestView] with qualifiers [@Default @Any @Named] declares a passivating scope but has a(n) Interceptor [class com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired intercepts @Transactional] with a non-passivation-capable dependency com.arjuna.ats.jta.cdi.JNDIBean@12e2cb9f
	at org.jboss.weld.bootstrap.Validator.validateInterceptorDecoratorInjectionPointPassivationCapable(Validator.java:480)
	at org.jboss.weld.bootstrap.Validator.validateInterceptors(Validator.java:225)
	at org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:175)
	at org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:526)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}",2019/02/13 11:00 PM
WFLY-13779,"WildFly build: 21.0.0.Beta1-SNAPSHOT
Java: oracle-java-11

A several failures appeared in our small standalone test suite [1] for MicroProfile on WF/EAP. To be more specific, a few failures in MP Metrics that have one common cause:

{noformat}
java.lang.RuntimeException: config.source.properties.path property not defined
{noformat}

caused by line [2]. 

I have a reason to believe that this PR [3] could be reason of these failures. What should be done in this case? 

Thank you.

[1] - https://github.com/jboss-eap-qe/eap-microprofile-test-suite/tree/master/microprofile-metrics/src/test/java/org/jboss/eap/qe/microprofile/metrics
[2] - https://github.com/jboss-eap-qe/eap-microprofile-test-suite/blob/8b726042e5b46540419263e81106da4c18abfb9c/microprofile-metrics/src/main/java/org/jboss/eap/qe/microprofile/metrics/integration/config/CustomConfigSource.java#L20
[3] - https://github.com/wildfly/wildfly/pull/13247

 ",2020/08/19 10:57 AM
WFLY-11718,"Test org.wildfly.test.integration.microprofile.metrics.metadata.MicroProfileMetricsHistogramMultipleInvocationsTestCase.testMultipleInvocationsOfEndpoint is failing intermittently.

@Ignore-it until it is fix to consistently pass.",2019/02/14 7:05 AM
WFLY-13976,"Undertow subsystem supports the property expression for the ""predicate"" attribute of <filter-ref> as shown below in the resource description. However, it does not resolve and expand the specified property expression.
{code:java}
[standalone@node1:9990 /] /subsystem=undertow/server=default-server/host=default-host/filter-ref=*:read-resource-description(recursive=true)
{
    ...
        ""result"" => {
            ""description"" => ""Reference to filter"",
            ""attributes"" => {
                ""predicate"" => {
                    ""type"" => STRING,
                    ""description"" => ""Predicates provide a simple way of making a true/false decision  based on an exchange. Many handlers have a requirement 
that they be applied conditionally, and predicates provide a general way to specify a condition."",
                    ""expressions-allowed"" => true,
                    ""required"" => false,
                    ""nillable"" => true,
                    ""access-type"" => ""read-write"",
                    ""storage"" => ""configuration"",
                    ""restart-required"" => ""all-services""
                },
                ""priority"" => {
                    ""type"" => INT,
                    ""description"" => ""Defines filter order. A lower number instructs the server to be included earlier in the handler chain than others with h
igher numbers. Values range from 1, indicating the filter will be handled first, to 2147483647, resulting in the filter being handled last."",
                    ""expressions-allowed"" => true,
                    ""required"" => false,
                    ""nillable"" => true,
                    ""default"" => 1,
                    ""min"" => 1L,
                    ""max"" => 2147483647L,
                    ""access-type"" => ""read-write"",
                    ""storage"" => ""configuration"",
                    ""restart-required"" => ""all-services""
                }
            },
            ""operations"" => undefined,
            ""notifications"" => undefined,
            ""children"" => {}
        }
    }]
}
{code}
Example configuration:
{code:java}
  <subsystem xmlns=""urn:jboss:domain:undertow:10.0"" ...>
      ...
      <server name=""default-server"">
          ...
          <host name=""default-host"" alias=""localhost"">
              ...
              <filter-ref name=""request-limit-filter"" predicate=""not path-prefix('/${env.FOOBAR}')""/>
              <filter-ref name=""dump-request-filter"" predicate=""path-prefix('/${my.predicate.path.test}')""/>
          </host>
      </server>
      ...
      <filters>
          <request-limit name=""request-limit-filter"" max-concurrent-requests=""10"" queue-size=""1""/>
          <expression-filter name=""dump-request-filter"" expression=""dump-request""/>
      </filters>
  </subsystem>
{code}

Then, start WildFly with specifying the system property and environment variable:

{code}
FOOBAR=example ./bin/standalone.sh -Dmy.predicate.path.test=test
{code}


",2020/10/16 1:19 AM
WFLY-13641,"When referencing a jar with CDI scan mode ""annotaded"" inside an ear from an external war via jboss-deployment-structure.xml a warning will be printed for every class:

WFLYWELD0055: Could not index class [Someclass] from an external bean archive: vfs:/somepath/myear.ear/myejb-0.0.1.jar/META-INF/beans.xml

Seems VFS cannot get hold of the classes.
The warning is logged inExternalBeanArchiveProcessor which catches an EOFException from the inputstream loading the class. (Line 284). Seems the input stream is not able to load a single byte from the class",2020/07/02 10:36 AM
WFLY-14199,{color:#333333}OnOffOpenTracingTestCase{color} will leave the server in such a state that SimpleRestClientTestCase will fail. Removing and adding the opentracing subsystem to check that it doesn't work once removed shoudl be reevaluated.,2020/12/09 12:10 PM
WFLY-11983,"Line-endings of bat scripts should be unified. This is regression against WF15.

Some files in WF16 uses CRLF, another LF only. We need to clarify the recommended line ending and use this line ending in all Windows scripts.

WF16:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text
./elytron-tool.bat:    DOS batch file, ASCII text
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text
./jconsole.bat:        DOS batch file, ASCII text
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text
$ 
{noformat}
WF15:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text, with CRLF line terminators
./elytron-tool.bat:    DOS batch file, ASCII text, with CRLF line terminators
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text, with CRLF line terminators
./jconsole.bat:        DOS batch file, ASCII text, with CRLF line terminators
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text, with CRLF line terminators
$ 
{noformat}",2019/04/12 7:32 AM
WFLY-11991,"The idea is to transform any class method parameter of type org.hibernate.engine.spi.SessionImplementor, in user application, to instead use type org.hibernate.engine.spi.SharedSessionContractImplementor.

The above is done for any application class that has any of the following Hibernate classes as its super class:
{code}
org.hibernate.usertype.UserType
org.hibernate.usertype.CompositeUserType
org.hibernate.usertype.UserCollectionType
org.hibernate.usertype.UserVersionType
org.hibernate.type.Type
org.hibernate.type.SingleColumnType
org.hibernate.type.AbstractStandardBasicType
org.hibernate.type.ProcedureParameterExtractionAware
org.hibernate.type.ProcedureParameterNamedBinder
org.hibernate.type.VersionType
org.hibernate.collection.spi.PersistentCollection
{code}

The code change is required to handle application classes like: [https://github.com/simkam/wildfly/compare/hibernate_transformer].  

The test case change is adding an internalNullSafeGet method that should also be transformed to use the SharedSessionContractImplementor type but was not, which led to an application failure with code: 

{code}
 public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
        return internalNullSafeGet(rs, names, session, owner);
    }

    private Object internalNullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
        internalSessionImplementorUsingMethod(session);
        session.isTransactionInProgress();
        int result = rs.getInt( names[0] );
        if ( rs.wasNull() ) return null;
        return State.values()[result];
    }
}
{code}
",2019/04/15 11:01 AM
WFLY-11827,"The issue was introduced by https://issues.jboss.org/browse/WFLY-11617 Validation not working for pooled-connection-factory's transaction attribute. 

*1) Starting Wildfly with _full_ profile gives now a WARN log, although the value for the transaction attribute is valid.*
*2) Writing the invalid value to the attribute should fail the management operation.*
* reported as WFLY-11830

Starting vanilla server:
{noformat}
09:19:00,578 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 18) WFLYMSGAMQ0101: Invalid value xa for transaction, legal values are [local, none, xa], default value is applied.
{noformat}

Write operation:
{noformat}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=xa)
09:31:21,542 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 2) WFLYMSGAMQ0101: Invalid value xa for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=invalid)
09:33:52,278 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 1) WFLYMSGAMQ0101: Invalid value invalid for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /]  /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:read-attribute(name=transaction)
{
    ""outcome"" => ""success"",
    ""result"" => ""xa""
}
{noformat}

Start (not reload, reload gives a single warning) server with invalid value logs two warnings:
{noformat}
...
09:35:37,737 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 16.0.0.Final (WildFly Core 8.0.0.Final) starting
09:35:38,481 INFO  [org.wildfly.security] (ServerService Thread Pool -- 15) ELY00001: WildFly Elytron version 1.8.0.Final
09:35:38,688 WARN  [org.wildfly.extension.messaging-activemq] (Controller Boot Thread) WFLYMSGAMQ0101: Invalid value foo for transaction, legal values are [""local"", ""none"", ""xa""], default value is applied.
09:35:38,945 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
09:35:38,979 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 7) WFLYMSGAMQ0101: Invalid value foo for transaction, legal values are [local, none, xa], default value is applied.
09:35:38,980 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 38) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
...
{noformat}",2019/03/11 4:36 AM
WFLY-11733,"The dependency log4j.log4j with scope test exists two time in testsuite/integration/smoke/pom.xml. lines 65-69 and 86-90.

This leads to this waning messages when running the smoke tests:
{noformat}
WARNING Some problems were encountered while building the effective model for org.wildfly:wildfly-ts-integ-smoke:jar:16.0.0.Beta1-SNAPSHOT
WARNING 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: log4j:log4j:jar -> duplicate declaration of version (?) @ org.wildfly:wildfly-ts-integ-smoke:[unknown-version], /home/jboss/WildFly-master/wildfly/testsuite/integration/smoke/pom.xml, line 86, column 21
WARNING
WARNING It is highly recommended to fix these problems because they threaten the stability of your build.
WARNING
WARNING For this reason, future Maven versions might no longer support building such malformed projects.
{noformat}
",2019/02/17 1:58 PM
WFLY-11854,"Currently, WildFly's distributed web session manager detects classes annotated with @Immutable placed into the web session, optimizes calls so HttpSession.getAttribute(...) are not treated as cache writes.

However, users don't always have access to the classes to be able to annotate them, e.g. they come from a shared library, web framework, etc.

Now that we have a distributed session management deployment descriptor, we have a convenient location to define external session attribute classes that should be treated as immutable.",2019/03/15 11:42 AM
WFLY-11882,"When using a transactional cache with ATTRIBUTE granularity, the following code will trigger a redundant cache operation upon request completion:

[1]
AtomicInteger value = (AtomicInteger) session.getAttribute(""a"");
value.incrementAndGet();
session.setAttribute(""a"", value);

[2]
session.setAttribute(""a"", new AtomicInteger());
AtomicInteger value = (AtomicInteger) session.getAttribute(""a"");
value.incrementAndGet();

In case [1], the initial mutable getAttribute(...) triggers an eager mutate, which becomes redundant by the subsequent setAttribute(...).
In case [2], the subsequent mutable getAttribute(...) does not need to trigger a mutation, as the previous setAttribute(...) already has.",2019/03/20 5:54 PM
WFLY-11966,"This is a consequence of a bug introduced in WFLY-11747

JCA root definition is using the setCapabilities method twice:

{code:java}
private JcaSubsystemRootDefinition(final boolean registerRuntimeOnly) {
        super(new Parameters(PATH_SUBSYSTEM, JcaExtension.getResourceDescriptionResolver())
                .setAddHandler(JcaSubsystemAdd.INSTANCE)
                .setRemoveHandler(JcaSubSystemRemove.INSTANCE)
                .setCapabilities(JCA_NAMING_CAPABILITY)
                .setCapabilities(TRANSACTION_INTEGRATION_CAPABILITY)
        );
        this.registerRuntimeOnly = registerRuntimeOnly;
    }
{code}

That means JCA_NAMING_CAPABILITY is being overwritten by TRANSACTION_INTEGRATION_CAPABILITY , so this requirement is lost.",2019/04/10 6:57 AM
WFLY-12006,NoData,2019/04/18 1:22 AM
WFLY-11944,"The test case RemoteStatelessFailoverTestCase makes use of the helper class EJBRemoteDirectory to lookup JNDI names for beans in test cases. The EJB client then uses the resulting proxies to make invocations on the beans.

This helper class is defined statically and initialized before any of the test cases run. Consequenty, the InitialContext created by the helper class is used across multiple test cases.  The effect of this is that all of the proxies used in the test case are created from the same InitialContext. Consequently, they share a RemoteEJBDiscoveryProvider instance  which is a class used to maintain information about server and module deployments which the EJB client references during invocation to find a suitable target for the invocation.

This means that any server startup or shutdown activities are passed from one test case to another. This is not wanted as crash failures or shutdowns in one test will contaminate the next test, and this is exactly what is happening in a particular failure of this test.

If your test class only involves one test, then static usage will work, but probably not recommended.

UPDATE: This problem is present in a few other test cases, so I have updated them.",2019/04/04 1:29 PM
WFLY-11936,"When server starts there are ""Unbound ..."" messages incorrectly logged, before related resources are bound. E.g. the following messages may be seen when starting the standalone-full.xml configuration:

{code}
07:14:07,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
07:14:07,674 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
07:14:07,855 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
07:14:08,604 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
07:14:11,858 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0011: Unbound JCA ConnectionFactory [java:/JmsXA]
07:14:11,862 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-1) WFLYJCA0119: Unbinding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
07:14:12,131 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-8) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]
07:14:12,131 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0118: Binding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
{code}",2019/04/03 2:23 AM
WFLY-11839,NoData,2019/03/12 8:49 AM
WFLY-11911,"The only configuration options allowed on the channel by the ultimate consumer of the options org.jboss.remoting3.remote.RemoteReadListener are:
RemotingOptions.TRANSMIT_WINDOW_SIZE,
RemotingOptions.MAX_OUTBOUND_MESSAGES
RemotingOptions.RECEIVE_WINDOW_SIZE
RemotingOptions.MAX_INBOUND_MESSAGES
RemotingOptions.MAX_OUTBOUND_MESSAGE_SIZE
RemotingOptions.MAX_INBOUND_MESSAGE_SIZE.

Standalone.xml/domain.xml file show READ_TIMEOUT as an example option and should be removed.",2019/03/11 9:48 AM
WFLY-11819,"An application uses {{remote-outbound-connections}} for remote EJB invocations and the {{jboss-ejb-client.xml}} contains a {{clusters}} definition containing the {{max-allowed-connected-nodes}}, like below:

{code}
<jboss-ejb-client xmlns=""urn:jboss:ejb-client:1.2"">
        ...
        <clusters>
            <cluster name=""ejb"" ... max-allowed-connected-nodes=""20"">
            </cluster>
        </clusters>
    </client-context>
</jboss-ejb-client>
{code}

In the actually used {{EJBClientContext}} this value doesn't get assigned and the hard coded default value of _10_ is being used.",2019/03/07 7:09 AM
WFLY-12147,"{{MinimalWebAuthenticationTestCase}} defines a {{ServerSetup}} class that ensures that an application security domain mapping to a security domain is used instead of an authentication factory. However, this class is currently not being used although the test description mentions that it should be used.

See https://github.com/wildfly/wildfly/blob/master/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/web/MinimalWebAuthenticationTestCase.java#L38",2019/05/30 3:44 PM
WFLY-11797,"The jpa resource should advertise org.hibernate.envers module as an optional runtime package.
",2019/02/28 11:05 AM
WFLY-12064,"If one of the SFSBs within a given bean group throws an exception from @PrePassivate, this has the effect of aborting passivation of the bean group - however, @PrePassivate may have already completed successfully on some bean in the group.  Thus, we need to trigger @PostActivate on these beans lest they be left in an invalid/inconsistent state for the next invocation.",2019/05/10 1:38 PM
WFLY-11947,"{noformat}
15:50:49,284 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.web.dist: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.web.dist: org.infinispan.commons.CacheConfigurationException: ISPN000534: Grouping requires OBJECT storage type but was: OFF_HEAP
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000534: Grouping requires OBJECT storage type but was: OFF_HEAP
	at org.infinispan.configuration.cache.MemoryConfigurationBuilder.validate(MemoryConfigurationBuilder.java:157)
	at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:235)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:292)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:282)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationServiceConfigurator.get(ConfigurationServiceConfigurator.java:90)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationServiceConfigurator.get(ConfigurationServiceConfigurator.java:51)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 8 more
{noformat}",2019/04/04 3:57 PM
WFLY-11823,"These capabilities are registered by EJB3 subsystem but they are not recorded by Galleon feature spec:

org.wildfly.ejb3.remote.client-configurator
org.wildfly.ejb3
org.wildfly.ejb3.clustered.singleton
",2019/03/08 3:24 AM
WFLY-12172,The issue described in WFLY-12171 is being seen more often since the Xnio upgrade (WFCORE-4491). The EJB client tests need the correct permissions to run when the security manager is enabled.,2019/06/05 5:35 PM
WFLY-11791,"javax.naming.NameNotFoundException: WFNAM00004: Name ""/127.0.0.1:11090"" is not found
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.util.NamingUtils$1.lookupNative(NamingUtils.java:95)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupBean.testRmiContextLookup(RmiContextLookupBean.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa@16.0.0.CR1-SNAPSHOT//org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupBean$$$view780.testRmiContextLookup(Unknown Source)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupTestCase.testTaskSubmit(RmiContextLookupTestCase.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at deployment.arquillian-service//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at jdk.internal.reflect.GeneratedMethodAccessor408.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at jdk.internal.reflect.GeneratedMethodAccessor407.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at jdk.internal.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at jdk.internal.reflect.GeneratedMethodAccessor409.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at jdk.internal.reflect.GeneratedMethodAccessor408.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at jdk.internal.reflect.GeneratedMethodAccessor407.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at jdk.internal.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at deployment.arquillian-service//org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at jdk.internal.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:260)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller@8.0.0.CR1//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller@8.0.0.CR1//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:835)",2019/02/27 2:17 PM
WFLY-12022,"There exists a race condition between concurrent elections triggered by different nodes.  In general, only 1 node actually runs the election for a given set of singleton candidates.  During a deployment replace, there are a rapid series of changes to the candidates as the deployment is stopped and restarted.  While each node processes them 1 at a time, this processing isn't synchronized across members.  This is the root of the problem, as a new election can be triggered on one node while another node is still in the process of completing its election.  Here's the scenario where observed the race condition:

Before deployment replace, sever-one is the primary provider of the singleton service
Each node undeploys its application, and restarts.  As each node redeploys, and the singleton service is reinstalled, each node register itself as providing the singleton service.  The redeploy happens concurrently, but the registration order appears the same on all nodes.
In this case, the registration order was server-three, server-two, server-one.
# server-three registers first, it elects itself and starts its service
# server-two registers next
## server-three defers election to server-two
## server-two runs the election:
### Elects itself
### Sends a synchronous service stop message to server-three
### Starts its service
# server-one registers next, while server-two is in the process of stopping the service on server-three
## server-three defers election to server-one
## server-two is still in the election process, but will defer election to server-one once complete
## server-one runs the election:
### Elects itself
### Sends service stop message to server-two and server-three
#### server-three is no longer running its service
#### server-two hasn't yet started its service, but it will soon (This is the problem)
### server-one starts its service
### Meanwhile, server-two just received its response that the stop of service (2.B.II.) and commences its own service start (1.B.III.)

Now server-one and server-two are both running the service.
",2019/04/26 9:21 PM
WFLY-11790,"javax.naming.NameNotFoundException: WFNAM00004: Name ""/127.0.0.1:11090/jmxrmi"" is not found
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.util.NamingUtils$1.lookupNative(NamingUtils.java:95)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
	at deployment.naming-connector-bean//org.jboss.as.test.integration.naming.connector.ConnectedBean.getMBeanCountFromJNDI(ConnectedBean.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa@16.0.0.CR1-SNAPSHOT//org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:835)",2019/02/27 2:11 PM
WFLY-11995,NoData,2019/04/15 5:18 PM
WFLY-11869,"JSF Session / View Beans @Destroy not invoked after GC

This commit to fix a JSF memory leak appears to be related: 

https://github.com/wildfly/wildfly/commit/6b28dd31e4fe40addebbb975f70dc10e00c2d59a#diff-67f677c8e97e147da66398f585bfe13f",2019/03/19 7:50 AM
WFLY-11975,"The creation timestamp of a distributed web session is represented by a java.time.Instant.  The externalizer for an Instant marshals an integer containing the nanosecond precision, which is unnecessary, as the HttpSession API only requires millisecond precision.",2019/04/11 4:14 PM
WFLY-11848,"EJB WFLYEJB0473: JNDI bindings for ... ejb: is not correct when there is not an appName

EAP 7.2 is logging the ejb: JNDI binding 'ejb:ejb-client/Hello!com.jboss.examples.ejb.Hello' which can be used by remote clients, but when the deployment is not an ear there is not an an AppName/ModuleName.

the format is: ejb: appName / moduleName / distinctName / EJBName!EJBInterface

For a deployment ejb-client.jar, the EJB it seeing appName == moduleName == ejb-client.  But the way it has worked is if there is no sub deployment, then the appName is considered """", making the lookup: ejb:/ejb-client/Hello!com.jboss.examples.ejb.Hello

If the ejb-client.jar was packaged in app.ear, then the lookup would be ejb:app/ejb-client/Hello!com.jboss.examples.ejb.Hello

So all of that to say, there should be a / in the binding name when there is not an appName (ie not in an ear or not a subdeployment).

{code}
  @Resource(lookup = ""java:app/AppName"")
  private String appName;
  @Resource(lookup = ""java:module/ModuleName"")
  private String moduleName;
{code}

https://docs.jboss.org/author/display/WFLY/EJB+invocations+from+a+remote+server+instance


{code}
INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-5) WFLYEJB0473: JNDI bindings for session bean named 'Hello' in deployment unit 'deployment ""ejb-client.jar""' are as follows:

	java:global/ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:app/ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:module/Hello!com.jboss.examples.ejb.Hello
	java:jboss/exported/ejb-client/Hello!com.jboss.examples.ejb.Hello
	ejb:ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:global/ejb-client/Hello
	java:app/ejb-client/Hello
	java:module/Hello
{code}


org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor
{code}
            // log EJB's ejb:/ namespace binding
            final String ejbNamespaceBindingName = sessionBean.isStateful() ? ejbNamespaceBindingBaseName + ""!"" + viewClassName + ""?stateful"" : ejbNamespaceBindingBaseName + ""!"" + viewClassName;
            logBinding(jndiBindingsLogMessage, ejbNamespaceBindingName);
{code}",2019/03/14 1:26 AM
WFLY-12161,"- Although  , the  ""expressions-allowed"" is true for ""share-prepared-statements"" , the expression for it does not work .

--------------------------------------------
[standalone@localhost:9990 /] /subsystem=datasources/xa-data-source=ExampleXADS:read-resource-description()

""share-prepared-statements"" => {
                ""type"" => BOOLEAN,
                ""description"" => ""Whether to share prepared statements, i.e. whether asking for same statement twice without closing uses the same underlying prepared statement"",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => false,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },

---------------------------------------------

- It shows below error if we set expression for share-prepared-statements .

---------------------------------------------
18:32:07,698 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 41) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""datasources""),
    (""xa-data-source"" => ""ExampleXADS"")
]): java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.asBoolean(ModelValue.java:69)
	at org.jboss.dmr.ModelNode.asBoolean(ModelNode.java:324)
	at org.jboss.as.connector.subsystems.datasources.DataSourceModelNodeUtil.xaFrom(DataSourceModelNodeUtil.java:292)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.secondRuntimeStep(AbstractDataSourceAdd.java:298)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd$1.execute(AbstractDataSourceAdd.java:134)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

---------------------------------------------

- However , it works in a non-xa datasource .",2019/06/03 12:49 PM
WFLY-14111,"The test{{AbstractUndertowSubsystemTestCase#testRuntime}}is flaky because it has{{Assert.assertEquals(""default-alias"", new ArrayList<>(host.getAllAliases()).get(1))}}where{{getAllAliases()}}returns{{HashSet}}, so the test checks that ""default-alias"" is at the second index of the list formed from the set. The modified code checks that ""default-alias"" is in the{{HashSet}}itself. This fixes 10 flaky tests in the subclasses of{{AbstractUndertowSubsystemTestCase.}}",2020/11/23 2:20 PM
WFLY-11959,"AbstractSimpleApplicationClientTestCase uses AppClientWrapper which ends up writing a log file in the WildFly installation in build/target. That's not ideal as that's not a test installation and its content shouldn't be polluted.

It's not critical as by the time the testsuite has run the build module has already created a zip of its installation, and that zip is what would get deployed if a release was being done. ",2019/04/08 9:32 PM
WFLY-13658,"The active session count returns the number of sessions in memory that are owned by the current member. For non-transactional invalidation caches, sessions are always owned by the same member, thus all members except one will always return an active session count of 0.",2020/07/09 3:24 PM
WFLY-14055,"This issue is a copy of EAPSUP-316 which points out deployment time increase for massive applications (EAR with 500 EJB jars in this case - yea, I know, your daily deployment sample ;-)). There is no real drawback for any small deployment, the difference would be negligible.

Turns out a lot of time is spent inside Weld subsystem which needs to analyze the accessibility graph but also process external bean archives. While I don't see how to easily improve the former, the latter can be cut down significantly with a simple cache.

See the original issue for more details, I will also re-attach the reproducer here for ease of double checking.",2020/11/10 9:41 AM
WFLY-12391,The jta txbridge test `org.jboss.as.test.txbridge.fromjta.BridgeFromJTATestCase` is not enabled to be run by default when `integration/xts` tests are run.,2019/08/19 6:09 AM
WFLY-12255,The WFLY-951enables the way to set the Narayana settings of the expiry class names via system property. The issue enforces users to use only property in form {{RecoveryEnvironmentBean.expiryScannerClassNames}}. But Narayana provides to use either this shortened version of the property for any configuration option. But it accepts the longer form for property with fully qualified bean class name (https://jbossts.blogspot.com/2018/01/narayana-periodic-recovery-of-xa.html#configuration). In this case it's {{com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.expiryScannerClassNames}}. That property (which sets the same thing as its shortened version) should be accepted by the WFLY as well.,2019/06/28 9:45 AM
WFLY-11617,"Validation not working for pooled-connection-factory's ""transaction"" attribute.  According to xsd, it should accept only xa, local and none. However it is accepting anything.   

[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=jjj)
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
[standalone@localhost:9990 /] :relaod",2019/01/20 11:54 PM
WFLY-11636,NoData,2019/01/23 5:30 AM
WFLY-13065,"In the reverse-proxy configuration the options {{max-request-time}} and {{connection-idle-timeout}} are specified and managed as seconds in CLI, when they are really milliseconds in undertow.

{noformat}
/subsystem=undertow/configuration=handler/reverse-proxy=LBProxy:read-resource-description
...
            ""connection-idle-timeout"" => {
                ""type"" => INT,
                ""description"" => ""The amount of time a connection can be idle before it will be closed. Connections will not time out
 once the pool size is down to the configured minimum (as configured by cached-connections-per-thread)"",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => 60L,
                ""unit"" => ""SECONDS"",
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },
...
            ""max-request-time"" => {
                ""type"" => INT,
                ""description"" => ""The maximum time that a proxy request can be active for, before being killed"",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => -1,
                ""unit"" => ""SECONDS"",
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },
...
{noformat}

The class [ReverseProxyHandler|https://github.com/wildfly/wildfly/blob/master/undertow/src/main/java/org/wildfly/extension/undertow/handlers/ReverseProxyHandler.java#L76] just passes the value (no modification) to undertow and it's clearly millis in undertow, for example the [max-request-time|https://github.com/undertow-io/undertow/blob/master/core/src/main/java/io/undertow/server/handlers/proxy/ProxyHandler.java#L190].

I has suffered this confusion myself doing some tests, I set 60 as the max request time, and it was too short in my env (because they are millis instead of seconds).

We need to change description to millis to respect current configurations.",2020/02/05 10:54 AM
WFLY-14855,"On Narayana CI we experience with intermittent failures of the test StopFromDifferentNodeTestCase.

As the CI is slow we need to be able to configure the timeout for any waiting actions.
The test waits for the container is stopped
https://github.com/wildfly/wildfly/blob/master/testsuite/integration/multinode/src/test/java/org/jboss/as/test/multinode/batch/stoprestart/StopFromDifferentNodeTestCase.java#L267
The delay would be good to be parametrized by timeout adjust parameter.
https://github.com/wildfly/wildfly-core/blob/16.0.0.Beta4/testsuite/shared/src/main/java/org/jboss/as/test/shared/TimeoutUtil.java
",2021/06/04 4:29 AM
WFLY-14878,"The transaction subsystem attribute {{enable-tsm-status}} is wrongly defined to require only {{:reload}} of the application server (https://github.com/wildfly/wildfly/blob/23.0.2.Final/transactions/src/main/java/org/jboss/as/txn/subsystem/TransactionSubsystemRootResourceDefinition.java#L172 -> {{RESTART_ALL_SERVICES}})
but for the Narayana status manager service to open the socket, and listens to connetions there is needed the JVM restart.

The enable status manager is controled by static variable in Narayana https://github.com/jbosstm/narayana/blob/0e75da61eb3feb5108e590935c3b97a6d05b1d47/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/coordinator/TxControl.java#L257 and it's value has no other setter method than setting the value at the JVM start (more precisely when the {{TXControl}} class is class loaded). ",2021/06/09 9:59 PM
WFLY-14729,"The AppClientSubsystemResourceDefinition 'file', 'deployment', 'host-url' and 'connection-properties-url' attributes all support expressions.  The values that drives these come via cmd line params to the appclient Main.  

1) Exercise this logic by having AbstractSimpleApplicationClientTestCase/AppClientWrapper pass expressions over the cmd line instead of the resolved values.

2) Fix the problem this revealed where the appclient Main class is checking the validity of the param that represents the file. That check is premature as the value being checked may be an expression. Defer the check until AppClientSubsystemAdd after the expression is resolved.",2021/04/22 3:18 AM
WFLY-13626,"The {{subsystem=transactions/commit-markable-resource=...}} defines the three attributes (https://github.com/wildfly/wildfly/blob/20.0.0.Final/transactions/src/main/resources/schema/wildfly-txn_5_0.xsd#L316) and all of them are defined as {{optional}}. But when the server is configured only with some of them it fails with

{code}
16:56:57,894 ERROR [org.jboss.as.controller] (Controller Boot Thread) 

OPVDX001: Validation error in standalone.xml -----------------------------------
|
|  476:     <commit-markable-resources>
|  477:         <commit-markable-resource jndi-name=""java:jboss/datasources/ExampleDS"">
|  478:             <xid-location batch-size=""30"" immediate-cleanup=""false""/>
|                   ^^^^ 'xid-location' is missing one or more required attributes
|                        
|                        All of the following are required: name 
|
|  479:         </commit-markable-resource>
|  480:     </commit-markable-resources>
|  481: </subsystem>
|
| The primary underlying error message was:
| > ParseError at [row,col]:[478,21]
| > Message: WFLYCTL0133: Missing required attribute(s): name
|
|-------------------------------------------------------------------------------

ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration
        at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:143)
        at org.jboss.as.server.ServerService.boot(ServerService.java:395)
        at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:416)
        at java.lang.Thread.run(Thread.java:748)

FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
{code}",2020/06/30 1:11 PM
WFLY-13857,"In a proposed fix to ejb-dist-cache I accidentally duplicated the dependencies element, and it ended up getting squashed in.

Apparently it does no harm but we should clean it up.",2020/09/12 11:21 PM
WFLY-13006,"05:52:55,313 ERROR [org.jgroups.util.TimeScheduler3] (thread-6,null,xa-load-2) JGRP000169: failed executing task MERGE3: InfoSender: java.lang.NullPointerException
	at org.jgroups.protocols.kubernetes.KUBE_PING.readAll(KUBE_PING.java:313)
	at org.jgroups.protocols.kubernetes.KUBE_PING.findMembers(KUBE_PING.java:206)
	at org.jgroups.protocols.Discovery.invokeFindMembers(Discovery.java:216)
	at org.jgroups.protocols.Discovery.findMembers(Discovery.java:241)
	at org.jgroups.protocols.Discovery.down(Discovery.java:384)
	at org.jgroups.protocols.MERGE3$InfoSender.run(MERGE3.java:413)
	at org.jgroups.util.TimeScheduler3$Task.run(TimeScheduler3.java:328)
	at org.jgroups.util.TimeScheduler3$RecurringTask.run(TimeScheduler3.java:362)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.jboss.as.clustering.jgroups.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:52)
	at java.lang.Thread.run(Thread.java:748)

https://github.com/jgroups-extras/jgroups-kubernetes/issues/39
https://github.com/jgroups-extras/jgroups-kubernetes/pull/88

Will be resolved with a next jgroups-kubernetes upgrade.",2020/01/22 8:18 AM
WFLY-13102,"The test {{org.jboss.as.test.clustering.cluster.ejb.remote.TransactionalRemoteStatelessTestCase.affinityNodeFailure}} is written in way that it expects an {{Exception}} to be thrown as EJB is no more available after undeploy. There is make expected {{NoSuchEJBException}} but there is possible race condition where {{AssertionError}} could be thrown instead. The error assertion means that the EJB invocation was not successful and it's correct from test perspective.

Normally, it would not be seen and {{NoSuchEJBExcetion}} would be experienced instead. But the testsuite is run with assertion enabled {{-ea}} and thus the test itself should consider the assertion as expected failure as well.

Failure from the test
{code}
[ERROR] Tests run: 9, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 7.496 s <<< FAILURE! - in org.jboss.as.test.clustering.cluster.ejb.remote.TransactionalRemoteStatelessTestCase
[ERROR] affinityNodeFailure(org.jboss.as.test.clustering.cluster.ejb.remote.TransactionalRemoteStatelessTestCase)  Time elapsed: 0.706 s  <<< FAILURE!
java.lang.AssertionError
  at org.jboss.ejb.client.EJBClientInvocationContext.checkStateInvariants(EJBClientInvocationContext.java:849)
  at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:928)
  at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:191)
  at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:125)
  at com.sun.proxy.$Proxy36.increment(Unknown Source)
  at org.jboss.as.test.clustering.cluster.ejb.remote.TransactionalRemoteStatelessTestCase.affinityNodeFailure(TransactionalRemoteStatelessTestCase.java:377)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
  at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
  at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
  at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
  at sun.reflect.GeneratedMethodAccessor45.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
  at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
  at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:50)
  at sun.reflect.GeneratedMethodAccessor44.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
  at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
  at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
  at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
  at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
  at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
  at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
  at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
  at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
  at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
  at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
  at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
  at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
  at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
  at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
  at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
  at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
  at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
  at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
  at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
  at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
  at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
  at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
  at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
  at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
  at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
  at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
  at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
  at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
  at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
  at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
  at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
  at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
  at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
  at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
  at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
  at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
  at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}",2020/02/17 7:02 AM
WFLY-14343,"If an operation has the 'value' param but does not have a defined value, PropertyAdd will pass the string 'undefined' into the runtime service. It should pass null.",2021/01/22 6:57 PM
WFLY-14310,"JPASubsystemAdd processes a couple attributes in non-standard ways, not using AttributeDefinition.resolveModelAttribute. The code handles the primary things resolveModelAttribute handles (default values and basic expression resolution) but it doesn't handle the full set of expression resolution capability WildFly supports. 

The code also uses ModelNode.require to read the default-datasource attribute, which has the effect of forcing callers to set that attribute even though the resource description says it is optional and the runtime code can deal with a null value. To workaround this our standard config xml files are setting the xml attribute to the empty string which is unintuitive and shouldn't be needed.",2021/01/19 4:30 PM
WFLY-14282,"HostExcludesTestCase.testHostExcludes verifies the host exclusions configuration. When this test is executed on a server built by using the wildfly-ee-galleon-pack it fails with the following error:

{noformat}
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.202 s <<< FAILURE! - in org.jboss.as.test.integration.domain.HostExcludesTestCase
[ERROR] testHostExcludes(org.jboss.as.test.integration.domain.HostExcludesTestCase)  Time elapsed: 1.039 s  <<< FAILURE!
java.lang.AssertionError: These exclusions are not required for WildFly14.0 host-exclude: [org.wildfly.extension.microprofile.opentracing-smallrye, org.wildfly.extension.microprofile.health-smallrye, org.wildfly.extension.microprofile.config-smallrye]
	at org.junit.Assert.fail(Assert.java:89)
	at org.jboss.as.test.integration.domain.HostExcludesTestCase.testHostExcludes(HostExcludesTestCase.java:375)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
{noformat}


The error can be considered as just noise because it is not problematic to have unrequited exclusions. We have either fix the test to be less restrictive or clean the unneeded exclusions from the configuration since they are unrequired",2021/01/12 7:12 AM
WFLY-14231,"The distributable-web-local feature group's ""subsystem.distributable-web.routing.local"" feature-spec includes a couple paramters that map to non-existent attributes in the management resource.

This feature group is currently unused, which is why this hasn't been detected. But current work like WFLY-14218 and perhaps WFLY-13150 will soon change that.",2020/12/15 3:35 PM
WFLY-13657,"This warning without a log code is logged upon deployment of application:
{code}
13:06:16,312 WARNING [org.jgroups.conf.XmlConfigurator] (ServerService Thread Pool -- 101) version is missing in the configuration file
{code}

I can see this with several EAP Quickstarts, the exact list from CD20 is: batch-processing, bmt, cmt, greeter, hibernate, kitchensink, kitchensink-jsp, kitchensink-ml, managed-executor-service, spring-greeter, spring-kitchensink-basic, tasks-jsf, thread-racing

Not sure if it's relevant, but I have noticed all the above mentioned QS use H2. None of the QS that don't use H2 has the warning logged.

This can be reproduced with [WildFly 20 Final release|https://wildfly.org/downloads/] and [WildFly 20 Final QS|https://github.com/wildfly/quickstart/tree/20.0.0.Final] as well:
1. Start the server with {{$JBOSS_HOME/bin/standalone.sh}}
2. Deploy one of the above mentioned QS with {{mvn clean package wildfly:deploy}}

This warning was not present in CD19 and earlier releases.

The same warning was also logged on startup, which has been fixed with JBEAP-19734 and WFLY-13590.",2020/07/09 8:39 AM
WFLY-14137,"static final String JWT_CAPABILITY_NAME = ""org.wildlfly.microprofile.jwt"";

The 'wildfly' has an extra 'l'.",2020/11/29 7:58 PM
WFLY-14115,"In *+testsuite/integration/multinode+*, when security manager is enabled, the xa recovery files failed be deleted because of no permission when tests finished, it affects other tests so that the Periodic Recovery thread will try to recover the failed transactions.

* Failed EjbOverHttpWrongCredentialsTestCase:

{code:java}
12:45:15,778 WARN  [com.arjuna.ats.jta] (pool-20-thread-1) ARJUNA016039: onePhaseCommit on < formatId=131077, gtri
d_length=29, bqual_length=36, tx_uid=0:ffff7f000001:659146d8:5fbc8fc0:e5, node_name=1, branch_uid=0:ffff7f000001:659146d8:5fbc8fc0:eb, subordinatenodename=null, eis_name=unknown eis name > (Subordinate XAResource at http://localhost:8180/wildfly-services) failed with exception -: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/lgao/sources/jboss/wildfly/testsuite/integration/multinode/target/jbossas-multinode-client/standalone/data/ejb-xa-recovery/20005_00000000000000000000ffff7f000001659146d85fbc8fc0000000e531_00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"" ""delete"")"" in code source ""(vfs:/content/ejboverhttp-test-client-wrong-credentials.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ejboverhttp-test-client-wrong-credentials.jar"" from Service Module Loader"")
        at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:304)
        at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:201)
        at java.lang.SecurityManager.checkDelete(SecurityManager.java:1007)
        at org.wildfly.security.manager.WildFlySecurityManager.checkDelete(WildFlySecurityManager.java:393)
        at sun.nio.fs.UnixPath.checkDelete(UnixPath.java:807)
        at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:222)
        at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)
        at java.nio.file.Files.delete(Files.java:1126)
        at org.wildfly.transaction.client.provider.jboss.FileSystemXAResourceRegistry$XAResourceRegistryFile.removeResource(FileSystemXAResourceRegistry.java:298)
        at org.wildfly.transaction.client.SubordinateXAResource.commit(SubordinateXAResource.java:188)
        at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelOnePhaseCommit(XAResourceRecord.java:702)
        at com.arjuna.ats.arjuna.coordinator.BasicAction.onePhaseCommit(BasicAction.java:2395)
        at com.arjuna.ats.arjuna.coordinator.BasicAction.End(BasicAction.java:1497)
        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:96)
        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1295)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)

{code}

* Affected EjbOverHttpTestCase:

{code:java}
12:45:18,745 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception ARJUNA016099: Unknown error code:0: javax.transaction.xa.XAException: WFHTTP000005: Invalid response code 404 (full response ClientResponse{responseHeaders={content-length=[74], content-type=[text/html], date=[Tue, 24 Nov 2020 04:45:18 GMT]}, responseCode=404, status='', protocol=HTTP/2.0})
        at org.wildfly.httpclient.transaction.HttpRemoteTransactionPeer.recover(HttpRemoteTransactionPeer.java:107)
        at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:237)
        at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:233)
        at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:659)
        at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:240)
        at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:182)
        at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:770)
        at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
Caused by: java.io.IOException: WFHTTP000005: Invalid response code 404 (full response ClientResponse{responseHeaders={content-length=[74], content-type=[text/html], date=[Tue, 24 Nov 2020 04:45:18 GMT]}, responseCode=404, status='', protocol=HTTP/2.0})
        at org.wildfly.httpclient.common.HttpTargetContext$1$1.lambda$completed$4(HttpTargetContext.java:235)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
        at java.lang.Thread.run(Thread.java:748)

{code}",2020/11/23 11:57 PM
WFLY-12398,"If you try to run testsuite/integration/microprofile-tck/opentracing twice without cleaning you get:

{code}
[INFO] Running TestSuite
[ERROR] Tests run: 46, Failures: 1, Errors: 0, Skipped: 45, Time elapsed: 4.175 s <<< FAILURE! - in TestSuite
[ERROR] arquillianBeforeClass(org.eclipse.microprofile.opentracing.tck.OpentracingClientTests)  Time elapsed: 3.661 s  <<< FAILURE!
org.jboss.shrinkwrap.api.exporter.FileExistsException: Target exists and we haven't been flagged to overwrite it: /Users/bstansberry/dev/wildfly/wildfly/testsuite/integration/microprofile-tck/opentracing/target/archives/testapp.war
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.getOutputStreamToFile(AbstractStreamExporterImpl.java:87)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:144)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:167)
	at io.smallrye.opentracing.arquillian.DeploymentProcessor.process(DeploymentProcessor.java:75)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.applyApplicationProcessors(DeploymentGenerator.java:223)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.buildTestableDeployments(DeploymentGenerator.java:172)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.createTestableDeployments(DeploymentGenerator.java:148)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.generateDeployment(DeploymentGenerator.java:85)
{code}

The io.smallrye.opentracing.arquillian.DeploymentProcessor class is in this maven module so perhaps the exportTo variant with an 'overwrite' field could be used. I have no idea if it's 'legal' in terms of TCK compliance to change those files though. ",2019/08/20 6:14 PM
WFLY-12175,"In the section ""http://docs.wildfly.org/16/Admin_Guide.html#Description_of_the_Management_Model"", the links on the following text strings return 404 errors when clicked:

* Global operations
* Management Resource",2019/06/06 1:51 PM
WFLY-12430,"Minor thing I want to sort to make legacy feature-pack-driven builds as consistent as possible with galleon-driven ones....

The docs/examples/configs/standalone-gossip-[full-ha].xml examples configure a TCPGOSSIP protocol but without the required outbound-socket-bindings attribute. Compatibility code in the subsystem handles this by converting the address value to 'org.jgroups.protocols.TCPGOSSIP', which in turn has a different resource registration and Galleon feature spec.  Upshot is when the resource is persisted the xml will read org.jgroups.protocols.TCPGOSSIP. To clarify this, rather than relying on magic compatibility code the inputs for generating the configs should explicitly use 'org.jgroups.protocols.TCPGOSSIP'.",2019/08/25 11:04 PM
WFLY-12427,"I happened to notice this in a server log of a CI job:

{code}
16:03:53,351 INFO  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 2) WELD-000119: Not generating any bean definitions from io.smallrye.health.SmallRyeHealthReporter because of underlying class loading error: Type org.jboss.logging.Logger from [Module ""io.smallrye.health"" version 1.0.2 from local module loader @4909b8da (finder: local module finder @3a03464 (roots: C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules\system\layers\base,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\modules))] not found.  If this is unexpected, enable DEBUG logging to see the full error.
{code}

The io.smallrye:smallrye-health-2.0:1.0.2 pom shows a dependency on JBoss Logging but the module.xml for its module does not.",2019/08/23 8:44 PM
WFLY-11593,"There is a typo and a little bit of ambiguity in the current description of the '{{/subsystem=undertow/application-security-domain=foo\[integrated-jaspi\]}}' attribute:
{quote}
Should integrated JASPI be used or allow AsHoc identity creation.
{quote}
proposed change:
{quote}
Whether integrated JASPI should be used. If this is disabled, ad hoc identity will be created instead.
{quote}
And [here is full attribute description|https://github.com/wildfly/wildfly/blob/7172799ce7bda7f82b94475c5e4e4cf0beb91aed/undertow/src/main/resources/schema/wildfly-undertow_8_0.xsd#L744] in related XSD file.",2019/01/15 4:17 AM
WFLY-12130,The template file used to create the legacy domain config files has a duplicate entry in the host exclude section,2019/05/27 8:49 AM
WFLY-12112,"{noformat}
12:26:03,871 WARN  [org.jgroups.protocols.kubernetes.KUBE_PING] (ServerService Thread Pool -- 68) OPENSHIFT_KUBE_PING_NAMESPACE is deprecated, please remove it and use KUBERNETES_NAMESPACE instead
12:26:03,871 WARN  [org.jgroups.protocols.kubernetes.KUBE_PING] (ServerService Thread Pool -- 68) OPENSHIFT_KUBE_PING_LABELS is deprecated, please remove it and use KUBERNETES_LABELS instead
{noformat}",2019/05/22 11:26 AM
WFLY-11908,"The default Datasources namespace version for the other configurations (standalone.xml, domain.xml) is 5, but is set to version 2 in the appclient.xml 

Same problem applies to other subsystems.",2019/03/25 9:36 PM
WFLY-14951,"Some public static fields miss a final declaration. Refers to [https://cwe.mitre.org/data/definitions/500.html]. 

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/common/pool/Constants.java]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/Constants.java]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/DataSourcesSubsystemProviders.java#L48]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/resourceadapters/Constants.java]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/ejb3/src/main/java/org/jboss/as/ejb3/subsystem/AllowedChannelOptionTypesValidator.java#L36]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/jaxrs/src/main/java/org/jboss/as/jaxrs/DeploymentRestResourcesDefintion.java#L94]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/jaxrs/src/main/java/org/jboss/as/jaxrs/JaxrsAttribute.java#L268]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/jsf/subsystem/src/main/java/org/jboss/as/jsf/subsystem/JSFResourceDefinition.java#L46]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/picketlink/src/main/java/org/wildfly/extension/picketlink/common/model/validator/NotEmptyResourceValidationStepHandler.java#L38]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/security/subsystem/src/main/java/org/jboss/as/security/TransactionManagerLocatorService.java#L23]

* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/undertow/src/main/java/org/wildfly/extension/undertow/filters/ModClusterBalancerDefinition.java#L46]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/undertow/src/main/java/org/wildfly/extension/undertow/filters/ModClusterContextDefinition.java#L48]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/undertow/src/main/java/org/wildfly/extension/undertow/filters/ModClusterLoadBalancingGroupDefinition.java#L46]
* [https://github.com/wildfly/wildfly/blob/24.0.0.Final/undertow/src/main/java/org/wildfly/extension/undertow/filters/ModClusterNodeDefinition.java#L52]",2021/06/29 2:44 PM
WFLY-13835,NoData,2020/09/09 5:49 PM
WFLY-12238,"SimpleLoadProviderResourceDefinition - identical code in different branches

https://github.com/wildfly/wildfly/blob/master/mod_cluster/extension/src/main/java/org/wildfly/extension/mod_cluster/SimpleLoadProviderResourceDefinition.java#L93

{{parent.addChildResource(PATH)}} in both branches of {{ResourceTransformationDescriptionBuilder builder = ModClusterModel.VERSION_6_0_0.requiresTransformation(version) ? parent.addChildResource(PATH) : parent.addChildResource(PATH);}}",2019/06/25 4:00 AM
WFLY-18038,"JGroups 5.2 changed up its thread pool configuration logic within its transport protocols and overwrites the thread pool implementation provided via TP.setThreadPool(...)
This causes JGroups to run with a max-threads of 100, whereas our default is 200 threads, as well as ignoring our overridden rejection policy.",2023/05/19 7:28 PM
WFLY-17231,We opened the main branch to WF28 development and there were some new extensions on WF27. We need to adjust HostExcludesTestCase for the incoming release.,2022/11/03 12:20 PM
WFLY-17496,"[CVE-2022-25857|https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-25857] was solved in SnakeYaml so that [it now sets a default constraint of 3 MB|https://bitbucket.org/snakeyaml/snakeyaml/src/d9b0f480b1a63aca4678da7ab1915fcfc7d2a856/src/main/java/org/yaml/snakeyaml/LoaderOptions.java#lines-39] when loading static files.

WildFly 28 Beta - which currently uses SmallRye OpenAPI 3.0.1 since WFLY-17197 - is failing at loading files that are larger than such default value, since [OpenApiProcessor|https://github.com/smallrye/smallrye-open-api/blob/main/core/src/main/java/io/smallrye/openapi/runtime/OpenApiProcessor.java#L101] does not provide any way to customize such limit when building a YAMLFactory and its related YAMLParser:


{code}
&amp#27;[0m&amp#27;[31m22:31:25,836 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service org.wildfly.undertow.host.default-server.default-host./big/openapi: org.jboss.msc.service.StartException in service org.wildfly.undertow.host.default-server.default-host./big/openapi: io.smallrye.openapi.runtime.OpenApiRuntimeException: com.fasterxml.jackson.dataformat.yaml.JacksonYAMLParseException: The incoming YAML document exceeds the limit: 3145728 code points.
 at [Source: (FileInputStream); line: 109594, column: 25]
	at org.wildfly.clustering.service@28.0.0.Beta1-202301072046-b985cc92//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
	at org.jboss.msc@1.5.0.Beta4//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1590)
	at org.jboss.msc@1.5.0.Beta4//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1553)
	at org.jboss.msc@1.5.0.Beta4//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1411)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.smallrye.openapi.runtime.OpenApiRuntimeException: com.fasterxml.jackson.dataformat.yaml.JacksonYAMLParseException: The incoming YAML document exceeds the limit: 3145728 code points.
 at [Source: (FileInputStream); line: 109594, column: 25]
	at io.smallrye.openapi//io.smallrye.openapi.runtime.OpenApiProcessor.modelFromStaticFile(OpenApiProcessor.java:103)
	at org.wildfly.extension.microprofile.openapi-smallrye@28.0.0.Beta1-202301072046-b985cc92//org.wildfly.extension.microprofile.openapi.deployment.OpenAPIModelServiceConfigurator.get(OpenAPIModelServiceConfigurator.java:161)
	at org.wildfly.extension.microprofile.openapi-smallrye@28.0.0.Beta1-202301072046-b985cc92//org.wildfly.extension.microprofile.openapi.deployment.OpenAPIModelServiceConfigurator.get(OpenAPIModelServiceConfigurator.java:90)
	at org.wildfly.clustering.service@28.0.0.Beta1-202301072046-b985cc92//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
	... 8 more
Caused by: com.fasterxml.jackson.dataformat.yaml.JacksonYAMLParseException: The incoming YAML document exceeds the limit: 3145728 code points.
 at [Source: (FileInputStream); line: 109594, column: 25]
	at com.fasterxml.jackson.dataformat.jackson-dataformat-yaml@2.13.4//com.fasterxml.jackson.dataformat.yaml.YAMLParser.nextToken(YAMLParser.java:409)
	at com.fasterxml.jackson.core.jackson-core@2.13.4//com.fasterxml.jackson.core.JsonParser.nextFieldName(JsonParser.java:1038)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer._deserializeContainerNoRecursion(JsonNodeDeserializer.java:440)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:84)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:20)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.ObjectMapper._readTreeAndClose(ObjectMapper.java:4716)
	at com.fasterxml.jackson.core.jackson-databind@2.13.4.2//com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3056)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.io.OpenApiParser.parse(OpenApiParser.java:76)
	at io.smallrye.openapi//io.smallrye.openapi.runtime.OpenApiProcessor.modelFromStaticFile(OpenApiProcessor.java:101)
	... 11 more
Caused by: org.yaml.snakeyaml.error.YAMLException: The incoming YAML document exceeds the limit: 3145728 code points.
	at org.yaml.snakeyaml//org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:342)
	at org.yaml.snakeyaml//org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:263)
	at org.yaml.snakeyaml//org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:662)
	at org.yaml.snakeyaml//org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:185)
	at org.yaml.snakeyaml//org.yaml.snakeyaml.parser.ParserImpl.getEvent(ParserImpl.java:195)
	at com.fasterxml.jackson.dataformat.jackson-dataformat-yaml@2.13.4//com.fasterxml.jackson.dataformat.yaml.YAMLParser.nextToken(YAMLParser.java:403)
	... 20 more
{code}

There's a [draft fix|https://github.com/smallrye/smallrye-open-api/pull/1350] to SmallRye OpenAPI, which is blocked until a new release of jackson-[jackson-dataformats-text 2.14|https://github.com/FasterXML/jackson-dataformats-text/commit/9f822fb3fb248784f72708c4a30a8bddf9a0dc16] is published.
",2023/01/12 11:11 AM
WFLY-17626,"Just adding this snippet into {{/undertow/servlet-container=""default""}}
{code:java}
       <welcome-files>
          <welcome-file name=""welcome.html""/>
       </welcome-files>

{code}

(Or calling {{/subsystem=undertow/servlet-container=default/welcome-file=welcome.html:add()}})

so configuration will looks like this 
{code}
<servlet-container name=""default"">
                <jsp-config/>
                <websockets/>
                <welcome-files>
                    <welcome-file name=""welcome.html""/>
                </welcome-files>
</servlet-container>
{code}

Makes server to fail on startup
{code:java}
./standalone.sh
=========================================================================

 JBoss Bootstrap Environment

 JBOSS_HOME: /home/mchoma/git-repo/wildfly/dist/target/wildfly-28.0.0.Beta1-SNAPSHOT

 JAVA: java

 JAVA_OPTS: -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true --add-exports=java.desktop/sun.awt=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.url.ldap=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.url.ldaps=ALL-UNNAMED --add-exports=jdk.naming.dns/com.sun.jndi.dns=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.management/javax.management=ALL-UNNAMED --add-opens=java.naming/javax.naming=ALL-UNNAMED -Djava.security.manager=allow

=========================================================================

19:15:02,976 INFO [org.jboss.modules] (main) JBoss Modules version 2.1.0.Final
19:15:03,298 INFO [org.jboss.msc] (main) JBoss MSC version 1.5.0.Beta4
19:15:03,302 INFO [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final
19:15:03,363 INFO [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 28.0.0.Beta1-SNAPSHOT (WildFly Core 20.0.0.Beta5) starting
19:15:03,781 INFO [org.wildfly.security] (ServerService Thread Pool -- 23) ELY00001: WildFly Elytron version 2.0.0.Final
19:15:04,104 INFO [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 5) WFLYCTL0028: Attribute 'cluster' in the resource at address '/subsystem=ejb3/service=remote' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
19:15:04,156 INFO [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
19:15:04,167 INFO [org.xnio] (MSC service thread 1-4) XNIO version 3.8.8.Final
19:15:04,173 INFO [org.xnio.nio] (MSC service thread 1-4) XNIO NIO Implementation Version 3.8.8.Final
19:15:04,204 INFO [org.wildfly.extension.elytron.oidc._private] (ServerService Thread Pool -- 54) WFLYOIDC0001: Activating WildFly Elytron OIDC Subsystem
19:15:04,209 INFO [org.jboss.as.jaxrs] (ServerService Thread Pool -- 58) WFLYRS0016: RESTEasy version 6.2.2.Final
19:15:04,208 INFO [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0001: Activating Infinispan subsystem.
19:15:04,211 INFO [org.wildfly.extension.health] (ServerService Thread Pool -- 55) WFLYHEALTH0001: Activating Base Health Subsystem
19:15:04,217 INFO [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 45) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 2.1)
19:15:04,220 INFO [org.jboss.as.jsf] (ServerService Thread Pool -- 63) WFLYJSF0007: Activated the following Jakarta Server Faces Implementations: [main]
19:15:04,221 INFO [org.wildfly.extension.microprofile.config.smallrye] (ServerService Thread Pool -- 66) WFLYCONF0001: Activating MicroProfile Config Subsystem
19:15:04,229 INFO [org.wildfly.extension.microprofile.jwt.smallrye] (ServerService Thread Pool -- 67) WFLYJWT0001: Activating MicroProfile JWT Subsystem
19:15:04,229 INFO [org.wildfly.extension.microprofile.opentracing] (ServerService Thread Pool -- 68) WFLYTRACEXT0001: Activating MicroProfile OpenTracing Subsystem
19:15:04,234 INFO [org.jboss.as.naming] (ServerService Thread Pool -- 69) WFLYNAM0001: Activating Naming Subsystem
19:15:04,239 INFO [org.wildfly.extension.io] (ServerService Thread Pool -- 57) WFLYIO001: Worker 'default' has auto-configured to 16 IO threads with 128 max task threads based on your 8 available processors
19:15:04,239 WARN [org.jboss.as.txn] (ServerService Thread Pool -- 76) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
19:15:04,244 INFO [org.wildfly.extension.metrics] (ServerService Thread Pool -- 65) WFLYMETRICS0001: Activating Base Metrics Subsystem
19:15:04,249 INFO [org.jboss.as.connector] (MSC service thread 1-6) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 3.0.0.Final)
19:15:04,250 INFO [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0018: Started Driver service with driver-name = h2
19:15:04,256 INFO [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 5.0.27.Final
19:15:04,305 INFO [org.jboss.as.webservices] (ServerService Thread Pool -- 78) WFLYWS0002: Activating WebServices Extension
19:15:04,315 INFO [org.jboss.as.naming] (MSC service thread 1-5) WFLYNAM0003: Starting Naming Service
19:15:04,321 INFO [org.jboss.as.mail.extension] (MSC service thread 1-4) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
19:15:04,326 WARN [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY00023: KeyStore file '/home/mchoma/git-repo/wildfly/dist/target/wildfly-28.0.0.Beta1-SNAPSHOT/standalone/configuration/application.keystore' does not exist. Used blank.
19:15:04,326 INFO [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 2.3.0.Final starting
19:15:04,347 WARN [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /home/mchoma/git-repo/wildfly/dist/target/wildfly-28.0.0.Beta1-SNAPSHOT/standalone/configuration/application.keystore not found, it will be auto-generated on first use with a self-signed certificate for host localhost
19:15:04,395 INFO [org.jboss.as.ejb3] (MSC service thread 1-8) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 128 (per class), which is derived from thread worker pool sizing.
19:15:04,396 INFO [org.jboss.as.ejb3] (MSC service thread 1-6) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 32 (per class), which is derived from the number of CPUs on this host.
19:15:04,423 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 77) WFLYCTL0013: Operation (""add"") failed - address: ([
  (""subsystem"" => ""undertow""),
  (""servlet-container"" => ""default"")
]): java.lang.IllegalArgumentException
  at org.jboss.dmr@1.6.1.Final//org.jboss.dmr.ModelValue.asPropertyList(ModelValue.java:103)
  at org.jboss.dmr@1.6.1.Final//org.jboss.dmr.ModelNode.asPropertyList(ModelNode.java:529)
  at org.wildfly.extension.undertow@28.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.ServletContainerAdd.resolveWelcomeFiles(ServletContainerAdd.java:312)
  at org.wildfly.extension.undertow@28.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.ServletContainerAdd.installRuntimeServices(ServletContainerAdd.java:105)
  at org.wildfly.extension.undertow@28.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.ServletContainerAdd.performBoottime(ServletContainerAdd.java:65)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.AbstractBoottimeAddStepHandler.performRuntime(AbstractBoottimeAddStepHandler.java:119)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:164)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1045)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:777)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:466)
  at org.jboss.as.controller@20.0.0.Beta5//org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
  at java.base/java.lang.Thread.run(Thread.java:833)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)

19:15:04,432 INFO [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0004: Undertow 2.3.0.Final stopping
19:15:04,530 INFO [org.jboss.as.ejb3] (MSC service thread 1-8) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete
19:15:04,567 INFO [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
19:15:04,658 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) ""WFLYCTL0193: Failed executing subsystem undertow boot operations""
19:15:04,659 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""parallel-subsystem-boot"") failed - address: ([]) - failure description: ""\""WFLYCTL0193: Failed executing subsystem undertow boot operations\""""
19:15:04,661 INFO [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
19:15:04,663 INFO [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
19:15:04,669 INFO [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-3) WFLYJCA0019: Stopped Driver service with driver-name = h2
19:15:04,718 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details. - Server configuration file in use: standalone.xml
19:15:04,727 INFO [org.jboss.as] (MSC service thread 1-7) WFLYSRV0050: WildFly Full 28.0.0.Beta1-SNAPSHOT (WildFly Core 20.0.0.Beta5) stopped in 4ms

{code}


I do not see this behaviour in WF 27, nor we did not see this in {{main}} one week ago.",2023/02/13 6:15 PM
WFLY-17898,"When migrating from legacy security to elytron the error appear[1]. The error appear when the /subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on is added. When the same thing was tried with setting by [2]the error appear even on WF23.
I tested it WF28 and WF23 with same http-authentication-factory (which was for both management-http-authentication on WF28 I tried it even with application-http-authentication) but the result was always the same error. So from this I assume the /subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on with elytron is somehow bugged. I didn't find any documentation where is this specific function used.

In our case we just deploy simple .war which contain web.xml and index.jsp and trying to confirm that the value which are set in sso attribute is correct (testing that sso function attributes). The .war was build by shirinkwrap Archive.

Also for testing I try deploy the sso form which is mention in [2] and the result was same when was single-sign-on in default-host added the error appeared and when the single-sign-on was removed the deployment was working fine.

[1]
{code:java}
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""_DEFAULT__root-app.war_root-app.war\"".undertow-deployment"" => ""java.lang.RuntimeException: java.lang.IllegalStateException: The required mechanism 'SSO' is not available in mechanisms [BASIC, CLIENT_CERT, DIGEST, FORM] from the HttpAuthenticationFactory.
    Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: The required mechanism 'SSO' is not available in mechanisms [BASIC, CLIENT_CERT, DIGEST, FORM] from the HttpAuthenticationFactory.
    Caused by: java.lang.IllegalStateException: The required mechanism 'SSO' is not available in mechanisms [BASIC, CLIENT_CERT, [2]DIGEST, FORM] from the HttpAuthenticationFactory.""}} {code}
[2] [https://docs.jboss.org/author/display/WFLY/Web%20Single%20Sign-On.html]",2023/04/14 4:06 PM
WFLY-17640,"Adding messaging server ends up with an error message:

{noformat}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=myserver:add(persistence-enabled=true,async-connection-execution-enabled=true,thread-pool-max-size=10,journal-file-size=102400,journal-min-files=2,journal-type=NIO)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0369: Required capabilities are not available:
    org.wildfly.security.legacy-security-domain.other; There are no known registration points which can provide this ca
pability."",
    ""rolled-back"" => true
}
{noformat}

{{org.wildfly.security.legacy-security-domain.other}} capability is not provided by any registration point.",2023/02/15 5:07 PM
WFLY-16238,"A community user is reporting this:
{noformat}
so we finally upgraded our production server to Wilfdly 26.0.1
In the log I get frequent ""Error while flushing N spans"" errors (at debug level)
Is this something to worry about?
This is the default standalone configuration, and I did not intent to use any such feature.
Should I disable something, fix something, or just put the logger to Info level ?2022-03-30 17:08:09,041 {/} DEBUG org.wildfly.extension.microprofile.opentracing Error while flushing 1 spans
2022-03-30 17:08:17,042 {/} DEBUG org.wildfly.extension.microprofile.opentracing Error while flushing 2 spans{noformat}
In galleon-pack/galleon-content/src/main/resources/feature_groups/standalone.xml, we see
{code:java}
<feature-group name=""microprofile-opentracing-jaeger""/> {code}
This was added by Emmanuel on 12/15/20 as part of WFLY-14148, so this been in the system for some time (so the user's upgraded-from-version is likely fairly old). It does strike me as odd that a MicroProfile subsystem is enabled in the standalone configuration.

Per Darran's request, we need to determine if this is, indeed, correct, and, if not, fix it before 26.1 Final ships.",2022/04/01 4:10 PM
WFLY-17352,"{code:java}
[0m[31m19:18:05,980 ERROR [io.undertow.request] (default task-3) UT005023: Exception handling request to /EjbCounter: java.util.NoSuchElementException
	at java.base/java.util.ArrayList$Itr.next(ArrayList.java:970)
	at java.base/java.util.Collections$3.nextElement(Collections.java:5440)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1213)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1228)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)
	at org.wildfly.common@1.6.0.Final-redhat-00001//org.wildfly.common.iteration.CompositeIterator.hasNext(CompositeIterator.java:55)
	at org.wildfly.clustering.ee.spi@8.0.0.Beta-redhat-00003//org.wildfly.clustering.ee.immutable.CompositeImmutability.test(CompositeImmutability.java:55)
	at org.wildfly.clustering.web.cache@8.0.0.Beta-redhat-00003//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.getAttribute(CoarseSessionAttributes.java:87)
	at org.wildfly.clustering.web.undertow@8.0.0.Beta-redhat-00003//org.wildfly.clustering.web.undertow.session.DistributableSession.getAttribute(DistributableSession.java:207)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.spec.HttpSessionImpl.getAttribute(HttpSessionImpl.java:116)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.module.web.context.beanstore.http.AbstractSessionBeanStore.getAttribute(AbstractSessionBeanStore.java:100)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.contexts.beanstore.AttributeBeanStore.get(AttributeBeanStore.java:138)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.module.web.context.beanstore.http.AbstractSessionBeanStore.get(AbstractSessionBeanStore.java:85)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:83)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:114)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.contexts.PassivatingContextWrapper$AbstractPassivatingContextWrapper.get(PassivatingContextWrapper.java:78)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:89)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.getIfExists(ContextualInstanceStrategy.java:164)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.bean.ContextualInstance.getIfExists(ContextualInstance.java:63)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:87)
	at org.jboss.weld.core@5.0.1.Final-redhat-00001//org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:131)
	at deployment.ROOT.war//com.redhat.xpaas.eap.deployments.servlet.Counter$Proxy$_$$_WeldClientProxy.increment(Unknown Source)
	at deployment.ROOT.war//com.redhat.xpaas.eap.deployments.servlet.EjbCounterServlet.doGet(EjbCounterServlet.java:31)
	at jakarta.servlet.api@6.0.0.redhat-00001//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)
	at jakarta.servlet.api@6.0.0.redhat-00001//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Beta1-redhat-00001//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)
	at org.wildfly.security.elytron-base@2.0.0.Beta2-redhat-00001//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)
	at org.wildfly.security.elytron-base@2.0.0.Beta2-redhat-00001//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-base@2.0.0.Beta2-redhat-00001//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Beta1-redhat-00001//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Beta1-redhat-00001//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@8.0.0.Beta-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)
	at io.undertow.servlet@2.3.0.Alpha2-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.core@2.3.0.Alpha2-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.jboss.xnio@3.8.7.Final-redhat-00001//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)
	at java.base/java.lang.Thread.run(Thread.java:833)
{code}",2022/12/02 5:58 PM
WFLY-16397,"By Wildfly 26.1 the clustered EJB timer through a DB store is not working anymore.
When adding a timer, then following error is thrown.

And the server will not start!



By the way, the SQL statement is really wrong:
SELECT :1 , :2 , :3 , :4 , 'CREATED', :5 , :6 , :7 , :8 , :9 , :10 , :11 , :12 , :13 , :14 , :15 , :16 , :17 , :18 , :19 , :20  WHERE NOT EXISTS 


Stacktrace:
{code:java}
java.lang.RuntimeException: java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-00923: FROM keyword not found where expected  at org.jboss.as.ee@26.1.0.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)
  at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
  at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
  at java.base/java.lang.Thread.run(Unknown Source)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-00923: FROM keyword not found where expected  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.persistTimer(TimerServiceImpl.java:654)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.createCalendarTimer(TimerServiceImpl.java:531)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.loadAutoTimer(TimerServiceImpl.java:380)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.restoreTimers(TimerServiceImpl.java:797)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.activate(TimerServiceImpl.java:206)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.component.EJBComponent.init(EJBComponent.java:605)
  at org.jboss.as.ee@26.1.0.Final//org.jboss.as.ee.component.BasicComponent.start(BasicComponent.java:229)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:136)
  at org.jboss.as.ee@26.1.0.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)
  ... 8 more
Caused by: java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-00923: FROM keyword not found where expected  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.addAutoTimer(DatabaseTimerPersistence.java:867)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.addTimer(DatabaseTimerPersistence.java:429)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.TimerServiceImpl.persistTimer(TimerServiceImpl.java:635)
  ... 16 more
Caused by: java.sql.SQLSyntaxErrorException: ORA-00923: FROM keyword not found where expected  at com.oracle.jdbc//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)
  at com.oracle.jdbc//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)
  at com.oracle.jdbc//oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231)
  at com.oracle.jdbc//oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772)
  at com.oracle.jdbc//oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)
  at com.oracle.jdbc//oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512)
  at com.oracle.jdbc//oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:163)
  at com.oracle.jdbc//oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1241)
  at com.oracle.jdbc//oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820)
  at com.oracle.jdbc//oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472)
  at com.oracle.jdbc//oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3761)
  at com.oracle.jdbc//oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:4062)
  at com.oracle.jdbc//oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4037)
  at com.oracle.jdbc//oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:996)
  at org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeUpdate(CachedPreparedStatement.java:121)
  at org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:537)
  at org.jboss.as.ejb3@26.1.0.Final//org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.addAutoTimer(DatabaseTimerPersistence.java:858)
  ... 18 more
Caused by: Error : 923, Position : 566, Sql = INSERT INTO JBOSS_EJB_TIMER (ID, TIMED_OBJECT_ID, NEXT_DATE, INFO, TIMER_STATE, SCHEDULE_EXPR_SECOND, SCHEDULE_EXPR_MINUTE, SCHEDULE_EXPR_HOUR, SCHEDULE_EXPR_DAY_OF_WEEK, SCHEDULE_EXPR_DAY_OF_MONTH, SCHEDULE_EXPR_MONTH, SCHEDULE_EXPR_YEAR, SCHEDULE_EXPR_START_DATE, SCHEDULE_EXPR_END_DATE, SCHEDULE_EXPR_TIMEZONE, AUTO_TIMER, TIMEOUT_METHOD_DECLARING_CLASS, TIMEOUT_METHOD_NAME, TIMEOUT_METHOD_DESCRIPTOR, CALENDAR_TIMER, PARTITION_NAME) SELECT :1 , :2 , :3 , :4 , 'CREATED', :5 , :6 , :7 , :8 , :9 , :10 , :11 , :12 , :13 , :14 , :15 , :16 , :17 , :18 , :19 , :20 WHERE NOT EXISTS (SELECT 1 FROM JBOSS_EJB_TIMER WHERE TIMED_OBJECT_ID=:21 AND SCHEDULE_EXPR_SECOND=:22 AND SCHEDULE_EXPR_MINUTE=:23 AND SCHEDULE_EXPR_HOUR=:24 AND SCHEDULE_EXPR_DAY_OF_WEEK=:25 AND SCHEDULE_EXPR_DAY_OF_MONTH=:26 AND SCHEDULE_EXPR_MONTH=:27 AND SCHEDULE_EXPR_YEAR=:28 AND ((SCHEDULE_EXPR_START_DATE IS NULL AND :29 IS NULL) OR SCHEDULE_EXPR_START_DATE=:30 ) AND ((SCHEDULE_EXPR_END_DATE IS NULL AND :31 IS NULL) OR SCHEDULE_EXPR_END_DATE=:32 ) AND ((SCHEDULE_EXPR_TIMEZONE IS NULL AND :33 IS NULL) OR SCHEDULE_EXPR_TIMEZONE=:34 ) AND TIMEOUT_METHOD_DECLARING_CLASS=:35 AND TIMEOUT_METHOD_NAME=:36 AND ((TIMEOUT_METHOD_DESCRIPTOR IS NULL AND :37 IS NULL) OR TIMEOUT_METHOD_DESCRIPTOR=:38 ) AND PARTITION_NAME=:39 ), OriginalSql = INSERT INTO JBOSS_EJB_TIMER (ID, TIMED_OBJECT_ID, NEXT_DATE, INFO, TIMER_STATE, SCHEDULE_EXPR_SECOND, SCHEDULE_EXPR_MINUTE, SCHEDULE_EXPR_HOUR, SCHEDULE_EXPR_DAY_OF_WEEK, SCHEDULE_EXPR_DAY_OF_MONTH, SCHEDULE_EXPR_MONTH, SCHEDULE_EXPR_YEAR, SCHEDULE_EXPR_START_DATE, SCHEDULE_EXPR_END_DATE, SCHEDULE_EXPR_TIMEZONE, AUTO_TIMER, TIMEOUT_METHOD_DECLARING_CLASS, TIMEOUT_METHOD_NAME, TIMEOUT_METHOD_DESCRIPTOR, CALENDAR_TIMER, PARTITION_NAME) SELECT ?, ?, ?, ?, 'CREATED', ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? WHERE NOT EXISTS (SELECT 1 FROM JBOSS_EJB_TIMER WHERE TIMED_OBJECT_ID=? AND SCHEDULE_EXPR_SECOND=? AND SCHEDULE_EXPR_MINUTE=? AND SCHEDULE_EXPR_HOUR=? AND SCHEDULE_EXPR_DAY_OF_WEEK=? AND SCHEDULE_EXPR_DAY_OF_MONTH=? AND SCHEDULE_EXPR_MONTH=? AND SCHEDULE_EXPR_YEAR=? AND ((SCHEDULE_EXPR_START_DATE IS NULL AND ? IS NULL) OR SCHEDULE_EXPR_START_DATE=?) AND ((SCHEDULE_EXPR_END_DATE IS NULL AND ? IS NULL) OR SCHEDULE_EXPR_END_DATE=?) AND ((SCHEDULE_EXPR_TIMEZONE IS NULL AND ? IS NULL) OR SCHEDULE_EXPR_TIMEZONE=?) AND TIMEOUT_METHOD_DECLARING_CLASS=? AND TIMEOUT_METHOD_NAME=? AND ((TIMEOUT_METHOD_DESCRIPTOR IS NULL AND ? IS NULL) OR TIMEOUT_METHOD_DESCRIPTOR=?) AND PARTITION_NAME=?), Error Msg = ORA-00923: FROM keyword not found where expected {code}
Probably it is related to:
https://issues.redhat.com/browse/WFLY-16290

",2022/05/19 12:29 PM
WFLY-16492,"WFLY-16478 changed the default value of the JCA [distributed-]workmanager elytron-enabled attribute.  Mixed-domain transformation to handle this is needed, plus parsing of configs using previous versions of the subsystem XSD should use the old (false) default value of the attribute if the attribute isn't specifically configured in the xml.",2022/06/15 8:05 PM
WFLY-17019,"A simple Maven build (just POM) based on public Aplha artifacts and the most recent Maven plugin version fails because of:

{code}
[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:4.0.0.Beta3:package (default) on project wildfly-maven-plugin-test: Provisioning failed: Failed to process JBoss module XML template for feature-pack wildfly-ee@maven(org.jboss.universe:community-universe):current#27.0.0.Alpha5 package org.opensaml: Failed to resolve artifact org.opensaml:opensaml-core:jar:4.2.0: Failed to resolve org.opensaml:opensaml-core:jar:4.2.0: Failure to find org.opensaml:opensaml-core:jar:4.2.0 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -> [Help 1]
{code}

",2022/09/19 1:42 PM
WFLY-16856,"When a WildFly server offloads session data to a remote Infinispan server using the HotRod protocol, the following errors happens when deploying an application:

{noformat}
15:16:07,440 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.clustering.infinispan.remote-cache-container-configuration.session_data_cc: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.remote-cache-container-configuration.session_data_cc: org.infinispan.protostream.DescriptorParserException: Import 'java.time.proto' not found
	at org.wildfly.clustering.service@27.0.0.Alpha5-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
	at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
	at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
	at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.infinispan.protostream.DescriptorParserException: Import 'java.time.proto' not found
	at org.infinispan.protostream@4.4.3.Final//org.infinispan.protostream.descriptors.FileDescriptor.resolveImports(FileDescriptor.java:291)
	at org.infinispan.protostream@4.4.3.Final//org.infinispan.protostream.descriptors.FileDescriptor.resolveDependencies(FileDescriptor.java:229)
	at org.infinispan.protostream@4.4.3.Final//org.infinispan.protostream.descriptors.FileDescriptor.resolveDependencies(FileDescriptor.java:210)
	at org.infinispan.protostream@4.4.3.Final//org.infinispan.protostream.descriptors.ResolutionContext.resolve(ResolutionContext.java:57)
	at org.infinispan.protostream@4.4.3.Final//org.infinispan.protostream.impl.SerializationContextImpl.registerProtoFiles(SerializationContextImpl.java:118)
	at org.wildfly.clustering.marshalling.protostream@27.0.0.Alpha5-SNAPSHOT//org.wildfly.clustering.marshalling.protostream.AbstractSerializationContextInitializer.registerSchema(AbstractSerializationContextInitializer.java:69)
	at org.wildfly.clustering.infinispan.marshalling@27.0.0.Alpha5-SNAPSHOT//org.wildfly.clustering.infinispan.marshalling.MarshallerFactory$1.apply(MarshallerFactory.java:54)
	at org.wildfly.clustering.infinispan.marshalling@27.0.0.Alpha5-SNAPSHOT//org.wildfly.clustering.infinispan.marshalling.MarshallerFactory$1.apply(MarshallerFactory.java:48)
	at org.jboss.as.clustering.infinispan@27.0.0.Alpha5-SNAPSHOT//org.jboss.as.clustering.infinispan.subsystem.remote.HotRodMarshallerFactory$1.apply(HotRodMarshallerFactory.java:44)
	at org.jboss.as.clustering.infinispan@27.0.0.Alpha5-SNAPSHOT//org.jboss.as.clustering.infinispan.subsystem.remote.HotRodMarshallerFactory$1.apply(HotRodMarshallerFactory.java:41)
	at org.jboss.as.clustering.infinispan@27.0.0.Alpha5-SNAPSHOT//org.jboss.as.clustering.infinispan.subsystem.remote.RemoteCacheContainerConfigurationServiceConfigurator.get(RemoteCacheContainerConfigurationServiceConfigurator.java:189)
	at org.jboss.as.clustering.infinispan@27.0.0.Alpha5-SNAPSHOT//org.jboss.as.clustering.infinispan.subsystem.remote.RemoteCacheContainerConfigurationServiceConfigurator.get(RemoteCacheContainerConfigurationServiceConfigurator.java:81)
	at org.wildfly.clustering.service@27.0.0.Alpha5-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
	... 8 more

{noformat}
",2022/08/19 1:23 PM
WFLY-16948,"The Faces TCK tests that the el ExpressionFactory instances obtained from the Faces Application object equals the one from the JspFactory. This fails with the EE 10 TCK, which has changed the test deployment to be a CDI deployment (in line with the Faces 4 requirement to use CDI).

The problem is the WeldExpressionFactory.equals method does not properly handle two different instances that have the same delegate. Two such instances are logically equal but the equals method says they are not equal.

I can fix this short term in WildFly by wiring in a subclass of WeldExpressionFactory with a fixed equals method. Then I'll file a Weld issue.",2022/09/06 3:25 PM
WFLY-16718,"When running the {{elytron}} and {{elytron-oidc-client}} integration tests after the Big Bang changes, it seems that the Elytron version used by the server during the test runs is still 1.19.0.Final (the Elytron version from Core) instead of 2.0.0.Beta1 (the Elytron version from WildFly), i.e.,

When running {{mvn clean install}} from {{testsuite/integration/elytron}} or {{testsuite/integration/elytron-oidc-client}}, Elytron 1.19.0.Final appears in the server log file in the {{testsuite/integration/elytron/target/wildfly/standalone/log/server.log}} and {{testsuite/integration/elytron-oidc-client/target/wildfly/standalone/log/server.log}} files.",2022/07/27 2:59 PM
WFLY-17181,"With the Security TCK we are seeing failures like:
{quote}
javatest.batch] Number of tests remaining:  57
[javatest.batch] ********************************************************************************
[javatest.batch] Beginning Test:  com/sun/ts/tests/securityapi/idstore/customhandler/Client.java#testIdentityStore_customHandler
[javatest.batch] ********************************************************************************
[javatest.batch] 
[javatest.batch] 10-21-2022 00:13:40:  Harness - harness.executeMode is set to ""0""
[javatest.batch] 10-21-2022 00:13:40:  Harness - keywords (to be passed to tests) set to:  (javaee|jms)&!(ejbembed_vehicle)
[javatest.batch] 10-21-2022 00:13:40:  Harness - sClassPathFromExecProps = 
[javatest.batch] command: com.sun.ts.lib.harness.ExecTSTestCmd CLASSPATH=:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/httpclient-4.5.5.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/io/reactivex/rxjava2/rxjava/main/rxjava-2.2.21.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/io/reactivex/rxjava3/rxjava/main/rxjava-3.1.5.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/json/bind/api/main/jakarta.json.bind-api-3.0.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/apache/httpcomponents/core/main/httpclient-4.5.13.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/apache/httpcomponents/core/main/httpcore-4.4.15.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/bouncycastle/bcpkix/main/bcpkix-jdk18on-1.71.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/bouncycastle/bcprov/main/bcprov-jdk18on-1.71.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/eclipse/microprofile/restclient/main/microprofile-rest-client-api-3.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/eclipse/parsson/main/parsson-1.1.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/eclipse/yasson/main/yasson-3.0.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-atom-provider/main/resteasy-atom-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-cdi/main/resteasy-cdi-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-client-api/main/resteasy-client-api-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-client/main/resteasy-client-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-core-spi/main/resteasy-core-spi-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-core/main/resteasy-core-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-crypto/main/resteasy-crypto-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-jackson2-provider/main/resteasy-jackson2-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-jaxb-provider/main/resteasy-jaxb-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-jsapi/main/resteasy-jsapi-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-json-binding-provider/main/resteasy-json-binding-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-json-p-provider/main/resteasy-json-p-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-rxjava2/main/resteasy-rxjava2-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-validator-provider/main/resteasy-validator-provider-6.2.1.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/reactivestreams/main/reactive-streams-1.0.4.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/wildfly/security/jakarta/client/resteasy/main/jakarta-client-resteasy-3.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../jboss/classes:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/jaxb-api.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/jaxb-core.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/jaxb-xjc.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/tsharness.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/securityapitck.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/sigtest.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../jboss/classes::/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/el/api/main/jboss-el-api_5.0_spec-4.0.0.CR1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/json/api/main/jakarta.json-api-2.1.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/websocket/api/main/jakarta.websocket-api-2.1.0-jbossorg-2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/websocket/api/main/jakarta.websocket-client-api-2.1.0-jbossorg-2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/ws/rs/api/main/jakarta.ws.rs-api-3.1.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/glassfish/expressly/main/expressly-5.0.0.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/apache/cxf/main/cxf-rt-features-logging-3.5.2-jbossorg-3.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/as/logging/main/wildfly-logging-19.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/logging/commons/logging/main/commons-logging-jboss-logging-1.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/logging/main/jboss-logging-3.4.3.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/wildfly/security/jakarta/authentication/main/jakarta-authentication-3.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/oasis-regrep.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/omar-common.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/bin/client/jboss-client.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/activation/api/main/jakarta.activation-api-2.1.1.jbossorg-1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/jakarta/mail/api/main/jakarta.mail-api-2.1.1.jbossorg-1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/eclipse/angus/activation/main/angus-activation-1.0.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/eclipse/angus/mail/main/angus-mail-1.0.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/jboss/iiop-client/main/jboss-iiop-client-jakarta-1.0.2.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/javax/enterprise/api/main/jakarta.enterprise.cdi-api-2.0.2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/javax/enterprise/api/main/cdi-api-2.0.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/io/undertow/core/main/undertow-core-2.3.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/io/undertow/servlet/main/undertow-servlet-2.3.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/io/undertow/websocket/main/undertow-websockets-jsr-2.3.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/wildfly/security/elytron-web/undertow-server-servlet/main/undertow-server-servlet-3.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/wildfly/security/elytron-web/undertow-server/main/undertow-server-3.0.0.Final.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/tsharness.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/tsharness.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/securityapitck.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyclient.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyshared.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbytools.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../jboss/lib/jboss-porting.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyclient.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyshared.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbytools.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/javatest.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/jdom-1.1.3.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base/org/dom4j/main/dom4j-2.1.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../tools/ant/lib/ant.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../tools/ant/lib/ant-trax.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/orb-connector.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/deployment-client.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/security-ee.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/security.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/securitycommon.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/common-util.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/glassfish-corba-omgapi.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/glassfish-corba-orb.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/internal-api.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/auto-depends.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/deployment-common.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/gmbal.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/bean-validator.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-client.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-hk2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-common.jar::/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-media-jaxb.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-media-sse.jar{pathsep}/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-media-json-processing.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jsonp-jaxrs.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-media-json-binding.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-server.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-container-servlet.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-container-servlet-core.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/guava.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jersey-guava.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/jakarta.el.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-websocket-core.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-client.jar{pathsep}/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-container-grizzly-client.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-core.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-container-grizzly.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/glassfish-grizzly-extra-all.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/nucleus-grizzly-all.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-server.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-container-servlet.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/tyrus-spi.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/com.ibm.jbatch-runtime-all.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/com.ibm.jbatch-ri-spi.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/glassfish-batch-connector.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/glassfish-batch-commands.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/yasson.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/admin-cli.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/http.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../classes:/qa/tools/opt/x86_64/openjdk-11.0.16.1.1/../lib/tools.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/modules/security-ee.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-httpclient-3.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-logging-1.1.3.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-codec-1.9.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/cssparser-0.9.25.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/htmlunit-2.15.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/htmlunit-core-js-2.15.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/httpcore-4.4.9.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/httpclient-4.5.5.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/httpmime-4.5.5.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-collections-3.2.1.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-io-2.4.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/commons-lang3-3.3.2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/jaxen-1.1.6.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/nekohtml-1.9.21.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/sac-1.3.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/saxpath.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/xercesImpl-2.11.0.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/xalan-2.7.2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/serializer-2.7.2.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/xml-apis-1.4.01.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../lib/unboundid-ldapsdk.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyclient.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbyshared.jar:/mnt/hudson_workspace/security/wildfly-tck-runners/security/glassfish7/glassfish/../javadb/lib/derbytools.jar DISPLAY=:0.0 HOME=/home/hudson TMP= windir= SYSTEMROOT= PATH=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/nativelib /qa/tools/opt/x86_64/openjdk-11.0.16.1.1/bin/java -Dcts.tmp=/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../tmp -Dcxf.tls-client.disableCNCheck=true -Djavax.net.ssl.keyStore=/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../bin/certificates/clientcert.jks -Djavax.net.ssl.keyStorePassword=changeit -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/standalone/configuration/keystores/tomcat.keystore -Djavax.net.ssl.trustStorePassword=rmi+ssl -Dcom.sun.aas.installRoot=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly -Dlog.file.location=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/standalone/log -Dservlet.is.jsr115.compatible=false -Dprovider.configuration.file=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/standalone/configuration/security/ProviderConfiguration.xml -Djava.security.properties=/mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../bin/ts.java.security -Dlogical.hostname.servlet=server -Dcom.sun.aas.configRoot=/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/config -Ddeliverable.class=com.sun.ts.lib.deliverable.securityapi.SecurityAPIDeliverable com.sun.ts.tests.securityapi.idstore.customhandler.Client -p /mnt/hudson_workspace/security/wildfly-tck-runners/security/security-tck/bin/xml/../../tmp/tstest.jte -t testIdentityStore_customHandler
[javatest.batch] ************************************************************
[javatest.batch] * props file set to ""/tmp/hudson-cts-props.txt""
[javatest.batch] ************************************************************
[javatest.batch] 10-21-2022 00:13:41:  [BaseUrlClient] Test setup OK
[0m00:13:41,546 INFO  [stdout] (default task-2) DefaultHAMForIDStore: validateRequest...
[0m[0m00:13:41,547 INFO  [stdout] (default task-2) DefaultHAMForIDStore:user=tom
[0m[0m00:13:41,547 INFO  [stdout] (default task-2) DefaultHAMForIDStore:pwd=secret1
[0m[0m00:13:41,552 INFO  [stdout] (default task-2) Exception met...WELD-000049: Unable to invoke public void com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.init() on com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler@17a17044
[0m[31m00:13:41,553 ERROR [stderr] (default task-2) org.jboss.weld.exceptions.WeldException: WELD-000049: Unable to invoke public void com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.init() on com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler@17a17044
[0m[31m00:13:41,563 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.DefaultLifecycleCallbackInvoker.invokeMethods(DefaultLifecycleCallbackInvoker.java:85)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.DefaultLifecycleCallbackInvoker.postConstruct(DefaultLifecycleCallbackInvoker.java:66)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.BasicInjectionTarget.postConstruct(BasicInjectionTarget.java:122)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:164)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstanceStrategy$ApplicationScopedContextualInstanceStrategy.get(ContextualInstanceStrategy.java:140)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:131)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at deployment.securityapi_idstore_customhandler_web.war//com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at deployment.securityapi_idstore_customhandler_web.war//com.sun.ts.tests.securityapi.idstore.common.DefaultHamForIDStore.validateRequest(DefaultHamForIDStore.java:59)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.glassfish.soteria@3.0.0//org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:89)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.jakarta.authentication@3.0.0.Final//org.wildfly.security.auth.jaspi.impl.ElytronServerAuthContext.validateRequest(ElytronServerAuthContext.java:85)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.jakarta.authentication@3.0.0.Final//org.wildfly.security.auth.jaspi.impl.WrappingServerAuthContext.lambda$validateRequest$0(WrappingServerAuthContext.java:50)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.jakarta.authentication@3.0.0.Final//org.wildfly.security.auth.jaspi.impl.ThreadLocalCallbackHandler.get(ThreadLocalCallbackHandler.java:56)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.jakarta.authentication@3.0.0.Final//org.wildfly.security.auth.jaspi.impl.WrappingServerAuthContext.validateRequest(WrappingServerAuthContext.java:50)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.ServletSecurityContextImpl.authenticate(ServletSecurityContextImpl.java:176)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.ServletSecurityContextImpl.authenticate(ServletSecurityContextImpl.java:101)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:55)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
[0m[31m00:13:41,564 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.wildfly.extension.undertow@27.0.0.Final-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:106)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at java.base/java.security.AccessController.doPrivileged(Native Method)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:103)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:391)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at io.undertow.core@2.3.0.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[0m[31m00:13:41,565 ERROR [stderr] (default task-2) 	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.xnio@3.8.8.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/java.lang.Thread.run(Thread.java:829)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) Caused by: java.lang.reflect.InvocationTargetException
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.DefaultLifecycleCallbackInvoker.invokeMethods(DefaultLifecycleCallbackInvoker.java:83)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	... 51 more
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean DecorableWeldBeanWrapper WELD%AbstractBuiltInBean%org.wildfly.security.jakarta.security.additionalClasses%IdentityStore%org.wildfly.security.soteria.original.CdiProducer interface jakarta.security.enterprise.identitystore.LdapIdentityStoreDefinition with class class org.glassfish.soteria.identitystores.LdapIdentityStore
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:409)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.run(ProxyFactory.java:360)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at java.base/java.security.AccessController.doPrivileged(Native Method)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:352)
[0m[31m00:13:41,566 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:83)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:205)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:195)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:52)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:48)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.lambda$new$0(ReentrantMapBackedComputingCache.java:55)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.LazyValueHolder$1.computeValue(LazyValueHolder.java:32)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:46)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:72)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:78)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:229)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:674)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:703)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.util.ForwardingBeanManager.getReference(ForwardingBeanManager.java:63)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.builtin.BeanManagerProxy.getReference(BeanManagerProxy.java:88)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at deployment.securityapi_idstore_customhandler_web.war//com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.getContextualReference(CustomIdentityStoreHandler.java:174)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at deployment.securityapi_idstore_customhandler_web.war//com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.getBeanReferencesByType(CustomIdentityStoreHandler.java:159)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at deployment.securityapi_idstore_customhandler_web.war//com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.init(CustomIdentityStoreHandler.java:78)
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	... 56 more
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) Caused by: java.lang.NoClassDefFoundError: org/glassfish/soteria/identitystores/LdapIdentityStore
[0m[31m00:13:41,567 ERROR [stderr] (default task-2) 	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:410)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ClassDefiner.defineClass(ClassDefiner.java:144)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.as.weld@27.0.0.Final-SNAPSHOT//org.jboss.as.weld.services.bootstrap.ProxyServicesImpl.defineClass(ProxyServicesImpl.java:204)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.toClass(ProxyFactory.java:937)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.createProxyClass(ProxyFactory.java:495)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:401)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	... 77 more
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) Caused by: java.lang.ClassNotFoundException: org.glassfish.soteria.identitystores.LdapIdentityStore from [Module ""jakarta.security.enterprise.api"" version 3.0.0 from local module loader @8dbfffb (finder: local module finder @f316aeb (roots: /mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules,/mnt/hudson_workspace/security/wildfly-tck-runners/security/servers/old-wildfly/modules/system/layers/base))]
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
[0m[31m00:13:41,568 ERROR [stderr] (default task-2) 	... 85 more
[0m[0m00:13:41,569 INFO  [stdout] (default task-2) Inside  ServletForIDStoreCustomhandler:doGet() .....<BR>
[0m[javatest.batch] 10-21-2022 00:13:41:  [HttpRequest] Dispatching request: 'GET /securityapi_idstore_customhandler_web/ServletForIDStoreCustomhandler?user=tom&pwd=secret1 HTTP/1.1' to target server at 'localhost:8080'
[javatest.batch] Oct 21, 2022 12:13:41 AM org.apache.commons.httpclient.HttpConnection releaseConnection
[javatest.batch] WARN: HttpConnectionManager is null.  Connection cannot be released.
[javatest.batch] 10-21-2022 00:13:41:  ERROR: [WebValidatorBase] Unable to find the following search string in the server's response: 'ValidateResultStatus=VALID' at index: 0
[javatest.batch] [WebValidatorBase] Server's response:
[javatest.batch] -------------------------------------------
[javatest.batch] Exception received.
[javatest.batch] Exception message: WELD-000049: Unable to invoke public void com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler.init() on com.sun.ts.tests.securityapi.idstore.customhandler.CustomIdentityStoreHandler@17a17044
[javatest.batch] web username: null
[javatest.batch] 
[javatest.batch] -------------------------------------------
[javatest.batch] 
[javatest.batch] 10-21-2022 00:13:41:  ERROR: Test case throws exception: [BaseUrlClient] null failed! Check output for cause of failure.
[javatest.batch] 10-21-2022 00:13:41:  ERROR: Exception at:  
[javatest.batch] 10-21-2022 00:13:41:  ERROR: com.sun.ts.tests.common.webclient.TestFailureException: Test FAILED!
[javatest.batch] 	at com.sun.ts.tests.common.webclient.WebTestCase.execute(WebTestCase.java:180)
[javatest.batch] 	at com.sun.ts.tests.common.webclient.BaseUrlClient.invoke(BaseUrlClient.java:456)
[javatest.batch] 	at com.sun.ts.tests.securityapi.idstore.customhandler.Client.testIdentityStore_customHandler(Client.java:100)
[javatest.batch] 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[javatest.batch] 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
[javatest.batch] 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[javatest.batch] 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
[javatest.batch] 	at com.sun.ts.lib.harness.EETest.run(EETest.java:596)
[javatest.batch] 	at com.sun.ts.lib.harness.EETest.getPropsReady(EETest.java:486)
[javatest.batch] 	at com.sun.ts.lib.harness.EETest.run(EETest.java:337)
[javatest.batch] 	at com.sun.ts.tests.securityapi.idstore.customhandler.Client.run(Client.java:49)
[javatest.batch] 	at com.sun.ts.tests.securityapi.idstore.customhandler.Client.main(Client.java:36)
[javatest.batch] 
[javatest.batch] 10-21-2022 00:13:41:  [BaseUrlClient] Test cleanup OK
[javatest.batch] STATUS:Failed.Test case throws exception: [BaseUrlClient] null failed! Check output for cause of failure.
[javatest.batch] Failed. Test case throws exception: [BaseUrlClient] null failed! Check output for cause of failure.
[javatest.batch] ********************************************************************************
[javatest.batch] Finished Test:  FAILED........com/sun/ts/tests/securityapi/idstore/customhandler/Client.java#testIdentityStore_customHandler
[javatest.batch] ********************************************************************************
[javatest.batch] Number of tests completed:  30 (29 passed, 1 failed, 0 with errors)
[javatest.batch] Number of tests remaining:  56
{quote}",2022/10/21 1:27 PM
WFLY-17232,"A simple deployment that uses a known layers configuration to provide a trimmed server that is capable of cache distribution.

{code}
                    <layers>
                        <layer>jaxrs-server</layer>
                        <layer>web-clustering</layer>
                        <layer>ejb</layer>
                        <layer>ejb-dist-cache</layer>
                    </layers>
                    <excluded-layers>
                        <layer>ejb-local-cache</layer>
                    </excluded-layers>
{code}
is built successfully but then throws an NPE at startup:

{code}
15:35:32,735 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 60) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee: java.lang.IllegalStateException: java.lang.NullPointerException
        at org.wildfly.clustering.service@27.0.0.Final-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
{code}

This happens when using the WildFly 27.0.0.Final-SNAPSHOT and wildfly-cloud-galleon-pack v. 2.0.0.Beta2.

The stack trace leads to a call [1] that looks for a socket binding which actually is not set for FD_SOCK and FD_SOCK2 in the generated server {{standalone.xml}}:

{code}
<stack name=""udp"">
    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
    <protocol type=""RED""/>
    <protocol type=""MERGE3""/>
    <protocol type=""FD_SOCK2""/>
    <protocol type=""FD_ALL3""/>
    <protocol type=""VERIFY_SUSPECT2""/>
    <protocol type=""pbcast.NAKACK2""/>
    <protocol type=""UNICAST3""/>
    <protocol type=""pbcast.STABLE""/>
    <protocol type=""pbcast.GMS""/>
    <protocol type=""UFC""/>
    <protocol type=""MFC""/>
    <protocol type=""FRAG4""/>
    <protocol type=""FD_SOCK""/>
</stack>
...
<socket-binding-group name=""standard-sockets"" default-interface=""public"" port-offset=""0"">
        <socket-binding name=""http"" interface=""bindall"" port=""${jboss.http.port:8080}""/>
        <socket-binding name=""https"" interface=""bindall"" port=""${jboss.https.port:8443}""/>
        <socket-binding name=""jgroups-mping"" interface=""private"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45700""/>
        <socket-binding name=""jgroups-tcp"" interface=""private"" port=""7600""/>
        <socket-binding name=""jgroups-udp"" interface=""private"" port=""55200"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45688""/>
{code}

CC [~rhn-engineering-rhusar], [~pferraro@redhat.com]

[1]
https://github.com/wildfly/wildfly/blob/main/clustering/jgroups/extension/src/main/java/org/jboss/as/clustering/jgroups/subsystem/FailureDetectionProtocolConfigurationServiceConfigurator.java#L47",2022/11/03 9:14 AM
WFLY-17218,"The WFLY-17209 fix breaks the TCK badly because it adds JBoss Log Manager into the jboss-client jar.

If a client application wants to take advantage of JBoss Log Manager it should declare that itself; the jboss-client jar should not impose that choice on it.",2022/10/31 5:04 PM
WFLY-15998,"In a highly concurrent system, we noticed that the name of the caller principal retrieved from the session context of a stateless session bean is somewhat random. Sometimes we receive the correct principal of the client, sometimes anonymous and sometimes the principal of a totally independent, concurrent client.

This strange behavior started when switching from Legacy Security to Elytron Security. With Legacy Security (WildFly 24.0.1.Final or older), the caller principal from the session context always matched the one provided by the client for authentication.

To reproduce this strange behavior, we put together a simple project consisting of the following two stateless session beans:
{code:java}
@Stateless
@Remote(SecuredEJBRemote.class)
@RolesAllowed({""guest""})
@RunAs(""system"")
@SecurityDomain(""other"")
public class SecuredEJB implements SecuredEJBRemote {
  @Resource
  private SessionContext ctx;
  @EJB
  private AnotherSecuredEJBLocal anotherEjb;
  public String getCallerPrincipal() {
    anotherEjb.ping();
    Principal principal = ctx.getCallerPrincipal();
    return principal.toString();
  }
}
{code}
{code:java}
@Stateless
@RolesAllowed({""system""})
@SecurityDomain(""other"")
public class AnotherSecuredEJB implements AnotherSecuredEJBLocal {
  public String ping() {
    return ""pong"";
  }
}
{code}
When a client calls the function getCallerPrincipal() on the SecuredEJB, first the function ping() gets called on AnotherSecuredEJB and then getCallerPrincipal() returns the name of the principal retrieved from the session context. As stated above, the caller principal does not always match the user name provided by the client for authentication.",2022/02/02 2:27 PM
WFLY-17339,The WFLY-17236 fix is causing intermittent hanging during FD_SOCK2's ServerSocketChannel creation.  This needs to be addressed before 27.0.1.Final.,2022/11/29 4:12 PM
WFLY-17875,"Fails with:
{noformat}
2023-04-10 17:44:42,704 ERROR [management-operation] WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee-singleton"")
]) - failure description: ""WFLYCTL0155: 'stack' may not be null""
{noformat}
In this case, we need to fix-up the add operation to apply the stack of the default channel.",2023/04/10 5:30 PM
WFLY-16515,"The scenario is the following: we are using a 4 nodes cluster which persists data to an Oracle JDBC store;

This is the complete configurations script:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload:add()
data-source add --name=testDS --jndi-name=java:jboss/datasources/testDS --driver-name=oracle-connector.jar --connection-url=jdbc:oracle:thin:@(DESCRIPTION=(LOAD_BALANCE=on)(ADDRESS=(PROTOCOL=TCP)(HOST=oracle-19c-rac-01.mwqe.upshift.rdu2.redhat.com)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=oracle-19c-rac-02.mwqe.upshift.rdu2.redhat.com)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=dballo))) --enabled=true --jta=true --use-java-context=true --transaction-isolation=TRANSACTION_READ_COMMITTED --min-pool-size=1 --max-pool-size=5 --pool-prefill=true --user-name=dballo03 --password=dballo03 --prepared-statements-cache-size=32 --share-prepared-statements=true
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc:add(data-source=testDS,fetch-state=false,passivation=false,purge=false,shared=true,dialect=ORACLE){allow-resource-service-restart=true}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.name,value=id)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.name,value=datum)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.name,value=version)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.type,value=VARCHAR2(255))
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.type,value=NUMBER)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.type,value=BLOB)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=prefix, value=i){allow-resource-service-restart=true}
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=offload)
{noformat}

Since we set:

{noformat}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=prefix, value=i)
{noformat}

since our deployment's name is ""{{cbnc.ear}}"", we expect table names like {{i_cbnc_etc..}}: instead we get ""{{ispn_entry_cbnc_ear_}}"";

This has the side effect of failing index creation on the DB, since index names are limited to 30 characters lenght:

{noformat}
could not deploy /tmp/tests-clustering/cbnc.ear via management client to service WildFly Service 1, result is not a success: 
15:01:11 {
15:01:11     ""outcome"" : ""failed"",
15:01:11     ""failure-description"" : {""WFLYCTL0080: Failed services"" : {
15:01:11         ""org.wildfly.clustering.infinispan.cache.web.\""cbnc.ear.b.war\"""" : ""org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    Caused by: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    Caused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: org.infinispan.persistence.spi.PersistenceException: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: Error : 955, Position : 13, Sql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_b_war\"" (segment), OriginalSql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_b_war\"" (segment), Error Msg = ORA-00955: name is already used by an existing object\n"",
15:01:11         ""org.wildfly.clustering.infinispan.cache.web.\""cbnc.ear.c.war\"""" : ""org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    Caused by: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    Caused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: org.infinispan.persistence.spi.PersistenceException: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object\n\n    Caused by: Error : 955, Position : 13, Sql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_c_war\"" (segment), OriginalSql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_c_war\"" (segment), Error Msg = ORA-00955: name is already used by an existing object\n""
15:01:11     }}
{noformat}

When we try the following workaround:

{noformat}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc:map-put(name=properties, key=segmented, value=false)
{noformat}

we still get the same error: 

{noformat}
Error : 955, Position : 13, Sql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_a_war\"" (segment), OriginalSql = CREATE INDEX \""segment_index_ispn_entry_cbnc_\"" ON \""ispn_entry_cbnc_ear_a_war\"" (segment), Error Msg = ORA-00955: name is already used by an existing object
{noformat}





",2022/06/21 3:55 PM
WFLY-17065,"The {{jakarta.xml.bind.api}} module cannot load the {{org.glassfish.jaxb}} implementation if the security manager is enabled. An example stack trace is:
{code}
[java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/jperkins/projects/resteasy/resteasy/testsuite/integration-tests/target/wildfly/modules/system/layers/base/org/glassfish/jaxb/main/jaxb-runtime-4.0.0.jar"" ""read"")"" in code source ""(vfs:/content/DeploymentTest.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.DeploymentTest.war"" from Service Module Loader"")]
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.ContextFinder$1.createException(ContextFinder.java:85)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.ContextFinder$1.createException(ContextFinder.java:82)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.ServiceLoaderUtil.firstByServiceLoader(ServiceLoaderUtil.java:46)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.ContextFinder.find(ContextFinder.java:364)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.JAXBContext.newInstance(JAXBContext.java:605)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.JAXBContext.newInstance(JAXBContext.java:546)
	at deployment.DeploymentTest.war//org.jboss.resteasy.wadl.ResteasyWadlWriter.getStringWriter(ResteasyWadlWriter.java:77)
	at deployment.DeploymentTest.war//org.jboss.resteasy.wadl.ResteasyWadlDefaultResource.output(ResteasyWadlDefaultResource.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60)
	at org.jboss.resteasy.resteasy-core@6.2.1.Final-SNAPSHOT//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)
	at jakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Beta1//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Beta1//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Beta1//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Alpha5//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:106)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.3.0.Alpha2//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:103)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.core@2.3.0.Alpha2//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at org.jboss.xnio@3.8.7.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/jperkins/projects/resteasy/resteasy/testsuite/integration-tests/target/wildfly/modules/system/layers/base/org/glassfish/jaxb/main/jaxb-runtime-4.0.0.jar"" ""read"")"" in code source ""(vfs:/content/DeploymentTest.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.DeploymentTest.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:309)
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:201)
	at java.base/java.lang.SecurityManager.checkRead(SecurityManager.java:661)
	at org.wildfly.security.elytron-base@2.0.0.Beta3//org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:374)
	at java.base/java.util.zip.ZipFile.<init>(ZipFile.java:237)
	at java.base/java.util.zip.ZipFile.<init>(ZipFile.java:177)
	at java.base/java.util.jar.JarFile.<init>(JarFile.java:350)
	at java.base/sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:103)
	at java.base/sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:72)
	at java.base/sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:125)
	at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.parse(ServiceLoader.java:1165)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1206)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator$1.run(ServiceLoader.java:1268)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator$1.run(ServiceLoader.java:1267)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1270)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)
	at jakarta.xml.bind.api@4.0.0//jakarta.xml.bind.ServiceLoaderUtil.firstByServiceLoader(ServiceLoaderUtil.java:39)
	... 73 more
{code}",2022/09/30 4:34 PM
WFLY-17051,"The Jakarta JSON Binding API cannot load the implementation, Yasson, if the security manager is present. An example failure is:
{code}
14:34:35,459 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /jsonb10-test/jsonb: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/home/jperkins/.m2/repository/org/eclipse/yasson/3.0.1/yasson-3.0.1.jar"" ""read"")"" in code source ""(vfs:/content/jsonb10-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.jsonb10-test.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:309)
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:201)
	at java.base/java.lang.SecurityManager.checkRead(SecurityManager.java:661)
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:374)
	at java.base/java.util.zip.ZipFile.<init>(ZipFile.java:237)
	at java.base/java.util.zip.ZipFile.<init>(ZipFile.java:177)
	at java.base/java.util.jar.JarFile.<init>(JarFile.java:350)
	at java.base/sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:103)
	at java.base/sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:72)
	at java.base/sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:125)
	at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.parse(ServiceLoader.java:1165)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1206)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator$1.run(ServiceLoader.java:1268)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator$1.run(ServiceLoader.java:1267)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1270)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)
	at jakarta.json.bind.api@3.0.0//jakarta.json.bind.spi.JsonbProvider.provider(JsonbProvider.java:89)
	at jakarta.json.bind.api@3.0.0//jakarta.json.bind.JsonbBuilder.create(JsonbBuilder.java:86)
	at deployment.jsonb10-test.war//org.jboss.as.test.integration.json.JSONBServlet.doGet(JSONBServlet.java:46)
	at jakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)
	at jakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.3.0.Beta1//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.3.0.Beta1//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at org.wildfly.extension.undertow@27.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1431)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:106)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.3.0.Beta1//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:103)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.core@2.3.0.Beta1//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at org.jboss.xnio@3.8.8.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)
	at java.base/java.lang.Thread.run(Thread.java:829)
{code}",2022/09/27 9:35 PM
WFLY-15394,"The current implementation of WildFlyP cli management API leaves out the setting of routing-type property on CORE bridges. As a result it is impossible to bridge queue to a topic. For such bridge to work it is necessary to set the routing type to ""STRIP"" since the default routing-type ""PASS"" prevents messages to be routed to the MULTICAST addresses. There is no option in WildFly to configure routing type on core bridge. ",2021/10/01 11:18 AM
WFLY-17163,"The clustering testsuite replaces MPING with TCPPING in the ""tcp"" protocol stack. However, discovery now resides above RED, which must reside just above the transport.

When RED was added to the protocol stack, the scripts used by the testsuite need to update their add-index accordingly.",2022/10/18 10:33 AM
WFLY-16527,"Run ForbiddenUrlTestCase against WF Preview or my WFLY-16432 branch and it fails with this in the log:

{code}
&amp#27;[0m&amp#27;[31m20:21:52,487 ERROR [stderr] (ServerService Thread Pool -- 24) java.lang.IllegalStateException: CDI is not available
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.util.Util.getCdiBeanManager(Util.java:1493)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.applicationimpl.ExpressionLanguage.addELResolver(ExpressionLanguage.java:106)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ApplicationImpl.addELResolver(ApplicationImpl.java:208)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at org.jboss.as.jsf-injection//org.jboss.as.jsf.injection.weld.WeldApplication.<init>(WeldApplication.java:60)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at org.jboss.as.jsf-injection//org.jboss.as.jsf.injection.weld.WeldApplicationFactory.getApplication(WeldApplicationFactory.java:52)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.InjectionApplicationFactory.getApplication(InjectionApplicationFactory.java:61)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.InitFacesContext.getApplication(InitFacesContext.java:109)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.ClientWindowFactoryImpl.<init>(ClientWindowFactoryImpl.java:39)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
&amp#27;[0m&amp#27;[31m20:21:52,488 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.lang.Class.newInstance(Class.java:584)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at jakarta.faces.api//jakarta.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:431)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at jakarta.faces.api//jakarta.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:323)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at jakarta.faces.api//jakarta.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:183)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at jakarta.faces.api//jakarta.faces.FactoryFinder.getFactory(FactoryFinder.java:263)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.processor.FactoryConfigProcessor.lambda$verifyFactoriesExist$0(FactoryConfigProcessor.java:286)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
&amp#27;[0m&amp#27;[31m20:21:52,489 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:280)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:195)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:265)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:263)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:179)
&amp#27;[0m&amp#27;[31m20:21:52,490 ERROR [stderr] (ServerService Thread Pool -- 24) 	at io.undertow.servlet@2.3.0.Alpha1//io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)
{code}

Adding an empty beans.xml to the test deployment fixes this, but users shouldn't have to add a beans.xml to get Faces to work.

One possible solution would be to add a method to WeldCapability to allow capability users (i.e. the Faces subsystem) to tell the weld subsystem to mark a deployment as a Weld deployment. That's only if Mojarra really does require CDI and its doing so isn't a bug.",2022/06/23 1:36 AM
WFLY-17165,"Any blocking operations need to be run via the BlockingManager. This ensures that any operations built upon the CompletionStage returned by the listener continue to run on the non-blocking thread.

Same issue applies to passivation/activation events.",2022/10/18 12:41 PM
WFLY-15776,NoData,2021/12/01 2:53 PM
WFLY-15386,"Continuation of WFLY-13897.

While the driver with numerous fixes (see WFLY-13897 blocked issues) now kills the servers, there is an outstanding problem which causes the Infinispan Server to hang.

While these are t hen killed abruptly (kill -9 on *nix and TASKKILL /F /PID on Windows), this causes a couple of issues:

* JVM crash files are unnecessarily created
* server profiles cannot be wiped since a lock is still held
* procmon still lists locked files and causes memory exhaustion",2021/09/30 3:39 PM
WFLY-15325,"With the OpenTelemetry susbsystem configured (which it is by default), users will see warning messages flood the logs if they have a REST application deployed, but do not have the Jaeger collector running (and properly configured):


{code:java}
15:03:07,739 WARNING [io.opentelemetry.exporter.jaeger.JaegerGrpcSpanExporter] (grpc-default-executor-1) Failed to export spans: io.grpc.StatusRuntimeException: UNAVAILABLE
    at io.grpc.Status.asRuntimeException(Status.java:535)
    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)
    at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:464)
    at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:428)
    at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:461)
    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:553)
    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:68)
    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:739)
    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:718)
    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
    at java.net.Socket.connect(Socket.java:606)
    at java.net.Socket.connect(Socket.java:555)
    at java.net.Socket.<init>(Socket.java:451)
    at java.net.Socket.<init>(Socket.java:261)
    at javax.net.DefaultSocketFactory.createSocket(SocketFactory.java:277)
    at io.grpc.okhttp.OkHttpClientTransport$4.run(OkHttpClientTransport.java:556)
    ... 4 more
{code}
We should probably set the log level for otel to error to suppress this behavior before WF 25 final ships",2021/09/21 3:26 PM
WFLY-18066,"Our ProtoStream marshaller uses a 2 phase approach:
1. Determine the size of the requisite byte buffer
  1a. Allocate a byte buffer using the calculated size
2. Marshal the object into the allocated byte buffer

Generally, this works well.  However, ByteBufferMarshalledValue is a special case.  Currently, to determine the buffer size for this object (step 1), the buffer itself needs to be created.  A redundant buffer is then created during step 2.",2023/05/26 4:09 PM
WFLY-17961,"When the Micrometer layer is configured, the subsystem is started in a partially configured state, resulting in a large and ugly WARN message as the server shuts down (and possibly while it's running):




{code:java}
09:11:17,868 WARNING [io.micrometer.registry.otlp.OtlpMeterRegistry] (MSC service thread 1-1) Failed to publish metrics to OTLP receiver: java.net.ConnectException: Connection refused
 at java.base/sun.nio.ch.Net.pollConnect(Native Method)
 at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
 at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
 at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
 at java.base/java.net.Socket.connect(Socket.java:633)
 at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
 at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
 at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
 at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279)
 at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384)
 at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)
 at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)
 at io.micrometer@1.9.3//io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)
 at io.micrometer@1.9.3//io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)
 at io.micrometer@1.9.3//io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:109)
 at io.micrometer@1.9.3//io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)
 at io.micrometer@1.9.3//io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:96)
 at org.wildfly.extension.micrometer@29.0.0.Alpha1-SNAPSHOT//org.wildfly.extension.micrometer.MicrometerRegistryService.stop(MicrometerRegistryService.java:82)
 at org.jboss.msc@1.5.0.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1644)
 at org.jboss.msc@1.5.0.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1614)
 at org.jboss.msc@1.5.0.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1411)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
 at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)
 at java.base/java.lang.Thread.run(Thread.java:833) {code}


",2023/04/26 2:15 PM
WFLY-18036,"An analysis of the replication payload for @SessionScoped EJBs indicates that a number of JBoss Marshalling optimizations are not getting applied, including:
* SessionID externalizers
* SFSB class table
* Custom externalizers

This results in an unnecessarily high payload for @SessionScoped @Stateful EJBs compared to previous releases.",2023/05/19 12:39 PM
WFLY-17807,"If a @Schedule expression of type {color:#000000}_Increment_ uses an increment of zero or less the server enters an infinite loop.{color}

{color:#000000}The error is that in org.jboss.as.ejb3.timerservice.schedule.attribute.IntegerBasedExpression#processIncrement() the interval is not checked for validity. {color}

{color:#000000}Verified on WildFly 23.0.2.Final and 26.1.3.Final. On WildFly 27.0.1.Final the imports have to be changed to jakarta.*.
{color}",2023/03/29 11:47 AM
WFLY-18012,"The {{WildFlyConfigurationFactory}} was introduced to have a customized {{ConfigurationFactory}}. During deploy, this is not accessed if the {{JaxrsDeploymentMarker.isJaxrsDeployment(deploymentUnit)}} returns {{false}}. However, in undeploy that check is not done which may cause resources to be created and/or loaded from a {{ServiceLoader}} during shutdown. We need to check if the deployment is a REST deployment before attempting to unregister the deployment.",2023/05/11 3:19 PM
WFLY-16030,"We ran into an issue with the WildFly Infinispan subsystem configuration for our custom redis cache implementation when upgrading from 22.x to 24.0.0.1.

Basically the configuration attribute '{_}module{_}' changed to '{_}modules{_}' and this was not implemented properly in the Infinispan subsystem. This causes a basic configurationto fail on WildFly startup with ClassCastException stating that a Module cannot be cast to an ArrayList.

Example of our configuration for our store:
{code:java}
<subsystem xmlns=""urn:jboss:domain:infinispan:13.0"">
    <cache-container name=""web"" default-cache=""session"" marshaller=""PROTOSTREAM"" modules=""org.wildfly.clustering.web.infinispan"">
        <local-cache name=""session"" modules=""org.infinispan.persistence.redis"">
            <store class=""org.infinispan.persistence.redis.configuration.WildflyRedisStoreConfigurationBuilder"" passivation=""false"" purge=""false"">
                <property name=""connectionTimeout"">2000</property>
                <property name=""socketTimeout"">2000</property>
                <property name=""masterName""></property>
                <property name=""database"">0</property>
                <property name=""maxRedirections"">5</property>
                <property name=""topology"">SERVER</property>
                <property name=""servers"">${env.REDIS_HOST}:${env.REDIS_PORT}</property>
            </store>
        </local-cache>
        <local-cache name=""sso""/>
        <local-cache name=""routing""/>
    </cache-container>
    ...
</subsystem>{code}
The startup fails because in the _org.jboss.as.clustering.infinispan.subsystem.CustomStoreServiceConfigurator_ class _module_ field was changed to be populated from configuration attribute {_}modules{_}, but the type was not changed to ArrayList.

I propose the following changes to the org.jboss.as.clustering.infinispan.subsystem.CustomStoreServiceConfigurator class:
https://github.com/wildfly/wildfly/blob/main/clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/CustomStoreServiceConfigurator.java
{code:java}
Index: clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/CustomStoreServiceConfigurator.java

<+>UTF-8
===================================================================
@@ -44,13 +44,13 @@
  */
 public class CustomStoreServiceConfigurator extends StoreServiceConfigurator<CustomStoreConfiguration, CustomStoreConfigurationBuilder> {
 
-    private final SupplierDependency<Module> module;
+    private final SupplierDependency<java.util.ArrayList<Module>> modules;
 
     private volatile String className;
 
     CustomStoreServiceConfigurator(PathAddress address) {
         super(address, CustomStoreConfigurationBuilder.class);
-        this.module = new ServiceSupplierDependency<>(CacheComponent.MODULES.getServiceName(address.getParent()));
+        this.modules = new ServiceSupplierDependency<>(CacheComponent.MODULES.getServiceName(address.getParent()));
     }
 
     @Override
@@ -61,7 +61,7 @@
 
     @Override
     public <T> ServiceBuilder<T> register(ServiceBuilder<T> builder) {
-        return super.register(this.module.register(builder));
+        return super.register(this.modules.register(builder));
     }
 
     @Override
@@ -70,7 +70,7 @@
         StoreConfiguration store = persistence.stores().get(0);
         try {
             @SuppressWarnings(""unchecked"")
-            Class<StoreConfigurationBuilder<?, ?>> storeClass = (Class<StoreConfigurationBuilder<?, ?>>) this.module.get().getClassLoader().loadClass(this.className).asSubclass(StoreConfigurationBuilder.class);
+            Class<StoreConfigurationBuilder<?, ?>> storeClass = (Class<StoreConfigurationBuilder<?, ?>>) this.modules.get().get(0).getClassLoader().loadClass(this.className).asSubclass(StoreConfigurationBuilder.class);
             return new ConfigurationBuilder().persistence().passivation(persistence.passivation()).addStore(storeClass)
                     .async().read(store.async())
                     .fetchPersistentState(store.fetchPersistentState()) {code}
With these changes, the custom store configuration succeeds.

Other information:

I believe the module  modules changes was introduced in [https://github.com/wildfly/wildfly/releases/tag/23.0.0.Final] 

The changes related to Infinispan module to allow it to compile but not work (at least for our configuration):

https://issues.redhat.com/browse/WFLY-13519

https://github.com/wildfly/wildfly/pull/13641",2022/02/10 1:58 PM
WFLY-15485,"I am currently running a web application in Wildfly with a couple of REST endpoints which I want to secure by means of Authorization Bearer tokens. This works seamlessly in Wildfly 24, with a KeyCloak server, and Keycloak client adaptors that I have installed into my wildfly installation.

I am trying to do the same in the newly released Wildfly 25 and the build-in OIDC client adapter, but I am running into some problems with it. When trying to access the secured REST endpoints in this setup by means of a Bearer token get redirected to KeyCloak login screen. This behaviour is incorrect and you should just be presented with a 403 response code instead, if the token was invalid.

When using the Keycloak client adapter I was achieving this behaviour (e.g. returning 403 for invalid token), by setting the _bearer-only_ property in keycloak.json to true.

With the OIDC client adaptor, setting the _bearer-only_ property in iodc.json seem to have any effect.

Can somebody perhaps confirm if bearer-only works with the OIDC client adaptor in Wildfly 25, and if so, can a working example perhaps be provided?",2021/10/12 4:06 PM
WFLY-15358,It looks like we may be missing a JACC Policy integration compatible without PicketBox where the deployment is unsecured.,2021/09/27 5:18 PM
WFLY-17790,"I believe the org.jboss.as.test.integration.logging.syslogserver package is unused and can be deleted, along with any then unused dependency entries in the testsuite/shared pom.

See https://github.com/wildfly/wildfly/pull/16644#pullrequestreview-1355317342",2023/03/23 9:17 PM
WFLY-17899,"{code:java}
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Testsuite.adoc
[INFO] asciidoctor: ERROR: _developer-guide/Jakarta_XML_Web_Services/WS-Security.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Developer_Guide.adoc
[INFO] asciidoctor: ERROR: Bootable_Guide.adoc: line 19: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Bootable_Guide.adoc
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/WildFly_Elytron_Security.adoc
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Client_Guide.adoc
[INFO] asciidoctor: ERROR: Galleon_Guide.adoc: line 23: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Galleon_Guide.adoc
[INFO] asciidoctor: ERROR: Admin_Guide.adoc: line 23: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: ERROR: _admin-guide/Operating_modes.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: ERROR: _admin-guide/Default_HTTP_Interface_Security.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: ERROR: _admin-guide/add-user-utility.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: ERROR: _admin-guide/RBAC.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: ERROR: _admin-guide/Subsystem_configuration.adoc: line 63: include file not found: /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/_admin-guide/subsystem-configuration/MicroProfile_Metrics.adoc
[INFO] asciidoctor: ERROR: _admin-guide/management-api/Description_of_the_Management_Model.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: INFO: possible invalid reference: required-extension-microprofile-metrics-smallrye
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Admin_Guide.adoc
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Extending_WildFly.adoc
[INFO] asciidoctor: ERROR: _high-availability/Clustering_and_Domain_Setup_Walkthrough.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/High_Availability_Guide.adoc
[INFO] asciidoctor: ERROR: Quickstarts.adoc: line 19: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Quickstarts.adoc
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Glossary.adoc
[INFO] asciidoctor: ERROR: WildFly_and_WildFly_Preview.adoc: line 19: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/WildFly_and_WildFly_Preview.adoc
[INFO] asciidoctor: ERROR: Hacking_On_WildFly.adoc: line 23: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Hacking_On_WildFly.adoc
[INFO] asciidoctor: ERROR: _extras/Developing_Jakarta_Server_Faces_Project_Using_Maven_and_IntelliJ.adoc: line 10: unmatched preprocessor directive: endif::[]
[INFO] asciidoctor: WARN: https://raw.githubusercontent.com/wildfly/quickstart/main/guide/GettingStarted.asciidoc: line 136: unterminated listing block
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Getting_Started_Developing_Applications_Guide.adoc
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Installation_Guide.adoc
[INFO] asciidoctor: ERROR: Getting_Started_Guide.adoc: line 19: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Getting_Started_Guide.adoc
[INFO] asciidoctor: ERROR: Migration_Guide.adoc: line 23: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/Migration_Guide.adoc
[INFO] asciidoctor: ERROR: index.adoc: line 11: unmatched preprocessor directive: endif::[]
[INFO] Converted /Users/bstansberry/dev/wildfly/wildfly/docs/src/main/asciidoc/index.adoc
 {code}",2023/04/16 12:06 AM
WFLY-17939,We opened the main branch to WF29 development and we need to adjust HostExcludesTestCase for the incoming release.,2023/04/21 7:28 PM
WFLY-17598,"For full context, please see the upstream discussion at https://wildfly.zulipchat.com/#narrow/stream/174184-wildfly-developers/topic/MP.20Config.20from.20jaxrs.20layer

The tl;dr; of this is if you provision the 'jaxrs' or 'jaxrs-server' layers using the 'wildfly' feature pack you get the following items, while if you use the 'wildfly-ee' feature pack you don't:

1) The 'org.jboss.resteasy.resteasy-client-microprofile' module and the jars included therein.
2) The inclusion of the MP Config extension and subsystem in your standalone.xml, plus inclusion of the modules/artifacts needed to support it.

Neither of these fit the intended definition of those layers, which are about server-side Jakarta RESTFul Web Services support. Using MP RC as a client running inside the server is the purpose of the 'microprofile-rest-client' layer. The fact that MP Config also gets brought in is a side effect of the dependency on 'microprofile-rest-client'.

We will fix this in the 'jaxrs' layer. *_Changes to the 'jaxrs-server' layer, if any, will be handled via a separate JIRA._*

The problem noted above isn't good for a few reasons:

A) Different layer definitions between wildfly-ee and wildfly aren't great, just from a conceptual cleanness and understandability POV. They may exist in other cases (e.g. cloud-server), but when they do the difference should be clearly intentional, which was not the case here.

B) The 'jaxrs' and 'jaxrs-server' layers were not intended to include MP Config, and having it there does not fit with their purpose.

C) Having extraneous things in a layer makes it difficult properly use that layer to handle other use cases; e.g. the 'jaxrs' layer is a key part of the planned core-profile-server layer but having MP Config in it interferes with that use.

Proposed fix is to remove the override of the 'jaxrs' layer in the 'wildfly' feature pack, thus eliminating the tie to MP specs, and allowing jaxrs to be used as part of a core-profile-server layer.  At the same time an optional dependency on the microprofile-rest-client layer will be added to an override of the jaxrs-server layer in the 'wildfly' feature pack.  _(Removing that optional jaxrs-server dependency would be handled via *separate JIRA* if that's what we choose to do.)_",2023/02/02 8:25 PM
WFLY-17581,"We are encountering frequent failures of some Rest Client tests in our environment . E.g.
{code:java}
 org.eclipse.microprofile.rest.client.tck.timeout.TimeoutTest.testConnectTimeout
 org.eclipse.microprofile.rest.client.tck.timeout.TimeoutViaMPConfigWithConfigKeyTest.testReadTimeout
{code}
{code:java}
Expected exception of type class jakarta.ws.rs.ProcessingException but got org.testng.TestException: 
Expected exception of type class jakarta.ws.rs.ProcessingException but got java.lang.AssertionError: Elapsed time expected under 55000ms, but was 64697ms. expected [true] but found [false] 
{code}
StackTrace is e.g.
{code:java}
Caused by: java.lang.AssertionError: Elapsed time expected under 55000ms, but was 64697ms. expected [true] but found [false]
	at deployment.TimeoutTest.war//org.testng.Assert.fail(Assert.java:99)
	at deployment.TimeoutTest.war//org.testng.Assert.failNotEquals(Assert.java:1037)
	at deployment.TimeoutTest.war//org.testng.Assert.assertTrue(Assert.java:45)
	at deployment.TimeoutTest.war//org.eclipse.microprofile.rest.client.tck.timeout.TimeoutTest.checkTimeElapsed(TimeoutTest.java:67)
	at deployment.TimeoutTest.war//org.eclipse.microprofile.rest.client.tck.timeout.TimeoutTestBase.testConnectTimeout(TimeoutTestBase.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
{code}",2023/01/31 3:17 PM
WFLY-17699,"The following tests started to fail since IBM JDK (IBM Semeru Runtime Certified Edition 11.0.15.0):
{noformat}
[ERROR] Failures: 
[ERROR]   TLSSyslogAuditLogTestCase>AbstractSyslogAuditLogTestCase.testFailedAuthEmptyPassword:105 Failed authentication with empty password was not logged
[ERROR]   TLSSyslogAuditLogTestCase>AbstractSyslogAuditLogTestCase.testFailedAuthWrongPassword:90 Failed authentication with wrong password was not logged
[ERROR]   TLSSyslogAuditLogTestCase>AbstractSyslogAuditLogTestCase.testFailedAuthWrongUser:75 Failed authentication with wrong user was not logged
[ERROR]   TLSSyslogAuditLogTestCase>AbstractSyslogAuditLogTestCase.testFailedPermissionCheck:121 Failed permission check was not logged
[ERROR]   TLSSyslogAuditLogTestCase>AbstractSyslogAuditLogTestCase.testSuccessfulAuthAndPermissionCheck:59 Successful permission check was not logged
[ERROR]   SpnegoMechTestCase.testUnauthorized:106->AbstractMechTestBase.testUnauthorized:88 Unexpected status code in HTTP response. expected:<401> but was:<500>
[ERROR] Errors: 
[ERROR]   SpnegoMechTestCase.testSuccess:145  Login No LoginModule found for com.ibm.se...
[ERROR]   UndertowSslSecurityDomainTestCase.testForbidden:159->assertAccessForbidden:209 IllegalState
[ERROR]   UndertowSslSecurityDomainTestCase.testProtectedAccess:148->assertProtectedAccess:201 IllegalState
[ERROR]   UndertowSslSecurityDomainTestCase.testUnprotectedAccess:137->assertUnprotectedAccess:193 IllegalState
[ERROR]   UndertowTwoWaySslNeedClientAuthTestCase.testClientConfigProviderSSLContextForCorrectHostWillWork:286->lambda$testClientConfigProviderSSLContextForCorrectHostWillWork$17:289  Processing
[ERROR]   UndertowTwoWaySslNeedClientAuthTestCase.testClientConfigProviderSSLContextIgnoredIfDifferentIsSet:217->lambda$testClientConfigProviderSSLContextIgnoredIfDifferentIsSet$8:221  Processing
[ERROR]   UndertowTwoWaySslNeedClientAuthTestCase.testClientConfigProviderSSLContextIsSuccessfulWhenBasicSetOnRESTEasy:240->lambda$testClientConfigProviderSSLContextIsSuccessfulWhenBasicSetOnRESTEasy$11:245  Processing
[ERROR]   UndertowTwoWaySslNeedClientAuthTestCase.testResteasyElytronClientTrustedServer:160->lambda$testResteasyElytronClientTrustedServer$2:163  Processing
[ERROR]   UndertowTwoWaySslNeedClientAuthTestCase.testSendingTrustedClientCertificate:128->assertConnectionToServer:298 IllegalState
[ERROR]   UndertowTwoWaySslTestCase.testSendingNoClientCertificate:123->assertConnectionToServer:131 IllegalState
[ERROR]   UndertowTwoWaySslTestCase.testSendingNonTrustedClientCertificate:116->assertConnectionToServer:131 IllegalState
[ERROR]   UndertowTwoWaySslTestCase.testSendingTrustedClientCertificate:108->assertConnectionToServer:131 IllegalState
[ERROR]   ListenerTestCase.testHttpsConnector:226->addListener:320->addListener:331->AbstractMgmtTestBase.executeOperation:86->AbstractMgmtTestBase.executeOperation:74  MgmtOperation
[ERROR]   ListenerTestCase.testProxyProtocolOverHTTPS:307->addListener:331->AbstractMgmtTestBase.executeOperation:86->AbstractMgmtTestBase.executeOperation:74  MgmtOperation
{noformat}



This happens because IBM JDK can't be properly identifies since 11.0.15, similarly to WFCORE-5947
",2023/03/08 7:31 AM
WFLY-17280,e.g. they are missing {{RED}} protocols.,2022/11/08 11:01 PM
WFLY-16484,"This is a follow up to WFCORE-5936. Right now the {{LdapRealmTestCase}} just tests default {{referral-mode}} {{ignore}} in the {{dir-context}}. The idea is expanding the test (probably creating two different classes) for {{ignore}} and {{follow}} modes.

In my initial tests the apache directory server does not handle referrals OK in version {{2.0.0-M24}} used currently inside the tests. So probably this will also need an upgrade of apache directory dependencies to last version {{2.0.0.AM26}}. It needs upgrade for the wildfly-core dependency to integrate fix for WFCORE-5936.",2022/06/14 12:41 PM
WFLY-17411,"The ModClusterResource is a dynamic runtime resource that synthesizes child resource by introspecting the ModCluster service.  However, the mechanism by which it achieves this relies on deprecated MSC methods that are plagued with race conditions.",2022/12/14 6:43 PM
WFLY-17698,"MicroProfileConfigConvertersTestCase and ConfigSourceFromClassTestCase from last main branch fails in Windows platform.

There is a [CI job|https://ci.wildfly.org/buildConfiguration/WF_PullRequest_WindowsJdk11/353320?buildTab=overview&hideProblemsFromDependencies=false&expandBuildTestsSection=true&hideTestsFromDependencies=false&expandBuildChangesSection=true discovering this error.

There are 2 executions for MicroProfileConfigConvertersTestCase, the first round of execution passed, but leaving the custom test module file not deleted, and the 2nd execution fails to export the module resource archive.",2023/03/08 4:14 AM
WFLY-17584,"{code}
[ERROR] testDifferentTx(org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptorTestCase)  Time elapsed: 1.143 s  <<< ERROR!
java.lang.NullPointerException
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:79)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptorTestCase.testDifferentTx(StatefulSessionSynchronizationInterceptorTestCase.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
{code}

Need to adjust the test to work the recent ejb stateful caching introduced in https://github.com/wildfly/wildfly/commit/437515fed2ffa1c6f19b7fdd9b847e7974cc9e4d",2023/01/31 11:18 PM
WFLY-17541,"[EESecurityAnnotationProcessor|https://github.com/wildfly/wildfly/blob/main/ee-security/src/main/java/org/wildfly/extension/eesecurity/EESecurityAnnotationProcessor.java] does not enable the ee-security subsystem if a Jakarta Security interface is being injected. This can cause issues when a full implementation is not used (ex. {{{}jakarta.security.enterprise.SecurityContext{}}}).

Currently, the subsystem can be activate when Jakarta Security annotations are used, or if interfaces are implemented. The subsystem should also be enabled if one of those interfaces are injected.",2023/01/19 5:15 PM
WFLY-17449,"[Dependency Tree Reporter check|https://github.com/wildfly/wildfly/actions/workflows/dep-diff-workflow_run.yml] fails with the following error, after upgrading github actions/github-script to v6.3.3:
{code}
Unhandled error: TypeError: Cannot read properties of undefined (reading 'listWorkflowRunArtifacts')

    at callAsyncFunction (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:13357:12)
    at main (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:13452:26)
    at Module.858 (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:13429:1)
    at __webpack_require__ (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:24:31)
    at startup (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:43:19)
    at /home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:49:18
    at Object.<anonymous> (/home/runner/work/_actions/actions/github-script/v6.3.3/dist/index.js:52:10)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)

{code}

Due to a breaking change in actions/github-script v5, the method name should now be {{github.rest.actions.listWorkflowRunArtifacts}} instead of 
{{github.actions.listWorkflowRunArtifacts}}, and

{{github.rest.actions.downloadArtifact}} instead of
{{github.actions.downloadArtifact}}

See https://github.com/actions/github-script#breaking-changes-in-v5",2022/12/20 10:52 PM
WFLY-17470,"For a couple of versions of Wildfly we have been using javax.mail together with the Default Mail Provider that gets shipped with WF without any issues.

Also, with the release of WF 27.0.0.Final, we used jakarta.mail without any issues.

However, when start up WF 27.0.1.Final, we eventually get the following exception:
{code:java}
org.jboss.msc.service.StartException in service jboss.deployment.unit.""Huge.war"".WeldStartService: Failed to start service
  at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)
  at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
  at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: java.lang.IllegalStateException: Not provider of jakarta.mail.util.StreamProvider was found
  at jakarta.mail.api@2.1.1.jbossorg-1//jakarta.mail.util.FactoryFinder.find(FactoryFinder.java:64)
  at jakarta.mail.api@2.1.1.jbossorg-1//jakarta.mail.util.StreamProvider.provider(StreamProvider.java:186)
  at jakarta.mail.api@2.1.1.jbossorg-1//jakarta.mail.Session.<init>(Session.java:254)
  at jakarta.mail.api@2.1.1.jbossorg-1//jakarta.mail.Session.getInstance(Session.java:308)
  at org.jboss.as.mail@27.0.1.Final//org.jboss.as.mail.extension.SessionProviderFactory$ManagedSession.getSession(SessionProviderFactory.java:171)
  at org.jboss.as.mail@27.0.1.Final//org.jboss.as.mail.extension.MailSessionService.getValue(MailSessionService.java:73)
  at org.jboss.as.mail@27.0.1.Final//org.jboss.as.mail.extension.MailSessionManagedReferenceFactory.getReference(MailSessionManagedReferenceFactory.java:56)
  at org.jboss.as.mail@27.0.1.Final//org.jboss.as.mail.extension.MailSessionManagedReferenceFactory.getInstanceClassName(MailSessionManagedReferenceFactory.java:50)
  at org.jboss.as.weld.common@27.0.1.Final//org.jboss.as.weld.services.bootstrap.AbstractResourceInjectionServices.validateResourceInjectionPointType(AbstractResourceInjectionServices.java:92)
  at org.jboss.as.weld@27.0.1.Final//org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.registerResourceInjectionPoint(WeldResourceInjectionServices.java:182)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionFactory$ResourceResourceInjectionProcessor.getResourceReferenceFactory(ResourceInjectionFactory.java:210)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionFactory$ResourceResourceInjectionProcessor.getResourceReferenceFactory(ResourceInjectionFactory.java:203)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionProcessor.createFieldResourceInjection(ResourceInjectionProcessor.java:104)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionProcessor.createResourceInjections(ResourceInjectionProcessor.java:141)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionProcessor.createResourceInjections(ResourceInjectionProcessor.java:94)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionFactory.discoverType(ResourceInjectionFactory.java:272)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.ResourceInjectionFactory.getResourceInjections(ResourceInjectionFactory.java:81)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.ResourceInjector.<init>(ResourceInjector.java:59)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.ResourceInjector.of(ResourceInjector.java:48)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.BeanInjectionTarget.<init>(BeanInjectionTarget.java:63)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.injection.producer.BeanInjectionTarget.createDefault(BeanInjectionTarget.java:47)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.InjectionTargetFactoryImpl.chooseInjectionTarget(InjectionTargetFactoryImpl.java:139)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:88)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ManagedBean.<init>(ManagedBean.java:102)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.ManagedBean.of(ManagedBean.java:82)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bootstrap.AbstractBeanDeployer.createManagedBean(AbstractBeanDeployer.java:275)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bootstrap.BeanDeployer.createClassBean(BeanDeployer.java:278)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bootstrap.ConcurrentBeanDeployer$2.doWork(ConcurrentBeanDeployer.java:68)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bootstrap.ConcurrentBeanDeployer$2.doWork(ConcurrentBeanDeployer.java:65)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)
  at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)
  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
  at java.base/java.lang.Thread.run(Thread.java:1589)
  at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513) {code}
As a test, we forced WF 27.0.1 to use the module wildfly-mail-27.0.0.Final.jar (e.g. previous version of the mail subsystem), and then everything works 100%

I am not sure if there was any changes in the 27.0.1 version of mail subsystem that could have caused this issue.",2023/01/05 7:10 AM
WFLY-17655,"The {{TransactionsBootstrapDependencyInstaller}} installs a {{WeldTransactionServices}} and assumes the {{org.wildfly.transactions.global-default-local-provider}} service is available. In most cases this is okay. However, when you provision a full server, but have a configuration that does not include transactions an error can occur as the service is not installed. An example of the error message is:
{code}
2023-02-21 09:18:19,958 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war"" was rolled back with the following failure message:
{
    ""WFLYCTL0412: Required services that are not installed:"" => [
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService"",
        ""org.wildfly.transactions.global-default-local-provider""
    ],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".component.\""org.jboss.arquillian.protocol.servlet5.runner.ServletTestRunner\"".WeldInstantiator is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldStartService is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".beanmanager is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".component.\""org.jboss.weld.module.web.servlet.WeldInitialListener\"".WeldInstantiator is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".component.\""org.jboss.weld.module.web.servlet.WeldTerminalListener\"".WeldInstantiator is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldEndInitService is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldTransactionServices is missing [org.wildfly.transactions.global-default-local-provider]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".component.\""jakarta.servlet.jsp.jstl.tlv.PermittedTaglibsTLV\"".WeldInstantiator is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]"",
        ""jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".component.\""jakarta.servlet.jsp.jstl.tlv.ScriptFreeTLV\"".WeldInstantiator is missing [jboss.deployment.unit.\""BeanContainerTestf8158626565fbef3d9e4adc5286456a4a68449b.war\"".WeldBootstrapService]""
    ]
}
{code}

This was found when working on WFLY-17648 and the Jakarta EE Core TCK. The fix is to check if the {{org.wildfly.transactions.global-default-local-provider}} capability exists. If it does not, simply do not register the service.

It looks like the {{SecurityBootstrapDependencyInstaller}} should be safe. It checks if security domain is {{null}} and returns a default if it is. This should be safe to always install.",2023/02/21 9:00 PM
WFLY-17347,"These tests are racey and fail very frequently on CI.
e.g.
* https://ci.wildfly.org/buildConfiguration/WF_PullRequest_LinuxJdk11/339099?hideProblemsFromDependencies=false&hideTestsFromDependencies=false&expandBuildChangesSection=true&expandBuildTestsSection=true
* https://ci.wildfly.org/buildConfiguration/WildFlyCore_PullRequest_WildFlyCoreFullIntegrationLinuxJdk11/339152?hideProblemsFromDependencies=false&hideTestsFromDependencies=false&expandBuildChangesSection=true&expandBuildTestsSection=true
* https://ci.wildfly.org/buildConfiguration/WF_PullRequest_LinuxJdk11/339071?hideProblemsFromDependencies=false&hideTestsFromDependencies=false&expandBuildTestsSection=true&expandBuildChangesSection=true",2022/11/30 3:25 PM
WFLY-17330,Investigate removing the Hibernate ORM dependency on dom4j.,2022/11/28 3:31 PM
WFLY-16796,"Similar to WFLY-16567 ,org.jboss.as.ejb3.remote.LocalEjbReceiver, if a client puts data into the ContextData and then the EJB removes it, if the client checks the ContextData after the response has been received, it contains the object that was removed. The bug is, the client's view of ContextData contains the objects originally sent and then when the response is received, puts the response objects into the same ContextData, so it will update but not remove objects that should not be there.",2022/08/13 4:23 AM
WFLY-17685,"org.jboss.as.ee.concurrent.handle.OtherEESetupActionsContextHandleFactory.ClearedSetupContextHandle#setup

org.jboss.as.ee.concurrent.handle.ThreadContextProviderContextHandleFactory.ContextHandle#setup

contain method body like the following, which will cause infinite loop:

{code}
public String getFactoryName() {
    return getFactoryName();
}
{code}",2023/03/03 4:44 AM
WFLY-17567,"The logic within the servlet used by this test case calls tx.commit() within a finally block.  However, an exception is thrown from the try block, its exception handler triggers tx.setRollbackOnly(), which will cause the subsequent tx.commit() to fail, thus masking the original exception.",2023/01/26 2:35 AM
WFLY-17471,"If a write-attribute operation against any clustering subsystem is rolled back, the runtime handling applies the updated value to runtime instead of the original value.",2023/01/05 6:59 PM
WFLY-17672,"While the failure looks environmental and failed to establish topology (node 3 didn't join in time), we should just disable the multicast discovery on the proxy side as well. 

{noformat}
&amp#27;&amp#27;06:17:43,874 INFO  [io.undertow] (MSC service thread 1-6) UT005039: Undertow starts mod_cluster proxy advertisements on /224.0.1.105:23364 with frequency 10000 ms
&amp#27;&amp#27;06:17:43,905 ERROR [io.undertow] (default I/O-6) UT005041: Cannot send advertise message. Address: /224.0.1.105:23364: java.net.SocketException: Network is unreachable
{noformat}

Full log:
https://gist.github.com/rhusar/b31968617a82a82dec752411f4683fef
",2023/03/01 9:41 AM
WFLY-17641,"Currently, the UndertowDeploymentProcessor installs session management services for all deployment. We only actually need these when a ServletContainerService is attached, i.e. when the deployment is a WAR.",2023/02/15 9:24 PM
WFLY-17325,NoData,2022/11/25 11:47 AM
WFLY-17552,"In case there's a {{MDC}} set on the current thread that is initiating a batch job, on creation of a new {{Batch Thread}} this {{MDC}} is copied to the the new thread. This _context_ is not being cleared at any stage.

See the attached example project  [^jberet-mdc-reproducer.zip]. 

This is the output of the example project when limiting the {{batch}} thread-pool to _4_ and calling the {{REST}} service 6 times:

{noformat}
15:50:02,811 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {qwq=jberet-mdc-reproducer}
15:50:02,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:02,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:02,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:02,850 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) writeItems([A, B, C]); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:02,850 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:03,846 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {sbo=jberet-mdc-reproducer}
15:50:03,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:03,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:03,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:03,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) writeItems([A, B, C]); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:03,849 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:04,501 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {ynq=jberet-mdc-reproducer}
15:50:04,504 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 3) readItem(); Thread: Batch Thread - 3; MDC: {ynq=jberet-mdc-reproducer}
15:50:04,504 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 3) readItem(); Thread: Batch Thread - 3; MDC: {ynq=jberet-mdc-reproducer}
15:50:04,504 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 3) readItem(); Thread: Batch Thread - 3; MDC: {ynq=jberet-mdc-reproducer}
15:50:04,504 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 3) writeItems([A, B, C]); Thread: Batch Thread - 3; MDC: {ynq=jberet-mdc-reproducer}
15:50:04,504 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 3) readItem(); Thread: Batch Thread - 3; MDC: {ynq=jberet-mdc-reproducer}
15:50:05,150 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {zot=jberet-mdc-reproducer}
15:50:05,154 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 4) readItem(); Thread: Batch Thread - 4; MDC: {zot=jberet-mdc-reproducer}
15:50:05,154 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 4) readItem(); Thread: Batch Thread - 4; MDC: {zot=jberet-mdc-reproducer}
15:50:05,154 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 4) readItem(); Thread: Batch Thread - 4; MDC: {zot=jberet-mdc-reproducer}
15:50:05,154 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 4) writeItems([A, B, C]); Thread: Batch Thread - 4; MDC: {zot=jberet-mdc-reproducer}
15:50:05,154 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 4) readItem(); Thread: Batch Thread - 4; MDC: {zot=jberet-mdc-reproducer}
15:50:05,820 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {zhb=jberet-mdc-reproducer}
15:50:05,822 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:05,822 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:05,822 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:05,822 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) writeItems([A, B, C]); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:05,822 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 1) readItem(); Thread: Batch Thread - 1; MDC: {qwq=jberet-mdc-reproducer}
15:50:06,569 INFO  [org.jboss.gss.batch.Endpoint] (default task-1) Endpoint.start(); Thread: default task-1; MDC: {ajc=jberet-mdc-reproducer}
15:50:06,571 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:06,571 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:06,571 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:06,571 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) writeItems([A, B, C]); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
15:50:06,572 INFO  [org.jboss.gss.batch.DummyReader] (Batch Thread - 2) readItem(); Thread: Batch Thread - 2; MDC: {sbo=jberet-mdc-reproducer}
{noformat}
",2023/01/23 9:34 PM
WFLY-17385,"According to core specs of EJB 3.2, business methods should not be declared as final or static. A verification has been added in https://issues.redhat.com/browse/WFLY-7085, but it doesn't seem to check methods defined in superclasses. Such bean can then be deployed and call to this method results int WFLYEE0067: Method does not exist, which i believe is a bug and superclasses should also be checked for final and static methods during verification.",2022/12/12 11:05 AM
WFLY-17572,"The {{OidcWithDeploymentConfigTest}} seems to be failing more often on CI. I was able to reproduce this locally by looping the tests. It seems the issue might be that Keycloak is not fully started even though the Docker container is. [~fjuma1@redhat.com] found a setting {{waitingFor(Wait.forLogMessage("".\*Keycloak.\*started.\*"", 1))}}. Adding this and testing it locally seems to fix the problem.",2023/01/27 11:38 PM
WFLY-17557,"This is because we only add/set test module dependencies on {{org.infinispan}} while the {{org.infinispan.commons.util.concurrent.CompletableFutures}} is from the {{org.infinispan.commons}} module. 

Rather than change the dependencies we can just inline the null CF.

{noformat}
&amp#27;[0mnode-1 &amp#27;[31m16:41:23,732 ERROR [org.infinispan.topology.LocalTopologyManagerImpl] (non-blocking-thread--p5-t2) ISPN000452: Failed to update topology for cache default: java.util.concurrent.CompletionException: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.NoClassDefFoundError] while invoking method [public java.util.concurrent.CompletionStage org.jboss.as.test.clustering.TopologyChangeListenerBean.topologyChanged(org.infinispan.notifications.cachelistener.event.TopologyChangedEvent)] on listener instance: org.jboss.as.test.clustering.TopologyChangeListenerBean@47160064
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1113)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:143)
	at org.infinispan@14.0.6.Final//org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:185)
	at org.infinispan@14.0.6.Final//org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:114)
	at org.infinispan@14.0.6.Final//org.infinispan.topology.LocalTopologyManagerImpl.lambda$doHandleTopologyUpdate$12(LocalTopologyManagerImpl.java:414)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:143)
	at org.infinispan@14.0.6.Final//org.infinispan.topology.LocalTopologyManagerImpl.doHandleTopologyUpdate(LocalTopologyManagerImpl.java:403)
	at org.infinispan@14.0.6.Final//org.infinispan.topology.LocalTopologyManagerImpl.lambda$handleTopologyUpdate$8(LocalTopologyManagerImpl.java:327)
	at org.infinispan@14.0.6.Final//org.infinispan.topology.LocalTopologyManagerImpl.lambda$orderOnCache$24(LocalTopologyManagerImpl.java:770)
	at org.infinispan@14.0.6.Final//org.infinispan.util.concurrent.ActionSequencer.safeNonBlockingCall(ActionSequencer.java:58)
	at org.infinispan@14.0.6.Final//org.infinispan.util.concurrent.ActionSequencer$SequenceEntry.run(ActionSequencer.java:227)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.wildfly.clustering.context@28.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.context.ContextReferenceExecutor.execute(ContextReferenceExecutor.java:49)
	at org.wildfly.clustering.context@28.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.context.ContextualExecutor$1.run(ContextualExecutor.java:78)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.NoClassDefFoundError] while invoking method [public java.util.concurrent.CompletionStage org.jboss.as.test.clustering.TopologyChangeListenerBean.topologyChanged(org.infinispan.notifications.cachelistener.event.TopologyChangedEvent)] on listener instance: org.jboss.as.test.clustering.TopologyChangeListenerBean@47160064
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.lambda$invoke$1(AbstractListenerImpl.java:459)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:479)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1793)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1740)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1691)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.cachelistener.CacheNotifierImpl.doNotifyTopologyChanged(CacheNotifierImpl.java:867)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:849)
	at org.infinispan@14.0.6.Final//org.infinispan.statetransfer.StateTransferManagerImpl.lambda$doTopologyUpdate$1(StateTransferManagerImpl.java:186)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)
	... 18 more
Caused by: java.lang.NoClassDefFoundError: org/infinispan/commons/util/concurrent/CompletableFutures
	at deployment.SingletonPartitionTestCase.war//org.jboss.as.test.clustering.TopologyChangeListenerBean.topologyChanged(TopologyChangeListenerBean.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.infinispan@14.0.6.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.lambda$invoke$1(AbstractListenerImpl.java:453)
	... 26 more
Caused by: java.lang.ClassNotFoundException: org.infinispan.commons.util.concurrent.CompletableFutures from [Module ""deployment.SingletonPartitionTestCase.war"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 32 more
{noformat}",2023/01/24 11:59 AM
WFLY-17583,"In wildfly-ejb3 pom, the following dependency, {{groovy-all}}, brings in unwanted junit 5, which confuses surefire with the junit 4 in use. As a result, surefire is not able to find ejb3 unit tests to run.

{code:xml}
        <dependency>
            <groupId>org.apache.groovy</groupId>
            <artifactId>groovy-all</artifactId>
            <type>pom</type>
            <scope>test</scope>
         
        </dependency>
{code}

So we should exclude junit 5 from groovy-all:
{code:xml}
            <exclusions>
                <exclusion>
                    <groupId>org.apache.groovy</groupId>
                    <artifactId>groovy-test-junit5</artifactId>
                </exclusion>
            </exclusions>
{code}",2023/01/31 8:08 PM
WFLY-17452,"e.g. https://ci.wildfly.org/buildConfiguration/WF_PullRequest_LinuxJdk17/343521?hideProblemsFromDependencies=false&hideTestsFromDependencies=false&expandBuildChangesSection=true&expandBuildTestsSection=true

These subsystem tests operate in runtime mode, and attempt to read service values in an unsafe manner.",2022/12/22 3:35 AM
WFLY-17906,"There is a rogue dependency declared in
https://github.com/wildfly/wildfly/blob/5398b0c1eb6e9e3bd0c67540926e8ecb89f05060/galleon-pack/common/src/main/resources/license/licenses.xml#L201
and
https://github.com/wildfly/wildfly/blob/5398b0c1eb6e9e3bd0c67540926e8ecb89f05060/boms/common-expansion/pom.xml#L422

It seems no such artifact with given GAV exists: nothing found at https://search.maven.org/search?q=g:io.opentelemetry%20AND%20a:opentelemetry-sdk-extension, it also seems it wasn't there even for older versions so this was perhaps mistake/typo from the beginning.

Since it is only dependency management, it doesn't cause any problem in WildFly build itself, but is reported eg. in WildFly BOMs build.
```
[INFO] --- wildfly-bom-builder:2.0.5.Final:build-bom (build-bom) @ wildfly-ee-builder ---
[WARNING] The POM for io.opentelemetry:opentelemetry-sdk-extension:jar:1.20.0 is missing, no dependency information available
```",2023/04/17 10:02 PM
WFLY-17600,"Some attributes define allowed values without proper validation.

e.g SimpleAttributeDefinition SAMPLER in OpenTelemetrySubsystemDefinition.java",2023/02/03 9:06 AM
WFLY-17836,"The 6.0 version of the ee subsystem xsd contains the following:

{code:xml}
  <xs:complexType name=""moduleType"">
    <xs:attribute name=""name"" type=""xs:string"" use=""required""/>
    <xs:attribute name=""slot"" type=""xs:string""/>
    <xs:attribute name=""annotations"" type=""xs:boolean"" use=""optional"" default=""false""/>
    <xs:attribute name=""meta-inf"" type=""xs:boolean"" use=""optional"" default=""false""/>
    <xs:attribute name=""services"" type=""xs:boolean"" use=""optional"" default=""true""/>
  </xs:complexType>
{code}

This conflicts with the corresponding attribute definition, where meta-inf defaults to true, and services defaults to false.


",2023/04/03 11:34 PM
WFLY-17808,NoData,2023/03/29 2:28 PM
WFLY-17818,"If the security domain for an EJB has been explicitly configured as the empty string, the following exception occurs in {{EJBDefaultSecurityDomainProcessor}}

{code}
Caused by: java.lang.IllegalArgumentException: Empty name segment is not allowed for virtual-security-domain
        at org.jboss.msc@1.5.0.CR1//org.jboss.msc.service.ServiceName.of(ServiceName.java:91)
        at org.jboss.msc@1.5.0.CR1//org.jboss.msc.service.ServiceName.append(ServiceName.java:118)
        at org.jboss.as.controller@20.0.0.Beta8//org.jboss.as.controller.OperationContextImpl$CapabilityServiceSupportImpl.getCapabilityServiceName(OperationContextImpl.java:2601)
        at org.jboss.as.server@20.0.0.Beta8//org.jboss.as.server.security.VirtualDomainMarkerUtility.virtualDomainMetaDataName(VirtualDomainMarkerUtility.java:68)
        at org.jboss.as.ejb3@28.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.EJBDefaultSecurityDomainProcessor.isVirtualDomain(EJBDefaultSecurityDomainProcessor.java:286)
        at org.jboss.as.ejb3@28.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.EJBDefaultSecurityDomainProcessor.deploy(EJBDefaultSecurityDomainProcessor.java:134)
        at org.jboss.as.server@20.0.0.Beta8//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)
        ... 8 more
{code}

We need to update the logic to handle the case where the security domain is empty.",2023/03/30 3:19 PM
WFLY-17806,The module appears to be unused altogether.,2023/03/29 7:30 AM
WFLY-17629,"If the hibernate cache-container is configured with marshaller=PROTOSTREAM, the 2nd level cache appears to work correctly, but will fail to invalidate updated entries, resulting in stale reads. This is because the 2nd level cache configuration lacks marshallers/schemas for the keys used by hibernate.",2023/02/14 2:52 AM
WFLY-16158,Deployment submodel of those subsystems should be runtime,2022/03/16 4:29 PM
WFLY-16762,JMSQueueService uses the topic preix instead of the queue prefix when trying to get the name of a queue,2022/08/08 9:44 AM
WFLY-16694,"A recent commit ([1]) broke the big-bang build by moving the addition of the testsuite-feature-pack-preview module to a profile. The profile is on by default, but the move had the effect of changing at what point in the build it gets built (at least in some builds), to a point after the testsuite modules that use it.  Breaks things, e.g. [2].
[1] https://github.com/wildfly/wildfly/pull/15826/commits/2855116551abfcccc9085a1c26498397562d981c

[2] https://ci.wildfly.org/viewLog.html?tab=buildLog&logTab=tree&filter=debug&expand=all&buildId=316746&_focus=37452",2022/07/23 9:47 PM
WFLY-17112,"Classes coming from the module ""org.apache.activemq.artemis.addons"" is not exposed to the ""org.apache.activemq.artemis"" module thus we can't load those classes properly.",2022/10/10 7:41 AM
WFLY-15826,"A web application with a login-config element with only a realm element populated will not deploy. The OidcActivationProcessor fails with a NullPointerException.
{code:java}
LoginConfigMetaData loginConfig = webMetaData.getLoginConfig();
if (loginConfig != null && loginConfig.getAuthMethod().equals(OIDC_AUTH_METHOD)) {{code}",2021/12/12 12:26 PM
WFLY-16145,"RH-SSO use different default URL address then Keycloak. There is {{/auth}} at the end.

Check if is used {{Keycloak}} or {{RH-SSO}} and then return specific value {{getAuthServerUrl}} 

And waiting URL for container start up have also {{/auth}} at the end.",2022/03/14 4:43 PM
WFLY-17050,"# Module Setup
 ## Have WF Micrometer not depend on WF Metrics, but instead use capabilities to ensure it will fail if both are present
 ## Fail if MP Metrics is installed as we never intend for that combo to be valid
 ## Sort out what this means for the observability layer
 # Documentation
 ## Restore docs/src/main/asciidoc/_admin-guide/subsystem-configuration/Metrics.adoc
 ## Create a new file for this content, and then tweak as needed to deal with Micrometer only being in WFP
 # Clean up license headers
 # Use Phase ID allocated in wildfly-core
 # Address visibility in MicrometerCdiExtension.java",2022/09/27 8:14 PM
WFLY-16827,"We have realized that the current guide outline does not meet the intended goals and has gotten a bit out of date. Moreover, it's cumbersome to contribute to and fosters nonconceptual contributions. 

We (the clustering team) have come up with an outline that addresses the problems, so the first step here is to setup a structure and then push for content - Jiras to follow or we can evolve the existing tracker WFLY-1725. ",2022/08/16 1:57 PM
WFLY-16190,"The test added for WFLY-15075 fails on a bootable jar.


{code:java}
31m20:37:52,430 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 37) WFLYCTL0013: Operation (""add"") failed - address: ([
  (""subsystem"" => ""elytron""),
  (""filesystem-realm"" => ""fsRealmEncrypted"")
]) - failure description: ""WFLYELY00924: Unable to create immediately available credential store."" {code}",2022/03/23 1:40 AM
WFLY-15433,"Infinispan's 2LC implementation uses the ""hibernate.cache.infinispan.statistics"" property to toggle whether statistics are enabled on a given cache.  This effectively overrides the attribute of the cache configuration as defined in the Infinispan subsystem.",2021/10/07 6:51 PM
WFLY-16300,"[https://wildfly.zulipchat.com/#narrow/stream/174177-ci-servers/topic/StopFromDifferentNodeTestCase]



[https://ci.wildfly.org/project.html?projectId=WF&buildTypeId=&tab=testDetails&testNameId=-5520251748057437426&order=TEST_STATUS_DESC&branch_WF=__all_branches__&itemsCount=50]


{code:java}
java.lang.AssertionError: expected:<STARTED> but was:<null>at 

org.junit.Assert.fail(Assert.java:89)at org.junit.Assert.failNotEquals(Assert.java:835)at org.junit.Assert.assertEquals(Assert.java:120)at org.junit.Assert.assertEquals(Assert.java:146)at
 org.jboss.as.test.multinode.batch.stoprestart.StopFromDifferentNodeTestCase.testStartStopRestart(StopFromDifferentNodeTestCase.java:227)at org.jboss.as.test.multinode.batch.stoprestart.StopFromDifferentNodeTestCase.testStartStopRestart121(StopFromDifferentNodeTestCase.java:198) {code}",2022/04/25 12:20 AM
WFLY-16272,"Specifying {{use-java-context}} for a datasource as an expression (for example, {{{}use-java-context=""${env.db_java_context}""{}}}) results in an IllegalArgumentException for the following console commands:
 * test-connection-in-pool
 * flush-*
 * dump-queued-threads-in-pool

Here is a stack trace for {{{}test-connection-in-pool{}}}:


{code:java}
09:19:24,271 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""test-connection-in-pool"") failed - address: ([
  (""subsystem"" => ""datasources""),
  (""data-source"" => ""ExampleDS"")
]): java.lang.IllegalArgumentException
    at org.jboss.dmr@1.5.0.Final-redhat-1//org.jboss.dmr.ModelValue.asBoolean(ModelValue.java:69)
    at org.jboss.dmr@1.5.0.Final-redhat-1//org.jboss.dmr.ModelNode.asBoolean(ModelNode.java:324)
    at org.jboss.as.connector@7.2.0.GA-redhat-00005//org.jboss.as.connector.subsystems.datasources.Util.getJndiName(Util.java:49)
    at org.jboss.as.connector@7.2.0.GA-redhat-00005//org.jboss.as.connector.subsystems.common.pool.PoolOperations.execute(PoolOperations.java:72)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
    at org.wildfly.security.elytron-private@1.6.1.Final-redhat-00001//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:265)
    at org.wildfly.security.elytron-private@1.6.1.Final-redhat-00001//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:231)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
    at org.wildfly.security.elytron-private@1.6.1.Final-redhat-00001//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
    at org.wildfly.security.elytron-private@1.6.1.Final-redhat-00001//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
    at org.jboss.as.controller@6.0.11.Final-redhat-00001//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
    at org.jboss.as.protocol@6.0.11.Final-redhat-00001//org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
    at org.jboss.as.protocol@6.0.11.Final-redhat-00001//org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
    at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
    at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
    at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
    at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
    at java.base/java.lang.Thread.run(Thread.java:829)
    at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.JBossThread.run(JBossThread.java:485){code}
The problem seems to be in {{org.jboss.as.connector.subsystems.datasources.Util.getJndiName()}} which only treats the use-java-context attribute as a boolean.




{code:java}
public static String getJndiName(final OperationContext context, final ModelNode modelNode) throws OperationFailedException {
  final String rawJndiName = JNDI_NAME.resolveModelAttribute(context, modelNode).asString();
  return cleanJndiName(rawJndiName, modelNode.hasDefined(USE_JAVA_CONTEXT.getName()) && modelNode.get(USE_JAVA_CONTEXT.getName()).asBoolean());
}{code}


Switching the {{asBoolean()}} statement to something like {{modelNode.get(USE_JAVA_CONTEXT.getName()).asExpression().resolveBoolean()}} seems to fix the issue.

Regular datasource access from an application does not seem to be affected because {{getJndiName()}} is not called.

This seems to affect all versions of EAP 7.x.",2022/04/18 3:03 AM
WFLY-16382,"We describe in [our documentation|https://docs.wildfly.org/26.1/Admin_Guide.html#MicroProfile_JWT_SmallRye] which properties can be used to configure Microprofile JWT by using the Microprofile Subsystem.



However, those properties are not in sync with the current Microprofile JWT version shipped on WildFly. The source list of configuration properties is available here:

[https://github.com/smallrye/smallrye-jwt/blob/3.1.1/doc/modules/ROOT/pages/configuration.adoc#configuration]



We need to fix our documentation to, include that list or to make a reference to the source list.",2022/05/17 11:43 AM
WFLY-17166,"MicrometerCollectorService.install can return a Supplier< MicrometerCollector> that gets populated in MicrometerCollectorService.start and cleared in stop.

See this PR for more details: https://github.com/wildfly/wildfly/pull/16142#discussion_r997645133",2022/10/18 2:47 PM
WFLY-16630,"The following error trace is thrown on the mixed domain tests when the secondary hos starts the 'server-one':


{noformat}
[Server:server-one] 09:45:41,165 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-container-configuration.server.modules: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-container-configuration.server.modules: java.lang.IllegalArgumentException: org.jboss.modules.ModuleNotFoundException: org.wildfly.clustering.singleton.server
[Server:server-one] 	at org.wildfly.clustering.service@7.4.0.GA-redhat-00005//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
[Server:server-one] 	at org.jboss.msc@1.4.12.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
[Server:server-one] 	at org.jboss.msc@1.4.12.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
[Server:server-one] 	at org.jboss.msc@1.4.12.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
[Server:server-one] 	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[Server:server-one] 	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
[Server:server-one] 	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
[Server:server-one] 	at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
[Server:server-one] 	at java.base/java.lang.Thread.run(Thread.java:834)
[Server:server-one] Caused by: java.lang.IllegalArgumentException: org.jboss.modules.ModuleNotFoundException: org.wildfly.clustering.singleton.server
[Server:server-one] 	at org.jboss.as.clustering.common@7.4.0.GA-redhat-00005//org.jboss.as.clustering.controller.AbstractModulesServiceConfigurator.get(AbstractModulesServiceConfigurator.java:88)
[Server:server-one] 	at org.jboss.as.clustering.common@7.4.0.GA-redhat-00005//org.jboss.as.clustering.controller.AbstractModulesServiceConfigurator.get(AbstractModulesServiceConfigurator.java:52)
[Server:server-one] 	at org.wildfly.clustering.service@7.4.0.GA-redhat-00005//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
[Server:server-one] 	... 8 more
[Server:server-one] Caused by: org.jboss.modules.ModuleNotFoundException: org.wildfly.clustering.singleton.server
[Server:server-one] 	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:301)
[Server:server-one] 	at org.jboss.as.clustering.common@7.4.0.GA-redhat-00005//org.jboss.as.clustering.controller.AbstractModulesServiceConfigurator.get(AbstractModulesServiceConfigurator.java:86)
[Server:server-one] 	... 10 more
[Server:server-one]
{noformat}

The problem is the Domain controller configures the following module name on the infinispan subsystem:


{code:xml}
// Some comments here
<cache-container name=""server"" default-cache=""default""  marshaller=""PROTOSTREAM"" aliases=""singleton cluster"" modules=""org.wildfly.clustering.singleton.server"">
                    <transport lock-timeout=""60000""/>
                    <replicated-cache name=""default"">
                        <transaction mode=""BATCH""/>
                        <expiration interval=""0""/>
                    </replicated-cache>
                </cache-container>
{code}

""org.wildfly.clustering.singleton.server"" is an alias for ""org.wildfly.clustering.server"", however, the former module name is unknown on the legacy host.

This issue doesn't affect to the test execution, however, it could be problematic doing other tasks reducing the test stability.

",2022/07/13 8:52 AM
WFLY-16217,"The Jakarta Mail dependency processor is not importing the required configuration files that map the MIME types.

Those files are available from the Jakarta Angus implementation and must be available to the application via MailDependenciesProcessor.",2022/03/29 4:07 PM
WFLY-16625,"LayersTestCase currently turns off the jpa-distributed-provisioning-test and all-layers-jpa-distributed-provisioning-full executions in the ts.ee9 profile. I don't recall why that is but there doesn't seem to be a reason for it now.

Turning those on will allow us to have confidence the test will pass once the wildfly-ee and wildly FPs move to the jakarta.* namespace deps.",2022/07/10 2:06 AM
WFLY-16639,"When I restored the embedded broker to the WFP standalone configs, I mistakenly added the non-ha variant to standalone-full-ha.xml.",2022/07/14 4:47 PM
WFLY-15855,"/subsystem=microprofile-health-smallrye:read-attribute(name=empty-startup-checks-status)
{
  ""outcome"" => ""success"",
  ""result"" => ""UP""
}



but the default configuration as for liveness and readiness should be defined as:



/subsystem=microprofile-health-smallrye:read-attribute(name=empty-startup-checks-status)
{
  ""outcome"" => ""success"",
  ""result"" => expression ""${env.MP_HEALTH_EMPTY_STARTUP_CHECKS_STATUS:UP}""
}",2021/12/20 11:41 AM
WFLY-16044,NoData,2022/02/15 10:06 AM
WFLY-15843,"There are some leftovers from legacy security removal in {{testsuite/integration/basic}} test module related to login modules and security domains. We need to remove at least {{CustomTestLoginModule}} and {{NonValidatingLoginModule}} as those require deprecated classes unavailable in JDK 17.
",2021/12/16 10:48 AM
WFLY-17012,"After we upgrade Wildfly from 26.1.0 to 26.1.2, I found our cases not stable, sometimes the created timer will skipped and found below log:
{code:java}
01:24:42.976 DEBUG [org.jboss.as.ejb3.timer] (EJB default - 2) Timer is not active, skipping this scheduled execution at: Fri Sep 16 01:24:42 UTC 2022for [id=8c7ce6d9-351c-458e-8e49-ff938a5e8b96 timedObjectId=abcdefg auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@176cec24 previousRun=null initialExpiration=Fri Sep 16 01:24:42 UTC 2022 intervalDuration(in milli sec)=0 nextExpiration=Fri Sep 16 01:24:42 UTC 2022 timerState=ACTIVE info=abcdefg@2b937c98] {code}
And from the release notes I found maybe below changes impact this timer logic.

[https://github.com/wildfly/wildfly/pull/15463]

Please double check it, thanks.

!https://user-images.githubusercontent.com/8297191/190572626-f56b0d73-7f19-4fac-bf66-e878ed88692a.png|width=1280,height=418!",2022/09/16 1:57 PM
WFLY-16231,"Github dropped support of git:// protocol while cloning repositories. More info at [https://github.blog/changelog/2022-03-15-removed-unencrypted-git-protocol-and-certain-ssh-keys/]

Given that, there (at *wildfly* projects) are code snippets (where git:// is used) which should be updated:
 * ./docs/src/main/asciidoc/_hacking/github_setup.adoc:git remote add upstream git://github.com/wildfly/wildfly.git
./docs/src/main/asciidoc/_hacking/github_setup.adoc:From git://github.com/wildfly/wildfly
./docs/src/main/asciidoc/_high-availability/Clustering_and_Domain_Setup_Walkthrough.adoc:git clone git://github.com/liweinan/cluster-demo.git",2022/04/01 12:09 PM
WFLY-17103,"The JGroups subsystem <socket-protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/> ignores the port offset on the socket-binding, and therefore uses the wrong port.

",2022/10/06 5:50 PM
WFLY-16464,"When updated path for single sign-on the path in cookie is same as before even the path attribute show changed path. When reload/restart server the path in cookie is changed to new path. The problem is nothing indicate to reload/restart server as it does in other cases by changing ""process-state"" status. Only resource description of sso is mentioning the reload by ""restart-required"" => ""all-services"". So the server should be showing that it's need to be reloaded/restarted. Other sso attributes probably have same problem but not tested.

. ",2022/06/07 4:05 PM
WFLY-16352,"Spotted while fixing WFLY-16351. 

{noformat}
singleton/extension/src/main/resources/org/wildfly/extension/clustering/singleton/LocalDescriptions.properties:singleton.election-policy.simple.position=The position in the membership list from which the singleton master will be chosen
singleton/server/src/main/java/org/wildfly/clustering/singleton/server/SingletonLogger.java:    @Message(id = 6, value = ""Failed to reach quorum of %2$d for %1$s service. No singleton master will be elected."")
{noformat}

Context on our initiative: https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language",2022/05/05 11:58 AM
WFLY-16462,"In JDK 19 EA 22 new Virtual Threads feature have been introduced in JDK.
This new feature introduced another Thread.sleep() method with Duration parameter.
So there are two similar methods now:

    Thread.sleep(long)
    Thread.sleep(Duration)

Because Byteman script provided value represents integer, Byteman runtime
is unable to decide which one of these two methods to use.
To ensure proper method selection, we need to ensure btm Thread.sleep() method
value represents long and not int.
",2022/06/07 7:42 AM
WFLY-17150,Diff: https://github.com/wildfly/galleon-plugins/compare/6.1.0.Final...6.2.0.Final,2022/10/17 1:13 PM
WFLY-16372,Correcting typo in host.xml test configurations.,2022/05/11 2:46 PM
WFLY-16374,"Server default Realm configuration in {{standalone.xml}} and {{host.xml}} differs in {{host->profiles->http}} section.

In {{host.xml}} there is a {{<mechanism mechanism-name=""BASIC"">}} whereas in {{standalone.xml}} it is {{{}<mechanism mechanism-name=""DIGEST"">{}}}.",2022/05/12 1:23 PM
WFLY-16956,"The jboss-ejb-client-legacy dependency version has been relying on wildfly-ejb-client-legacy-bom - now a project with that dependency started to fail during compilation due to the change in pom.xml of above-mentioned BOM - as it's known the test dependencies are not transitive:

wildfly-ejb-client-legacy-bom-26.1.2.Final
{code:java}
<groupId>org.jboss</groupId>
<artifactId>jboss-ejb-client-legacy</artifactId>
<version>${version.org.jboss}</version>
{code}
wildfly-ejb-client-legacy-bom-27.0.0.Alpha4
{code:java}
<groupId>org.jboss</groupId>
<artifactId>jboss-ejb-client-legacy</artifactId>
<version>${version.org.jboss}</version>
<scope>test</scope>
{code}
Can we discuss the need for this change? The test scope forces to define jboss-ejb-client-legacy explicitly.",2022/09/07 1:45 PM
WFLY-17068,"One example of clustering test failure:

2022-10-03 07:57:30,321 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 86) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee: java.lang.UnsupportedClassVersionError: Failed to link o
<------>at org.wildfly.clustering.service@27.0.0.Final-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:66)
<------>at org.wildfly.clustering.service@27.0.0.Final-SNAPSHOT//org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
<------>at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
<------>at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
<------>at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
<------>at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
<------>at java.base/java.lang.Thread.run(Thread.java:1589)
<------>at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)
Caused by: java.lang.UnsupportedClassVersionError: Failed to link org/jgroups/util/jdkspecific/ThreadCreator (Module ""org.jgroups"" version 5.2.6.Final from local module loader @70cf32e3 (finder: local module finder @5a59ca5e (roots: /home/opalka/git/redhat/PUBLIC/wildfly/build/target/wildfly-27.0.0.Final-SNAPSHOT/mod
<------>at org.jgroups@5.2.6.Final//org.jgroups.util.ThreadPool.init(ThreadPool.java:150)
<------>at org.jgroups@5.2.6.Final//org.jgroups.stack.ProtocolStack.lambda$initComponents$7(ProtocolStack.java:858)
<------>at org.jgroups@5.2.6.Final//org.jgroups.util.Util.forAllComponents(Util.java:3365)
<------>at org.jgroups@5.2.6.Final//org.jgroups.stack.ProtocolStack.initComponents(ProtocolStack.java:839)
<------>at org.jgroups@5.2.6.Final//org.jgroups.stack.ProtocolStack.initProtocolStack(ProtocolStack.java:795)
<------>at org.jgroups@5.2.6.Final//org.jgroups.stack.ProtocolStack.initProtocolStack(ProtocolStack.java:781)
<------>at org.jgroups@5.2.6.Final//org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:777)
<------>at org.jgroups@5.2.6.Final//org.jgroups.JChannel.<init>(JChannel.java:155)
<------>at org.jboss.as.clustering.jgroups@27.0.0.Final-SNAPSHOT//org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:115)
<------>at org.jboss.as.clustering.jgroups@27.0.0.Final-SNAPSHOT//org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:96)
<------>at org.jboss.as.clustering.jgroups@27.0.0.Final-SNAPSHOT//org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:58)
<------>at org.wildfly.clustering.service@27.0.0.Final-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
<------>... 7 more
",2022/10/03 6:10 AM
WFLY-16556,"On WildFly Preview we have integrated {{wildfly-webservices-server-integration-jakarta}}, however, we are still using the untransformed one on the {{xts}} module.

The {{wildfly-webservices-server-integration}} dependency must be excluded and {{xts}} should use the jakarta variant.",2022/06/29 12:57 PM
WFLY-16053,"Currently, the Jaeger image in Wildfly Testsuite uses Jaeger image from Dockerhub. This may result into failures in testing automation due to pull limit being exceeded. Using Quay.io is preferred way to host & use container images and won't result into pull limit being exceeded.",2022/02/17 7:50 AM
WFLY-16634,"My work on WFLY-16620 is revealing that the Hibernate Search tests currently in testsuite/preview/basic fail when the SecurityManager is enabled.  They have @BeforeClass methods that are meant to disable them in SM runs but that's not sufficient to prevent failures, as ARQ deploys deployments before executing @BeforeClass methods, and the deployments fail.

We haven't noticed this before because we haven't been running WildFly Preview tests with the SM enabled.",2022/07/13 6:55 PM
WFLY-16256,"h2. Overview

When analyzing a heap dump for a potential memory leak, we noticed a huge amount of contextual instances of a Tracer hanging on the creational context of the TracingCDIExtension from org.wildfly.microprofile.opentracing-smallrye.

We are using WildFly 24.0.0.Final.

Further tests showed that the instances are never cleared and thus eventually will consume all available heap.

Here is a Screenshot of the heap dump. Almost all of the 166779 elements are contextual instances containing the same JaegerTracer.

!image-2022-04-12-17-18-23-120.png!


h2. What we found out so far

During more detailed analysis we found that the leak occurs in the WildFlyClientTracingRegistrarProvider, and is kind of similar to the leak that was reported here https://issues.redhat.com/browse/WFLY-14094

The new instance is created whenever a ClientBuilder is configured with tracing via the ClientTracingRegistrar, and never deleted.

The reason for that seems to be that the instance is created via CDI.current().select(Tracer.class).get(), which creates a new dependent instance because the JaegerTracer does not have a scope.
The bean to which the instance added in the CreationalContext is the TracingCDIExtension, since it is registered as Bean with the type Tracer on the AfterBeanDiscovery event. As CDI Extension, it is kind of ApplicationScoped, meaning that it will never be destroyed during the execution of the application. Therefore the instances will never vanish either.

Since the Tracer instance is not accessible in the ClientTracingFeature (where it's used later on) there is nothing we can do to fix this problem on our side. If you have any suggestions we are glad to hear them.",2022/04/12 3:14 PM
WFLY-15830,We opened the main branch to WF27 development and there were some new extensions on WF26. We need to adjust HostExcludesTestCase for the incoming release.,2021/12/13 11:14 AM
WFLY-16937,Now that CDI is required for the Jakarta Faces API we should be able to remove the {{WildFlyConversationAwareViewHandler}}. In the {{faces-config.xml}} we can simply replace the default view-handler with {{org.jboss.weld.module.jsf.ConversationAwareViewHandler}}.,2022/09/02 7:34 PM
WFLY-16607,"{code:java}
 Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component
at org.jboss.as.ee@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:96)
at org.jboss.as.server@19.0.0.Beta13//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)
... 8 more
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0275: Could not resolve corresponding ejbCreate or @Init method for home interface method
at org.jboss.as.ejb3@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.SessionBeanHomeProcessor.resolveStatefulInitMethod(SessionBeanHomeProcessor.java:193)
at org.jboss.as.ejb3@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.SessionBeanHomeProcessor.resolveInitMethod(SessionBeanHomeProcessor.java:159)
at org.jboss.as.ejb3@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.SessionBeanHomeProcessor$1.configure(SessionBeanHomeProcessor.java:104)
at org.jboss.as.ee@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:109)
at org.jboss.as.ee@27.0.0.Alpha2-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:82)
... 9 more{code}
",2022/07/08 8:32 PM
WFLY-16290,"When setting the 'database' to db2 or oracle
{code:java}
       <timer-service thread-pool-name=""default"" default-data-store=""store"">
        <data-stores>
          <database-data-store name=""store"" database=""oracle"" datasource-jndi-name=""java:jboss/datasources/ExampleDS"" partition=""ejb_timer_part"" refresh-interval=""30000""/>
        </data-stores>
      </timer-service> {code}
A null pointer exception occurs:
{code:java}
10:55:20,905 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service org.wildfly.ejb3.timer-service.timer-persistence-service.store: org.jboss.msc.service.StartException in service org.wildfly.ejb3.timer-service.timer-persistence-service.store: Failed to start service
at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)
at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)
at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.NullPointerException
at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.adjustCreateAutoTimerStatement(DatabaseTimerPersistence.java:323)
at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.identifyDialect(DatabaseTimerPersistence.java:311)
at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.investigateDialect(DatabaseTimerPersistence.java:280)
at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.start(DatabaseTimerPersistence.java:187)
at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)
at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)
... 6 more {code}",2022/04/21 4:16 PM
WFLY-16960,Some sample cli commands in WildFly docs use single quote ' around attribute values. This results in the single quote as being part of the attribute value. It should be either removed or changed to double quote.,2022/09/07 3:52 PM
WFLY-16207,"Because Infinispan marshallers are scoped to the embedded/remote cache container, an injected cache cannot use deployment classes as keys or values as the container marshaller will not know how to marshal these classes.

To fix this, Cache/RemoteCache that WF exposes to applications be a decorator that internally maps keys and values using marshalled values using a marshaller created from the TCCL.",2022/03/25 5:53 PM
WFLY-16468,"The {{microprofile-opentracing}} layer adds no value to the {{opentracing}} layer, so it should be cleaned up. We either need to add an alias for it or adjust all references to it to point to opentracing. See this PR for more discussion: [https://github.com/wildfly/wildfly/pull/15609]",2022/06/08 11:14 AM
WFLY-16921,"When using a feature pack generated on Linux, to provision Wildfly on Windows machine, the docs/licenses/licenses.html and docs/licenses/full-feature-pack-licenses.html end up using CRLF line endings instead of LF.",2022/08/30 10:34 AM
WFLY-16666,"WildFly currently uses the component class as the superclass for local home interface proxy. This causes the component class to be loaded by jboss-invocation too early. When the component class has static dependency on other external resources that is not present so early, the class loading will fail.",2022/07/21 12:08 AM
WFLY-17206,"The WFLY-16423 fix doesn't seem to have fixed the problem on IPv4, only IPv6. As a result:

https://ci.wildfly.org/project.html?projectId=WF_MainNightlyJobs&buildTypeId=&tab=testDetails&testNameId=389462240473169692&order=TEST_STATUS_DESC&branch_WF_MainNightlyJobs=__all_branches__&itemsCount=50

I think the problem is the test case only changes network-check-ping6-command to a Windows compatible command, not the network-check-ping-command used with IPv4.

I may also update the network-check-ping6-command to use the default one in Artemis' NetworkHealthCheck class.",2022/10/27 9:52 PM
WFLY-17203,"This is a follow-up to WFLY-17165, which updated all of the passivation-related cache listeners to ensure that any subsequent Cache.evict(...) happen in a new thread.
Specifically, WFLY-17165 added generic non-blocking cache listeners that delegate to a blocking consumer.  However, some of these use cases end up using a superfluous thread.
e.g.
{{FineSessionAttributesFactory}} create this listener:

{code:java}
this.evictAttributesListenerRegistration = new PrePassivateListener<>(this.namesCache, this::cascadeEvictAttributes).register(SessionAttributeNamesKey.class);
{code}

which uses this method:

{code:java}
private void cascadeEvictAttributes(SessionAttributeNamesKey key, Map<String, UUID> value) {
    String sessionId = key.getId();
    for (UUID attributeId : value.values()) {
        this.executor.execute(() -> this.attributeCache.evict(new SessionAttributeKey(sessionId, attributeId)));
    }
}
{code}

Since this method already delegates its Cache.evict(...) calls to separate threads, the cascadeEvictAttributes(...) itself does not need to delegate to a separate thread.",2022/10/26 12:40 PM
WFLY-16775,"The name-preferences and socket-binding-preferences attributes are missing the AttributeAccess.Flag.RESTART_RESOURCE_SERVICES flag, required to auto-restart the service providing the ElectionPolicy of a SingletonPolicy.",2022/08/09 8:59 PM
WFLY-16313,"In response to https://github.com/eclipse/microprofile-open-api/issues/413, the MicroProfile OpenAPI spec team has clarified the criteria for when an OpenAPI endpoint should be registered, i.e. when one of the following criteria is met:

* The application uses Jakarta RESTful Web Services
* An OASModelReader has been configured with mp.openapi.model.reader
* An OASFilter has been configured with mp.openapi.filter
* One of the allowed static files is present, i.e. /META-INF/openapi.(json|yaml)

In order to pass the MicroProfile OpenAPI TCK, WF currently registers an OpenAPI endpoint for JAX-RS applications, or for any standalone WAR, since TCK includes test web applications that have no JAX-RS endpoints.  This is no sufficiently discerning.  In order to avoid registering this endpoint unnecessarily, we should refine our criteria to conform to this spec clarification.",2022/04/27 3:03 PM
WFLY-16151,"Same jars are included in different locations.

opentelemetry-semconv-1.5.0-alpha.jar: 
* $JBOSS_HOME/modules/system/layers/base/io/opentelemetry/api/main/opentelemetry-semconv-1.5.0-alpha.jar
* $JBOSS_HOME/modules/system/layers/base/io/opentelemetry/trace/main/opentelemetry-semconv-1.5.0-alpha.jar

jaeger-core-1.6.0.jar:
* $JBOSS_HOME/modules/system/layers/base/io/jaegertracing/jaeger/main/jaeger-core-1.6.0.jar
* $JBOSS_HOME/modules/system/layers/base/io/jaegertracing/main/jaeger-core-1.6.0.jar

jaeger-thrift-1.6.0.jar:
* $JBOSS_HOME/modules/system/layers/base/io/jaegertracing/jaeger/main/jaeger-thrift-1.6.0.jar
* $JBOSS_HOME/modules/system/layers/base/io/jaegertracing/main/jaeger-thrift-1.6.0.jar
",2022/03/15 3:43 PM
WFLY-16045,"After running the basic testsuite various configuration changes are not reverted, these don't seem to have an impact at the moment but are a risk to tests assuming the default configuration is the starting point.

{code}
<passivation-stores>
                <passivation-store name=""infinispan"" cache-container=""ejb"" max-size=""10000""/>
            </passivation-stores>
{code}

The max-size attribute gets dropped.

{code}
<in-vm-remote-interface-invocation pass-by-value=""true""/>
{code}

The in-vm-remote-interface-invocation is left behind.

{code}
<subsystem xmlns=""urn:jboss:domain:request-controller:1.0"" max-requests=""-1""/>
{code}

max-requests is added and left set to -1

{code}
        <subsystem xmlns=""urn:jboss:domain:undertow:13.0"" default-server=""default-server"" default-virtual-host=""default-host"" default-servlet-container=""default"" obfuscate-session-route=""false"" default-security-domain=""other"" statistics-enabled=""false"">
{code}

obfuscate-session-route gets set to false and statistics-enabled looses it's expression.

",2022/02/15 11:37 AM
WFLY-16729,"JBoss EAP does not show any statistics on a resource adapter with a missing JNDI context even if statistics-enabled = true.
For example

{noformat}
[standalone@pagz:9990 /] /subsystem=resource-adapters/resource-adapter=wmq-ra/connection-definitions=wmqCF:read-attribute(name=jndi-name)
{
    ""outcome"" => ""success"",
    ""result"" => ""/wmq/jms/cf/wmqCFXA""
}
{noformat}

Trying to show statistics fails

{noformat}
[standalone@pagz:9990 /] /subsystem=resource-adapters/resource-adapter=wmq-ra/connection-definitions=wmqCF/statistics=pool:read-resource(recursive=true,include-defaults=true,include-runtime=true)
Failed to get the list of the operation properties: ""WFLYCTL0030: No resource definition is registered for address [
    (""subsystem"" => ""resource-adapters""),
    (""resource-adapter"" => ""wmq-ra""),
    (""connection-definitions"" => ""wmqCF""),
    (""statistics"" => ""pool"")
]""
{noformat}

But statistics are enabled

{noformat}
[standalone@pagz:9990 /] /subsystem=resource-adapters/resource-adapter=wmq-ra:read-attribute(name=statistics-enabled)
{
    ""outcome"" => ""success"",
    ""result"" => true
}
{noformat}

There are no errors in the log file.
After changing connection JNDI name to **jndi-name=""java:/wmq/jms/cf/wmqCFXA""**
I can show statistics

{noformat}
[standalone@pagz:9990 /] /subsystem=resource-adapters/resource-adapter=wmq-ra/connection-definitions=wmqCF/statistics=pool:read-resource(recursive=true,include-defaults=true,include-runtime=true)
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""ActiveCount"" => 0,
        ""AvailableCount"" => 29,
        ""AverageBlockingTime"" => 0L,
        ""AverageCreationTime"" => 0L,
        ""AverageGetTime"" => 0L,
        ""AveragePoolTime"" => 0L,
        ""AverageUsageTime"" => 0L,
        ""BlockingFailureCount"" => 0,
        ""CreatedCount"" => 0,
        ""DestroyedCount"" => 0,
        ""IdleCount"" => -1,
        ""InUseCount"" => 1,
        ""MaxCreationTime"" => 0L,
        ""MaxGetTime"" => 0L,
        ""MaxPoolTime"" => 0L,
        ""MaxUsageTime"" => 0L,
        ""MaxUsedCount"" => 1,
        ""MaxWaitCount"" => 0,
        ""MaxWaitTime"" => 0L,
        ""TimedOut"" => 0,
        ""TotalBlockingTime"" => 0L,
        ""TotalCreationTime"" => 0L,
        ""TotalGetTime"" => 0L,
        ""TotalPoolTime"" => 0L,
        ""TotalUsageTime"" => 0L,
        ""WaitCount"" => 0,
        ""XACommitAverageTime"" => 0L,
        ""XACommitCount"" => 0L,
        ""XACommitMaxTime"" => 0L,
        ""XACommitTotalTime"" => 0L,
        ""XAEndAverageTime"" => 0L,
        ""XAEndCount"" => 0L,
        ""XAEndMaxTime"" => 0L,
        ""XAEndTotalTime"" => 0L,
        ""XAForgetAverageTime"" => 0L,
        ""XAForgetCount"" => 0L,
        ""XAForgetMaxTime"" => 0L,
        ""XAForgetTotalTime"" => 0L,
        ""XAPrepareAverageTime"" => 0L,
        ""XAPrepareCount"" => 0L,
        ""XAPrepareMaxTime"" => 0L,
        ""XAPrepareTotalTime"" => 0L,
        ""XARecoverAverageTime"" => 0L,
        ""XARecoverCount"" => 0L,
        ""XARecoverMaxTime"" => 0L,
        ""XARecoverTotalTime"" => 0L,
        ""XARollbackAverageTime"" => 0L,
        ""XARollbackCount"" => 0L,
        ""XARollbackMaxTime"" => 0L,
        ""XARollbackTotalTime"" => 0L,
        ""XAStartAverageTime"" => 0L,
        ""XAStartCount"" => 0L,
        ""XAStartMaxTime"" => 0L,
        ""XAStartTotalTime"" => 0L,
        ""statistics-enabled"" => true
    }
}
{noformat}
",2022/08/01 11:10 AM
WFLY-16470,"When migrating from opentracing to opentelemetry, we checked out the available API and found a problematic code snippet that causes a memory leak. (pretty much the same as in this issue: https://issues.redhat.com/browse/WFLY-16256)

We are using WildFly 26.1.1.Final.

This time around it's even worse because a new instance is created with every request done with a traced client, and there is no way to disable the tracing since the filter is added automatically.

Here is a Screenshot of a heap dump. Almost all of the 130 007 elements are contextual instances containing the same OpenTelemetrySdk.

!image-2022-06-08-17-18-54-361.png!",2022/06/08 3:19 PM
WFLY-15424,Investigate and fix ContextPropagationTestCase stability issues.,2021/10/06 8:57 PM
WFLY-15420,"The release module has a dependency on WildFly preview artifact, however, when we are not interested in build WildFly preview by using -Dskip.preview this dependency is not built making the release module fail, which inturns makes the project failing to build.",2021/10/06 8:09 AM
WFLY-17350,"The Session class provides access to the protocol providers that implement the Store, Transport, and related classes.

User applications can define these custom providers by specifying them at META-INF/javamail.providers



These custom providers are not being loaded by WildFly.",2022/12/01 1:50 PM
WFLY-17186,"A task submitted to a ScheduledExecutorService that fails with an exception, doesn't propagate said exception to the resulting Future, wrapped in an ExecutionException. In comparison, this works with WildFly-provided services if submit() is used (not schedule()) and also in built-in Executors.newScheduledThreadPool() regardless of whether submit() or schedule() is used.",2022/10/24 4:32 PM
WFLY-15981,"[~jperkins-rhn] reports seeing this:


{code:java}
16:08:25,110 ERROR [io.jaegertracing.internal.reporters.RemoteReporter] (MSC service thread 1-4) Remote reporter error: io.jaegertracing.internal.exceptions.SenderException: Failed to flush spans. at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.ThriftSender.flush(ThriftSender.java:116) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.ThriftSender.close(ThriftSender.java:126) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.UdpSender.close(UdpSender.java:93) at org.wildfly.extension.microprofile.opentracing-smallrye@26.0.1.Final//org.wildfly.extension.microprofile.opentracing.spi.sender.WildFlySender.close(WildFlySender.java:53) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.internal.reporters.RemoteReporter.close(RemoteReporter.java:105) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.internal.JaegerTracer.close(JaegerTracer.java:237) at org.wildfly.extension.microprofile.opentracing-smallrye@26.0.1.Final//org.wildfly.extension.microprofile.opentracing.TracingDeploymentProcessor.undeploy(TracingDeploymentProcessor.java:286) at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:251) at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:244) at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1795) at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1764) at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559) at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) at java.base/java.lang.Thread.run(Thread.java:829) Caused by: io.jaegertracing.internal.exceptions.SenderException: Could not send 6 spans at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.UdpSender.send(UdpSender.java:86) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.ThriftSender.flush(ThriftSender.java:114) ... 16 more Caused by: org.apache.thrift.transport.TTransportException: Cannot flush closed transport at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.reporters.protocols.ThriftUdpTransport.flush(ThriftUdpTransport.java:151) at org.apache.thrift@0.14.1//org.apache.thrift.TServiceClient.sendBase(TServiceClient.java:73) at org.apache.thrift@0.14.1//org.apache.thrift.TServiceClient.sendBaseOneway(TServiceClient.java:66) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.agent.thrift.Agent$Client.send_emitBatch(Agent.java:70) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.agent.thrift.Agent$Client.emitBatch(Agent.java:63) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.senders.UdpSender.send(UdpSender.java:84) ... 17 more Caused by: java.net.PortUnreachableException: ICMP Port Unreachable at java.base/java.net.PlainDatagramSocketImpl.send(Native Method) at java.base/java.net.DatagramSocket.send(DatagramSocket.java:695) at io.jaegertracing.jaeger@1.6.0//io.jaegertracing.thrift.internal.reporters.protocols.ThriftUdpTransport.flush(ThriftUdpTransport.java:149) ... 22 more
 {code}
The cause (and solution) is identical to WFLY-14625.",2022/01/28 3:57 PM
WFLY-16112,"The fix to WFLY-15921 introduced some change of behavior wrt suspend and restart:

So when there's an unfinished execution in the repository DB at startup and no new executions were started yet since the crash:
 - before the patch:{{getJobNames()}}returns empty, so no{{getRunningExecutions(jobName)}}calls
 - after the patch:{{getJobNames()}}returns a set of all defined job names, resulting in{{getRunningExecutions(jobName)}}calls

This issue is to address this change of behavior so the batch subssytem will behave the same as before fixing WFLY-15921 wrt server suspend and restart.",2022/03/03 10:43 PM
WFLY-15569,"The customer is having a cluster with two nodes in a domain setup. They have auto timer like below in {{@Singleton}}, {{@Startup}} EJBs:

{code:java}
@Singleton
@Startup
public class xxx {

  @Schedule(second= ""*/30"", minute = ""*"", hour = ""*"", dayOfWeek = ""*"", month = ""*"", year = ""*"", persistent = true)
  public void schedule() {
    ...
  }
{code}

In some cases (race condition?) the timer is created twice in the database, see attached files.

Is this a known issue?
",2021/10/25 10:12 PM
WFLY-16198,"Currently some codepoints use a native javax.xml.parsers.DocumentBuilderFactory or javax.xml.stream.XMLInputFactory. Restriction of XML External Entity Reference is lacking.

* org/jboss/as/jdr/util/XMLSanitizer

Fix:
Use o.w.c.xml.*Factories

Related to:

* [https://owasp.org/Top10/A05_2021-Security_Misconfiguration/]
* [https://docs.oracle.com/en/java/javase/13/security/java-api-xml-processing-jaxp-security-guide.html#GUID-3FB69003-1E4A-435C-B519-4B9D07630460]
",2022/03/24 12:29 PM
WFLY-15931,"As seen in https://ci.wildfly.org/viewLog.html?buildId=290388&buildTypeId=WF_PullRequest_LinuxJdk11
{noformat}
[0m&amp#27;[31m11:12:28,311 ERROR [org.infinispan.notifications.cachemanagerlistener.CacheManagerNotifierImpl] (ServerService Thread Pool -- 93) ISPN000405: Caught exception while invoking a cache manager listener!: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.util.concurrent.RejectedExecutionException] while invoking method [public java.util.concurrent.CompletionStage org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceConfigurator.cacheStarted(org.infinispan.notifications.cachemanagerlistener.event.CacheStartedEvent)] on listener instance: org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceConfigurator@762219db
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.lambda$invoke$1(AbstractListenerImpl.java:430)
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:450)
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.cachemanagerlistener.CacheManagerNotifierImpl.invokeListener(CacheManagerNotifierImpl.java:175)
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.cachemanagerlistener.CacheManagerNotifierImpl.invokeListeners(CacheManagerNotifierImpl.java:89)
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.cachemanagerlistener.CacheManagerNotifierImpl.notifyCacheStarted(CacheManagerNotifierImpl.java:137)
	at org.infinispan@13.0.5.Final//org.infinispan.factories.ComponentRegistry.postStart(ComponentRegistry.java:231)
	at org.infinispan@13.0.5.Final//org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:257)
	at org.infinispan@13.0.5.Final//org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:216)
	at org.infinispan@13.0.5.Final//org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1014)
	at org.infinispan@13.0.5.Final//org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:512)
	at org.infinispan@13.0.5.Final//org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:700)
	at org.infinispan@13.0.5.Final//org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:646)
	at org.infinispan@13.0.5.Final//org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:535)
	at org.infinispan@13.0.5.Final//org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:513)
	at org.jboss.as.clustering.infinispan@27.0.0.Beta1-SNAPSHOT//org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:85)
	at org.wildfly.clustering.infinispan.spi@27.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:77)
	at org.wildfly.clustering.infinispan.spi@27.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:55)
	at org.wildfly.clustering.service@27.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:63)
	at org.wildfly.clustering.service@27.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:829)
	at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@1ccabea7[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@3cb63f88[Wrapped task = org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceConfigurator$1@7e38d27f]] rejected from java.util.concurrent.ThreadPoolExecutor@23649b41[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1]
	at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2055)
	at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825)
	at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1355)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)
	at java.base/java.util.concurrent.Executors$DelegatedExecutorService.submit(Executors.java:714)
	at org.jboss.as.clustering.infinispan@27.0.0.Beta1-SNAPSHOT//org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceConfigurator.cacheStarted(CacheContainerServiceConfigurator.java:166)
	at jdk.internal.reflect.GeneratedMethodAccessor260.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.infinispan@13.0.5.Final//org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.lambda$invoke$1(AbstractListenerImpl.java:424)
	... 24 more
{noformat}",2022/01/15 7:40 PM
WFLY-15984,"[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   TimeoutBuilderIndependentOfMPConfigTest.testConnectTimeout  Test 
Expected ex...
[ERROR]   TimeoutTest.testConnectTimeout  Test 
Expected exception of type class javax....
[ERROR]   TimeoutViaMPConfigTest.testConnectTimeout  Test 
Expected exception of type c...
[ERROR]   TimeoutViaMPConfigTest.testReadTimeout  Test 
Expected exception of type clas...
[ERROR]   TimeoutViaMPConfigWithConfigKeyTest.testConnectTimeout  Test 
Expected except...
[ERROR]   TimeoutViaMPConfigWithConfigKeyTest.testReadTimeout  Test 
Expected exception...
[INFO] 
[ERROR] Tests run: 225, Failures: 6, Errors: 0, Skipped: 14",2022/01/31 12:22 PM
WFLY-15628,"The nightly SE 17 job against std WF fails

https://ci.wildfly.org/viewType.html?buildTypeId=WF_MainJdk17

{code}
[21:47:06][Step 3/4] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.8:run (ts.compat.copy-jars) on project wildfly-testsuite-compat: An Ant BuildException has occured: The following error occurred while executing this line:
[21:47:06][Step 3/4] [ERROR] /store/work/tc-work/b10fef355372d849/testsuite/compat/src/test/scripts/build-jars.xml:32: Use a resource collection to copy directories.
[21:47:06][Step 3/4] [ERROR] around Ant part ...<ant antfile=""src/test/scripts/build-jars.xml"">... @ 6:50 in /store/work/tc-work/b10fef355372d849/testsuite/compat/target/antrun/build-main.xml
[21:47:06][Step 3/4] [ERROR] -> [Help 1]
[21:47:06][Step 3/4] [ERROR] 
[21:47:06][Step 3/4] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[21:47:06][Step 3/4] [ERROR] Re-run Maven using the -X switch to enable full debug logging.
[21:47:06][Step 3/4] [ERROR] 
[21:47:06][Step 3/4] [ERROR] For more information about the errors and possible solutions, please read the following articles:
[21:47:06][Step 3/4] [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[21:47:06][Step 3/4] [ERROR] 
[21:47:06][Step 3/4] [ERROR] After correcting the problems, you can resume the build with the command
[21:47:06][Step 3/4] [ERROR]   mvn <args> -rf :wildfly-testsuite-compat
[21:47:06][Step 3/4] Process exited with code 1
{code}",2021/11/04 11:03 PM
WFLY-16005,NoData,2022/02/05 2:09 PM
WFLY-15954,"There are 2 EE TCK batch test failures that might have been caused by the fix to WFLY-15921.

com/ibm/jbatch/tck/tests/jslxml/JobOperatorTests.java#testJobOpgetJobInstanceCount_from_ejb 
com/ibm/jbatch/tck/tests/jslxml/JobOperatorTests.java#testJobOpgetJobInstanceCount_from_web



So we should apply the same idea to getJobInstances, getJobInstanceCount, getRunningExecutions methods as well, to include jobs that are in the deployment but have not been started.",2022/01/21 5:48 PM
WFLY-16028,"I am trying to update the mdb-delivery-group active value in the wildfly cli.

Reading with this command is working:
./subsystem=ejb3/mdb-delivery-group=<group>:read-attribute(name=active)
it returns:
{
    ""outcome"" => ""success"",
    ""result"" => true
}
When I try to write the attribute with this command:
./subsystem=ejb3/mdb-delivery-group=<group>:write-attribute(name=active,value=false)
it returns:
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalArgumentException: WFLYCTL0484: A
ttribute definition of attribute 'active' is null"",
    ""rolled-back"" => true
}
The wildfly server logs tells me the same:
12:44:02,437 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (""write-attribute"") failed - address: ([
        (""subsystem"" => ""ejb3""),
        (""mdb-delivery-group"" => ""<group>"")
    ]): java.lang.IllegalArgumentException: WFLYCTL0484: Attribute definition of attribute 'active' is null
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AbstractWriteAttributeHandler.getAttributeDefinition(AbstractWriteAttributeHandler.java:259)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AbstractWriteAttributeHandler.execute(AbstractWriteAttributeHandler.java:88)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.operations.global.WriteAttributeHandler.doExecuteInternal(WriteAttributeHandler.java:208)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.operations.global.WriteAttributeHandler.execute(WriteAttributeHandler.java:116)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1045)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:777)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:466)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1427)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:448)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.ModelControllerImpl.lambda$executeForResponse$0(ModelControllerImpl.java:259)
        at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:304)
        at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.ModelControllerImpl.executeForResponse(ModelControllerImpl.java:259)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.ModelControllerImpl.executeOperation(ModelControllerImpl.java:253)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:236)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:241)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:139)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:163)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:159)
        at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)
        at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
        at org.jboss.as.controller@17.0.3.Final//org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:159)
        at org.jboss.as.protocol@17.0.3.Final//org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
        at org.jboss.as.protocol@17.0.3.Final//org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at java.base/java.lang.Thread.run(Thread.java:834)
        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)
We recently upgraded our wildfly version from wildfly-21.0.2.Final to wildfly-25.0.1.Final. On version 21 it was working with those commands.

Can somebody help me out? Thanks",2022/02/10 3:37 AM
WFLY-15475,"Getting the below exception when a webservice is invoked from a web application deployed in Wildfly 25. Works well in wildfly 24 and prior versions.
{code}
Caused by: java.lang.IllegalStateException: WFLYWELD0056: Weld is not initialized yet
        at org.jboss.as.weld.WeldProvider.getCDI(WeldProvider.java:67)
        at javax.enterprise.inject.spi.CDI.lambda$getCDIProvider$0(CDI.java:87)
        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)
        at java.util.TreeMap$KeySpliterator.tryAdvance(TreeMap.java:2770)
        at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)
        at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
        at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)
        at javax.enterprise.inject.spi.CDI.getCDIProvider(CDI.java:88)
        at javax.enterprise.inject.spi.CDI.current(CDI.java:64)
        at org.wildfly.extension.opentelemetry.api.OpenTelemetryClientRequestFilter.filter(OpenTelemetryClientRequestFilter.java:34)
        at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:767)
        ... 131 more
{code}",2021/10/11 6:46 PM
WFLY-15361,"The basic behavior of the HostExcludesTestCase is to validate whether is possible to get the list of extensions of a legacy release by applying the host exclusions defined for the current release to the set of the current extensions.

However, this test is failing for the case when an extension has been removed. When an extension is removed on the current release, this extension is not passed to the legacy host, the legacy host must be configured accordingly to remove the uses of this extension.",2021/09/28 8:26 AM
WFLY-15573,"Affects SESSION granularity using REPEATABLE_READ transactional cache.

Coarse granularity distributed web session store attributes within a HashMap and rely on write locking of the session creation meta data entry to prevent concurrent modification.  However, this does not prevent state transfer from marshalling the session attributes entry.  To fix, we should require write locks on the session attributes entry as well.

{noformat}
2021-10-18 20:20:16,081 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (transport-thread--p6-t17) ISPN000073: Unexpected error while replicating: java.util.ConcurrentModificationException
    at java.util.HashMap$HashIterator.nextNode(HashMap.java:1445)
    at java.util.HashMap$EntryIterator.next(HashMap.java:1479)
    at java.util.HashMap$EntryIterator.next(HashMap.java:1477)
    at org.wildfly.clustering.marshalling.spi.util.MapExternalizer.writeMap(MapExternalizer.java:56)
    at org.wildfly.clustering.marshalling.spi.util.MapExternalizer.writeObject(MapExternalizer.java:51)
    at org.wildfly.clustering.marshalling.spi.util.MapExternalizer.writeObject(MapExternalizer.java:38)
    at org.wildfly.clustering.marshalling.spi.DefaultExternalizer.writeObject(DefaultExternalizer.java:179)
    at org.wildfly.clustering.marshalling.jboss.ExternalizerObjectTable$ExternalizerWriter.writeObject(ExternalizerObjectTable.java:126)
    at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:137)
    at org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)
    at org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)
    at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValue.getBytes(SimpleMarshalledValue.java:78)
    at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:51)
    at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:36)
    at org.wildfly.clustering.marshalling.infinispan.AdvancedExternalizerAdapter.writeObject(AdvancedExternalizerAdapter.java:51)
    at org.infinispan.marshall.core.ExternalExternalizers$ForeignAdvancedExternalizer.writeObject(ExternalExternalizers.java:78)
    at org.infinispan.marshall.core.GlobalMarshaller.writeExternal(GlobalMarshaller.java:652)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:406)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
    at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
    at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.writeObject(ImmortalCacheEntry.java:126)
    at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.writeObject(ImmortalCacheEntry.java:122)
    at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
    at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
    at org.infinispan.commons.marshall.MarshallUtil.marshallCollection(MarshallUtil.java:243)
    at org.infinispan.commons.marshall.MarshallUtil.marshallCollection(MarshallUtil.java:221)
    at org.infinispan.marshall.exts.CollectionExternalizer.writeObject(CollectionExternalizer.java:75)
    at org.infinispan.marshall.exts.CollectionExternalizer.writeObject(CollectionExternalizer.java:27)
    at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
    at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
    at org.infinispan.statetransfer.StateChunk$Externalizer.writeObject(StateChunk.java:80)
    at org.infinispan.statetransfer.StateChunk$Externalizer.writeObject(StateChunk.java:65)
    at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
    at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
    at org.infinispan.commons.marshall.MarshallUtil.marshallCollection(MarshallUtil.java:243)
    at org.infinispan.commons.marshall.MarshallUtil.marshallCollection(MarshallUtil.java:221)
    at org.infinispan.statetransfer.StateResponseCommand.writeTo(StateResponseCommand.java:131)
    at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
    at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:121)
    at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:117)
    at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:67)
    at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
    at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
    at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:183)
    at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:176)
    at org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:305)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1007)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:990)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:826)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.performSyncRemoteInvocation(JGroupsTransport.java:1120)
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:249)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotelyAsync(RpcManagerImpl.java:291)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:323)
    at org.infinispan.statetransfer.OutboundTransferTask.sendEntries(OutboundTransferTask.java:266)
    at org.infinispan.statetransfer.OutboundTransferTask.run(OutboundTransferTask.java:205)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
    at java.lang.Thread.run(Thread.java:748)
Caused by: an exception which occurred:
    in object java.util.HashMap@7f3d222
{noformat}",2021/10/26 2:01 PM
WFLY-15676,"The script is meant to take a config and make MP work on it. If wildfly-metrics or wildfly-health are not already present, the script fails, and so does the test. The script should be modified to add these dependencies if needed.",2021/11/18 4:33 PM
WFLY-15536,"The license files are used to overwrite the license information of the artifacts available as maven dependencies.

These configuration license files are using ${project.groupId} and other maven variables that in some cases are not being replaced by the current environment values. Consequently, the maven license plugin is unable to match the artifact with the configuration supplied on the license file.

I've found this issue with the wildfly-preview feature pack, however, other feature packs could be affected.",2021/10/19 3:59 PM
WFLY-15413,We have open main to WF26 and there were some new extensions on WF25. We need to adjustHostExcludesTestCase for the incoming releases,2021/10/05 10:53 AM
WFLY-15824,This dependency is not required for the TCK run because it's not transformed.,2021/12/10 2:59 PM
WFLY-15804,The {{resteasy-secure-random-max-use}} on the {{jaxrs}} subsystem sets the wrong value in the configuration.,2021/12/06 10:02 PM
WFLY-15752,"I've found the following problems generating the license files for the feature packs:
 * There are feature-packs which are using different executions to generate a license file for the same feature-pack. This is a problem because those executions are not using the same configuration license files. As an example check how galleon-pack is generating license files for MicroProfile and Elytron OIDC client ([https://github.com/wildfly/wildfly/blob/62eff7ac274a1999f26662c9f145a4fdd8c79e75/galleon-pack/galleon-feature-pack/pom.xml#L156-L181])
 * After executing this license plugin, we end up with two different files with different license configurations for the same set of artifacts. Notice that the generated files will contain an entry for each dependency found in the classpath, so the same GA will be found on each generated file but probably with a different configuration.
 * The above is also conceptually problematic because we could be expecting a generated license file with only all the MicroProfile artifacts or only with all the Elytron OIDC artifacts (although those modules are not feature-packs, it looks like that was the original intention), but at the end what we really get is a file with all the artifacts found in the maven classpath. The worse example can be found at the _target/wildfly-preview-26.0.0.Beta1-SNAPSHOT/docs/licenses/microprofile-feature-pack-licenses.html_file generated by the wildfly-preview FP",2021/11/25 1:26 PM
WFLY-15414,"The release module has a dependency on WildFly preview artifact, however, when we are not interested in build WildFly preview by using -Dskip.preview this dependency is not built making the release module fail, which inturns makes the project failing to build.",2021/10/05 11:12 AM
WFLY-15769,We should update both jboss marshalling externalizers and protostream marshallers.,2021/11/30 2:50 PM
WFLY-15597,"When trying to add a pooled CF with a discovery group like
{code:java}
/subsystem=messaging-activemq/discovery-group=dg-group1:add(jgroups-channel=ee, jgroups-cluster=artemis-cluster)
/subsystem=messaging-activemq/pooled-connection-factory=remote:add(transaction=xa, entries=[""java:/JmsRemoteXA""], discovery-group=dg-group1)
{code}
the operation fails with the following:
{code:java}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => {
        ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.messaging-activemq.command-dispatcher-factory.ee""],
        ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.messaging-activemq.jms.pooled-connection-factory.remote is missing [jboss.messaging-activemq.command-dispatcher-factory.ee]""]
    },
    ""rolled-back"" => true
}

{code}
",2021/11/01 1:43 PM
WFLY-15820,The {{wiremock-bootable.cli}} uses the incorrect property names. This causes a failure when running with {{-Dts.bootable}}. ,2021/12/09 4:39 PM
WFLY-15299,"During the works on EAP7-1666, there has been added a {{smallrye-reactive-messaging-kafka-api}} module into the WildFly server, see [this module.xml|https://github.com/wildfly/wildfly/blob/main/microprofile/galleon-common/src/main/resources/modules/system/layers/base/io/smallrye/reactive/messaging/connector/kafka/api/main/module.xml].

This module has been added with {{<property name=""jboss.api"" value=""private""/>}}. We shall review this since classes from this module shall be used by user in deployment. Weird is that I didn't notice any warning regarding the usage of a private API, that shall be generated based on this code in [ModuleLoadService.java|https://github.com/wildfly/wildfly-core/blob/main/server/src/main/java/org/jboss/as/server/moduleservice/ModuleLoadService.java#L102].",2021/09/16 6:18 AM
WFLY-15932,"RemoteLocalCallProfileTestCase is failing on various CI jobs when the security manager is enabled, and will always fail when run by itself with -Dtest=RemoteLocalCallProfileTestCase.

This is because https://github.com/wildfly/wildfly/commit/d3fc3a4 did not cover this test.

The test passes if another test using the same remote-outbound-connection runs first as that establishes an authenticated connection to the 'multinode-server' server. But on some CI jobs RemoteLocalCallProfileTestCase has begun running before others and then it fails as the missing FilePermission prevents establishing a connection to  'multinode-server'.

For more see https://wildfly.zulipchat.com/#narrow/stream/174184-wildfly-developers/topic/RemoteLocalCallProfileTestCase.20failures",2022/01/15 11:44 PM
WFLY-15342,"In cluster environment when the ejb timers based on database store happens if the refresh interval is not small enough this scenario could happen:

Refreshing interval time (R)

Node 1 : creates an ejb timer at time T with expire date E. 
Node 2 : tries to cancel an ejb timer within the interval [T, T+ R[

what happens is that any of the nodes could trigger at T + E the timer because the node 2 did not know the existance of the ejb timer node 1 created before the interval of refreshing.

This affects PAM product in cluster environment as we rely on ejb timers for timer features.

",2021/09/23 3:58 PM
WFLY-15332,"Open Telemetry is an extension distributed by the ee-galleon-pack, however, it is incorrectly defined as an extension only available via galleon-pack at the HostExcludeTest case.

That is giving us a false negative at the test suite and prevent having a correct host-exclude definition for a server built from the ee-galleon-pack.
",2021/09/22 4:59 PM
WFLY-15208,"Using equal with objects of types not matching will result in wrong comparision and always-false results. Same problem occurs if arrays are compared with equals method.

* [https://github.com/wildfly/wildfly/blob/24.0.1.Final/jaxrs/src/main/java/org/jboss/as/jaxrs/deployment/JaxrsIntegrationProcessor.java#L563]
* [https://github.com/wildfly/wildfly/blob/24.0.1.Final/ejb3/src/main/java/org/jboss/as/ejb3/util/EjbValidationsUtil.java#L168]

Fix: Use correct value or comparison method",2021/09/04 5:26 PM
WFLY-15197,"When running SharedStoreFailoverTestCase on JDK 17 it will goes into an infinite loop.
The issue is in elytron that is not enabled for manualmode integration testsuite module in standalone-full-ha.xml",2021/09/02 12:30 PM
WFLY-15250,"Two different PRs crossed paths regarding configuring WildFly Elytron for manual mode resulting in CI failures.

{code}
[17:08:55]W:     [Step 2/3] [ERROR] {^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""outcome"" => ""success"",^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""response-headers"" => {^M
[17:08:55]W:     [Step 2/3] [ERROR]         ""operation-requires-reload"" => true,^M
[17:08:55]W:     [Step 2/3] [ERROR]         ""process-state"" => ""reload-required""^M
[17:08:55]W:     [Step 2/3] [ERROR]     }^M
[17:08:55]W:     [Step 2/3] [ERROR] }^M
[17:08:55]W:     [Step 2/3] [ERROR] {^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""outcome"" => ""success"",^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""response-headers"" => {^M
[17:08:55]W:     [Step 2/3] [ERROR]         ""operation-requires-reload"" => true,^M
[17:08:55]W:     [Step 2/3] [ERROR]         ""process-state"" => ""reload-required""^M
[17:08:55]W:     [Step 2/3] [ERROR]     }^M
[17:08:55]W:     [Step 2/3] [ERROR] }^M
[17:08:55]W:     [Step 2/3] [ERROR] {^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""outcome"" => ""failed"",^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""failure-description"" => ""WFLYCTL0201: Unknown attribute 'security-realm'"",^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""rolled-back"" => true,^M
[17:08:55]W:     [Step 2/3] [ERROR]     ""response-headers"" => {""process-state"" => ""reload-required""}^M
[17:08:55]W:     [Step 2/3] [ERROR] }^M
[17:08:55]W:     [Step 2/3] [ERROR] -> [Help 1]^M
[17:08:55]W:     [Step 2/3] [ERROR] ^M
[17:08:55]W:     [Step 2/3] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.^M
[17:08:55]W:     [Step 2/3] [ERROR] Re-run Maven using the -X switch to enable full debug logging.^M
[17:08:55]W:     [Step 2/3] [ERROR] ^M
[17:08:55]W:     [Step 2/3] [ERROR] For more information about the errors and possible solutions, please read the following articles:^M
[17:08:55]W:     [Step 2/3] [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException^M
[17:08:55]W:     [Step 2/3] [ERROR] ^M
[17:08:55]W:     [Step 2/3] [ERROR] After correcting the problems, you can resume the build with the command^M
[17:08:55]W:     [Step 2/3] [ERROR]   mvn <args> -rf :wildfly-ts-integ-manualmode^M
{code}


https://github.com/wildfly/wildfly/pull/14601",2021/09/10 11:17 AM
WFLY-15355,"The maven resources plugin is declared twice for the same profile in {{wildfly-ts-integ-ws}}

This lead to the following warning:


{noformat}
$ mvn clean initialize
[INFO] Scanning for projects...
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.wildfly:wildfly-ts-integ-ws:jar:25.0.0.Final-SNAPSHOT
[WARNING] 'profiles.profile[layers.profile].plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declaration of plugin org.apache.maven.plugins:maven-resources-plugin @ line 288, column 29
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]
[INFO]{noformat}",2021/09/27 1:13 PM
WFLY-15351,"The following changes needs to be done in ee-feature-pack-common-licenses.xml:


 1) Correct licenses name so they match the expected license file as part of Wildfly:
 ""Apache-2.0"" needs to change to ""Apache License 2.0""
 ""3-Clause BSD License"" needs to change to ""BSD 3-Clause \""New\"" or \""Revised\"" License""



2) There were licenses missing for the artifacts:
 io.jaegertracing:jaeger-core, io.jaegertracing:jaeger-thrift and io.opentelemetry:opentelemetry-api



3) There is a typo in artifact io.opentelemetry:opentelemetry-otlp-trace, the artifact ID should be opentelemetry-exporter-otlp-trace

",2021/09/27 6:35 AM
WFLY-15376,"A dependency for jaeger-client is defined several places, but the artifact is never used so the dependency should be removed.",2021/09/29 5:55 PM
WFLY-15307,[https://github.com/wildfly/wildfly/blob/25.0.0.Beta1/appclient/src/main/java/org/jboss/as/appclient/subsystem/parsing/AppClientXml.java#L335] readServerElement_18 is new but not called.,2021/09/17 8:27 AM
WFLY-17466,"Fix anchors, links and source presentation.",2023/01/03 3:24 PM
WFLY-17407,My WFLY-17126 work did not update the name of the relevant servlet implementation that H2 provides. The org.h2.server.web.WebServlet class it mentions is a javax.* namespace Servlet impl; the one to use in a jakarta.* context like WildFly 27 is org.h2.server.web.JakartaWebServlet.,2022/12/13 5:50 PM
WFLY-17464,"The current position of the attribute ""sourceHighlighter"" is wrong https://github.com/wildfly/wildfly/blob/27.0.1.Final/pom.xml#L1938

It must be below ""attributes""

https://docs.asciidoctor.org/asciidoc/latest/verbatim/source-highlighter/#source-highlighter
https://docs.asciidoctor.org/maven-tools/latest/plugin/introduction/#usage",2023/01/03 7:40 AM
WFLY-17462,ResourceAdaptersSubsystemAdd.populateModel directly takes the REPORT_DIRECTORY_NAME value from the operation and stores it without validating.,2023/01/01 5:09 PM
WFLY-17829,"The link to the custom components section in [the Elytron docs, under Configure Authentication with Certificates|https://github.com/wildfly/wildfly/blob/main/docs/src/main/asciidoc/_elytron/Using_the_Elytron_Subsystem.adoc#configure-an-evidence-decoder], links to a non-existent file ({{Custom_Components.html}}) instead of the page section.",2023/03/31 4:32 PM
WFLY-16594,"In clustering/jgroups/extension/src/main/resources/org/jboss/as/clustering/jgroups/subsystem/LocalDescriptions.properties, the description for JGroups stack transport is matched with the incorrect key.
{code}
jgroups.stack.protocol=A JGroups stack transport layer.
{code}",2022/07/06 3:41 PM
WFLY-16592,"In ee-feature-pack/common/src/main/resources/modules/system/layers/base/org/elasticsearch/client/rest-client/main/module.xml, the module org.apache.httpcomponents is defined twice.
{code:xml}
<module name=""org.apache.httpcomponents"" export=""true"" services=""export""/>
<module name=""org.apache.httpcomponents"" export=""true"" services=""export""/> {code}",2022/07/06 2:56 PM
WFLY-16490,"The wildfly-rts-jakarta is declared twice on ee-9/pom.xml

That results in the following maven warning complaining about it:
{noformat}
[INFO] Scanning for projects...
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.wildfly:wildfly-ee-9-source-transform-parent:pom:27.0.0.Alpha2-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: ${ee.maven.groupId}:wildfly-rts-jakarta:jar -> duplicate declaration of version ${ee.maven.version} @ org.wildfly:wildfly-ee-9-parent:27.0.0.Alpha2-SNAPSHOT, /Users/yborgess/dev/projects/wildfly/ee-9/pom.xml, line 3596, column 25
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.wildfly:wildfly-ee-9-parent:pom:27.0.0.Alpha2-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: ${ee.maven.groupId}:wildfly-rts-jakarta:jar -> duplicate declaration of version ${ee.maven.version} @ line 3596, column 25
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]{noformat}",2022/06/15 12:11 PM
WFLY-16448,"The file iiop-openjdk/src/main/resources/org/wildfly/iiop/openjdk/LocalDescriptions.properties assigns the key iiop-openjdk.remove to a value twice.

{code}
iiop-openjdk.remove=Removes the iiop-openjdk subsystem.
{code}
{code}
iiop-openjdk.remove=Removes naming configuration.
{code}",2022/06/04 11:39 PM
WFLY-15851,"When examining bean archives, UrlScanner uses a handle of parent directory instead of .class file in [method handleDirectory|https://github.com/wildfly/wildfly/blob/988c770d90ccae68ad886610a4484bc671844f14/weld/subsystem/src/main/java/org/jboss/as/weld/deployment/processors/UrlScanner.java#L175]. I believe that instead of
{code:java}
handleFile(newPath, () -> file.toURL().openStream());            {code}
there should be
{code:java}
handleFile(newPath, () -> child.toURL().openStream());  {code}
{{as the file above refers to the parent directory, causing subsequent IOException during attempt to read the actual class file contents.}}",2021/12/19 4:11 AM
WFLY-17210,"The asterisks in [the explanation for how to run a single integration test case|https://docs.wildfly.org/26.1/Testsuite.html#running-a-single-test-or-specified-tests] aren't escaped properly and don't render. Additionally, the comment in the third example is placed within the wrong section of monospaced text.",2022/10/28 6:20 PM
WFLY-16458,"Get rid of this:

{code}
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.wildfly:wildfly-ts-preview-basic:jar:27.0.0.Alpha2-SNAPSHOT
[WARNING] 'profiles.profile[bootablejar.ee9.profile].plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declaration of plugin org.apache.maven.plugins:maven-resources-plugin @ line 595, column 29
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
{code}",2022/06/06 7:46 PM
WFLY-15503,"The if and else block have the same operation:
[https://github.com/wildfly/wildfly/blob/25.0.0.Final/weld/subsystem/src/main/java/org/jboss/as/weld/deployment/processors/WeldPortableExtensionProcessor.java#L61]

Fix: remove the else",2021/10/15 7:18 PM
WFLY-15455,"See 
 [https://docs.wildfly.org/25/WildFly_Elytron_Security.html#Elytron_and_Java_Authentication_SPI_for_Containers-JASPI]

there is NO chapter 8 in the index on the left. There is a
 chapter 7 and chapter 9. Section 8 is presented within chapter 9.
In addition there is no chapter 10. Chapter 11 contains section 10 content.

The source for the Elytron_and_Java_Authentication_SPI_for_Containers-JASPI chapter can be found here:
https://github.com/wildfly/wildfly/blob/main/docs/src/main/asciidoc/_elytron/Elytron_and_Java_Authentication_SPI_for_Containers-JASPI.adoc

The source for other chapters can be found here:
https://github.com/wildfly/wildfly/tree/main/docs/src/main/asciidoc",2021/10/08 3:13 PM
WFLY-15412,"We shall move to use 2048 bit keysize for generated RSA certificates in our examples in our WildFly documentation to avoid a warning that is generated by keytool distributed by JDKs in version 11+:

{code}
$ keytool -genkeypair -alias client -keyalg RSA -keysize 1024 -validity 365 -keystore client.keystore.jks -dname ""CN=client"" -keypass secret -storepass secret

Warning:
The generated certificate uses a 1024-bit RSA key which is considered a security risk and is disabled.
{code}

This change affects following two chapters in our WildFly documentation currently:

* https://docs.wildfly.org/24/WildFly_Elytron_Security.html#configure-ssltls
* https://docs.wildfly.org/24/WildFly_Elytron_Security.html#Web_Single_Sign_On",2021/10/05 9:34 AM
WFLY-15560,"Fix following issues:
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/Messaging_Connect_a_pooled-connection-factory_to_a_Remote_Artemis_Server.adoc: line 73: id assigned to section already in use: configuration-of-a-mdb-using-a-pooled-connection-factory
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/Messaging_Discovery_Configuration.adoc: line 92: section title out of sequence: expected level 5, got level 6
* asciidoctor: WARNING: invalid substitution type for listing: attributes+
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/Observability_Tracing.adoc: line 55: invalid style for listing block: code
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/Observability_Tracing.adoc: line 82: invalid style for listing block: code
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/Health.adoc: line 12: id assigned to section already in use: required-extension-metrics
* asciidoctor: WARNING: _admin-guide/subsystem-configuration/MicroProfile_Metrics.adoc: line 2: id assigned to section already in use: MicroProfile_Metrics_SmallRye
* asciidoctor: WARNING: _high-availability/subsystem-support/mod_cluster_Subsystem.adoc: line 7: id assigned to section already in use: configuration
* asciidoctor: WARNING: _developer-guide/Jakarta_Transactions_Reference.adoc: line 364: id assigned to section already in use: troubleshooting
* asciidoctor: WARNING: _elytron/migrate/Application_Client_Migration.adoc: line 83: id assigned to section already in use: programmatic-approach",2021/10/21 6:58 AM
WFLY-15497,NoData,2021/10/14 1:32 PM
WFLY-15518,"The try/catch around [https://github.com/wildfly/wildfly/blob/main/connector/src/test/java/org/jboss/as/connector/annotations/repository/jandex/AnnotationsTestCase.java#L139] must be only around the test 
{code:java}
annotations.process(ar, null, Thread.currentThread().getContextClassLoader());
{code}
",2021/10/17 3:17 PM
WFLY-15501,"Assignment of lazy-initialized members should be the last step with double-checked locking:

[https://github.com/wildfly/wildfly/blob/25.0.0.Final/undertow/src/main/java/org/wildfly/extension/undertow/deployment/JspApplicationContextWrapper.java#L74]

Fix: Use temporary object to create object and assign as last step.",2021/10/15 6:52 PM
WFLY-15502,"The if blocks have the same condition and action:
* [https://github.com/wildfly/wildfly/blob/25.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L206]
* [https://github.com/wildfly/wildfly/blob/25.0.0.Final/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XMLXaDataSourceRuntimeHandler.java#L464]

Fix: Remove the second one.",2021/10/15 7:03 PM
WFLY-15206,"Currently some booleans are checked with assertNotNull, i.E. [https://github.com/wildfly/wildfly/blob/24.0.1.Final/ejb3/src/test/java/org/jboss/as/ejb3/timer/schedule/CalendarBasedTimeoutTestCase.java#L389]

Fix: Adopt correct assert for the relevant type.",2021/09/04 1:29 PM
WFLY-15232,"If an ear defines an ejb module that has within it for example a singleton timer bean with a method like so:
{code:java}
@Schedule(hour=""*"", minute=""*"") 
public void autoTimer() {}{code}
 that has deployed/started/then persisted and changes to 
{code:java}
@Schedule(hour=""*"", minute=""*"", info=""IDecidedToNameMyTimer"") 
public void autoTimer() {}{code}
in a subsequent deployment, the timer will not have the 'info' updated in the running timer.

It's not entirely clear to me based on the spec that it should in fact update the 'info', but it's seems like the 'right' thing to do. I'm uncertain whether it should count as a new auto timer and thus cancel the previously persisted one though, or whether the previously persisted one should update with the new 'info'. I'm inclined to think the former is more correct.

Note that I believe the issue is in the TimerServiceImpl.restoreTimers method where it is matching currently active and new auto timers, and appears to apply to all wildfly versions.",2021/09/08 9:31 PM
